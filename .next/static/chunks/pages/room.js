/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["pages/room"],{

/***/ "./node_modules/@100mslive/hms-video-store/dist/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@100mslive/hms-video-store/dist/index.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HMSAudioPluginType\": function() { return /* reexport safe */ _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSAudioPluginType; },\n/* harmony export */   \"HMSLogLevel\": function() { return /* reexport safe */ _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel; },\n/* harmony export */   \"HMSMessageType\": function() { return /* binding */ Oe; },\n/* harmony export */   \"HMSNotificationSeverity\": function() { return /* binding */ R; },\n/* harmony export */   \"HMSNotificationTypes\": function() { return /* binding */ T; },\n/* harmony export */   \"HMSPlaylistType\": function() { return /* binding */ p; },\n/* harmony export */   \"HMSReactiveStore\": function() { return /* binding */ L; },\n/* harmony export */   \"HMSRoomState\": function() { return /* binding */ H; },\n/* harmony export */   \"HMSSimulcastLayer\": function() { return /* reexport safe */ _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSSimulcastLayer; },\n/* harmony export */   \"HMSStats\": function() { return /* binding */ pe; },\n/* harmony export */   \"HMSVideoPluginCanvasContextType\": function() { return /* reexport safe */ _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSVideoPluginCanvasContextType; },\n/* harmony export */   \"HMSVideoPluginType\": function() { return /* reexport safe */ _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSVideoPluginType; },\n/* harmony export */   \"createDefaultStatsStore\": function() { return /* binding */ se; },\n/* harmony export */   \"createDefaultStoreState\": function() { return /* binding */ te; },\n/* harmony export */   \"parsedUserAgent\": function() { return /* reexport safe */ _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.parsedUserAgent; },\n/* harmony export */   \"selectAppData\": function() { return /* binding */ Oo; },\n/* harmony export */   \"selectAppDataByPath\": function() { return /* binding */ wo; },\n/* harmony export */   \"selectAudioPlaylist\": function() { return /* binding */ Ze; },\n/* harmony export */   \"selectAudioPlaylistTrackByPeerID\": function() { return /* binding */ Jo; },\n/* harmony export */   \"selectAudioTrackByID\": function() { return /* binding */ Uo; },\n/* harmony export */   \"selectAudioTrackByPeerID\": function() { return /* binding */ $t; },\n/* harmony export */   \"selectAudioTrackVolume\": function() { return /* binding */ nt; },\n/* harmony export */   \"selectAudioVolumeByPeerID\": function() { return /* binding */ tr; },\n/* harmony export */   \"selectAuxiliaryAudioByPeerID\": function() { return /* binding */ Go; },\n/* harmony export */   \"selectAuxiliaryTracksByPeerID\": function() { return /* binding */ qo; },\n/* harmony export */   \"selectAvailableRoleNames\": function() { return /* binding */ Mo; },\n/* harmony export */   \"selectBroadcastMessages\": function() { return /* binding */ Wt; },\n/* harmony export */   \"selectBroadcastMessagesUnreadCount\": function() { return /* binding */ or; },\n/* harmony export */   \"selectCameraStreamByPeerID\": function() { return /* binding */ Bo; },\n/* harmony export */   \"selectConnectionQualities\": function() { return /* binding */ Yi; },\n/* harmony export */   \"selectConnectionQualityByPeerID\": function() { return /* binding */ $o; },\n/* harmony export */   \"selectDegradedTracks\": function() { return /* binding */ co; },\n/* harmony export */   \"selectDevices\": function() { return /* binding */ Ji; },\n/* harmony export */   \"selectDidIJoinWithin\": function() { return /* binding */ Ir; },\n/* harmony export */   \"selectDominantSpeaker\": function() { return /* binding */ to; },\n/* harmony export */   \"selectFullAppData\": function() { return /* binding */ Te; },\n/* harmony export */   \"selectHLSState\": function() { return /* binding */ Ho; },\n/* harmony export */   \"selectHMSMessages\": function() { return /* binding */ ne; },\n/* harmony export */   \"selectHMSMessagesCount\": function() { return /* binding */ je; },\n/* harmony export */   \"selectHMSStats\": function() { return /* binding */ Ns; },\n/* harmony export */   \"selectIsAllowedToPublish\": function() { return /* binding */ Hr; },\n/* harmony export */   \"selectIsAllowedToSubscribe\": function() { return /* binding */ po; },\n/* harmony export */   \"selectIsAudioLocallyMuted\": function() { return /* binding */ at; },\n/* harmony export */   \"selectIsConnectedToRoom\": function() { return /* binding */ me; },\n/* harmony export */   \"selectIsInPreview\": function() { return /* binding */ lo; },\n/* harmony export */   \"selectIsLocalAudioEnabled\": function() { return /* binding */ so; },\n/* harmony export */   \"selectIsLocalAudioPluginPresent\": function() { return /* binding */ Rr; },\n/* harmony export */   \"selectIsLocalScreenShared\": function() { return /* binding */ ge; },\n/* harmony export */   \"selectIsLocalVideoDisplayEnabled\": function() { return /* binding */ qe; },\n/* harmony export */   \"selectIsLocalVideoEnabled\": function() { return /* binding */ He; },\n/* harmony export */   \"selectIsLocalVideoPluginPresent\": function() { return /* binding */ kr; },\n/* harmony export */   \"selectIsLocallyMutedByPeerID\": function() { return /* binding */ Zo; },\n/* harmony export */   \"selectIsPeerAudioEnabled\": function() { return /* binding */ zo; },\n/* harmony export */   \"selectIsPeerVideoEnabled\": function() { return /* binding */ Xo; },\n/* harmony export */   \"selectIsScreenShareLocallyMutedByPeerID\": function() { return /* binding */ er; },\n/* harmony export */   \"selectIsSomeoneScreenSharing\": function() { return /* binding */ io; },\n/* harmony export */   \"selectLocalAudioTrackID\": function() { return /* binding */ A; },\n/* harmony export */   \"selectLocalMediaSettings\": function() { return /* binding */ Ke; },\n/* harmony export */   \"selectLocalPeer\": function() { return /* binding */ E; },\n/* harmony export */   \"selectLocalPeerID\": function() { return /* binding */ F; },\n/* harmony export */   \"selectLocalPeerName\": function() { return /* binding */ Xi; },\n/* harmony export */   \"selectLocalPeerRole\": function() { return /* binding */ ce; },\n/* harmony export */   \"selectLocalPeerRoleName\": function() { return /* binding */ Zi; },\n/* harmony export */   \"selectLocalTrackIDs\": function() { return /* binding */ Be; },\n/* harmony export */   \"selectLocalVideoTrackID\": function() { return /* binding */ N; },\n/* harmony export */   \"selectMessageIDsInOrder\": function() { return /* binding */ Ve; },\n/* harmony export */   \"selectMessagesByPeerID\": function() { return /* binding */ rr; },\n/* harmony export */   \"selectMessagesByRole\": function() { return /* binding */ ar; },\n/* harmony export */   \"selectMessagesMap\": function() { return /* binding */ Ue; },\n/* harmony export */   \"selectMessagesUnreadCountByPeerID\": function() { return /* binding */ cr; },\n/* harmony export */   \"selectMessagesUnreadCountByRole\": function() { return /* binding */ nr; },\n/* harmony export */   \"selectPeerAudioByID\": function() { return /* binding */ Fo; },\n/* harmony export */   \"selectPeerByCondition\": function() { return /* binding */ Pr; },\n/* harmony export */   \"selectPeerByID\": function() { return /* binding */ x; },\n/* harmony export */   \"selectPeerCount\": function() { return /* binding */ zi; },\n/* harmony export */   \"selectPeerMetadata\": function() { return /* binding */ lr; },\n/* harmony export */   \"selectPeerName\": function() { return /* binding */ dr; },\n/* harmony export */   \"selectPeerNameByID\": function() { return /* binding */ _o; },\n/* harmony export */   \"selectPeerScreenSharing\": function() { return /* binding */ Ut; },\n/* harmony export */   \"selectPeerSharingAudio\": function() { return /* binding */ oo; },\n/* harmony export */   \"selectPeerSharingAudioPlaylist\": function() { return /* binding */ no; },\n/* harmony export */   \"selectPeerSharingVideoPlaylist\": function() { return /* binding */ ao; },\n/* harmony export */   \"selectPeers\": function() { return /* binding */ W; },\n/* harmony export */   \"selectPeersByCondition\": function() { return /* binding */ Dr; },\n/* harmony export */   \"selectPeersByRole\": function() { return /* binding */ Sr; },\n/* harmony export */   \"selectPeersMap\": function() { return /* binding */ v; },\n/* harmony export */   \"selectPeersScreenSharing\": function() { return /* binding */ ro; },\n/* harmony export */   \"selectPeersWithAudioStatus\": function() { return /* binding */ Tr; },\n/* harmony export */   \"selectPermissions\": function() { return /* binding */ Fe; },\n/* harmony export */   \"selectRTMPState\": function() { return /* binding */ mo; },\n/* harmony export */   \"selectRecordingState\": function() { return /* binding */ To; },\n/* harmony export */   \"selectRemotePeers\": function() { return /* binding */ eo; },\n/* harmony export */   \"selectRoleByRoleName\": function() { return /* binding */ yr; },\n/* harmony export */   \"selectRoleChangeRequest\": function() { return /* binding */ mr; },\n/* harmony export */   \"selectRolesMap\": function() { return /* binding */ V; },\n/* harmony export */   \"selectRoom\": function() { return /* binding */ D; },\n/* harmony export */   \"selectRoomID\": function() { return /* binding */ Qi; },\n/* harmony export */   \"selectRoomStartTime\": function() { return /* binding */ fo; },\n/* harmony export */   \"selectRoomStarted\": function() { return /* binding */ uo; },\n/* harmony export */   \"selectRoomState\": function() { return /* binding */ b; },\n/* harmony export */   \"selectScreenAudioTrackByID\": function() { return /* binding */ Vo; },\n/* harmony export */   \"selectScreenShareAudioByPeerID\": function() { return /* binding */ rt; },\n/* harmony export */   \"selectScreenShareByPeerID\": function() { return /* binding */ Yo; },\n/* harmony export */   \"selectScreenSharesByPeerId\": function() { return /* binding */ ot; },\n/* harmony export */   \"selectScreenVideoTrackByID\": function() { return /* binding */ Ko; },\n/* harmony export */   \"selectScreenshareAudioVolumeByPeerID\": function() { return /* binding */ sr; },\n/* harmony export */   \"selectSessionId\": function() { return /* binding */ go; },\n/* harmony export */   \"selectSessionMetadata\": function() { return /* binding */ ho; },\n/* harmony export */   \"selectSimulcastLayerByTrack\": function() { return /* binding */ ir; },\n/* harmony export */   \"selectSpeakers\": function() { return /* binding */ Ot; },\n/* harmony export */   \"selectTrackAudioByID\": function() { return /* binding */ jo; },\n/* harmony export */   \"selectTrackByID\": function() { return /* binding */ Se; },\n/* harmony export */   \"selectTracksMap\": function() { return /* binding */ g; },\n/* harmony export */   \"selectUnreadHMSMessagesCount\": function() { return /* binding */ So; },\n/* harmony export */   \"selectVideoPlaylist\": function() { return /* binding */ et; },\n/* harmony export */   \"selectVideoPlaylistAudioTrackByPeerID\": function() { return /* binding */ Qo; },\n/* harmony export */   \"selectVideoPlaylistVideoTrackByPeerID\": function() { return /* binding */ Wo; },\n/* harmony export */   \"selectVideoTrackByID\": function() { return /* binding */ st; },\n/* harmony export */   \"selectVideoTrackByPeerID\": function() { return /* binding */ Ft; },\n/* harmony export */   \"simulcastMapping\": function() { return /* reexport safe */ _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.simulcastMapping; }\n/* harmony export */ });\n/* harmony import */ var immer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! immer */ \"./node_modules/immer/dist/immer.esm.mjs\");\n/* harmony import */ var zustand_shallow__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! zustand/shallow */ \"./node_modules/@100mslive/hms-video-store/node_modules/zustand/esm/shallow.js\");\n/* harmony import */ var zustand_vanilla__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zustand/vanilla */ \"./node_modules/@100mslive/hms-video-store/node_modules/zustand/esm/vanilla.js\");\n/* harmony import */ var _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @100mslive/hms-video */ \"./node_modules/@100mslive/hms-video/dist/index.js\");\n/* harmony import */ var eventemitter2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! eventemitter2 */ \"./node_modules/eventemitter2/lib/eventemitter2.js\");\n/* harmony import */ var eventemitter2__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(eventemitter2__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! reselect */ \"./node_modules/reselect/es/index.js\");\nvar Rt=Object.defineProperty,Pt=Object.defineProperties;var Dt=Object.getOwnPropertyDescriptors;var xe=Object.getOwnPropertySymbols;var It=Object.prototype.hasOwnProperty,vt=Object.prototype.propertyIsEnumerable;var Le=(s,e,t)=>e in s?Rt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,w=(s,e)=>{for(var t in e||(e={}))It.call(e,t)&&Le(s,t,e[t]);if(xe)for(var t of xe(e))vt.call(e,t)&&Le(s,t,e[t]);return s},$=(s,e)=>Pt(s,Dt(e));var Et=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var c=(s,e,t)=>new Promise((i,o)=>{var r=M=>{try{n(t.next(M))}catch(P){o(P)}},a=M=>{try{n(t.throw(M))}catch(P){o(P)}},n=M=>M.done?i(M.value):Promise.resolve(M.value).then(r,a);n((t=t.apply(s,e)).next())});var kt=Et((xn,xs)=>{xs.exports={version:\"0.8.1\",license:\"MIT\",main:\"dist/index.cjs.js\",module:\"dist/index.js\",typings:\"dist/index.d.ts\",files:[\"dist\",\"src\"],engines:{node:\">=12\"},exports:{\".\":{require:\"./dist/index.cjs.js\",import:\"./dist/index.js\",default:\"./dist/index.js\"}},scripts:{prestart:\"rm -rf dist && yarn types:build\",start:'concurrently \"yarn dev\" \"yarn types\"',dev:\"node ../../scripts/dev\",\"build:only\":\"node ../../scripts/build\",build:\"yarn build:only && yarn types:build\",types:\"tsc -w\",\"types:build\":\"tsc -p tsconfig.json\",format:\"prettier --write src/**/*.ts\",test:\"jest --maxWorkers=1\",\"test:watch\":\"jest --watch\",\"test:coverage\":\"jest --coverage\",lint:\"eslint -c ../../.eslintrc .\",\"lint:fix\":\"yarn lint --fix\",prepare:\"yarn build\",size:\"size-limit\",analyze:\"size-limit --why\",docs:\"rm -rf ./docs && typedoc && rm -f ./docs/README.md && mkdir ./docs/home &&mv ./docs/modules.md ./docs/home/content.md && node ../../scripts/docs-store && npx prettier --write './docs/**/*'\"},name:\"@100mslive/hms-video-store\",author:\"100ms\",sideEffects:!1,dependencies:{\"@100mslive/hms-video\":\"0.7.1\",eventemitter2:\"^6.4.7\",immer:\"^9.0.6\",reselect:\"4.0.0\",zustand:\"3.5.7\"},devDependencies:{\"ts-node\":\"^10.4.0\",tslib:\"^2.2.0\"},description:\"This is an addon to the core sdk provided by 100ms. It abstracts away the intricacies of data management and provides a flux based reactive data store where data flows in only one direction.\",repository:{type:\"git\",url:\"git+https://github.com/100mslive/hms-video-store.git\"},keywords:[\"video\",\"webrtc\",\"conferencing\",\"100ms\"],bugs:{url:\"https://github.com/100mslive/hms-video-store/issues\"},homepage:\"https://github.com/100mslive/hms-video-store#readme\",gitHead:\"8f89cfd2a2898848be5368da6211519f6c2c1cef\"}});var H;(function(n){n.Disconnected=\"Disconnected\",n.Preview=\"Preview\",n.Connecting=\"Connecting\",n.Connected=\"Connected\",n.Reconnecting=\"Reconnecting\",n.Disconnecting=\"Disconnecting\",n.Failed=\"Failed\"})(H||(H={}));var te=()=>({room:{id:\"\",isConnected:!1,name:\"\",peers:[],localPeer:\"\",roomState:H.Disconnected,recording:{browser:{running:!1},server:{running:!1},hls:{running:!1}},rtmp:{running:!1},hls:{running:!1,variants:[]},sessionId:\"\"},peers:{},tracks:{},playlist:{audio:{list:{},selection:{id:\"\",hasPrevious:!1,hasNext:!1},progress:0,volume:0,currentTime:0,playbackRate:1},video:{list:{},selection:{id:\"\",hasPrevious:!1,hasNext:!1},progress:0,volume:0,currentTime:0,playbackRate:1}},messages:{byID:{},allIDs:[]},speakers:{},connectionQualities:{},settings:{audioInputDeviceId:\"\",audioOutputDeviceId:\"\",videoInputDeviceId:\"\"},devices:{audioInput:[],audioOutput:[],videoInput:[]},roles:{},roleChangeRequests:[],errors:[]}),se=()=>({peerStats:{},remoteTrackStats:{},localTrackStats:{},localPeer:{id:\"\"}});var Oe;(function(e){e.CHAT=\"chat\"})(Oe||(Oe={}));var R;(function(t){t.INFO=\"info\",t.ERROR=\"error\"})(R||(R={}));var T;(function(S){S.PEER_JOINED=\"PEER_JOINED\",S.PEER_LEFT=\"PEER_LEFT\",S.PEER_LIST=\"PEER_LIST\",S.NEW_MESSAGE=\"NEW_MESSAGE\",S.ERROR=\"ERROR\",S.RECONNECTING=\"RECONNECTING\",S.RECONNECTED=\"RECONNECTED\",S.TRACK_ADDED=\"TRACK_ADDED\",S.TRACK_REMOVED=\"TRACK_REMOVED\",S.TRACK_MUTED=\"TRACK_MUTED\",S.TRACK_UNMUTED=\"TRACK_UNMUTED\",S.TRACK_DEGRADED=\"TRACK_DEGRADED\",S.TRACK_RESTORED=\"TRACK_RESTORED\",S.TRACK_DESCRIPTION_CHANGED=\"TRACK_DESCRIPTION_CHANGED\",S.ROLE_UPDATED=\"ROLE_UPDATED\",S.CHANGE_TRACK_STATE_REQUEST=\"CHANGE_TRACK_STATE_REQUEST\",S.CHANGE_MULTI_TRACK_STATE_REQUEST=\"CHANGE_MULTI_TRACK_STATE_REQUEST\",S.ROOM_ENDED=\"ROOM_ENDED\",S.REMOVED_FROM_ROOM=\"REMOVED_FROM_ROOM\",S.DEVICE_CHANGE_UPDATE=\"DEVICE_CHANGE_UPDATE\",S.PLAYLIST_TRACK_ENDED=\"PLAYLIST_TRACK_ENDED\",S.NAME_UPDATED=\"NAME_UPDATED\",S.METADATA_UPDATED=\"METADATA_UPDATED\"})(T||(T={}));var p;(function(t){t.audio=\"audio\",t.video=\"video\"})(p||(p={}));var oe={[_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSPeerUpdate.PEER_JOINED]:T.PEER_JOINED,[_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSPeerUpdate.PEER_LEFT]:T.PEER_LEFT,[_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSPeerUpdate.ROLE_UPDATED]:T.ROLE_UPDATED,[_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSPeerUpdate.NAME_UPDATED]:T.NAME_UPDATED,[_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSPeerUpdate.METADATA_UPDATED]:T.METADATA_UPDATED},re={[_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSTrackUpdate.TRACK_ADDED]:T.TRACK_ADDED,[_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSTrackUpdate.TRACK_REMOVED]:T.TRACK_REMOVED,[_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSTrackUpdate.TRACK_MUTED]:T.TRACK_MUTED,[_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSTrackUpdate.TRACK_UNMUTED]:T.TRACK_UNMUTED,[_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSTrackUpdate.TRACK_DEGRADED]:T.TRACK_DEGRADED,[_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSTrackUpdate.TRACK_RESTORED]:T.TRACK_RESTORED,[_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSTrackUpdate.TRACK_DESCRIPTION_CHANGED]:T.TRACK_DESCRIPTION_CHANGED};function j(s,e){let t,i;if(e)for(let o of e.auxiliaryTracks){let r=s[o];Lt(r)&&(i=J(r)?r:i,t=Y(r)?r:t)}return{video:t,audio:i}}function J(s){return s&&s.type===\"audio\"}function Y(s){return s&&s.type===\"video\"}function Lt(s){return s&&s.source===\"screen\"}function ae(s){return s&&s.source===\"audioplaylist\"}function z(s){return s&&s.source===\"videoplaylist\"}function we(s){return s?Boolean(s==null?void 0:s.degraded):!1}function G(s,e){return e&&s.tracks[e]?s.tracks[e].enabled:!1}function _e(s,e){return e&&s.tracks[e]?s.tracks[e].displayEnabled:!1}var D=s=>s.room,Qi=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(D,s=>s.id),v=s=>s.peers,Ue=s=>s.messages.byID,Ve=s=>s.messages.allIDs,g=s=>s.tracks,Ke=s=>s.settings,Te=s=>s.appData,Ji=s=>s.devices,Ot=s=>s.speakers,Yi=s=>s.connectionQualities,me=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([D],s=>s&&s.isConnected),zi=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([me,D],(s,e)=>s?e.peerCount!==void 0?e.peerCount||1:e.peers.length:Math.max(e.peerCount!==void 0?e.peerCount:e.peers.length-1,0)),W=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([D,v],(s,e)=>s.peers.map(t=>e[t])),wt=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(g,s=>Object.values(s)),E=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(D,v,(s,e)=>e[s.localPeer]),F=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(D,s=>s.localPeer),Xi=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(E,s=>s==null?void 0:s.name),Zi=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(E,s=>s==null?void 0:s.roleName),A=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(E,s=>s==null?void 0:s.audioTrack),N=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(E,s=>s==null?void 0:s.videoTrack),_t=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(E,s=>s==null?void 0:s.auxiliaryTracks),Be=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([A,N,_t],(s,e,t)=>{let i=[...t];return s&&i.unshift(s),e&&i.unshift(e),i}),eo=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(W,s=>s.filter(e=>!e.isLocal)),to=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(v,Ot,(s,e)=>{let t=Object.entries(e).sort((i,o)=>{var n,M;let r=((n=i[1])==null?void 0:n.audioLevel)||0;return(((M=o[1])==null?void 0:M.audioLevel)||0)>r?1:-1});if(t.length>0&&t[0][1].audioLevel&&t[0][1].audioLevel>0){let i=t[0][1].peerID;if(i in s)return s[i]}return null}),so=s=>{let e=E(s);return G(s,e==null?void 0:e.audioTrack)},He=s=>{let e=E(s);return G(s,e==null?void 0:e.videoTrack)},qe=s=>{let e=E(s);return _e(s,e==null?void 0:e.videoTrack)},ge=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(E,g,(s,e)=>{let{video:t,audio:i}=j(e,s);return!!(t||i)}),Ut=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(v,g,(s,e)=>{let t;for(let i in s){let o=s[i],{video:r,audio:a}=j(e,o);if(r)return o;a&&!t&&(t=o)}return t}),io=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(Ut,s=>!!s),oo=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(v,g,(s,e)=>{for(let t in s){let i=s[t],{audio:o,video:r}=j(e,i);if(!r&&!!o)return i}}),ro=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(v,g,(s,e)=>{let t=[],i=[];for(let o in s){let r=s[o],{video:a,audio:n}=j(e,r);a?t.push(r):n&&i.push(r)}return t.concat(i)}),ao=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(v,g,(s,e)=>{for(let t in e){let i=e[t];if(z(i)&&Y(i)&&i.peerId)return s[i.peerId]}}),no=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(v,g,(s,e)=>{for(let t in e){let i=e[t];if(ae(i)&&i.peerId)return s[i.peerId]}}),co=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(wt,s=>s.filter(we)),je=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(Ve,s=>s.length),So=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(Ue,s=>Object.values(s).filter(e=>!e.read).length),ne=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(Ve,Ue,(s,e)=>{let t=[];return s.forEach(i=>{t.push(e[i])}),t}),b=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([D],s=>s&&s.roomState),lo=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(b,s=>s===H.Preview),uo=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(D,s=>s.roomState!==H.Disconnected),V=s=>s.roles,Mo=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([V],s=>Object.keys(s)),ce=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([E,V],(s,e)=>(s==null?void 0:s.roleName)?e[s.roleName]:null),po=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([ce],s=>{var e;return((e=s==null?void 0:s.subscribeParams)==null?void 0:e.subscribeToRoles)?s.subscribeParams.subscribeToRoles.length>0:!1}),Fe=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(ce,s=>s==null?void 0:s.permissions),To=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(D,s=>s.recording),mo=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(D,s=>s.rtmp),Ho=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(D,s=>s.hls),go=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(D,s=>s.sessionId),fo=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(D,s=>s.startedAt),ho=s=>s.sessionMetadata;var Ge=(s=p.audio)=>e=>e.playlist[s].list,fe=(s=p.audio)=>e=>e.playlist[s].selection,We=(s=p.audio)=>e=>e.playlist[s].progress,Qe=(s=p.audio)=>e=>e.playlist[s].currentTime,Je=(s=p.audio)=>e=>e.playlist[s].playbackRate,Ye=(s=p.audio)=>e=>e.playlist[s].volume,ze=(s=p.audio)=>(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(Ge(s),e=>Object.values(e)),Xe=(s=p.audio)=>(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(Ge(s),fe(s),(e,t)=>{if(!!t.id)return e[t.id]}),Ze={selection:fe(p.audio),progress:We(p.audio),currentTime:Qe(p.audio),playbackRate:Je(p.audio),volume:Ye(p.audio),list:ze(p.audio),selectedItem:Xe(p.audio)},et={selection:fe(p.video),progress:We(p.video),currentTime:Qe(p.video),playbackRate:Je(p.video),volume:Ye(p.video),list:ze(p.video),selectedItem:Xe(p.video)};function l(s){return e=>t=>s(t,e)}var X=\"HMS-Store:\",u=class{static v(e,...t){this.log(_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel.VERBOSE,e,...t)}static d(...e){this.log(_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel.DEBUG,...e)}static i(...e){this.log(_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel.INFO,...e)}static w(...e){this.log(_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel.WARN,...e)}static e(...e){this.log(_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel.ERROR,...e)}static time(e){this.log(_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel.TIME,\"[HMSPerformanceTiming]\",e)}static timeEnd(e){this.log(_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel.TIMEEND,\"[HMSPerformanceTiming]\",e,e)}static cleanUp(){performance.clearMarks(),performance.clearMeasures()}static log(e,...t){if(!(this.level.valueOf()>e.valueOf()))switch(e){case _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel.VERBOSE:{console.log(X,...t);break}case _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel.DEBUG:{console.debug(X,...t);break}case _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel.INFO:{console.info(X,...t);break}case _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel.WARN:{console.warn(X,...t);break}case _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel.ERROR:{console.error(X,...t);break}case _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel.TIME:{performance.mark(t[1]);break}case _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel.TIMEEND:{let i=t[0],o=t[1];try{let r=performance.measure(o,o);this.log(_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel.DEBUG,i,o,r==null?void 0:r.duration),performance.clearMarks(o),performance.clearMeasures(o)}catch(r){this.log(_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel.DEBUG,i,o,r)}break}}}};u.level=_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLogLevel.VERBOSE;var he=(s,e)=>e,Z=(s,e)=>e,tt=(s,e)=>e,Vt=(s,e)=>e,I=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([v,he],(s,e)=>e?s[e]:null),ye=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([g,Z],(s,e)=>e?s[e]:null),Kt=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([g,Z],(s,e)=>{if(!e)return null;let t=s[e];return(t==null?void 0:t.type)===\"video\"?t:null}),Bt=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([g,Z],(s,e)=>{if(!e)return null;let t=s[e];return(t==null?void 0:t.type)===\"audio\"?t:null}),qt=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([g,Z],(s,e)=>{if(!e)return null;let t=s[e];return(t==null?void 0:t.type)===\"audio\"&&(t==null?void 0:t.source)===\"screen\"?t:null}),jt=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([g,Z],(s,e)=>{if(!e)return null;let t=s[e];return(t==null?void 0:t.type)===\"video\"&&(t==null?void 0:t.source)===\"screen\"?t:null}),x=l(I),Oo=l((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([Te,Vt],(s,e)=>{if(!!s)return e?s[e]:s})),wo=(...s)=>(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([Te],e=>{if(!!e){if(s&&s.length>0){let t=e;for(let i of s){if(!i)return t;t=t==null?void 0:t[i]}return t}return e}}),_o=l((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(I,s=>s==null?void 0:s.name)),Se=l(ye),st=l(Kt),Uo=l(Bt),Vo=l(qt),Ko=l(jt),Ft=l((s,e)=>{let t=I(s,e);if(t&&t.videoTrack&&t.videoTrack!==\"\")return s.tracks[t.videoTrack]}),$t=l((s,e)=>{let t=I(s,e);if(t&&t.audioTrack&&t.audioTrack!==\"\")return s.tracks[t.audioTrack]}),Bo=Ft,qo=l((s,e)=>{let t=I(s,e);return(t==null?void 0:t.auxiliaryTracks.map(i=>s.tracks[i]))||[]}),it=(s,e)=>e?s.speakers[e]:null,jo=l((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(it,s=>(s==null?void 0:s.audioLevel)||0)),Gt=(s,e)=>{let t=$t(e)(s);return it(s,t==null?void 0:t.id)},Fo=l((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(Gt,s=>(s==null?void 0:s.audioLevel)||0)),$o=l((s,e)=>{if(e)return s.connectionQualities[e]}),Go=l((s,e)=>{let t=I(s,e);if(t){let i=t==null?void 0:t.auxiliaryTracks.find(o=>J(s.tracks[o]));return i?s.tracks[i]:void 0}}),Wo=l((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(g,I,(s,e)=>{let t=e==null?void 0:e.auxiliaryTracks.find(i=>{let o=s[i];return z(o)&&Y(o)});return t?s[t]:void 0})),Qo=l((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(g,I,(s,e)=>{let t=e==null?void 0:e.auxiliaryTracks.find(i=>{let o=s[i];return z(o)&&J(o)});return t?s[t]:void 0})),Jo=l((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(g,I,(s,e)=>{let t=e==null?void 0:e.auxiliaryTracks.find(i=>{let o=s[i];return ae(o)&&J(o)});return t?s[t]:void 0})),ot=l((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(g,I,(s,e)=>j(s,e))),Yo=s=>(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(ot(s),e=>e.video),rt=s=>(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(ot(s),e=>e.audio),zo=l((s,e)=>{let t=I(s,e);return G(s,t==null?void 0:t.audioTrack)}),Xo=l((s,e)=>{let t=I(s,e);return G(s,t==null?void 0:t.videoTrack)}),at=l((s,e)=>{if(e&&s.tracks[e])return s.tracks[e].volume===0}),Zo=l((s,e)=>{let t=I(s,e);return at(t==null?void 0:t.audioTrack)(s)}),er=l((s,e)=>{let t=rt(e)(s);return at(t==null?void 0:t.id)(s)}),nt=l((s,e)=>{let t=ye(s,e);if(t){if(t.type!==\"audio\"){u.w(\"Please pass audio track here\");return}return t.volume}}),tr=l((s,e)=>{let t=I(s,e);return nt(t==null?void 0:t.audioTrack)(s)}),sr=l((s,e)=>{let t=rt(e)(s);return nt(t==null?void 0:t.id)(s)}),ir=l((s,e)=>{let t=ye(s,e);if(t){if(t.type!==\"video\"){u.w(\"Please pass video track here\");return}return t.layer}}),ct=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([ne,F,he],(s,e,t)=>{if(!!t)return s.filter(i=>{var o;return!i.recipientPeer&&!((o=i.recipientRoles)==null?void 0:o.length)||i.sender&&![e,t].includes(i.sender)?!1:[e,t].includes(i.recipientPeer)})}),St=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([ne,tt],(s,e)=>{if(!!e)return s.filter(t=>{var i,o;return((i=t.recipientRoles)==null?void 0:i.length)?(o=t.recipientRoles)==null?void 0:o.includes(e):!1})}),Wt=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(ne,s=>s.filter(e=>{var t;return!e.recipientPeer&&!((t=e.recipientRoles)==null?void 0:t.length)})),Qt=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([St,tt],s=>s?s.filter(e=>!e.read).length:0),Jt=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([ct,he],s=>s?s.filter(e=>!e.read).length:0),or=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(Wt,s=>s.filter(e=>!e.read).length),rr=l(ct),ar=l(St),nr=l(Qt),cr=l(Jt),Sr=s=>(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([W],e=>e.filter(t=>t.roleName===s)),lr=s=>(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(x(s),e=>{try{return(e==null?void 0:e.metadata)&&e.metadata!==\"\"?JSON.parse(e.metadata):{}}catch(t){return console.error(\"cannot parse peer metadata\",t),{}}}),dr=s=>(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(x(s),e=>e==null?void 0:e.name);var Tr=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([v,g],(s,e)=>Object.values(s).map(i=>{var o;return{peer:i,isAudioEnabled:i.audioTrack?(o=e[i.audioTrack])==null?void 0:o.enabled:!1}})),Yt=s=>s.roleChangeRequests[0]||null,mr=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([Yt,v,V],(s,e,t)=>s?{requestedBy:s.requestedBy?e[s.requestedBy]:void 0,role:t[s.roleName],token:s.token}:null),Hr=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([ce],s=>{var o;let e=!1,t=!1,i=!1;return((o=s==null?void 0:s.publishParams)==null?void 0:o.allowed)&&(e=s.publishParams.allowed.includes(\"video\"),t=s.publishParams.allowed.includes(\"audio\"),i=s.publishParams.allowed.includes(\"screen\")),{video:e,audio:t,screen:i}});var yr=s=>(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([V],e=>e[s]),zt=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([N,g],(s,e)=>{let t=null;return s&&(t=e[s]),(t==null?void 0:t.plugins)||[]}),Xt=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([A,g],(s,e)=>{let t=null;return s&&(t=e[s]),(t==null?void 0:t.plugins)||[]}),kr=s=>(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([zt],e=>e.includes(s)),Rr=s=>(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([Xt],e=>e.includes(s)),Pr=s=>(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(W,e=>e.find(s)),Dr=s=>(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(W,e=>e.filter(s)),Ir=s=>(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(D,e=>e.joinedAt&&Date.now()-e.joinedAt.getTime()<=s);var Re=\"hmsNotification\",Pe=class{constructor(e){this.id=0;this.onNotification=(e,t)=>{let i=o=>{if(t){let r;if(Array.isArray(t)?r=t.includes(o.type):r=t===o.type,!r)return}e(o)};return this.eventEmitter.addListener(Re,i),()=>{this.eventEmitter.removeListener(Re,i)}};this.store=e,this.eventEmitter=new eventemitter2__WEBPACK_IMPORTED_MODULE_1__.EventEmitter2({maxListeners:Object.keys(T).length})}sendPlaylistTrackEnded(e){let t=this.createNotification(T.PLAYLIST_TRACK_ENDED,e,R.INFO);this.emitEvent(t)}sendDeviceChange(e){var i;let t=this.createNotification(T.DEVICE_CHANGE_UPDATE,e,e.error?R.ERROR:R.INFO,`Selected ${e.type} device - ${(i=e.selection)==null?void 0:i.label}`);this.emitEvent(t)}sendLeaveRoom(e){var o;let t=(o=e.requestedBy)==null?void 0:o.name,i=this.createNotification(e.roomEnded||!t?T.ROOM_ENDED:T.REMOVED_FROM_ROOM,e,R.INFO,`${e.roomEnded?\"Room ended\":\"Removed from room\"} ${t?`by ${t}`:\"\"}`);this.emitEvent(i)}sendPeerList(e){let t=this.createNotification(T.PEER_LIST,e,R.INFO);this.emitEvent(t)}sendPeerUpdate(e,t){let i=this.store.getState(x(t==null?void 0:t.id))||t,o=oe[e];if(o){let r=this.createNotification(o,i,R.INFO);this.emitEvent(r)}}sendTrackUpdate(e,t){let i=this.store.getState(Se(t)),o=re[e];if(o){let r=this.createNotification(o,i,R.INFO);this.emitEvent(r)}}sendMessageReceived(e){let t=this.createNotification(T.NEW_MESSAGE,e,R.INFO);this.emitEvent(t)}sendError(e){let t=this.createNotification(T.ERROR,e,R.ERROR);this.emitEvent(t)}sendReconnecting(e){let t=this.createNotification(T.RECONNECTING,e,R.ERROR);this.emitEvent(t)}sendReconnected(){let e=this.createNotification(T.RECONNECTED,null,R.INFO);this.emitEvent(e)}sendChangeTrackStateRequest(e){let t=this.createNotification(T.CHANGE_TRACK_STATE_REQUEST,e,R.INFO);this.emitEvent(t)}sendChangeMultiTrackStateRequest(e){let t=this.createNotification(T.CHANGE_MULTI_TRACK_STATE_REQUEST,e,R.INFO);this.emitEvent(t)}emitEvent(e){this.eventEmitter.emit(Re,e)}createNotification(e,t,i,o=\"\"){return this.id++,{id:this.id,type:e,message:o,data:t,severity:i}}};function lt(s){return s instanceof _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSRemoteAudioTrack||s instanceof _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSRemoteVideoTrack}var dt=(s,e)=>{let t=le(Object.keys(s),Object.keys(e));for(let i of t){let o=s[i],r=e[i];Ie(o,r)?(_(o.auxiliaryTracks,r.auxiliaryTracks)&&(r.auxiliaryTracks=o.auxiliaryTracks),Object.assign(o,r)):ve(o,r)?delete s[i]:Ee(o,r)&&(s[i]=r)}},ut=(s,e)=>{let t=le(Object.keys(s),Object.keys(e));for(let i of t){let o=s[i],r=e[i];Ie(o,r)?(ss(o,r),Object.assign(o,r)):ve(o,r)?delete s[i]:Ee(o,r)&&(s[i]=r)}},De=(s,e)=>{let t=le(Object.keys(s),Object.keys(e));for(let i of t){let o=s[i],r=e[i];Ie(o,r)?Object.assign(o,r):ve(o,r)?delete s[i]:Ee(o,r)&&(s[i]=r)}},Mt=(s,e,t)=>{let i=t.reduce((r,a)=>(r[a.firstTrackId]=Object.values(e[a.getTrackIDBeingSent()]||{}).sort((n,M)=>!n.rid||!M.rid?0:n.rid<M.rid?-1:1),r),{}),o=le(Object.keys(s),Object.keys(i));for(let r of o){if(!i[r]){delete s[r];continue}s[r]=i[r]}},ss=(s,e)=>{s.plugins&&_(s.plugins,e.plugins)&&(e.plugins=s.plugins),s.type===\"video\"&&s.layerDefinitions&&_(s.layerDefinitions,e.layerDefinitions)&&(e.layerDefinitions=s.layerDefinitions)},Ie=(s,e)=>s&&e,ve=(s,e)=>s&&!e,Ee=(s,e)=>!s&&e,_=(s,e)=>{if(s===e||s.length===0&&(e==null?void 0:e.length)===0)return!0;if(!s||!e||s.length!==e.length)return!1;for(let t=0;t<s.length;t++)if(s[t]!==e[t])return!1;return!0},le=(s,e)=>{let t=new Set;for(let i of s)t.add(i);for(let i of e)t.add(i);return Array.from(t)};var m=class{static convertPeer(e){var t,i,o;return{id:e.peerId,name:e.name,roleName:(t=e.role)==null?void 0:t.name,isLocal:e.isLocal,videoTrack:(i=e.videoTrack)==null?void 0:i.trackId,audioTrack:(o=e.audioTrack)==null?void 0:o.trackId,auxiliaryTracks:e.auxiliaryTracks.map(r=>r.trackId),customerUserId:e.customerUserId,metadata:e.metadata,joinedAt:e.joinedAt}}static convertTrack(e,t){let i={id:e.trackId,source:e.source,type:e.type,enabled:e.enabled,displayEnabled:e.enabled,peerId:e.peerId||t};return this.enrichTrack(i,e),i}static enrichTrack(e,t){let i=t.getMediaTrackSettings();t instanceof _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSRemoteAudioTrack&&(e.volume=t.getVolume()||0),m.updateDeviceID(e,t),e.type===\"video\"&&(e.source===\"screen\"?(e.displaySurface=i.displaySurface,m.enrichScreenTrack(e,t)):e.source===\"regular\"&&(e.facingMode=i.facingMode),e.height=i.height,e.width=i.width,m.enrichVideoTrack(e,t)),m.enrichPluginsDetails(e,t)}static updateDeviceID(e,t){var i;t instanceof _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLocalVideoTrack||t instanceof _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLocalAudioTrack?e.deviceID=t.settings.deviceId:e.deviceID=(i=t.getMediaTrackSettings())==null?void 0:i.deviceId}static enrichVideoTrack(e,t){t instanceof _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSRemoteVideoTrack&&(e.layer=t.getLayer(),e.preferredLayer=t.getPreferredLayer(),e.degraded=t.degraded),(t instanceof _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSRemoteVideoTrack||t instanceof _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLocalVideoTrack)&&(_(t.getSimulcastDefinitions(),e.layerDefinitions)||(e.layerDefinitions=t.getSimulcastDefinitions()))}static enrichScreenTrack(e,t){var i,o;if(t instanceof _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLocalVideoTrack){let r=(i=t.getCaptureHandle)==null?void 0:i.call(t);(r==null?void 0:r.handle)!==((o=e.captureHandle)==null?void 0:o.handle)&&(e.captureHandle=r),t.isCurrentTab&&(e.displaySurface=\"selfBrowser\")}}static enrichPluginsDetails(e,t){(t instanceof _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLocalVideoTrack||t instanceof _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSLocalAudioTrack)&&(_(t.getPlugins(),e.plugins)||(e.plugins=t.getPlugins()))}static convertRoom(e){var r,a;let{recording:t,rtmp:i,hls:o}=m.convertRecordingStreamingState(e==null?void 0:e.recording,e==null?void 0:e.rtmp,e==null?void 0:e.hls);return{id:e.id,name:e.name,localPeer:(a=(r=e.localPeer)==null?void 0:r.peerId)!=null?a:\"\",recording:t,rtmp:i,hls:o,sessionId:e.sessionId,startedAt:e.startedAt,joinedAt:e.joinedAt,peerCount:e.peerCount}}static convertMessage(e){var t,i,o,r,a,n,M;return{sender:(t=e.sender)==null?void 0:t.peerId,senderName:(i=e.sender)==null?void 0:i.name,senderRole:(r=(o=e.sender)==null?void 0:o.role)==null?void 0:r.name,senderUserId:(a=e.sender)==null?void 0:a.customerUserId,recipientPeer:(n=e.recipientPeer)==null?void 0:n.peerId,recipientRoles:(M=e.recipientRoles)==null?void 0:M.map(P=>P.name),time:e.time,type:e.type,message:e.message}}static convertRoles(e){let t={};return e&&e.forEach(i=>{t[i.name]=i}),t}static convertRoleChangeRequest(e){var t;return{requestedBy:(t=e.requestedBy)==null?void 0:t.peerId,roleName:e.role.name,token:e.token}}static convertException(e){return{code:e.code,action:e.action,name:e.name,message:e.message,description:e.description,isTerminal:e.isTerminal,nativeError:e.nativeError,timestamp:new Date}}static convertDeviceChangeUpdate(e){let t={devices:e.devices,selection:e.selection,type:e.type};return e.error&&(t.error=this.convertException(e.error)),t}static convertPlaylist(e){let t=this.getConvertedPlaylistType(e,p.audio),i=this.getConvertedPlaylistType(e,p.video);return{audio:t,video:i}}static convertPlaylistItem(e,t){let i=t.type,o=e.getCurrentSelection(i),r=e.isPlaying(i),a=t.url===(o==null?void 0:o.url);return $(w({},t),{type:t.type,selected:a,playing:a&&r})}static getConvertedPlaylistType(e,t){let i={},o=e.getCurrentSelection(t),r=e.getCurrentProgress(t),a=e.getVolume(t),n=e.getList(t),M=e.getCurrentIndex(t);return e.getList(t).forEach(P=>{i[P.id]=m.convertPlaylistItem(e,P)}),{list:i,selection:{id:o==null?void 0:o.id,hasPrevious:M>0,hasNext:M<n.length-1},progress:r,volume:a,currentTime:e.getCurrentTime(t),playbackRate:e.getPlaybackRate(t)}}static convertRecordingStreamingState(e,t,i){var o;return{recording:{browser:w({running:!1},e==null?void 0:e.browser),server:w({running:!1},e==null?void 0:e.server),hls:w({running:!1},e==null?void 0:e.hls)},rtmp:w({running:!1},t),hls:{variants:((o=i==null?void 0:i.variants)==null?void 0:o.map(r=>r))||[],running:!!(i==null?void 0:i.running),error:i==null?void 0:i.error}}}};var ue=class{constructor(e,t,i,o){this.playlistManager=e;this.syncPlaylistState=i;this.store=o;this.type=t}play(e){return c(this,null,function*(){if(!e){u.w(\"Please pass id to play\");return}yield this.playlistManager.setEnabled(!0,{id:e,type:this.type})})}pause(){return c(this,null,function*(){let e=this.type===p.audio?Ze:et,t=this.store.getState(e.selection);if(!t.id){u.w(\"No item is currently playing to pause\");return}yield this.playlistManager.setEnabled(!1,{id:t.id,type:this.type})})}playNext(){return c(this,null,function*(){yield this.playlistManager.playNext(this.type)})}playPrevious(){return c(this,null,function*(){yield this.playlistManager.playPrevious(this.type)})}seek(e){this.playlistManager.seek(e,this.type),this.syncPlaylistState(`seekOn${this.type}Playlist`)}seekTo(e){this.playlistManager.seekTo(e,this.type),this.syncPlaylistState(`seekToOn${this.type}Playlist`)}setVolume(e){this.playlistManager.setVolume(e,this.type),this.syncPlaylistState(`setVolumeOn${this.type}Playlist`)}setList(e){this.playlistManager.setList(e),this.syncPlaylistState(`setListOn${this.type}Playlist`)}stop(){return c(this,null,function*(){yield this.playlistManager.stop(this.type),this.syncPlaylistState(`stop${this.type}Playlist`)})}setIsAutoplayOn(e){this.playlistManager.setIsAutoplayOn(this.type,e)}setPlaybackRate(e){this.playlistManager.setPlaybackRate(this.type,e),this.syncPlaylistState(`set${this.type}PlaybackRate`)}removeItem(e){return c(this,null,function*(){let t=yield this.playlistManager.removeItem(e,this.type);return t&&this.syncPlaylistState(`remove${this.type}PlaylistItem`),t})}clearList(){return c(this,null,function*(){yield this.playlistManager.clearList(this.type),this.syncPlaylistState(`clear${this.type}Playlist`)})}};var be=class{constructor(e,t,i){this.hmsSDKTracks={};this.hmsSDKPeers={};this.isRoomJoinCalled=!1;this.ignoredMessageTypes=[];this.setProgress=({type:e,progress:t})=>{this.setState(i=>{i.playlist[e].progress=t,i.playlist[e].currentTime=this.sdk.getPlaylistManager().getCurrentTime(e)},\"playlistProgress\")};this.syncPlaylistState=e=>{this.setState(t=>{Object.assign(t.playlist,m.convertPlaylist(this.sdk.getPlaylistManager()))},e)};this.sendPeerUpdateNotification=(e,t)=>{let i=this.store.getState(x(t.peerId)),o=oe[e]||\"peerUpdate\";this.syncRoomState(o),i||(i=this.store.getState(x(t.peerId))),this.hmsNotifications.sendPeerUpdate(e,i)};this.setState=(e,t)=>this.store.namedSetState(e,t);this.store=e,this.sdk=t,this.hmsNotifications=i}refreshDevices(){return c(this,null,function*(){yield this.sdk.refreshDevices()})}unblockAudio(){return c(this,null,function*(){yield this.sdk.getAudioOutput().unblockAutoplay()})}setVolume(e,t){return c(this,null,function*(){t?yield this.setTrackVolume(e,t):(yield this.sdk.getAudioOutput().setVolume(e),this.syncRoomState(\"setOutputVolume\"))})}setAudioOutputDevice(e){return c(this,null,function*(){(yield this.sdk.getAudioOutput().setDevice(e))&&this.setState(i=>{i.settings.audioOutputDeviceId=e},\"setAudioOutputDevice\")})}setPreferredLayer(e,t){return c(this,null,function*(){let i=this.hmsSDKTracks[e];if(i)if(i instanceof _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSRemoteVideoTrack){if(t===_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSSimulcastLayer.NONE){u.w(`layer ${_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSSimulcastLayer.NONE} will be ignored`);return}yield i.setPreferredLayer(t),this.updateVideoLayer(e,\"setPreferredLayer\")}else u.w(`track ${e} is not a remote video track`);else this.logPossibleInconsistency(`track ${e} not present, unable to set preffer layer`)})}preview(e){return c(this,null,function*(){if(this.isRoomJoinCalled){this.logPossibleInconsistency(\"attempting to call preview after join was called\");return}let t=this.store.getState(b);if(t===H.Preview||t===H.Connecting){this.logPossibleInconsistency(\"attempting to call preview while room is in preview/connecting\");return}try{this.setState(i=>{i.room.roomState=H.Connecting},\"connecting\"),yield this.sdkPreviewWithListeners(e)}catch(i){throw u.e(\"Cannot show preview. Failed to connect to room - \",i),i}})}join(e){return c(this,null,function*(){if(this.isRoomJoinCalled){this.logPossibleInconsistency(\"room join is called again\");return}try{this.isRoomJoinCalled=!0,this.setState(t=>{t.room.roomState=H.Connecting},\"join\"),yield this.sdkJoinWithListeners(e)}catch(t){throw this.isRoomJoinCalled=!1,u.e(\"Failed to connect to room - \",t),t}})}leave(){return c(this,null,function*(){let e=this.store.getState(me),t=!0;e||(t=!1,this.logPossibleInconsistency(\"room leave is called when no room is connected\"));let i=this.store.getState(b);return this.setState(o=>{o.room.roomState=H.Disconnecting},\"leaving\"),this.sdk.leave(t).then(()=>{this.resetState(\"leave\"),u.i(\"left room\")}).catch(o=>{u.e(\"error in leaving room - \",o),this.setState(r=>{r.room.roomState=i},\"revertLeave\")})})}setScreenShareEnabled(e,t){return c(this,null,function*(){typeof t==\"boolean\"&&(t={audioOnly:t});try{e?yield this.startScreenShare(t):yield this.stopScreenShare()}catch(i){throw this.hmsNotifications.sendError(m.convertException(i)),i}})}addTrack(e,t=\"regular\"){return c(this,null,function*(){yield this.sdk.addTrack(e,t),this.syncRoomState(\"addTrack\")})}removeTrack(e){return c(this,null,function*(){yield this.sdk.removeTrack(e),this.syncRoomState(\"removeTrack\")})}setLocalAudioEnabled(e){return c(this,null,function*(){let t=this.store.getState(A);t&&(yield this.setEnabledTrack(t,e))})}setLocalVideoEnabled(e){return c(this,null,function*(){let t=this.store.getState(N);t&&(yield this.setEnabledTrack(t,e))})}setEnabledTrack(e,t){return c(this,null,function*(){var r;if(((r=this.store.getState().tracks[e])==null?void 0:r.enabled)===t){this.logPossibleInconsistency(`local track[${e}] enabled state - ${t}`);return}this.setState(a=>{a.tracks[e]?a.tracks[e].displayEnabled=t:this.logPossibleInconsistency(\"track id not found for setEnabled\")},\"displayEnabled\");try{yield this.setEnabledSDKTrack(e,t),this.syncRoomState(\"setEnabled\")}catch(a){throw this.setState(n=>{n.tracks[e].displayEnabled=!t},\"rollbackDisplayEnabled\"),this.hmsNotifications.sendError(m.convertException(a)),a}let o=t?_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSTrackUpdate.TRACK_UNMUTED:_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSTrackUpdate.TRACK_MUTED;this.hmsNotifications.sendTrackUpdate(o,e)})}setAudioSettings(e){return c(this,null,function*(){let t=this.store.getState(A);t&&(yield this.setSDKLocalAudioTrackSettings(t,e),this.syncRoomState(\"setAudioSettings\"))})}setVideoSettings(e){return c(this,null,function*(){let t=this.store.getState(N);t&&(yield this.setSDKLocalVideoTrackSettings(t,e),this.syncRoomState(\"setVideoSettings\"))})}sendMessage(e){this.sendBroadcastMessage(e)}sendBroadcastMessage(e,t){return c(this,null,function*(){let i=yield this.sdk.sendBroadcastMessage(e,t);this.updateMessageInStore(i,{message:e,type:t})})}sendGroupMessage(e,t,i){return c(this,null,function*(){let o=this.store.getState(V),r=t.map(n=>o[n]),a=yield this.sdk.sendGroupMessage(e,r,i);this.updateMessageInStore(a,{message:e,recipientRoles:t,type:i})})}sendDirectMessage(e,t,i){return c(this,null,function*(){let o=this.hmsSDKPeers[t],r=yield this.sdk.sendDirectMessage(e,o,i);this.updateMessageInStore(r,{message:e,recipientPeer:o.peerId,type:i})})}updateMessageInStore(e,t){if(!e)throw u.w(\"sendMessage\",\"Failed to send message\",t),Error(`sendMessage Failed - ${JSON.stringify(t)}`);let i=m.convertMessage(e);return i.read=!0,i.senderName=\"You\",i.ignored=this.ignoredMessageTypes.includes(i.type),this.putMessageInStore(i),i}setMessageRead(e,t){this.setState(i=>{t?i.messages.byID[t]?i.messages.byID[t].read=e:this.logPossibleInconsistency(\"no message with id is found\"):i.messages.allIDs.forEach(o=>{i.messages.byID[o].read=e})},\"setMessageRead\")}attachVideo(e,t){return c(this,null,function*(){if(this.localAndVideoUnmuting(e))return new Promise(i=>{let o=this.store.subscribe(r=>c(this,null,function*(){r&&(yield this.attachVideoInternal(e,t),o(),i())}),He)});yield this.attachVideoInternal(e,t)})}detachVideo(e,t){return c(this,null,function*(){let i=this.hmsSDKTracks[e];(i==null?void 0:i.type)===\"video\"?(i.removeSink(t),this.updateVideoLayer(e,\"detachVideo\")):(t&&(t.srcObject=null),this.logPossibleInconsistency(\"no video track found to remove sink\"))})}addPluginToVideoTrack(e,t){return c(this,null,function*(){return this.addRemoveVideoPlugin(e,\"add\",t)})}addPluginToAudioTrack(e){return c(this,null,function*(){return this.addRemoveAudioPlugin(e,\"add\")})}validateVideoPluginSupport(e){let t={};if(t.isSupported=!1,!e)return u.w(\"no plugin passed in for checking support\"),t.errMsg=\"no plugin passed in for checking support\",t;let i=this.store.getState(N);if(!i)return u.w(\"video Track not added to local peer yet\"),t.errMsg=\"call this function only after local peer has video track\",t;let o=this.hmsSDKTracks[i];return o?t=o.validatePlugin(e):(u.w(`track ${i} not present, unable to validate plugin`),t.errMsg=`track ${i} not present, unable to validate plugin`),t}validateAudioPluginSupport(e){let t={};if(t.isSupported=!1,!e)return u.w('no plugin passed in for checking support\"'),t.errMsg='no plugin passed in for checking support\"',t;let i=this.store.getState(A);if(!i)return u.w(\"audio track not added to local peer yet\"),t.errMsg=\"call this function only after local peer has audio track\",t;let o=this.hmsSDKTracks[i];return o?t=o.validatePlugin(e):(u.w(`track ${i} not present, unable to validate plugin`),t.errMsg=`track ${i} not present, unable to validate plugin`),t}removePluginFromVideoTrack(e){return c(this,null,function*(){return this.addRemoveVideoPlugin(e,\"remove\")})}removePluginFromAudioTrack(e){return c(this,null,function*(){return this.addRemoveAudioPlugin(e,\"remove\")})}changeRole(e,t,i=!1){return c(this,null,function*(){let o=this.hmsSDKPeers[e];if(!o){this.logPossibleInconsistency(`Unknown peer ID given ${e} for changerole`);return}yield this.sdk.changeRoleOfPeer(o,t,i)})}changeRoleOfPeer(e,t,i=!1){return c(this,null,function*(){let o=this.hmsSDKPeers[e];if(!o){this.logPossibleInconsistency(`Unknown peer ID given ${e} for changerole`);return}yield this.sdk.changeRoleOfPeer(o,t,i)})}changeRoleOfPeersWithRoles(e,t){return c(this,null,function*(){let i=this.sdk.getRoles().filter(o=>e.includes(o.name));yield this.sdk.changeRoleOfPeersWithRoles(i,t)})}acceptChangeRole(e){return c(this,null,function*(){let t=e.requestedBy?this.hmsSDKPeers[e.requestedBy.id]:void 0;t||u.w(`peer for which role change is requested no longer available - ${e.requestedBy}`);let i={requestedBy:t,role:e.role,token:e.token};yield this.sdk.acceptChangeRole(i),this.removeRoleChangeRequest(e)})}initAppData(e){this.setState(t=>{t.appData=e},\"initAppData\")}setAppData(e,t,i){let o=(t==null?void 0:t.constructor.name)===\"Object\";this.setState(r=>{if(r.appData)i&&o?Object.assign(r.appData[e],t):r.appData[e]=t;else{let a={[e]:t};r.appData=a}},`setAppData-${e}`)}rejectChangeRole(e){this.removeRoleChangeRequest(e)}endRoom(e,t){return c(this,null,function*(){let i=this.store.getState(Fe);if(!(i==null?void 0:i.endRoom)){u.w(\"You are not allowed to perform this action - endRoom\");return}let o=this.store.getState(b);this.setState(r=>{r.room.roomState=H.Disconnecting},\"endingRoom\");try{yield this.sdk.endRoom(e,t),this.resetState(\"endRoom\")}catch(r){u.e(\"error in ending room - \",r),this.setState(a=>{a.room.roomState=o},\"revertEndRoom\")}})}removePeer(e,t){return c(this,null,function*(){let i=this.hmsSDKPeers[e];if(i&&!i.isLocal)yield this.sdk.removePeer(i,t);else{this.logPossibleInconsistency(`No remote peer found for peerID - ${e}`);return}})}startRTMPOrRecording(e){return c(this,null,function*(){yield this.sdk.startRTMPOrRecording(e)})}stopRTMPAndRecording(){return c(this,null,function*(){yield this.sdk.stopRTMPAndRecording()})}startHLSStreaming(e){return c(this,null,function*(){yield this.sdk.startHLSStreaming(e)})}stopHLSStreaming(e){return c(this,null,function*(){yield this.sdk.stopHLSStreaming(e)})}sendHLSTimedMetadata(e){return c(this,null,function*(){yield this.sdk.sendHLSTimedMetadata(e)})}changeName(e){return c(this,null,function*(){yield this.sdk.changeName(e)})}changeMetadata(e){return c(this,null,function*(){typeof e!=\"string\"&&(e=JSON.stringify(e)),yield this.sdk.changeMetadata(e)})}setSessionMetadata(e){return c(this,null,function*(){yield this.sdk.setSessionMetadata(e),this.setState(t=>{t.sessionMetadata=e},\"setSessionMetadata\")})}populateSessionMetadata(){return c(this,null,function*(){let e=yield this.sdk.getSessionMetadata();this.setState(t=>{t.sessionMetadata=e},\"populateSessionMetadata\")})}setRemoteTrackEnabled(e,t){return c(this,null,function*(){if(typeof e==\"string\"){let i=this.hmsSDKTracks[e];i&&lt(i)?yield this.sdk.changeTrackState(i,t):this.logPossibleInconsistency(`No remote track with ID ${e} found for change track state`)}else Array.isArray(e)&&e.forEach(i=>this.setRemoteTrackEnabled(i,t))})}setRemoteTracksEnabled(e){return c(this,null,function*(){let t={enabled:e.enabled,type:e.type,source:e.source};if(e.roles){let i=this.store.getState(V);t.roles=e.roles.map(o=>i[o])}yield this.sdk.changeMultiTrackState(t)})}setLogLevel(e){u.level=e,this.sdk.setLogLevel(e)}setFrameworkInfo(e){this.sdk.setFrameworkInfo(e)}ignoreMessageTypes(e,t=!1){if(t)this.ignoredMessageTypes=e;else for(let i of e)this.ignoredMessageTypes.includes(i)||this.ignoredMessageTypes.push(i)}resetState(e=\"resetState\"){this.isRoomJoinCalled=!1,this.hmsSDKTracks={},u.cleanUp(),this.setState(t=>{Object.assign(t,te())},e)}sdkJoinWithListeners(e){return c(this,null,function*(){yield this.sdk.join(e,{onJoin:this.onJoin.bind(this),onRoomUpdate:this.onRoomUpdate.bind(this),onPeerUpdate:this.onPeerUpdate.bind(this),onTrackUpdate:this.onTrackUpdate.bind(this),onMessageReceived:this.onMessageReceived.bind(this),onError:this.onError.bind(this),onReconnected:this.onReconnected.bind(this),onReconnecting:this.onReconnecting.bind(this),onRoleChangeRequest:this.onRoleChangeRequest.bind(this),onRoleUpdate:this.onRoleUpdate.bind(this),onDeviceChange:this.onDeviceChange.bind(this),onChangeTrackStateRequest:this.onChangeTrackStateRequest.bind(this),onChangeMultiTrackStateRequest:this.onChangeMultiTrackStateRequest.bind(this),onRemovedFromRoom:this.onRemovedFromRoom.bind(this),onNetworkQuality:this.onNetworkQuality.bind(this)}),this.sdk.addAudioListener({onAudioLevelUpdate:this.onAudioLevelUpdate.bind(this)}),this.sdk.addConnectionQualityListener({onConnectionQualityUpdate:this.onConnectionQualityUpdate.bind(this)})})}onRemovedFromRoom(e){var o;let t=this.store.getState(x((o=e.requestedBy)==null?void 0:o.peerId));this.hmsNotifications.sendLeaveRoom($(w({},e),{requestedBy:t||void 0}));let i=e.roomEnded||!t?\"roomEnded\":\"removedFromRoom\";u.i(`resetting state after peer removed ${i}`,e),this.resetState(i)}onDeviceChange(e){let t=e.devices;if(!t)return;let i=this.store.getState(E);if(this.setState(o=>{_(o.devices.audioInput,t.audioInput)||(o.devices.audioInput=t.audioInput),_(o.devices.videoInput,t.videoInput)||(o.devices.videoInput=t.videoInput),_(o.devices.audioOutput,t.audioOutput)||(o.devices.audioOutput=t.audioOutput),this.hmsSDKPeers[i==null?void 0:i.id]&&Object.assign(o.settings,this.getMediaSettings(this.hmsSDKPeers[i==null?void 0:i.id]))},\"deviceChange\"),e.selection){let o=m.convertDeviceChangeUpdate(e);this.hmsNotifications.sendDeviceChange(o)}}sdkPreviewWithListeners(e){return c(this,null,function*(){yield this.sdk.preview(e,{onPreview:this.onPreview.bind(this),onError:this.onError.bind(this),onReconnected:this.onReconnected.bind(this),onReconnecting:this.onReconnecting.bind(this),onDeviceChange:this.onDeviceChange.bind(this),onRoomUpdate:this.onRoomUpdate.bind(this),onPeerUpdate:this.onPeerUpdate.bind(this),onNetworkQuality:this.onNetworkQuality.bind(this)}),this.sdk.addAudioListener({onAudioLevelUpdate:this.onAudioLevelUpdate.bind(this)})})}onNetworkQuality(e){this.setState(t=>{var o;let i=t.room.localPeer||((o=this.sdk.getLocalPeer())==null?void 0:o.peerId);i&&(t.connectionQualities[i]={peerID:i,downlinkQuality:e})},\"ConnectionQuality\")}startScreenShare(e){return c(this,null,function*(){this.store.getState(ge)?this.logPossibleInconsistency(\"start screenshare is called while it's on\"):(yield this.sdk.startScreenShare(()=>this.syncRoomState(\"screenshareStopped\"),e),this.syncRoomState(\"startScreenShare\"))})}stopScreenShare(){return c(this,null,function*(){this.store.getState(ge)?(yield this.sdk.stopScreenShare(),this.syncRoomState(\"stopScreenShare\")):this.logPossibleInconsistency(\"stop screenshare is called while it's not on\")})}attachVideoInternal(e,t){return c(this,null,function*(){let i=this.hmsSDKTracks[e];i&&i.type===\"video\"?(yield i.addSink(t),this.updateVideoLayer(e,\"attachVideo\")):this.logPossibleInconsistency(\"no video track found to add sink\")})}syncRoomState(e){e=`${e}_fullSync`,u.time(`store-sync-${e}`);let t={},i=[],o={},r={},a={},n=this.sdk.getPeers();for(let h of n){let O=m.convertPeer(h);t[O.id]=O,i.push(O.id),this.hmsSDKPeers[O.id]=h;let Q=[h.audioTrack,h.videoTrack,...h.auxiliaryTracks];for(let ee of Q){if(!ee)continue;let Ne=m.convertTrack(ee);o[Ne.id]=Ne,r[ee.trackId]=ee}O.isLocal&&Object.assign(a,this.getMediaSettings(h))}let M=this.sdk.getRecordingState(),P=this.sdk.getRTMPState(),q=this.sdk.getHLSState();this.setState(h=>{h.room.peers=i;let O=h.peers,Q=h.tracks;dt(O,t),ut(Q,o),Object.assign(h.settings,a),this.hmsSDKTracks=r,Object.assign(h.roles,m.convertRoles(this.sdk.getRoles())),Object.assign(h.playlist,m.convertPlaylist(this.sdk.getPlaylistManager())),Object.assign(h.room,m.convertRecordingStreamingState(M,P,q))},e),u.timeEnd(`store-sync-${e}`)}onPreview(e){this.setState(t=>{Object.assign(t.room,m.convertRoom(e)),t.room.roomState=H.Preview},\"previewStart\"),this.syncRoomState(\"previewSync\")}onJoin(e){let t=this.sdk.getPlaylistManager();this.audioPlaylist=new ue(t,p.audio,this.syncPlaylistState.bind(this),this.store),this.videoPlaylist=new ue(t,p.video,this.syncRoomState.bind(this),this.store),this.syncRoomState(\"joinSync\"),this.setState(i=>{Object.assign(i.room,m.convertRoom(e)),i.room.isConnected=!0,i.room.roomState=H.Connected},\"joined\"),t.onProgress(this.setProgress),t.onNewTrackStart(i=>{this.syncPlaylistState(`${i.type}PlaylistUpdate`)}),t.onPlaylistEnded(i=>{this.syncPlaylistState(`${i}PlaylistEnded`)}),t.onCurrentTrackEnded(i=>{this.hmsNotifications.sendPlaylistTrackEnded(m.convertPlaylistItem(t,i)),this.syncPlaylistState(`${i.type}PlaylistItemEnded`)})}onRoomUpdate(e,t){this.setState(i=>{Object.assign(i.room,m.convertRoom(t))},e)}onPeerUpdate(e,t){if(![_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSPeerUpdate.BECAME_DOMINANT_SPEAKER,_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSPeerUpdate.RESIGNED_DOMINANT_SPEAKER].includes(e)){if(Array.isArray(t)){this.syncRoomState(\"peersJoined\");let i=[];for(let o of t){let r=this.store.getState(x(o.peerId));r&&i.push(r)}this.hmsNotifications.sendPeerList(i);return}this.sendPeerUpdateNotification(e,t)}}onTrackUpdate(e,t,i){if(e===_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSTrackUpdate.TRACK_REMOVED)this.hmsNotifications.sendTrackUpdate(e,t.trackId),this.handleTrackRemove(t,i);else{let o=re[e]||\"trackUpdate\";this.syncRoomState(o),this.hmsNotifications.sendTrackUpdate(e,t.trackId)}}onMessageReceived(e){let t=m.convertMessage(e);t.read=!1,t.ignored=this.ignoredMessageTypes.includes(t.type),this.putMessageInStore(t),this.hmsNotifications.sendMessageReceived(t)}putMessageInStore(e){e.ignored||this.setState(t=>{e.id=String(this.store.getState(je)+1),t.messages.byID[e.id]=e,t.messages.allIDs.push(e.id)},\"newMessage\")}onAudioLevelUpdate(e){this.setState(t=>{let i={};e.forEach(r=>{if(!r.track||!r.peer)return;let a=r.track.trackId;i[a]=r.audioLevel,t.speakers[a]||(t.speakers[a]={audioLevel:r.audioLevel,peerID:r.peer.peerId,trackID:a})});let o=Object.entries(t.speakers);for(let[r,a]of o)a.audioLevel=i[r]||0,a.audioLevel===0&&delete t.speakers[r]},\"audioLevel\")}onConnectionQualityUpdate(e){this.setState(t=>{let i=new Set;e.forEach(r=>{let a=r.peerID;!a||(i.add(a),t.connectionQualities[a]?Object.assign(t.connectionQualities[a],r):t.connectionQualities[a]=r)});let o=Object.keys(t.connectionQualities);for(let r of o)i.has(r)||delete t.connectionQualities[r]},\"connectionQuality\")}onChangeTrackStateRequest(e){var r;let t=this.store.getState(x((r=e.requestedBy)==null?void 0:r.peerId)),i=this.getStoreLocalTrackIDfromSDKTrack(e.track),o=this.store.getState(Se(i));if(!o)return this.logPossibleInconsistency(`Not found track for which track state change was requested, ${e.track}`);e.enabled||this.syncRoomState(\"changeTrackStateRequest\"),this.hmsNotifications.sendChangeTrackStateRequest({requestedBy:t||void 0,track:o,enabled:e.enabled})}onChangeMultiTrackStateRequest(e){var r;let t=this.store.getState(x((r=e.requestedBy)==null?void 0:r.peerId));e.enabled||this.syncRoomState(\"changeMultiTrackStateRequest\");let i=[],o=this.store.getState(g);for(let a of e.tracks){let n=this.getStoreLocalTrackIDfromSDKTrack(a);n&&o[n]&&i.push(o[n])}this.hmsNotifications.sendChangeMultiTrackStateRequest({requestedBy:t||void 0,tracks:i,enabled:e.enabled,type:e.type,source:e.source})}onReconnected(){this.syncRoomState(\"reconnectedSync\"),this.hmsNotifications.sendReconnected(),this.setState(e=>{e.room.roomState=e.room.isConnected?H.Connected:H.Preview},\"reconnected\")}onReconnecting(e){let t=m.convertException(e);u.e(\"Reconnection: received error from sdk\",t),this.hmsNotifications.sendReconnecting(t),this.setState(i=>{i.room.roomState=H.Reconnecting,i.errors.push(t)},\"reconnecting\")}onError(e){let t=m.convertException(e);t.isTerminal?(this.leave().then(()=>u.e(\"error from SDK, left room.\")),this.setState(i=>{i.room.roomState=H.Failed,i.errors.push(t)},\"errorTerminal\")):this.store.getState().errors.length<50&&this.setState(o=>{o.errors.push(t)},\"error\"),this.syncRoomState(\"errorSync\"),this.hmsNotifications.sendError(t),u.e(\"received error from sdk\",t instanceof _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSException?`${t}`:t)}updateVideoLayer(e,t){let i=this.hmsSDKTracks[e];if(i&&i instanceof _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSRemoteVideoTrack){let o=this.store.getState(st(e));((o==null?void 0:o.layer)!==i.getLayer()||(o==null?void 0:o.degraded)!==i.degraded||(o==null?void 0:o.preferredLayer)!==i.getPreferredLayer())&&this.setState(a=>{let n=a.tracks[e];n.layer=i.getLayer(),n.preferredLayer=i.getPreferredLayer(),n.degraded=i.degraded},t)}}handleTrackRemove(e,t){this.setState(i=>{let o=i.peers[t.peerId],r=i.tracks,a=e.trackId;if(this.isSameStoreSDKTrack(a,o==null?void 0:o.audioTrack))o==null||delete o.audioTrack;else if(this.isSameStoreSDKTrack(a,o==null?void 0:o.videoTrack))o==null||delete o.videoTrack;else{let n=o==null?void 0:o.auxiliaryTracks.indexOf(a);n>-1&&this.isSameStoreSDKTrack(a,o==null?void 0:o.auxiliaryTracks[n])&&(o==null||o.auxiliaryTracks.splice(n,1))}delete r[a],delete this.hmsSDKTracks[a]},\"trackRemoved\")}setEnabledSDKTrack(e,t){return c(this,null,function*(){let i=this.hmsSDKTracks[e];i?yield i.setEnabled(t):this.logPossibleInconsistency(`track ${e} not present, unable to enabled/disable`)})}setSDKLocalVideoTrackSettings(e,t){return c(this,null,function*(){let i=this.hmsSDKTracks[e];i?yield i.setSettings(t):this.logPossibleInconsistency(`local track ${e} not present, unable to set settings`)})}setSDKLocalAudioTrackSettings(e,t){return c(this,null,function*(){let i=this.hmsSDKTracks[e];i?yield i.setSettings(t):this.logPossibleInconsistency(`local track ${e} not present, unable to set settings`)})}getMediaSettings(e){var r;let t=this.store.getState(Ke),i=e.audioTrack,o=e.videoTrack;return{audioInputDeviceId:(i==null?void 0:i.settings.deviceId)||t.audioInputDeviceId,videoInputDeviceId:(o==null?void 0:o.settings.deviceId)||t.videoInputDeviceId,audioOutputDeviceId:(r=this.sdk.getAudioOutput().getDevice())==null?void 0:r.deviceId}}setTrackVolume(e,t){return c(this,null,function*(){let i=this.hmsSDKTracks[t];i?i instanceof _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSAudioTrack?(yield i.setVolume(e),this.setState(o=>{let r=o.tracks[t];r&&r.type===\"audio\"&&(r.volume=e)},\"trackVolume\")):u.w(`track ${t} is not an audio track`):this.logPossibleInconsistency(`track ${t} not present, unable to set volume`)})}localAndVideoUnmuting(e){if(this.store.getState(E).videoTrack!==e)return!1;let i=this.store.getState(qe),o=this.store.getState(He);return i&&!o}logPossibleInconsistency(e){u.w(\"possible inconsistency detected - \",e)}addRemoveVideoPlugin(e,t,i){return c(this,null,function*(){if(!e){u.w(\"Invalid plugin received in store\");return}let o=this.store.getState(N);if(o){let r=this.hmsSDKTracks[o];r?(t===\"add\"?yield r.addPlugin(e,i):t===\"remove\"&&(yield r.removePlugin(e)),this.syncRoomState(`${t}VideoPlugin`)):this.logPossibleInconsistency(`track ${o} not present, unable to remove plugin`)}})}addRemoveAudioPlugin(e,t){return c(this,null,function*(){if(!e){u.w(\"Invalid plugin received in store\");return}let i=this.store.getState(A);if(i){let o=this.hmsSDKTracks[i];o?(t===\"add\"?yield o.addPlugin(e):t===\"remove\"&&(yield o.removePlugin(e)),this.syncRoomState(`${t}AudioPlugin`)):this.logPossibleInconsistency(`track ${i} not present, unable to remove plugin`)}})}isSameStoreSDKTrack(e,t){var i;return t?((i=this.hmsSDKTracks[t])==null?void 0:i.trackId)===e:!1}onRoleChangeRequest(e){this.setState(t=>{t.roleChangeRequests.length===0&&t.roleChangeRequests.push(m.convertRoleChangeRequest(e))},\"roleChangeRequest\")}removeRoleChangeRequest(e){this.setState(t=>{let i=t.roleChangeRequests.findIndex(o=>o.token===e.token);i!==-1&&t.roleChangeRequests.splice(i,1)},\"removeRoleChangeRequest\")}onRoleUpdate(){this.syncRoomState(\"roleUpdate\")}getStoreLocalTrackIDfromSDKTrack(e){return this.store.getState(Be).find(i=>this.hmsSDKTracks[i].trackId===e.trackId)}};var Me=s=>_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.isBrowser?`${s} ${document.title}`:s;var gt=(s,e,t)=>{let i;t.getState(b)===H.Connected&&(i=ft(s,e,t)),t.subscribe(o=>{[H.Connected,H.Reconnecting].includes(o)?i||(i=ft(s,e,t)):[H.Disconnected,H.Failed].includes(o)&&i&&(Ss(e,o),i(),i=void 0)},b)},ft=(s,e,t)=>{var r,a;let i=ns(t,e);(r=s.getWebrtcInternals())==null||r.start();let o=(a=s.getWebrtcInternals())==null?void 0:a.onStatsChange(n=>cs(e,n,t,s));return()=>{i(),o&&o()}},ns=(s,e)=>{let t,i,o;return s.getState(F)?e.namedSetState(r=>{r.localPeer.id=s.getState(F)},\"localpeer-id\"):t=s.subscribe(r=>{r&&e.namedSetState(a=>{a.localPeer.id=r},\"localpeer-id\")},F),s.getState(N)?e.namedSetState(r=>{r.localPeer.videoTrack=s.getState(N)},\"localpeer-videotrack-id\"):i=s.subscribe(r=>{r&&e.namedSetState(a=>{a.localPeer.videoTrack=r},\"localpeer-videotrack-id\")},N),s.getState(A)?e.namedSetState(r=>{r.localPeer.audioTrack=s.getState(A)},\"localpeer-audiotrack-id\"):o=s.subscribe(r=>{r&&e.namedSetState(a=>{a.localPeer.audioTrack=r},\"localpeer-audiotrack-id\")},A),()=>{t==null||t(),i==null||i(),o==null||o()}},cs=(s,e,t,i)=>{let o=t.getState(g);s.namedSetState(r=>{let a=t.getState(F),n={},M=Object.keys(o).filter(q=>o[q].peerId!==a);for(let q of M){let h=e.getRemoteTrackStats(q);h&&(n[q]=h)}De(r.remoteTrackStats,n);let P={[a]:e.getLocalPeerStats()};De(r.peerStats,P),Mt(r.localTrackStats,e.getLocalTrackStats(),i.store.getLocalPeerTracks())},\"webrtc-stats\")},Ss=(s,e=\"resetState\")=>{s.namedSetState(t=>{Object.assign(t,se())},e)};var pe=class{constructor(e,t){this.hmsStore=e;this.sdk=t;this.store=L.createNewHMSStore(Me(\"HMSStatsStore\"),se),this.getState=this.store.getState,this.subscribe=this.store.subscribe,this.getPublishPeerConnection=()=>new Promise(i=>{var o,r;this.hmsStore.getState(b)===\"Connected\"?i((r=(o=this.sdk)==null?void 0:o.getWebrtcInternals())==null?void 0:r.getPublishPeerConnection()):this.hmsStore.subscribe(a=>{var n,M;a===\"Connected\"&&i((M=(n=this.sdk)==null?void 0:n.getWebrtcInternals())==null?void 0:M.getPublishPeerConnection())},b)}),this.getSubscribePeerConnection=()=>new Promise(i=>{var o,r;this.hmsStore.getState(b)===\"Connected\"?i((r=(o=this.sdk)==null?void 0:o.getWebrtcInternals())==null?void 0:r.getSubscribePeerConnection()):this.hmsStore.subscribe(a=>{var n,M;a===\"Connected\"&&i((M=(n=this.sdk)==null?void 0:n.getWebrtcInternals())==null?void 0:M.getSubscribePeerConnection())},b)}),!!this.sdk&&gt(this.sdk,this.store,this.hmsStore)}};var ls=s=>s.localPeer.id,ds=s=>s.localPeer.audioTrack,us=s=>s.localPeer.videoTrack,Ms=(s,e)=>e,ht=(s,e)=>e,ps=s=>s.remoteTrackStats,yt=s=>s.peerStats,Ce=s=>s.localTrackStats,K=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([yt,ls],(s,e)=>s[e]),Ts=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(K,s=>{var e;return(e=s==null?void 0:s.subscribe)==null?void 0:e.packetsLost}),ms=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(K,s=>{var e;return(e=s==null?void 0:s.subscribe)==null?void 0:e.jitter}),Hs=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(K,s=>{var e;return(e=s==null?void 0:s.publish)==null?void 0:e.bitrate}),gs=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(K,s=>{var e;return(e=s==null?void 0:s.subscribe)==null?void 0:e.bitrate}),fs=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(K,s=>{var e;return(e=s==null?void 0:s.publish)==null?void 0:e.availableOutgoingBitrate}),hs=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(K,s=>{var e;return(e=s==null?void 0:s.subscribe)==null?void 0:e.availableIncomingBitrate}),ys=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(K,s=>{var e;return(e=s==null?void 0:s.publish)==null?void 0:e.bytesSent}),ks=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(K,s=>{var e;return(e=s==null?void 0:s.subscribe)==null?void 0:e.bytesReceived}),Rs=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([yt,Ms],(s,e)=>e?s[e]:void 0),Ps=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([ps,ht],(s,e)=>e?s[e]:void 0),Ae=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([Ce,ht],(s,e)=>e?s[e]:void 0),Ds=l(Rs),Is=l(Ps),vs=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([Ce,ds],(s,e)=>{var t;return e?(t=s[e])==null?void 0:t[0]:void 0}),Es=l((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(Ae,s=>s==null?void 0:s[0])),bs=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)([Ce,us],(s,e)=>{var t;return e?(t=s[e])==null?void 0:t[0]:void 0}),Cs=l((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(Ae,s=>s)),As=s=>l((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(Ae,e=>{let t=Object.keys(_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.simulcastMapping).find(i=>_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.simulcastMapping[i]===s);return s&&(e==null?void 0:e.find(i=>i.rid===t))||(e==null?void 0:e[0])})),Ns={localPeerStats:K,packetsLost:Ts,jitter:ms,publishBitrate:Hs,subscribeBitrate:gs,availablePublishBitrate:fs,availableSubscribeBitrate:hs,totalBytesSent:ys,totalBytesReceived:ks,peerStatsByID:Ds,trackStatsByID:Is,localAudioTrackStatsByID:Es,localVideoTrackStatsByID:Cs,localVideoTrackStatsByLayer:As,localAudioTrackStats:vs,localVideoTrackStats:bs};var L=class{constructor(e,t,i){this.getStats=()=>(this.stats||(this.stats=new pe(this.store,this.sdk)),this.stats);e?this.store=e:this.store=L.createNewHMSStore(Me(\"HMSStore\"),te),i?this.notifications=i:this.notifications=new Pe(this.store),t?this.actions=t:(this.sdk=new _100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.HMSSdk,this.actions=new be(this.store,this.sdk,this.notifications)),this.actions.setFrameworkInfo({type:\"js\",sdkVersion:kt().version}),this.initialTriggerOnSubscribe=!1,_100mslive_hms_video__WEBPACK_IMPORTED_MODULE_0__.isBrowser&&(window.__hms=this)}triggerOnSubscribe(){this.initialTriggerOnSubscribe||(L.makeStoreTriggerOnSubscribe(this.store),this.initialTriggerOnSubscribe=!0)}getStore(){return this.store}getHMSActions(){return this.actions}getActions(){return this.actions}getNotifications(){return{onNotification:this.notifications.onNotification}}static createNewHMSStore(e,t){let i=(0,zustand_vanilla__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(()=>t()),o=i.setState;i.setState=n=>{let M=typeof n==\"function\"?(0,immer__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(n):n;o(M)};let r=i.getState;i.getState=n=>n?n(r()):r(),L.compareWithShallowCheckInSubscribe(i);let a=L.setUpDevtools(i,e);return $(w({},i),{namedSetState:a})}static makeStoreTriggerOnSubscribe(e){let t=e.subscribe;e.subscribe=(i,o,r)=>(i(e.getState(o),void 0),t(i,o,r))}static compareWithShallowCheckInSubscribe(e){let t=e.subscribe;e.subscribe=(i,o,r)=>(o||(o=a=>a),r=r||zustand_shallow__WEBPACK_IMPORTED_MODULE_5__[\"default\"],t(i,o,r))}static setUpDevtools(e,t){let i;try{i=window.__REDUX_DEVTOOLS_EXTENSION__||window.top.__REDUX_DEVTOOLS_EXTENSION__}catch(a){}if(!i)return a=>{e.setState(a)};let o=i.connect(L.devtoolsOptions(t));o.prefix=t?`${t} > `:\"\";let r=e.setState;return e.setState=a=>{r(a),o.send(`${o.prefix}setState`,e.getState())},o.subscribe(L.devtoolsSubscribe(o,e,r)),o.send(\"setUpStore\",e.getState()),(a,n)=>{r(a);let M=n||`${o.prefix}action`;o.send(M,e.getState())}}static devtoolsOptions(e){return{name:e,actionsBlacklist:[\"audioLevel\",\"playlistProgress\",\"connectionQuality\"]}}static devtoolsSubscribe(e,t,i){return o=>{var r,a,n,M;if(o.type===\"DISPATCH\"&&o.state)[\"JUMP_TO_ACTION\",\"JUMP_TO_STATE\"].includes(o.payload.type)?i(JSON.parse(o.state)):t.setState(JSON.parse(o.state));else if(o.type===\"DISPATCH\"&&((r=o.payload)==null?void 0:r.type)===\"COMMIT\")e.init(t.getState());else if(o.type===\"DISPATCH\"&&((a=o.payload)==null?void 0:a.type)===\"IMPORT_STATE\"){let P=(n=o.payload.nextLiftedState)==null?void 0:n.actionsById;(((M=o.payload.nextLiftedState)==null?void 0:M.computedStates)||[]).forEach(({state:h},O)=>{let Q=P[O]||`${e.prefix}setState`;O===0?e.init(h):(i(h),e.send(Q,t.getState()))})}}}};\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9obXMtdmlkZW8tc3RvcmUvZGlzdC9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsd0RBQXdELHdDQUF3QyxvQ0FBb0MsZ0ZBQWdGLCtCQUErQixrREFBa0QsbUJBQW1CLHFCQUFxQiw2QkFBNkIsb0RBQW9ELFNBQVMsc0JBQXNCLDRCQUE0QixXQUFXLHdCQUF3QixtQ0FBbUMsVUFBVSxJQUFJLGFBQWEsU0FBUyxNQUFNLE9BQU8sSUFBSSxjQUFjLFNBQVMsTUFBTSwyREFBMkQsMkJBQTJCLEVBQUUsb0JBQW9CLFlBQVksc0lBQXNJLFlBQVksVUFBVSxLQUFLLGtGQUFrRixVQUFVLGtzQkFBa3NCLCtFQUErRSxzR0FBc0csa0JBQWtCLG1DQUFtQywwTkFBME4sc0VBQXNFLDBEQUEwRCwwREFBMEQsb0hBQW9ILEVBQXNNLE1BQU0sYUFBYSxvTEFBb0wsVUFBVSxHQUFHLGFBQWEsTUFBTSx1RkFBdUYsU0FBUyxXQUFXLFNBQVMsV0FBVyxNQUFNLFlBQVksT0FBTyxXQUFXLE1BQU0sdUJBQXVCLGNBQWMsU0FBUyxVQUFVLFdBQVcsT0FBTyxPQUFPLFlBQVksZ0NBQWdDLGtEQUFrRCxRQUFRLE9BQU8sWUFBWSxnQ0FBZ0MsbURBQW1ELFdBQVcsT0FBTyxXQUFXLFlBQVksdUJBQXVCLFdBQVcsbUVBQW1FLFVBQVUsMkNBQTJDLFNBQVMsaUNBQWlDLFdBQVcsWUFBWSxvQkFBb0IsbUJBQW1CLFlBQVksT0FBTyxFQUFFLE9BQU8sYUFBYSxjQUFjLFlBQVksR0FBRyxNQUFNLGFBQWEsOEJBQThCLFVBQVUsR0FBRyxNQUFNLGFBQWEsc3lCQUFzeUIsVUFBVSxHQUFHLE1BQU0sYUFBYSxnQ0FBZ0MsVUFBVSxHQUFpUyxRQUFRLENBQUMsMkVBQWEsaUJBQWlCLHlFQUFXLGVBQWUsNEVBQWMsa0JBQWtCLDRFQUFjLGtCQUFrQixnRkFBa0IscUJBQXFCLEtBQUssQ0FBQyw0RUFBYSxpQkFBaUIsOEVBQWUsbUJBQW1CLDRFQUFhLGlCQUFpQiw4RUFBZSxtQkFBbUIsK0VBQWdCLG9CQUFvQiwrRUFBZ0Isb0JBQW9CLDBGQUEyQiwrQkFBeUUsZ0JBQWdCLFFBQVEscUNBQXFDLFdBQVcsK0JBQStCLE9BQU8saUJBQWlCLGNBQWMsMkJBQTJCLGNBQWMsMkJBQTJCLGVBQWUsOEJBQThCLGVBQWUscUNBQXFDLGNBQWMscUNBQXFDLGVBQWUsK0NBQStDLGdCQUFnQiw2Q0FBNkMsaUJBQWlCLG9EQUFvRCxtQkFBbUIsd0RBQUMsc0xBQXNMLHdEQUFDLDZCQUE2Qix3REFBQyxxSUFBcUksd0RBQUMsdUNBQXVDLHdEQUFDLDBCQUEwQix3REFBQyw4QkFBOEIsd0RBQUMsc0JBQXNCLHdEQUFDLGdDQUFnQyx3REFBQyxtQ0FBbUMsd0RBQUMscUNBQXFDLHdEQUFDLHNDQUFzQyx3REFBQywyQ0FBMkMsd0RBQUMsb0JBQW9CLGFBQWEseUNBQXlDLEtBQUssd0RBQUMsa0NBQWtDLHdEQUFDLGNBQWMscUNBQXFDLFFBQVEsOENBQThDLHVEQUF1RCxFQUFFLHlEQUF5RCxxQkFBcUIsc0JBQXNCLFlBQVksU0FBUyxXQUFXLHdDQUF3QyxRQUFRLFdBQVcsd0NBQXdDLFFBQVEsV0FBVyx5Q0FBeUMsSUFBSSx3REFBQyxhQUFhLElBQUksZ0JBQWdCLFFBQVEsZUFBZSxLQUFLLHdEQUFDLGFBQWEsTUFBTSxnQkFBZ0IsWUFBWSxnQkFBZ0IsUUFBUSxjQUFjLGFBQWEsU0FBUyxLQUFLLHdEQUFDLGVBQWUsd0RBQUMsYUFBYSxnQkFBZ0IsWUFBWSxnQkFBZ0IsUUFBUSxxQkFBcUIsS0FBSyx3REFBQyxhQUFhLGNBQWMsZ0JBQWdCLFlBQVksZ0JBQWdCLFFBQVEseUJBQXlCLG1CQUFtQixLQUFLLHdEQUFDLGFBQWEsZ0JBQWdCLFdBQVcsNENBQTRDLEtBQUssd0RBQUMsYUFBYSxnQkFBZ0IsV0FBVyx1Q0FBdUMsS0FBSyx3REFBQyx3QkFBd0Isd0RBQUMsb0JBQW9CLHdEQUFDLHNEQUFzRCx3REFBQyxlQUFlLFNBQVMscUJBQXFCLGFBQWEsSUFBSSxJQUFJLHdEQUFDLDJCQUEyQix3REFBQyx3QkFBd0Isd0RBQUMsb0RBQW9ELHdEQUFDLDJCQUEyQix3REFBQyxpRUFBaUUsd0RBQUMsVUFBVSxNQUFNLDRIQUE0SCxLQUFLLHdEQUFDLHdDQUF3Qyx3REFBQyxzQkFBc0Isd0RBQUMsaUJBQWlCLHdEQUFDLGdCQUFnQix3REFBQyxzQkFBc0Isd0RBQUMsMkNBQXNGLGtSQUFrUix3REFBRSw0Q0FBNEMsd0RBQUUscUJBQXFCLHlCQUF5QixNQUFNLHlKQUF5SixLQUFLLDBKQUFvTSxjQUFjLG9CQUFvQiwyQkFBMkIsaUJBQWlCLFNBQVMscUVBQVMsU0FBUyxlQUFlLFNBQVMsbUVBQU8sT0FBTyxlQUFlLFNBQVMsa0VBQU0sT0FBTyxlQUFlLFNBQVMsa0VBQU0sT0FBTyxlQUFlLFNBQVMsbUVBQU8sT0FBTyxlQUFlLFNBQVMsa0VBQU0sNkJBQTZCLGtCQUFrQixTQUFTLHFFQUFTLCtCQUErQixpQkFBaUIscURBQXFELG1CQUFtQixpREFBaUQsS0FBSyxxRUFBUyxFQUFFLG9CQUFvQixNQUFNLEtBQUssbUVBQU8sRUFBRSxzQkFBc0IsTUFBTSxLQUFLLGtFQUFNLEVBQUUscUJBQXFCLE1BQU0sS0FBSyxrRUFBTSxFQUFFLHFCQUFxQixNQUFNLEtBQUssbUVBQU8sRUFBRSxzQkFBc0IsTUFBTSxLQUFLLGtFQUFNLEVBQUUsdUJBQXVCLE1BQU0sS0FBSyxxRUFBUyxFQUFFLGtCQUFrQixJQUFJLCtCQUErQixTQUFTLG1FQUFPLHVGQUF1RixTQUFTLFNBQVMsbUVBQU8sUUFBUSxVQUFVLFFBQVEscUVBQVMsQ0FBQyxxREFBcUQsd0RBQUMsK0JBQStCLHdEQUFDLDhCQUE4Qix3REFBQyxlQUFlLGtCQUFrQixXQUFXLCtDQUErQyxLQUFLLHdEQUFDLGVBQWUsa0JBQWtCLFdBQVcsK0NBQStDLEtBQUssd0RBQUMsZUFBZSxrQkFBa0IsV0FBVyxxRkFBcUYsS0FBSyx3REFBQyxlQUFlLGtCQUFrQixXQUFXLHFGQUFxRixjQUFjLHdEQUFDLGlCQUFpQix1QkFBdUIsY0FBYyx3REFBQyxVQUFVLFFBQVEsa0JBQWtCLFFBQVEsZ0JBQWdCLGVBQWUsc0JBQXNCLFNBQVMsVUFBVSxPQUFPLHdEQUFDLHdGQUF3RixhQUFhLG9FQUFvRSxlQUFlLGFBQWEsb0VBQW9FLHFCQUFxQixhQUFhLGlFQUFpRSxzQ0FBc0Msd0RBQUMscURBQXFELGVBQWUsaUNBQWlDLE1BQU0sd0RBQUMsdURBQXVELHFDQUFxQyxlQUFlLGFBQWEsTUFBTSwrREFBK0QsNkJBQTZCLE9BQU8sd0RBQUMsYUFBYSxnREFBZ0QsV0FBVyxrQkFBa0IsRUFBRSxxQkFBcUIsUUFBUSx3REFBQyxhQUFhLGdEQUFnRCxXQUFXLGtCQUFrQixFQUFFLHFCQUFxQixRQUFRLHdEQUFDLGFBQWEsZ0RBQWdELFdBQVcsbUJBQW1CLEVBQUUscUJBQXFCLFFBQVEsd0RBQUMsMkJBQTJCLHdEQUFDLHlCQUF5Qix3REFBQyxnQ0FBZ0MsYUFBYSx3Q0FBd0MsZUFBZSxhQUFhLHdDQUF3QyxlQUFlLGdEQUFnRCxlQUFlLGFBQWEsMENBQTBDLGVBQWUsZUFBZSxrQ0FBa0MsZUFBZSxjQUFjLE1BQU0scUJBQXFCLG9DQUFvQyxPQUFPLGlCQUFpQixlQUFlLGFBQWEsMENBQTBDLGVBQWUsZUFBZSxrQ0FBa0MsZUFBZSxjQUFjLE1BQU0scUJBQXFCLG9DQUFvQyxPQUFPLGdCQUFnQixLQUFLLHdEQUFDLHFCQUFxQiwyQkFBMkIsTUFBTSw4SUFBOEksRUFBRSxLQUFLLHdEQUFDLGlCQUFpQiwyQkFBMkIsUUFBUSxzR0FBc0csRUFBRSxLQUFLLHdEQUFDLG9CQUFvQixNQUFNLHNFQUFzRSxNQUFNLHdEQUFDLGdEQUFnRCx3REFBQyxnREFBZ0Qsd0RBQUMsOEVBQThFLHdEQUFDLDJDQUEyQyx3REFBQyxVQUFVLElBQUksNkVBQTZFLFNBQVMseURBQXlELFFBQVEsd0RBQUMsZ0NBQTJFLE9BQU8sd0RBQUUsdUNBQXVDLE1BQU0sT0FBTyxrRkFBa0YsMENBQTBDLHdEQUFFLHNCQUFzQixtRkFBbUYsVUFBVSx3REFBRSxVQUFVLE1BQU0sbUJBQW1CLDJNQUEyTSwwQkFBMEIsRUFBNEMsVUFBVSx3REFBQyxpQkFBaUIsd0RBQUMsZUFBZSxXQUFXLGtEQUFrRCxLQUFLLHdEQUFDLGVBQWUsV0FBVyxrREFBa0QsUUFBUSx3REFBQyw4QkFBOEIsd0RBQUMsOEJBQThCLHdEQUFDLHVCQUF1Qix3REFBQyx5QkFBeUIsd0RBQUMsc0RBQXNELGtDQUFrQyxlQUFlLFVBQVUsNEJBQTRCLFVBQVUsTUFBTSxNQUFNLGdFQUFnRSxNQUFNLGdEQUFnRCx5Q0FBeUMsbUNBQW1DLHdEQUFFLEVBQUUsbUNBQW1DLEVBQUUsMEJBQTBCLCtEQUErRCxrQkFBa0Isb0JBQW9CLE1BQU0sMEZBQTBGLFFBQVEsV0FBVyxxQ0FBcUMsR0FBRyxrQkFBa0IsaUJBQWlCLE1BQU0sbUlBQW1JLDhDQUE4QyxFQUFFLFFBQVEsRUFBRSxLQUFLLEdBQUcsa0JBQWtCLGdCQUFnQixvREFBb0Qsa0JBQWtCLG9CQUFvQiw2REFBNkQsTUFBTSwwQ0FBMEMsbUJBQW1CLHFCQUFxQix5Q0FBeUMsTUFBTSwwQ0FBMEMsbUJBQW1CLHVCQUF1QixzREFBc0Qsa0JBQWtCLGFBQWEsaURBQWlELGtCQUFrQixvQkFBb0Isd0RBQXdELGtCQUFrQixrQkFBa0IseURBQXlELGtCQUFrQiwrQkFBK0IscUVBQXFFLGtCQUFrQixvQ0FBb0MsMkVBQTJFLGtCQUFrQixhQUFhLDZCQUE2QiwrQkFBK0Isa0JBQWtCLGlEQUFrUSxlQUFlLG9CQUFvQixxRUFBRSxlQUFlLHFFQUFFLENBQUMsZUFBZSx3Q0FBd0MsZ0JBQWdCLGtCQUFrQixrSkFBa0osWUFBWSx3Q0FBd0MsZ0JBQWdCLGtCQUFrQiw0RUFBNEUsWUFBWSx3Q0FBd0MsZ0JBQWdCLGtCQUFrQixrRUFBa0UsY0FBYyxxRkFBcUYsc0RBQXNELHNDQUFzQyxnQkFBZ0IsVUFBVSxZQUFZLFNBQVMsV0FBVyxZQUFZLGlMQUFpTCwwREFBMEQsK0RBQStELHdDQUF3QyxZQUFZLFdBQVcsNEJBQTRCLFNBQVMsWUFBWSxjQUFjLHdCQUF3Qix3QkFBd0Isc0JBQThKLFlBQVksc0JBQXNCLFVBQVUsT0FBTyxxVEFBcVQseUJBQXlCLE9BQU8sd0dBQXdHLCtCQUErQix3QkFBd0IsZ0NBQWdDLGFBQWEscUVBQUUsaVNBQWlTLDJCQUEyQixNQUFNLGFBQWEsb0VBQUUsZUFBZSxvRUFBRSxpR0FBaUcsNkJBQTZCLGFBQWEscUVBQUUsb0dBQW9HLHFFQUFFLGVBQWUsb0VBQUUseUdBQXlHLDhCQUE4QixRQUFRLGdCQUFnQixvRUFBRSxFQUFFLG9EQUFvRCwrSUFBK0ksaUNBQWlDLGNBQWMsb0VBQUUsZUFBZSxvRUFBRSw2REFBNkQsc0JBQXNCLFFBQVEsSUFBSSx5QkFBeUIseUdBQXlHLE9BQU8sbU1BQW1NLHlCQUF5QixrQkFBa0IsT0FBTyx1WEFBdVgsdUJBQXVCLFNBQVMsd0JBQXdCLFlBQVksSUFBSSxtQ0FBbUMsTUFBTSxPQUFPLHdGQUF3RiwyQkFBMkIsT0FBTywwSkFBMEosb0NBQW9DLE9BQU8scURBQXFELDJEQUEyRCwwQkFBMEIsMEZBQTBGLE9BQU8saUJBQWlCLGdDQUFnQywwRkFBMEYsYUFBYSxLQUFLLG9DQUFvQyxFQUFFLHFDQUFxQyxRQUFRLDZHQUE2RyxnQ0FBZ0MsbUNBQW1DLEdBQUcsa0JBQWtCLDREQUE0RCx3RkFBd0YsNkNBQTZDLE1BQU0sT0FBTyxXQUFXLFdBQVcsV0FBVyxxQ0FBcUMsV0FBVyxpQ0FBaUMsV0FBVyx1QkFBdUIsU0FBUyxXQUFXLFNBQVMsNElBQTRJLGFBQWEscUJBQXFCLHVCQUF1Qix5QkFBeUIsYUFBYSxZQUFZLFFBQVEsK0JBQStCLE9BQU8sOEJBQThCLE9BQU8sMENBQTBDLG9CQUFvQixFQUFFLEVBQUUsUUFBUSwrQkFBK0IsbUVBQW1FLFVBQVUsNkNBQTZDLE9BQU8sMENBQTBDLHVCQUF1QixFQUFFLEVBQUUsV0FBVywrQkFBK0IsK0NBQStDLEVBQUUsZUFBZSwrQkFBK0IsbURBQW1ELEVBQUUsUUFBUSx1RUFBdUUsVUFBVSxXQUFXLFVBQVUsMkVBQTJFLFVBQVUsV0FBVyxhQUFhLGlGQUFpRixVQUFVLFdBQVcsV0FBVyxtRUFBbUUsVUFBVSxXQUFXLE9BQU8sK0JBQStCLHlFQUF5RSxVQUFVLFdBQVcsRUFBRSxtQkFBbUIsa0RBQWtELG1CQUFtQiwrRUFBK0UsVUFBVSxlQUFlLGNBQWMsK0JBQStCLHlEQUF5RCwwQ0FBMEMsVUFBVSxpQkFBaUIsRUFBRSxZQUFZLCtCQUErQiwrRUFBK0UsVUFBVSxXQUFXLElBQUksYUFBYSxtQkFBbUIscUJBQXFCLG9CQUFvQix5QkFBeUIsNEJBQTRCLG1CQUFtQixrQkFBa0IsSUFBSSxrQkFBa0IsbUdBQW1HLHNCQUFzQiwyQkFBMkIsa0JBQWtCLDJFQUEyRSxLQUFLLHdDQUF3Qyw2REFBNkQseUdBQXlHLG1EQUFtRCxnREFBZ0QsaUJBQWlCLCtCQUErQixnQ0FBZ0MsRUFBRSxlQUFlLCtCQUErQixrREFBa0QsRUFBRSxlQUFlLCtCQUErQixzSEFBc0gsRUFBRSx3QkFBd0IsK0JBQStCLGtFQUFrRSxpQ0FBaUMseUJBQXlCLEVBQUUsdUJBQXVCLCtCQUErQiwyQkFBMkIscUJBQXFCLHFFQUFFLEVBQUUsT0FBTyx3RUFBTyxFQUFFLGFBQWEsd0VBQU8sRUFBRSxrQkFBa0IsT0FBTywwRUFBMEUsa0JBQWtCLEdBQUcsOEJBQThCLDRDQUE0QyxHQUFHLDJDQUEyQyxFQUFFLFdBQVcsK0JBQStCLDBCQUEwQixrRkFBa0YsT0FBTyw2QkFBNkIsb0NBQW9DLGdHQUFnRyxPQUFPLElBQUksa0JBQWtCLDhCQUE4QixxREFBcUQsU0FBUyxvRUFBb0UsRUFBRSxRQUFRLCtCQUErQiwwQkFBMEIsMkRBQTJELE9BQU8sSUFBSSwyQ0FBMkMsOEJBQThCLDRDQUE0QyxTQUFTLHdFQUF3RSxFQUFFLFFBQVEsK0JBQStCLG1DQUFtQywwRkFBMEYsNkJBQTZCLHlCQUF5QixpQ0FBaUMsd0NBQXdDLDBDQUEwQyxZQUFZLG9EQUFvRCxtQkFBbUIsZ0JBQWdCLEVBQUUsRUFBRSwyQkFBMkIsK0JBQStCLHlCQUF5QixZQUFZLEVBQUUsSUFBSSw4REFBOEQsU0FBUyxnRUFBZ0UsRUFBRSx3QkFBd0IsK0JBQStCLDREQUE0RCxFQUFFLGVBQWUsK0JBQStCLGdFQUFnRSxFQUFFLHdCQUF3QiwrQkFBK0IsNkJBQTZCLHFDQUFxQyxFQUFFLHdCQUF3QiwrQkFBK0IsNkJBQTZCLHFDQUFxQyxFQUFFLHFCQUFxQiwrQkFBK0IsTUFBTSxxRUFBcUUsNkNBQTZDLEVBQUUsb0JBQW9CLEVBQUUsR0FBRyxPQUFPLGtCQUFrQiw0R0FBNEcsbUJBQW1CLElBQUksb0VBQW9FLFNBQVMsd0JBQXdCLDhCQUE4QixvRkFBb0YsUUFBUSw4RUFBZSxDQUFDLDRFQUFhLENBQUMsMkNBQTJDLEVBQUUsb0JBQW9CLCtCQUErQiw2QkFBNkIsMEZBQTBGLEVBQUUsb0JBQW9CLCtCQUErQiw2QkFBNkIsMEZBQTBGLEVBQUUsZUFBZSw2QkFBNkIsMEJBQTBCLCtCQUErQiwrQ0FBK0MsNkJBQTZCLGlCQUFpQixFQUFFLEVBQUUsd0JBQXdCLCtCQUErQix1RkFBdUYsNkJBQTZCLGtDQUFrQyxFQUFFLEVBQUUseUJBQXlCLCtCQUErQixvRUFBb0UsNkJBQTZCLHdDQUF3QyxFQUFFLEVBQUUsMEJBQTBCLHdGQUF3RixrQkFBa0IsR0FBRywwQkFBMEIsb0hBQW9ILG9CQUFvQixrQkFBa0IsMElBQTBJLDBCQUEwQixFQUFFLG1CQUFtQixpQkFBaUIsK0JBQStCLHdEQUF3RCxzREFBc0QsaURBQWlELE1BQU0sRUFBRSxvQ0FBb0MsRUFBRSxpQkFBaUIsK0JBQStCLDJCQUEyQix3TEFBd0wsRUFBRSwyQkFBMkIsK0JBQStCLDRDQUE0QyxFQUFFLHlCQUF5QiwrQkFBK0IsMENBQTBDLEVBQUUsOEJBQThCLFNBQVMsb0lBQW9JLDZCQUE2QixrSUFBa0ksMkJBQTJCLDZDQUE2QyxHQUFHLDJEQUEyRCxHQUFHLDJDQUEyQyw4QkFBOEIsU0FBUyxzSUFBc0ksNkJBQTZCLGtJQUFrSSwyQkFBMkIsNkNBQTZDLEdBQUcsMkRBQTJELEdBQUcsMkNBQTJDLDhCQUE4QiwrQkFBK0IsNkNBQTZDLEVBQUUsOEJBQThCLCtCQUErQiw2Q0FBNkMsRUFBRSxxQkFBcUIsK0JBQStCLDBCQUEwQixPQUFPLHVEQUF1RCxHQUFHLGlCQUFpQixPQUFPLHVDQUF1QyxFQUFFLDJCQUEyQiwrQkFBK0IsMEJBQTBCLE9BQU8sdURBQXVELEdBQUcsaUJBQWlCLE9BQU8sdUNBQXVDLEVBQUUsZ0NBQWdDLCtCQUErQix3REFBd0QsK0NBQStDLEVBQUUsb0JBQW9CLCtCQUErQiw4REFBOEQsd0VBQXdFLGNBQWMsR0FBRyxPQUFPLHlDQUF5QyxtRUFBbUUsRUFBRSxlQUFlLGtCQUFrQixZQUFZLGdCQUFnQixrQkFBa0IscURBQXFELGtCQUFrQiwrREFBK0QsS0FBSyxPQUFPLE9BQU8sYUFBYSxlQUFlLEVBQUUsR0FBRyxvQkFBb0IsZ0NBQWdDLGFBQWEsK0JBQStCLDhCQUE4QixnQ0FBZ0MsNERBQTRELE9BQU8sNkJBQTZCLGtCQUFrQixpQ0FBaUMsZUFBZSxJQUFJLHVEQUF1RCxTQUFTLG1EQUFtRCxtQkFBbUIsbUJBQW1CLEVBQUUsZ0JBQWdCLCtCQUErQiwwQkFBMEIsZ0RBQWdELEtBQUssbUVBQW1FLEVBQUUsR0FBRyxRQUFRLEVBQUUsd0JBQXdCLCtCQUErQix1Q0FBdUMsRUFBRSx1QkFBdUIsK0JBQStCLHNDQUFzQyxFQUFFLHFCQUFxQiwrQkFBK0Isb0NBQW9DLEVBQUUsb0JBQW9CLCtCQUErQixtQ0FBbUMsRUFBRSx3QkFBd0IsK0JBQStCLHVDQUF1QyxFQUFFLGNBQWMsK0JBQStCLDZCQUE2QixFQUFFLGtCQUFrQiwrQkFBK0IsMkVBQTJFLEVBQUUsc0JBQXNCLCtCQUErQix1REFBdUQsb0JBQW9CLHVCQUF1QixFQUFFLDBCQUEwQiwrQkFBK0IsMENBQTBDLGtCQUFrQixvQkFBb0IsNEJBQTRCLEVBQUUsMkJBQTJCLCtCQUErQix1QkFBdUIsMkJBQTJCLHVHQUF1RyxHQUFHLCtCQUErQixxRUFBcUUsRUFBRSwwQkFBMEIsK0JBQStCLE9BQU8sK0NBQStDLFlBQVksNkJBQTZCLDZCQUE2Qix3Q0FBd0MsRUFBRSxlQUFlLGtDQUFrQyxvQkFBb0IsNkJBQTZCLDJCQUEyQixnQ0FBZ0MsMkZBQTJGLDJCQUEyQiw2Q0FBNkMsK0JBQStCLHNCQUFzQixJQUFJLHdCQUF3QiwrQkFBK0IsdUJBQXVCLG90QkFBb3RCLDZCQUE2QixzREFBc0QseUNBQXlDLG9FQUFvRSxFQUFFLEVBQUUscUJBQXFCLE1BQU0sc0VBQXNFLDBDQUEwQyxLQUFLLHNCQUFzQixHQUFHLG9EQUFvRCwwQ0FBMEMsRUFBRSx3QkFBd0Isa0JBQWtCLGdCQUFnQixhQUFhLDZCQUE2QixxQkFBcUIsZ1dBQWdXLDhCQUE4QixxQ0FBcUMsMkNBQTJDLDJCQUEyQiwrQkFBK0IsMEJBQTBCLGtWQUFrViw2QkFBNkIsc0RBQXNELEVBQUUsRUFBRSxvQkFBb0Isa0JBQWtCLE1BQU0sNEVBQTRFLDhCQUE4QiwyQkFBMkIsRUFBRSxzQkFBc0Isb0JBQW9CLCtCQUErQiw0TkFBNE4sRUFBRSxrQkFBa0IsK0JBQStCLCtLQUErSyxFQUFFLHlCQUF5QiwrQkFBK0IsMkJBQTJCLGtKQUFrSixFQUFFLGlCQUFpQixLQUFLLEVBQUUsZ0NBQWdDLEVBQUUsR0FBRyxRQUFRLFVBQVUsS0FBSyxLQUFLLHVCQUF1QixnQkFBZ0IsdUJBQXVCLGdEQUFnRCx1REFBdUQsaUJBQWlCLGdCQUFnQiwwQkFBMEIsNkJBQTZCLHFEQUFxRCxzRkFBc0Ysa0JBQWtCLGVBQWUseUJBQXlCLG9RQUFvUSw0QkFBNEIsRUFBRSxHQUFHLGFBQWEsa0JBQWtCLGtFQUFrRSxtREFBbUQsVUFBVSxvQ0FBb0MsaU5BQWlOLDBGQUEwRixnRUFBZ0UsMEJBQTBCLE9BQU8saUJBQWlCLHdCQUF3QiwwQkFBMEIsRUFBRSxnQkFBZ0IsNEJBQTRCLG1HQUFtRyxPQUFPLG9CQUFvQixFQUFFLGtCQUFrQixrQkFBa0IsdUNBQXVDLElBQUksa0JBQWtCLEtBQUssdUZBQXlCLENBQUMseUZBQTJCLGVBQWUscUJBQXFCLGtDQUFrQyxTQUFTLGdCQUFnQix1Q0FBdUMsYUFBYSxzQ0FBc0MsT0FBTyxzQ0FBc0MscUJBQXFCLE9BQU8sOEVBQWUsZ0ZBQWdGLEtBQUssMkJBQTJCLDBFQUEwRSxxQkFBcUIsMEJBQTBCLHFJQUFxSSxxQkFBcUIsNkJBQTZCLDRGQUE0RixlQUFlLHNCQUFzQixrQkFBa0IsU0FBUyxjQUFjLDRCQUE0QixzQkFBc0IsaURBQWlELHVEQUF1RCxFQUFFLEVBQUUsaUNBQWlDLDZFQUE2RSxlQUFlLDZCQUE2QixrQkFBa0IsY0FBYyxjQUFjLGVBQWUsNkdBQTZHLEVBQUUseUNBQXlDLHlEQUF5RCxzQkFBc0IsNkJBQTZCLE1BQU0sb0pBQW9KLDBHQUEwRyxRQUFRLEdBQUcsNEdBQTRHLGdEQUFnRCxFQUFFLGtDQUFrQyxNQUFNLHNFQUFzRSw4REFBOEQsa0NBQWtDLHVCQUF1QiwrQ0FBK0Msc0JBQXNCLHdEQUF3RCw2RUFBNkUsRUFBRSxnQkFBZ0IsZ0dBQWdHLDBEQUEwRCxnQkFBZ0Isa0JBQWtCLDRCQUE0QiwyR0FBMkcsaURBQWlELGlCQUFpQixXQUFXLDRCQUE0Qix5RkFBeUYsMkNBQTJDLDZFQUE2RSxpQkFBaUIsd0hBQXdILDhEQUFFLElBQUksRUFBRSxLQUFLLHNCQUFzQiwyQkFBMkIsbUJBQW1CLHFFQUFFLEVBQUUsaUNBQWlDLGtLQUFrSyxrQkFBa0Isa0ZBQWtGLEtBQUssdUJBQXVCLGtCQUFrQiwrQ0FBK0Msd0ZBQXdGLDZGQUE2RixLQUFLLGtEQUFrRCxnSEFBZ0gsd0NBQXdDLGlCQUFpQix3QkFBd0IsK0JBQStCLDJCQUEyQiwrREFBK0QsR0FBRyx5Q0FBeUMsRUFBRSxtQ0FBbUMsK0JBQStCLDJCQUEyQixzRUFBc0UsR0FBRyxzQ0FBc0MsRUFBRSxtQ0FBbUMsK0JBQStCLDJCQUEyQixzRUFBc0UsR0FBRyxzQ0FBc0MsRUFBRSxvQkFBb0IsTUFBTSw0REFBNEQsT0FBTyxtUEFBbVAsb0JBQW9CLCtCQUErQiwyQkFBMkIsZUFBZSwrREFBRSx5Q0FBeUMsa0JBQWtCLGtDQUFrQyw4QkFBOEIsR0FBRywrREFBK0QsR0FBRyxvQ0FBb0MsRUFBRSx5QkFBeUIsa0RBQWtELHdEQUF3RCxhQUFhLDRCQUE0Qiw0Q0FBNEMsNEJBQTRCLCtCQUErQixPQUFPLHdDQUF3QyxPQUFPLDZCQUE2QixNQUFNLDJCQUEyQixrR0FBa0csRUFBRSxzREFBc0QsR0FBRyx3Q0FBd0MsRUFBRSwwQkFBMEIsK0JBQStCLE9BQU8sd0NBQXdDLE9BQU8sNkJBQTZCLE1BQU0sMkJBQTJCLGdHQUFnRyxFQUFFLHNEQUFzRCxHQUFHLHdDQUF3QyxFQUFFLHlCQUF5QixNQUFNLGtFQUFrRSx1QkFBdUIsa0JBQWtCLDBGQUEwRixzQkFBc0IsMkJBQTJCLGtCQUFrQiwyREFBMkQseUNBQXlDLDRCQUE0QixlQUFlLGlDQUFpQyxvQ0FBb0MsbUZBQXFJLFVBQVUsMkRBQUUsSUFBSSxHQUFHLEVBQUUsZUFBZSxJQUFJLGlCQUFpQixNQUFNLDJEQUEyRCwySEFBMkgsSUFBSSxjQUFjLFFBQVEsY0FBYyw0Q0FBNEMsOEVBQThFLFdBQVcsWUFBWSxZQUFZLFVBQVUseUNBQXlDLDZCQUE2QixtQ0FBbUMsdUJBQXVCLGlCQUFpQixpQkFBaUIsc0NBQXNDLHFDQUFxQyw4Q0FBOEMsdUJBQXVCLHlCQUF5Qiw0QkFBNEIsc0NBQXNDLHFDQUFxQyw4Q0FBOEMsdUJBQXVCLHlCQUF5Qiw0QkFBNEIsU0FBUyx3Q0FBd0MsZ0JBQWdCLG9CQUFvQixvQkFBb0Isd0JBQXdCLDZDQUE2QyxnQkFBZ0IsK0JBQStCLFlBQVkseUJBQXlCLE9BQU8sMkJBQTJCLDRGQUE0RixpQkFBaUIseUJBQXlCLG9CQUFvQixzQkFBc0IsS0FBSyxhQUFhLGlCQUFpQixnQkFBZ0IsV0FBVywrS0FBK0ssUUFBUSxzS0FBc0ssUUFBUSxtSEFBbUgsSUFBSSxzREFBc0QsUUFBUSx3S0FBd0ssUUFBUSxxSEFBcUgsSUFBSSxzREFBZ0csZ0xBQWdMLHdEQUFDLHlCQUF5Qix3REFBQyxPQUFPLE1BQU0sZ0VBQWdFLEtBQUssd0RBQUMsT0FBTyxNQUFNLDJEQUEyRCxLQUFLLHdEQUFDLE9BQU8sTUFBTSwwREFBMEQsS0FBSyx3REFBQyxPQUFPLE1BQU0sNERBQTRELEtBQUssd0RBQUMsT0FBTyxNQUFNLDJFQUEyRSxLQUFLLHdEQUFDLE9BQU8sTUFBTSw2RUFBNkUsS0FBSyx3REFBQyxPQUFPLE1BQU0sNERBQTRELEtBQUssd0RBQUMsT0FBTyxNQUFNLGtFQUFrRSxLQUFLLHdEQUFDLGtDQUFrQyx3REFBQyxrQ0FBa0Msd0RBQUMsb0RBQW9ELHdEQUFDLGlCQUFpQixNQUFNLDJDQUEyQyxPQUFPLHdEQUFDLGdDQUFnQyx3REFBQyxpQkFBaUIsTUFBTSwyQ0FBMkMsT0FBTyx3REFBQyxtQkFBbUIsd0RBQUMsUUFBUSxrQkFBa0Isa0VBQUUsVUFBVSxrRUFBRSxTQUFTLHVFQUF1RSxPQUFPLDJWQUEyVixZQUFZLG1CQUFtQixvRkFBb0YsNkpBQTZKLHdEQUFFLDZGQUE2RixrQ0FBa0Msb0NBQW9DLDJEQUFFLHNCQUFzQixxQkFBcUIsOEdBQThHLFdBQVcsa0JBQWtCLGdCQUFnQixvQkFBb0IsYUFBYSxvQkFBb0IsbUJBQW1CLE9BQU8sa0RBQWtELDhCQUE4QixNQUFNLDJEQUFFLHVCQUF1QixlQUFlLDJCQUEyQixpREFBRSxNQUFNLE1BQU0saUJBQWlCLG1FQUFtRSwyQkFBMkIsYUFBYSxLQUFLLGdCQUFnQixFQUFFLHNDQUFzQyxrQkFBa0Isd0RBQXdELDZDQUE2QyxrQkFBa0IsdUNBQXVDLHVEQUFFLFdBQVcsMEJBQTBCLE1BQU0sSUFBSSwrRUFBK0UsVUFBVSxpQkFBaUIsZUFBZSxzQ0FBc0MsY0FBYyxHQUFHLE9BQU8saUJBQWlCLHNCQUFzQixlQUFlLFNBQVMsd0JBQXdCLG1GQUFtRixLQUFLLFlBQVksU0FBUyxRQUFRLHdCQUF3QiwwQkFBMEIsT0FBTywrRUFBK0UsZ0NBQWdDLFdBQVcsWUFBWSxtSkFBbUosaUdBQWlHLG1GQUFtRiwrREFBK0QsOEVBQThFLFFBQVEsTUFBTSxlQUFlLFNBQVMsVUFBVSw4Q0FBOEMsTUFBODFHO0FBQ2ovd0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0AxMDBtc2xpdmUvaG1zLXZpZGVvLXN0b3JlL2Rpc3QvaW5kZXguanM/ZDMxZiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUnQ9T2JqZWN0LmRlZmluZVByb3BlcnR5LFB0PU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO3ZhciBEdD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yczt2YXIgeGU9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sczt2YXIgSXQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSx2dD1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO3ZhciBMZT0ocyxlLHQpPT5lIGluIHM/UnQocyxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6c1tlXT10LHc9KHMsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKUl0LmNhbGwoZSx0KSYmTGUocyx0LGVbdF0pO2lmKHhlKWZvcih2YXIgdCBvZiB4ZShlKSl2dC5jYWxsKGUsdCkmJkxlKHMsdCxlW3RdKTtyZXR1cm4gc30sJD0ocyxlKT0+UHQocyxEdChlKSk7dmFyIEV0PShzLGUpPT4oKT0+KGV8fHMoKGU9e2V4cG9ydHM6e319KS5leHBvcnRzLGUpLGUuZXhwb3J0cyk7dmFyIGM9KHMsZSx0KT0+bmV3IFByb21pc2UoKGksbyk9Pnt2YXIgcj1NPT57dHJ5e24odC5uZXh0KE0pKX1jYXRjaChQKXtvKFApfX0sYT1NPT57dHJ5e24odC50aHJvdyhNKSl9Y2F0Y2goUCl7byhQKX19LG49TT0+TS5kb25lP2koTS52YWx1ZSk6UHJvbWlzZS5yZXNvbHZlKE0udmFsdWUpLnRoZW4ocixhKTtuKCh0PXQuYXBwbHkocyxlKSkubmV4dCgpKX0pO3ZhciBrdD1FdCgoeG4seHMpPT57eHMuZXhwb3J0cz17dmVyc2lvbjpcIjAuOC4xXCIsbGljZW5zZTpcIk1JVFwiLG1haW46XCJkaXN0L2luZGV4LmNqcy5qc1wiLG1vZHVsZTpcImRpc3QvaW5kZXguanNcIix0eXBpbmdzOlwiZGlzdC9pbmRleC5kLnRzXCIsZmlsZXM6W1wiZGlzdFwiLFwic3JjXCJdLGVuZ2luZXM6e25vZGU6XCI+PTEyXCJ9LGV4cG9ydHM6e1wiLlwiOntyZXF1aXJlOlwiLi9kaXN0L2luZGV4LmNqcy5qc1wiLGltcG9ydDpcIi4vZGlzdC9pbmRleC5qc1wiLGRlZmF1bHQ6XCIuL2Rpc3QvaW5kZXguanNcIn19LHNjcmlwdHM6e3ByZXN0YXJ0Olwicm0gLXJmIGRpc3QgJiYgeWFybiB0eXBlczpidWlsZFwiLHN0YXJ0Oidjb25jdXJyZW50bHkgXCJ5YXJuIGRldlwiIFwieWFybiB0eXBlc1wiJyxkZXY6XCJub2RlIC4uLy4uL3NjcmlwdHMvZGV2XCIsXCJidWlsZDpvbmx5XCI6XCJub2RlIC4uLy4uL3NjcmlwdHMvYnVpbGRcIixidWlsZDpcInlhcm4gYnVpbGQ6b25seSAmJiB5YXJuIHR5cGVzOmJ1aWxkXCIsdHlwZXM6XCJ0c2MgLXdcIixcInR5cGVzOmJ1aWxkXCI6XCJ0c2MgLXAgdHNjb25maWcuanNvblwiLGZvcm1hdDpcInByZXR0aWVyIC0td3JpdGUgc3JjLyoqLyoudHNcIix0ZXN0OlwiamVzdCAtLW1heFdvcmtlcnM9MVwiLFwidGVzdDp3YXRjaFwiOlwiamVzdCAtLXdhdGNoXCIsXCJ0ZXN0OmNvdmVyYWdlXCI6XCJqZXN0IC0tY292ZXJhZ2VcIixsaW50OlwiZXNsaW50IC1jIC4uLy4uLy5lc2xpbnRyYyAuXCIsXCJsaW50OmZpeFwiOlwieWFybiBsaW50IC0tZml4XCIscHJlcGFyZTpcInlhcm4gYnVpbGRcIixzaXplOlwic2l6ZS1saW1pdFwiLGFuYWx5emU6XCJzaXplLWxpbWl0IC0td2h5XCIsZG9jczpcInJtIC1yZiAuL2RvY3MgJiYgdHlwZWRvYyAmJiBybSAtZiAuL2RvY3MvUkVBRE1FLm1kICYmIG1rZGlyIC4vZG9jcy9ob21lICYmbXYgLi9kb2NzL21vZHVsZXMubWQgLi9kb2NzL2hvbWUvY29udGVudC5tZCAmJiBub2RlIC4uLy4uL3NjcmlwdHMvZG9jcy1zdG9yZSAmJiBucHggcHJldHRpZXIgLS13cml0ZSAnLi9kb2NzLyoqLyonXCJ9LG5hbWU6XCJAMTAwbXNsaXZlL2htcy12aWRlby1zdG9yZVwiLGF1dGhvcjpcIjEwMG1zXCIsc2lkZUVmZmVjdHM6ITEsZGVwZW5kZW5jaWVzOntcIkAxMDBtc2xpdmUvaG1zLXZpZGVvXCI6XCIwLjcuMVwiLGV2ZW50ZW1pdHRlcjI6XCJeNi40LjdcIixpbW1lcjpcIl45LjAuNlwiLHJlc2VsZWN0OlwiNC4wLjBcIix6dXN0YW5kOlwiMy41LjdcIn0sZGV2RGVwZW5kZW5jaWVzOntcInRzLW5vZGVcIjpcIl4xMC40LjBcIix0c2xpYjpcIl4yLjIuMFwifSxkZXNjcmlwdGlvbjpcIlRoaXMgaXMgYW4gYWRkb24gdG8gdGhlIGNvcmUgc2RrIHByb3ZpZGVkIGJ5IDEwMG1zLiBJdCBhYnN0cmFjdHMgYXdheSB0aGUgaW50cmljYWNpZXMgb2YgZGF0YSBtYW5hZ2VtZW50IGFuZCBwcm92aWRlcyBhIGZsdXggYmFzZWQgcmVhY3RpdmUgZGF0YSBzdG9yZSB3aGVyZSBkYXRhIGZsb3dzIGluIG9ubHkgb25lIGRpcmVjdGlvbi5cIixyZXBvc2l0b3J5Ont0eXBlOlwiZ2l0XCIsdXJsOlwiZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS8xMDBtc2xpdmUvaG1zLXZpZGVvLXN0b3JlLmdpdFwifSxrZXl3b3JkczpbXCJ2aWRlb1wiLFwid2VicnRjXCIsXCJjb25mZXJlbmNpbmdcIixcIjEwMG1zXCJdLGJ1Z3M6e3VybDpcImh0dHBzOi8vZ2l0aHViLmNvbS8xMDBtc2xpdmUvaG1zLXZpZGVvLXN0b3JlL2lzc3Vlc1wifSxob21lcGFnZTpcImh0dHBzOi8vZ2l0aHViLmNvbS8xMDBtc2xpdmUvaG1zLXZpZGVvLXN0b3JlI3JlYWRtZVwiLGdpdEhlYWQ6XCI4Zjg5Y2ZkMmEyODk4ODQ4YmU1MzY4ZGE2MjExNTE5ZjZjMmMxY2VmXCJ9fSk7aW1wb3J0IExzIGZyb21cImltbWVyXCI7aW1wb3J0IE9zIGZyb21cInp1c3RhbmQvc2hhbGxvd1wiO2ltcG9ydCB3cyBmcm9tXCJ6dXN0YW5kL3ZhbmlsbGFcIjtpbXBvcnR7SE1TU2RrIGFzIF9zLGlzQnJvd3NlciBhcyBVc31mcm9tXCJAMTAwbXNsaXZlL2htcy12aWRlb1wiO2ltcG9ydHtFdmVudEVtaXR0ZXIyIGFzIFp0fWZyb21cImV2ZW50ZW1pdHRlcjJcIjt2YXIgSDsoZnVuY3Rpb24obil7bi5EaXNjb25uZWN0ZWQ9XCJEaXNjb25uZWN0ZWRcIixuLlByZXZpZXc9XCJQcmV2aWV3XCIsbi5Db25uZWN0aW5nPVwiQ29ubmVjdGluZ1wiLG4uQ29ubmVjdGVkPVwiQ29ubmVjdGVkXCIsbi5SZWNvbm5lY3Rpbmc9XCJSZWNvbm5lY3RpbmdcIixuLkRpc2Nvbm5lY3Rpbmc9XCJEaXNjb25uZWN0aW5nXCIsbi5GYWlsZWQ9XCJGYWlsZWRcIn0pKEh8fChIPXt9KSk7dmFyIHRlPSgpPT4oe3Jvb206e2lkOlwiXCIsaXNDb25uZWN0ZWQ6ITEsbmFtZTpcIlwiLHBlZXJzOltdLGxvY2FsUGVlcjpcIlwiLHJvb21TdGF0ZTpILkRpc2Nvbm5lY3RlZCxyZWNvcmRpbmc6e2Jyb3dzZXI6e3J1bm5pbmc6ITF9LHNlcnZlcjp7cnVubmluZzohMX0saGxzOntydW5uaW5nOiExfX0scnRtcDp7cnVubmluZzohMX0saGxzOntydW5uaW5nOiExLHZhcmlhbnRzOltdfSxzZXNzaW9uSWQ6XCJcIn0scGVlcnM6e30sdHJhY2tzOnt9LHBsYXlsaXN0OnthdWRpbzp7bGlzdDp7fSxzZWxlY3Rpb246e2lkOlwiXCIsaGFzUHJldmlvdXM6ITEsaGFzTmV4dDohMX0scHJvZ3Jlc3M6MCx2b2x1bWU6MCxjdXJyZW50VGltZTowLHBsYXliYWNrUmF0ZToxfSx2aWRlbzp7bGlzdDp7fSxzZWxlY3Rpb246e2lkOlwiXCIsaGFzUHJldmlvdXM6ITEsaGFzTmV4dDohMX0scHJvZ3Jlc3M6MCx2b2x1bWU6MCxjdXJyZW50VGltZTowLHBsYXliYWNrUmF0ZToxfX0sbWVzc2FnZXM6e2J5SUQ6e30sYWxsSURzOltdfSxzcGVha2Vyczp7fSxjb25uZWN0aW9uUXVhbGl0aWVzOnt9LHNldHRpbmdzOnthdWRpb0lucHV0RGV2aWNlSWQ6XCJcIixhdWRpb091dHB1dERldmljZUlkOlwiXCIsdmlkZW9JbnB1dERldmljZUlkOlwiXCJ9LGRldmljZXM6e2F1ZGlvSW5wdXQ6W10sYXVkaW9PdXRwdXQ6W10sdmlkZW9JbnB1dDpbXX0scm9sZXM6e30scm9sZUNoYW5nZVJlcXVlc3RzOltdLGVycm9yczpbXX0pLHNlPSgpPT4oe3BlZXJTdGF0czp7fSxyZW1vdGVUcmFja1N0YXRzOnt9LGxvY2FsVHJhY2tTdGF0czp7fSxsb2NhbFBlZXI6e2lkOlwiXCJ9fSk7dmFyIE9lOyhmdW5jdGlvbihlKXtlLkNIQVQ9XCJjaGF0XCJ9KShPZXx8KE9lPXt9KSk7dmFyIFI7KGZ1bmN0aW9uKHQpe3QuSU5GTz1cImluZm9cIix0LkVSUk9SPVwiZXJyb3JcIn0pKFJ8fChSPXt9KSk7dmFyIFQ7KGZ1bmN0aW9uKFMpe1MuUEVFUl9KT0lORUQ9XCJQRUVSX0pPSU5FRFwiLFMuUEVFUl9MRUZUPVwiUEVFUl9MRUZUXCIsUy5QRUVSX0xJU1Q9XCJQRUVSX0xJU1RcIixTLk5FV19NRVNTQUdFPVwiTkVXX01FU1NBR0VcIixTLkVSUk9SPVwiRVJST1JcIixTLlJFQ09OTkVDVElORz1cIlJFQ09OTkVDVElOR1wiLFMuUkVDT05ORUNURUQ9XCJSRUNPTk5FQ1RFRFwiLFMuVFJBQ0tfQURERUQ9XCJUUkFDS19BRERFRFwiLFMuVFJBQ0tfUkVNT1ZFRD1cIlRSQUNLX1JFTU9WRURcIixTLlRSQUNLX01VVEVEPVwiVFJBQ0tfTVVURURcIixTLlRSQUNLX1VOTVVURUQ9XCJUUkFDS19VTk1VVEVEXCIsUy5UUkFDS19ERUdSQURFRD1cIlRSQUNLX0RFR1JBREVEXCIsUy5UUkFDS19SRVNUT1JFRD1cIlRSQUNLX1JFU1RPUkVEXCIsUy5UUkFDS19ERVNDUklQVElPTl9DSEFOR0VEPVwiVFJBQ0tfREVTQ1JJUFRJT05fQ0hBTkdFRFwiLFMuUk9MRV9VUERBVEVEPVwiUk9MRV9VUERBVEVEXCIsUy5DSEFOR0VfVFJBQ0tfU1RBVEVfUkVRVUVTVD1cIkNIQU5HRV9UUkFDS19TVEFURV9SRVFVRVNUXCIsUy5DSEFOR0VfTVVMVElfVFJBQ0tfU1RBVEVfUkVRVUVTVD1cIkNIQU5HRV9NVUxUSV9UUkFDS19TVEFURV9SRVFVRVNUXCIsUy5ST09NX0VOREVEPVwiUk9PTV9FTkRFRFwiLFMuUkVNT1ZFRF9GUk9NX1JPT009XCJSRU1PVkVEX0ZST01fUk9PTVwiLFMuREVWSUNFX0NIQU5HRV9VUERBVEU9XCJERVZJQ0VfQ0hBTkdFX1VQREFURVwiLFMuUExBWUxJU1RfVFJBQ0tfRU5ERUQ9XCJQTEFZTElTVF9UUkFDS19FTkRFRFwiLFMuTkFNRV9VUERBVEVEPVwiTkFNRV9VUERBVEVEXCIsUy5NRVRBREFUQV9VUERBVEVEPVwiTUVUQURBVEFfVVBEQVRFRFwifSkoVHx8KFQ9e30pKTt2YXIgcDsoZnVuY3Rpb24odCl7dC5hdWRpbz1cImF1ZGlvXCIsdC52aWRlbz1cInZpZGVvXCJ9KShwfHwocD17fSkpO2ltcG9ydHtITVNBdWRpb1BsdWdpblR5cGUgYXMgYnQsSE1TRXhjZXB0aW9uIGFzIG9pLEhNU0xvZ0xldmVsIGFzIHksSE1TUGVlclVwZGF0ZSBhcyBVLEhNU1Jvb21VcGRhdGUgYXMgeWksSE1TU2ltdWxjYXN0TGF5ZXIgYXMgQ3QsSE1TVHJhY2tVcGRhdGUgYXMgQyxITVNWaWRlb1BsdWdpbkNhbnZhc0NvbnRleHRUeXBlIGFzIEF0LEhNU1ZpZGVvUGx1Z2luVHlwZSBhcyBOdCxwYXJzZWRVc2VyQWdlbnQgYXMgeHQsc2ltdWxjYXN0TWFwcGluZyBhcyBpZX1mcm9tXCJAMTAwbXNsaXZlL2htcy12aWRlb1wiO3ZhciBvZT17W1UuUEVFUl9KT0lORURdOlQuUEVFUl9KT0lORUQsW1UuUEVFUl9MRUZUXTpULlBFRVJfTEVGVCxbVS5ST0xFX1VQREFURURdOlQuUk9MRV9VUERBVEVELFtVLk5BTUVfVVBEQVRFRF06VC5OQU1FX1VQREFURUQsW1UuTUVUQURBVEFfVVBEQVRFRF06VC5NRVRBREFUQV9VUERBVEVEfSxyZT17W0MuVFJBQ0tfQURERURdOlQuVFJBQ0tfQURERUQsW0MuVFJBQ0tfUkVNT1ZFRF06VC5UUkFDS19SRU1PVkVELFtDLlRSQUNLX01VVEVEXTpULlRSQUNLX01VVEVELFtDLlRSQUNLX1VOTVVURURdOlQuVFJBQ0tfVU5NVVRFRCxbQy5UUkFDS19ERUdSQURFRF06VC5UUkFDS19ERUdSQURFRCxbQy5UUkFDS19SRVNUT1JFRF06VC5UUkFDS19SRVNUT1JFRCxbQy5UUkFDS19ERVNDUklQVElPTl9DSEFOR0VEXTpULlRSQUNLX0RFU0NSSVBUSU9OX0NIQU5HRUR9O2ltcG9ydHtjcmVhdGVTZWxlY3RvciBhcyBkfWZyb21cInJlc2VsZWN0XCI7ZnVuY3Rpb24gaihzLGUpe2xldCB0LGk7aWYoZSlmb3IobGV0IG8gb2YgZS5hdXhpbGlhcnlUcmFja3Mpe2xldCByPXNbb107THQocikmJihpPUoocik/cjppLHQ9WShyKT9yOnQpfXJldHVybnt2aWRlbzp0LGF1ZGlvOml9fWZ1bmN0aW9uIEoocyl7cmV0dXJuIHMmJnMudHlwZT09PVwiYXVkaW9cIn1mdW5jdGlvbiBZKHMpe3JldHVybiBzJiZzLnR5cGU9PT1cInZpZGVvXCJ9ZnVuY3Rpb24gTHQocyl7cmV0dXJuIHMmJnMuc291cmNlPT09XCJzY3JlZW5cIn1mdW5jdGlvbiBhZShzKXtyZXR1cm4gcyYmcy5zb3VyY2U9PT1cImF1ZGlvcGxheWxpc3RcIn1mdW5jdGlvbiB6KHMpe3JldHVybiBzJiZzLnNvdXJjZT09PVwidmlkZW9wbGF5bGlzdFwifWZ1bmN0aW9uIHdlKHMpe3JldHVybiBzP0Jvb2xlYW4ocz09bnVsbD92b2lkIDA6cy5kZWdyYWRlZCk6ITF9ZnVuY3Rpb24gRyhzLGUpe3JldHVybiBlJiZzLnRyYWNrc1tlXT9zLnRyYWNrc1tlXS5lbmFibGVkOiExfWZ1bmN0aW9uIF9lKHMsZSl7cmV0dXJuIGUmJnMudHJhY2tzW2VdP3MudHJhY2tzW2VdLmRpc3BsYXlFbmFibGVkOiExfXZhciBEPXM9PnMucm9vbSxRaT1kKEQscz0+cy5pZCksdj1zPT5zLnBlZXJzLFVlPXM9PnMubWVzc2FnZXMuYnlJRCxWZT1zPT5zLm1lc3NhZ2VzLmFsbElEcyxnPXM9PnMudHJhY2tzLEtlPXM9PnMuc2V0dGluZ3MsVGU9cz0+cy5hcHBEYXRhLEppPXM9PnMuZGV2aWNlcyxPdD1zPT5zLnNwZWFrZXJzLFlpPXM9PnMuY29ubmVjdGlvblF1YWxpdGllcyxtZT1kKFtEXSxzPT5zJiZzLmlzQ29ubmVjdGVkKSx6aT1kKFttZSxEXSwocyxlKT0+cz9lLnBlZXJDb3VudCE9PXZvaWQgMD9lLnBlZXJDb3VudHx8MTplLnBlZXJzLmxlbmd0aDpNYXRoLm1heChlLnBlZXJDb3VudCE9PXZvaWQgMD9lLnBlZXJDb3VudDplLnBlZXJzLmxlbmd0aC0xLDApKSxXPWQoW0Qsdl0sKHMsZSk9PnMucGVlcnMubWFwKHQ9PmVbdF0pKSx3dD1kKGcscz0+T2JqZWN0LnZhbHVlcyhzKSksRT1kKEQsdiwocyxlKT0+ZVtzLmxvY2FsUGVlcl0pLEY9ZChELHM9PnMubG9jYWxQZWVyKSxYaT1kKEUscz0+cz09bnVsbD92b2lkIDA6cy5uYW1lKSxaaT1kKEUscz0+cz09bnVsbD92b2lkIDA6cy5yb2xlTmFtZSksQT1kKEUscz0+cz09bnVsbD92b2lkIDA6cy5hdWRpb1RyYWNrKSxOPWQoRSxzPT5zPT1udWxsP3ZvaWQgMDpzLnZpZGVvVHJhY2spLF90PWQoRSxzPT5zPT1udWxsP3ZvaWQgMDpzLmF1eGlsaWFyeVRyYWNrcyksQmU9ZChbQSxOLF90XSwocyxlLHQpPT57bGV0IGk9Wy4uLnRdO3JldHVybiBzJiZpLnVuc2hpZnQocyksZSYmaS51bnNoaWZ0KGUpLGl9KSxlbz1kKFcscz0+cy5maWx0ZXIoZT0+IWUuaXNMb2NhbCkpLHRvPWQodixPdCwocyxlKT0+e2xldCB0PU9iamVjdC5lbnRyaWVzKGUpLnNvcnQoKGksbyk9Pnt2YXIgbixNO2xldCByPSgobj1pWzFdKT09bnVsbD92b2lkIDA6bi5hdWRpb0xldmVsKXx8MDtyZXR1cm4oKChNPW9bMV0pPT1udWxsP3ZvaWQgMDpNLmF1ZGlvTGV2ZWwpfHwwKT5yPzE6LTF9KTtpZih0Lmxlbmd0aD4wJiZ0WzBdWzFdLmF1ZGlvTGV2ZWwmJnRbMF1bMV0uYXVkaW9MZXZlbD4wKXtsZXQgaT10WzBdWzFdLnBlZXJJRDtpZihpIGluIHMpcmV0dXJuIHNbaV19cmV0dXJuIG51bGx9KSxzbz1zPT57bGV0IGU9RShzKTtyZXR1cm4gRyhzLGU9PW51bGw/dm9pZCAwOmUuYXVkaW9UcmFjayl9LEhlPXM9PntsZXQgZT1FKHMpO3JldHVybiBHKHMsZT09bnVsbD92b2lkIDA6ZS52aWRlb1RyYWNrKX0scWU9cz0+e2xldCBlPUUocyk7cmV0dXJuIF9lKHMsZT09bnVsbD92b2lkIDA6ZS52aWRlb1RyYWNrKX0sZ2U9ZChFLGcsKHMsZSk9PntsZXR7dmlkZW86dCxhdWRpbzppfT1qKGUscyk7cmV0dXJuISEodHx8aSl9KSxVdD1kKHYsZywocyxlKT0+e2xldCB0O2ZvcihsZXQgaSBpbiBzKXtsZXQgbz1zW2ldLHt2aWRlbzpyLGF1ZGlvOmF9PWooZSxvKTtpZihyKXJldHVybiBvO2EmJiF0JiYodD1vKX1yZXR1cm4gdH0pLGlvPWQoVXQscz0+ISFzKSxvbz1kKHYsZywocyxlKT0+e2ZvcihsZXQgdCBpbiBzKXtsZXQgaT1zW3RdLHthdWRpbzpvLHZpZGVvOnJ9PWooZSxpKTtpZighciYmISFvKXJldHVybiBpfX0pLHJvPWQodixnLChzLGUpPT57bGV0IHQ9W10saT1bXTtmb3IobGV0IG8gaW4gcyl7bGV0IHI9c1tvXSx7dmlkZW86YSxhdWRpbzpufT1qKGUscik7YT90LnB1c2gocik6biYmaS5wdXNoKHIpfXJldHVybiB0LmNvbmNhdChpKX0pLGFvPWQodixnLChzLGUpPT57Zm9yKGxldCB0IGluIGUpe2xldCBpPWVbdF07aWYoeihpKSYmWShpKSYmaS5wZWVySWQpcmV0dXJuIHNbaS5wZWVySWRdfX0pLG5vPWQodixnLChzLGUpPT57Zm9yKGxldCB0IGluIGUpe2xldCBpPWVbdF07aWYoYWUoaSkmJmkucGVlcklkKXJldHVybiBzW2kucGVlcklkXX19KSxjbz1kKHd0LHM9PnMuZmlsdGVyKHdlKSksamU9ZChWZSxzPT5zLmxlbmd0aCksU289ZChVZSxzPT5PYmplY3QudmFsdWVzKHMpLmZpbHRlcihlPT4hZS5yZWFkKS5sZW5ndGgpLG5lPWQoVmUsVWUsKHMsZSk9PntsZXQgdD1bXTtyZXR1cm4gcy5mb3JFYWNoKGk9Pnt0LnB1c2goZVtpXSl9KSx0fSksYj1kKFtEXSxzPT5zJiZzLnJvb21TdGF0ZSksbG89ZChiLHM9PnM9PT1ILlByZXZpZXcpLHVvPWQoRCxzPT5zLnJvb21TdGF0ZSE9PUguRGlzY29ubmVjdGVkKSxWPXM9PnMucm9sZXMsTW89ZChbVl0scz0+T2JqZWN0LmtleXMocykpLGNlPWQoW0UsVl0sKHMsZSk9PihzPT1udWxsP3ZvaWQgMDpzLnJvbGVOYW1lKT9lW3Mucm9sZU5hbWVdOm51bGwpLHBvPWQoW2NlXSxzPT57dmFyIGU7cmV0dXJuKChlPXM9PW51bGw/dm9pZCAwOnMuc3Vic2NyaWJlUGFyYW1zKT09bnVsbD92b2lkIDA6ZS5zdWJzY3JpYmVUb1JvbGVzKT9zLnN1YnNjcmliZVBhcmFtcy5zdWJzY3JpYmVUb1JvbGVzLmxlbmd0aD4wOiExfSksRmU9ZChjZSxzPT5zPT1udWxsP3ZvaWQgMDpzLnBlcm1pc3Npb25zKSxUbz1kKEQscz0+cy5yZWNvcmRpbmcpLG1vPWQoRCxzPT5zLnJ0bXApLEhvPWQoRCxzPT5zLmhscyksZ289ZChELHM9PnMuc2Vzc2lvbklkKSxmbz1kKEQscz0+cy5zdGFydGVkQXQpLGhvPXM9PnMuc2Vzc2lvbk1ldGFkYXRhO2ltcG9ydHtjcmVhdGVTZWxlY3RvciBhcyAkZX1mcm9tXCJyZXNlbGVjdFwiO3ZhciBHZT0ocz1wLmF1ZGlvKT0+ZT0+ZS5wbGF5bGlzdFtzXS5saXN0LGZlPShzPXAuYXVkaW8pPT5lPT5lLnBsYXlsaXN0W3NdLnNlbGVjdGlvbixXZT0ocz1wLmF1ZGlvKT0+ZT0+ZS5wbGF5bGlzdFtzXS5wcm9ncmVzcyxRZT0ocz1wLmF1ZGlvKT0+ZT0+ZS5wbGF5bGlzdFtzXS5jdXJyZW50VGltZSxKZT0ocz1wLmF1ZGlvKT0+ZT0+ZS5wbGF5bGlzdFtzXS5wbGF5YmFja1JhdGUsWWU9KHM9cC5hdWRpbyk9PmU9PmUucGxheWxpc3Rbc10udm9sdW1lLHplPShzPXAuYXVkaW8pPT4kZShHZShzKSxlPT5PYmplY3QudmFsdWVzKGUpKSxYZT0ocz1wLmF1ZGlvKT0+JGUoR2UocyksZmUocyksKGUsdCk9PntpZighIXQuaWQpcmV0dXJuIGVbdC5pZF19KSxaZT17c2VsZWN0aW9uOmZlKHAuYXVkaW8pLHByb2dyZXNzOldlKHAuYXVkaW8pLGN1cnJlbnRUaW1lOlFlKHAuYXVkaW8pLHBsYXliYWNrUmF0ZTpKZShwLmF1ZGlvKSx2b2x1bWU6WWUocC5hdWRpbyksbGlzdDp6ZShwLmF1ZGlvKSxzZWxlY3RlZEl0ZW06WGUocC5hdWRpbyl9LGV0PXtzZWxlY3Rpb246ZmUocC52aWRlbykscHJvZ3Jlc3M6V2UocC52aWRlbyksY3VycmVudFRpbWU6UWUocC52aWRlbykscGxheWJhY2tSYXRlOkplKHAudmlkZW8pLHZvbHVtZTpZZShwLnZpZGVvKSxsaXN0OnplKHAudmlkZW8pLHNlbGVjdGVkSXRlbTpYZShwLnZpZGVvKX07aW1wb3J0e2NyZWF0ZVNlbGVjdG9yIGFzIGZ9ZnJvbVwicmVzZWxlY3RcIjtmdW5jdGlvbiBsKHMpe3JldHVybiBlPT50PT5zKHQsZSl9dmFyIFg9XCJITVMtU3RvcmU6XCIsdT1jbGFzc3tzdGF0aWMgdihlLC4uLnQpe3RoaXMubG9nKHkuVkVSQk9TRSxlLC4uLnQpfXN0YXRpYyBkKC4uLmUpe3RoaXMubG9nKHkuREVCVUcsLi4uZSl9c3RhdGljIGkoLi4uZSl7dGhpcy5sb2coeS5JTkZPLC4uLmUpfXN0YXRpYyB3KC4uLmUpe3RoaXMubG9nKHkuV0FSTiwuLi5lKX1zdGF0aWMgZSguLi5lKXt0aGlzLmxvZyh5LkVSUk9SLC4uLmUpfXN0YXRpYyB0aW1lKGUpe3RoaXMubG9nKHkuVElNRSxcIltITVNQZXJmb3JtYW5jZVRpbWluZ11cIixlKX1zdGF0aWMgdGltZUVuZChlKXt0aGlzLmxvZyh5LlRJTUVFTkQsXCJbSE1TUGVyZm9ybWFuY2VUaW1pbmddXCIsZSxlKX1zdGF0aWMgY2xlYW5VcCgpe3BlcmZvcm1hbmNlLmNsZWFyTWFya3MoKSxwZXJmb3JtYW5jZS5jbGVhck1lYXN1cmVzKCl9c3RhdGljIGxvZyhlLC4uLnQpe2lmKCEodGhpcy5sZXZlbC52YWx1ZU9mKCk+ZS52YWx1ZU9mKCkpKXN3aXRjaChlKXtjYXNlIHkuVkVSQk9TRTp7Y29uc29sZS5sb2coWCwuLi50KTticmVha31jYXNlIHkuREVCVUc6e2NvbnNvbGUuZGVidWcoWCwuLi50KTticmVha31jYXNlIHkuSU5GTzp7Y29uc29sZS5pbmZvKFgsLi4udCk7YnJlYWt9Y2FzZSB5LldBUk46e2NvbnNvbGUud2FybihYLC4uLnQpO2JyZWFrfWNhc2UgeS5FUlJPUjp7Y29uc29sZS5lcnJvcihYLC4uLnQpO2JyZWFrfWNhc2UgeS5USU1FOntwZXJmb3JtYW5jZS5tYXJrKHRbMV0pO2JyZWFrfWNhc2UgeS5USU1FRU5EOntsZXQgaT10WzBdLG89dFsxXTt0cnl7bGV0IHI9cGVyZm9ybWFuY2UubWVhc3VyZShvLG8pO3RoaXMubG9nKHkuREVCVUcsaSxvLHI9PW51bGw/dm9pZCAwOnIuZHVyYXRpb24pLHBlcmZvcm1hbmNlLmNsZWFyTWFya3MobykscGVyZm9ybWFuY2UuY2xlYXJNZWFzdXJlcyhvKX1jYXRjaChyKXt0aGlzLmxvZyh5LkRFQlVHLGksbyxyKX1icmVha319fX07dS5sZXZlbD15LlZFUkJPU0U7dmFyIGhlPShzLGUpPT5lLFo9KHMsZSk9PmUsdHQ9KHMsZSk9PmUsVnQ9KHMsZSk9PmUsST1mKFt2LGhlXSwocyxlKT0+ZT9zW2VdOm51bGwpLHllPWYoW2csWl0sKHMsZSk9PmU/c1tlXTpudWxsKSxLdD1mKFtnLFpdLChzLGUpPT57aWYoIWUpcmV0dXJuIG51bGw7bGV0IHQ9c1tlXTtyZXR1cm4odD09bnVsbD92b2lkIDA6dC50eXBlKT09PVwidmlkZW9cIj90Om51bGx9KSxCdD1mKFtnLFpdLChzLGUpPT57aWYoIWUpcmV0dXJuIG51bGw7bGV0IHQ9c1tlXTtyZXR1cm4odD09bnVsbD92b2lkIDA6dC50eXBlKT09PVwiYXVkaW9cIj90Om51bGx9KSxxdD1mKFtnLFpdLChzLGUpPT57aWYoIWUpcmV0dXJuIG51bGw7bGV0IHQ9c1tlXTtyZXR1cm4odD09bnVsbD92b2lkIDA6dC50eXBlKT09PVwiYXVkaW9cIiYmKHQ9PW51bGw/dm9pZCAwOnQuc291cmNlKT09PVwic2NyZWVuXCI/dDpudWxsfSksanQ9ZihbZyxaXSwocyxlKT0+e2lmKCFlKXJldHVybiBudWxsO2xldCB0PXNbZV07cmV0dXJuKHQ9PW51bGw/dm9pZCAwOnQudHlwZSk9PT1cInZpZGVvXCImJih0PT1udWxsP3ZvaWQgMDp0LnNvdXJjZSk9PT1cInNjcmVlblwiP3Q6bnVsbH0pLHg9bChJKSxPbz1sKGYoW1RlLFZ0XSwocyxlKT0+e2lmKCEhcylyZXR1cm4gZT9zW2VdOnN9KSksd289KC4uLnMpPT5mKFtUZV0sZT0+e2lmKCEhZSl7aWYocyYmcy5sZW5ndGg+MCl7bGV0IHQ9ZTtmb3IobGV0IGkgb2Ygcyl7aWYoIWkpcmV0dXJuIHQ7dD10PT1udWxsP3ZvaWQgMDp0W2ldfXJldHVybiB0fXJldHVybiBlfX0pLF9vPWwoZihJLHM9PnM9PW51bGw/dm9pZCAwOnMubmFtZSkpLFNlPWwoeWUpLHN0PWwoS3QpLFVvPWwoQnQpLFZvPWwocXQpLEtvPWwoanQpLEZ0PWwoKHMsZSk9PntsZXQgdD1JKHMsZSk7aWYodCYmdC52aWRlb1RyYWNrJiZ0LnZpZGVvVHJhY2shPT1cIlwiKXJldHVybiBzLnRyYWNrc1t0LnZpZGVvVHJhY2tdfSksJHQ9bCgocyxlKT0+e2xldCB0PUkocyxlKTtpZih0JiZ0LmF1ZGlvVHJhY2smJnQuYXVkaW9UcmFjayE9PVwiXCIpcmV0dXJuIHMudHJhY2tzW3QuYXVkaW9UcmFja119KSxCbz1GdCxxbz1sKChzLGUpPT57bGV0IHQ9SShzLGUpO3JldHVybih0PT1udWxsP3ZvaWQgMDp0LmF1eGlsaWFyeVRyYWNrcy5tYXAoaT0+cy50cmFja3NbaV0pKXx8W119KSxpdD0ocyxlKT0+ZT9zLnNwZWFrZXJzW2VdOm51bGwsam89bChmKGl0LHM9PihzPT1udWxsP3ZvaWQgMDpzLmF1ZGlvTGV2ZWwpfHwwKSksR3Q9KHMsZSk9PntsZXQgdD0kdChlKShzKTtyZXR1cm4gaXQocyx0PT1udWxsP3ZvaWQgMDp0LmlkKX0sRm89bChmKEd0LHM9PihzPT1udWxsP3ZvaWQgMDpzLmF1ZGlvTGV2ZWwpfHwwKSksJG89bCgocyxlKT0+e2lmKGUpcmV0dXJuIHMuY29ubmVjdGlvblF1YWxpdGllc1tlXX0pLEdvPWwoKHMsZSk9PntsZXQgdD1JKHMsZSk7aWYodCl7bGV0IGk9dD09bnVsbD92b2lkIDA6dC5hdXhpbGlhcnlUcmFja3MuZmluZChvPT5KKHMudHJhY2tzW29dKSk7cmV0dXJuIGk/cy50cmFja3NbaV06dm9pZCAwfX0pLFdvPWwoZihnLEksKHMsZSk9PntsZXQgdD1lPT1udWxsP3ZvaWQgMDplLmF1eGlsaWFyeVRyYWNrcy5maW5kKGk9PntsZXQgbz1zW2ldO3JldHVybiB6KG8pJiZZKG8pfSk7cmV0dXJuIHQ/c1t0XTp2b2lkIDB9KSksUW89bChmKGcsSSwocyxlKT0+e2xldCB0PWU9PW51bGw/dm9pZCAwOmUuYXV4aWxpYXJ5VHJhY2tzLmZpbmQoaT0+e2xldCBvPXNbaV07cmV0dXJuIHoobykmJkoobyl9KTtyZXR1cm4gdD9zW3RdOnZvaWQgMH0pKSxKbz1sKGYoZyxJLChzLGUpPT57bGV0IHQ9ZT09bnVsbD92b2lkIDA6ZS5hdXhpbGlhcnlUcmFja3MuZmluZChpPT57bGV0IG89c1tpXTtyZXR1cm4gYWUobykmJkoobyl9KTtyZXR1cm4gdD9zW3RdOnZvaWQgMH0pKSxvdD1sKGYoZyxJLChzLGUpPT5qKHMsZSkpKSxZbz1zPT5mKG90KHMpLGU9PmUudmlkZW8pLHJ0PXM9PmYob3QocyksZT0+ZS5hdWRpbyksem89bCgocyxlKT0+e2xldCB0PUkocyxlKTtyZXR1cm4gRyhzLHQ9PW51bGw/dm9pZCAwOnQuYXVkaW9UcmFjayl9KSxYbz1sKChzLGUpPT57bGV0IHQ9SShzLGUpO3JldHVybiBHKHMsdD09bnVsbD92b2lkIDA6dC52aWRlb1RyYWNrKX0pLGF0PWwoKHMsZSk9PntpZihlJiZzLnRyYWNrc1tlXSlyZXR1cm4gcy50cmFja3NbZV0udm9sdW1lPT09MH0pLFpvPWwoKHMsZSk9PntsZXQgdD1JKHMsZSk7cmV0dXJuIGF0KHQ9PW51bGw/dm9pZCAwOnQuYXVkaW9UcmFjaykocyl9KSxlcj1sKChzLGUpPT57bGV0IHQ9cnQoZSkocyk7cmV0dXJuIGF0KHQ9PW51bGw/dm9pZCAwOnQuaWQpKHMpfSksbnQ9bCgocyxlKT0+e2xldCB0PXllKHMsZSk7aWYodCl7aWYodC50eXBlIT09XCJhdWRpb1wiKXt1LncoXCJQbGVhc2UgcGFzcyBhdWRpbyB0cmFjayBoZXJlXCIpO3JldHVybn1yZXR1cm4gdC52b2x1bWV9fSksdHI9bCgocyxlKT0+e2xldCB0PUkocyxlKTtyZXR1cm4gbnQodD09bnVsbD92b2lkIDA6dC5hdWRpb1RyYWNrKShzKX0pLHNyPWwoKHMsZSk9PntsZXQgdD1ydChlKShzKTtyZXR1cm4gbnQodD09bnVsbD92b2lkIDA6dC5pZCkocyl9KSxpcj1sKChzLGUpPT57bGV0IHQ9eWUocyxlKTtpZih0KXtpZih0LnR5cGUhPT1cInZpZGVvXCIpe3UudyhcIlBsZWFzZSBwYXNzIHZpZGVvIHRyYWNrIGhlcmVcIik7cmV0dXJufXJldHVybiB0LmxheWVyfX0pLGN0PWYoW25lLEYsaGVdLChzLGUsdCk9PntpZighIXQpcmV0dXJuIHMuZmlsdGVyKGk9Pnt2YXIgbztyZXR1cm4haS5yZWNpcGllbnRQZWVyJiYhKChvPWkucmVjaXBpZW50Um9sZXMpPT1udWxsP3ZvaWQgMDpvLmxlbmd0aCl8fGkuc2VuZGVyJiYhW2UsdF0uaW5jbHVkZXMoaS5zZW5kZXIpPyExOltlLHRdLmluY2x1ZGVzKGkucmVjaXBpZW50UGVlcil9KX0pLFN0PWYoW25lLHR0XSwocyxlKT0+e2lmKCEhZSlyZXR1cm4gcy5maWx0ZXIodD0+e3ZhciBpLG87cmV0dXJuKChpPXQucmVjaXBpZW50Um9sZXMpPT1udWxsP3ZvaWQgMDppLmxlbmd0aCk/KG89dC5yZWNpcGllbnRSb2xlcyk9PW51bGw/dm9pZCAwOm8uaW5jbHVkZXMoZSk6ITF9KX0pLFd0PWYobmUscz0+cy5maWx0ZXIoZT0+e3ZhciB0O3JldHVybiFlLnJlY2lwaWVudFBlZXImJiEoKHQ9ZS5yZWNpcGllbnRSb2xlcyk9PW51bGw/dm9pZCAwOnQubGVuZ3RoKX0pKSxRdD1mKFtTdCx0dF0scz0+cz9zLmZpbHRlcihlPT4hZS5yZWFkKS5sZW5ndGg6MCksSnQ9ZihbY3QsaGVdLHM9PnM/cy5maWx0ZXIoZT0+IWUucmVhZCkubGVuZ3RoOjApLG9yPWYoV3Qscz0+cy5maWx0ZXIoZT0+IWUucmVhZCkubGVuZ3RoKSxycj1sKGN0KSxhcj1sKFN0KSxucj1sKFF0KSxjcj1sKEp0KSxTcj1zPT5mKFtXXSxlPT5lLmZpbHRlcih0PT50LnJvbGVOYW1lPT09cykpLGxyPXM9PmYoeChzKSxlPT57dHJ5e3JldHVybihlPT1udWxsP3ZvaWQgMDplLm1ldGFkYXRhKSYmZS5tZXRhZGF0YSE9PVwiXCI/SlNPTi5wYXJzZShlLm1ldGFkYXRhKTp7fX1jYXRjaCh0KXtyZXR1cm4gY29uc29sZS5lcnJvcihcImNhbm5vdCBwYXJzZSBwZWVyIG1ldGFkYXRhXCIsdCkse319fSksZHI9cz0+Zih4KHMpLGU9PmU9PW51bGw/dm9pZCAwOmUubmFtZSk7aW1wb3J0e2NyZWF0ZVNlbGVjdG9yIGFzIGtlfWZyb21cInJlc2VsZWN0XCI7dmFyIFRyPWtlKFt2LGddLChzLGUpPT5PYmplY3QudmFsdWVzKHMpLm1hcChpPT57dmFyIG87cmV0dXJue3BlZXI6aSxpc0F1ZGlvRW5hYmxlZDppLmF1ZGlvVHJhY2s/KG89ZVtpLmF1ZGlvVHJhY2tdKT09bnVsbD92b2lkIDA6by5lbmFibGVkOiExfX0pKSxZdD1zPT5zLnJvbGVDaGFuZ2VSZXF1ZXN0c1swXXx8bnVsbCxtcj1rZShbWXQsdixWXSwocyxlLHQpPT5zP3tyZXF1ZXN0ZWRCeTpzLnJlcXVlc3RlZEJ5P2Vbcy5yZXF1ZXN0ZWRCeV06dm9pZCAwLHJvbGU6dFtzLnJvbGVOYW1lXSx0b2tlbjpzLnRva2VufTpudWxsKSxIcj1rZShbY2VdLHM9Pnt2YXIgbztsZXQgZT0hMSx0PSExLGk9ITE7cmV0dXJuKChvPXM9PW51bGw/dm9pZCAwOnMucHVibGlzaFBhcmFtcyk9PW51bGw/dm9pZCAwOm8uYWxsb3dlZCkmJihlPXMucHVibGlzaFBhcmFtcy5hbGxvd2VkLmluY2x1ZGVzKFwidmlkZW9cIiksdD1zLnB1Ymxpc2hQYXJhbXMuYWxsb3dlZC5pbmNsdWRlcyhcImF1ZGlvXCIpLGk9cy5wdWJsaXNoUGFyYW1zLmFsbG93ZWQuaW5jbHVkZXMoXCJzY3JlZW5cIikpLHt2aWRlbzplLGF1ZGlvOnQsc2NyZWVuOml9fSk7aW1wb3J0e2NyZWF0ZVNlbGVjdG9yIGFzIEJ9ZnJvbVwicmVzZWxlY3RcIjt2YXIgeXI9cz0+QihbVl0sZT0+ZVtzXSksenQ9QihbTixnXSwocyxlKT0+e2xldCB0PW51bGw7cmV0dXJuIHMmJih0PWVbc10pLCh0PT1udWxsP3ZvaWQgMDp0LnBsdWdpbnMpfHxbXX0pLFh0PUIoW0EsZ10sKHMsZSk9PntsZXQgdD1udWxsO3JldHVybiBzJiYodD1lW3NdKSwodD09bnVsbD92b2lkIDA6dC5wbHVnaW5zKXx8W119KSxrcj1zPT5CKFt6dF0sZT0+ZS5pbmNsdWRlcyhzKSksUnI9cz0+QihbWHRdLGU9PmUuaW5jbHVkZXMocykpLFByPXM9PkIoVyxlPT5lLmZpbmQocykpLERyPXM9PkIoVyxlPT5lLmZpbHRlcihzKSksSXI9cz0+QihELGU9PmUuam9pbmVkQXQmJkRhdGUubm93KCktZS5qb2luZWRBdC5nZXRUaW1lKCk8PXMpO3ZhciBSZT1cImhtc05vdGlmaWNhdGlvblwiLFBlPWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMuaWQ9MDt0aGlzLm9uTm90aWZpY2F0aW9uPShlLHQpPT57bGV0IGk9bz0+e2lmKHQpe2xldCByO2lmKEFycmF5LmlzQXJyYXkodCk/cj10LmluY2x1ZGVzKG8udHlwZSk6cj10PT09by50eXBlLCFyKXJldHVybn1lKG8pfTtyZXR1cm4gdGhpcy5ldmVudEVtaXR0ZXIuYWRkTGlzdGVuZXIoUmUsaSksKCk9Pnt0aGlzLmV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcihSZSxpKX19O3RoaXMuc3RvcmU9ZSx0aGlzLmV2ZW50RW1pdHRlcj1uZXcgWnQoe21heExpc3RlbmVyczpPYmplY3Qua2V5cyhUKS5sZW5ndGh9KX1zZW5kUGxheWxpc3RUcmFja0VuZGVkKGUpe2xldCB0PXRoaXMuY3JlYXRlTm90aWZpY2F0aW9uKFQuUExBWUxJU1RfVFJBQ0tfRU5ERUQsZSxSLklORk8pO3RoaXMuZW1pdEV2ZW50KHQpfXNlbmREZXZpY2VDaGFuZ2UoZSl7dmFyIGk7bGV0IHQ9dGhpcy5jcmVhdGVOb3RpZmljYXRpb24oVC5ERVZJQ0VfQ0hBTkdFX1VQREFURSxlLGUuZXJyb3I/Ui5FUlJPUjpSLklORk8sYFNlbGVjdGVkICR7ZS50eXBlfSBkZXZpY2UgLSAkeyhpPWUuc2VsZWN0aW9uKT09bnVsbD92b2lkIDA6aS5sYWJlbH1gKTt0aGlzLmVtaXRFdmVudCh0KX1zZW5kTGVhdmVSb29tKGUpe3ZhciBvO2xldCB0PShvPWUucmVxdWVzdGVkQnkpPT1udWxsP3ZvaWQgMDpvLm5hbWUsaT10aGlzLmNyZWF0ZU5vdGlmaWNhdGlvbihlLnJvb21FbmRlZHx8IXQ/VC5ST09NX0VOREVEOlQuUkVNT1ZFRF9GUk9NX1JPT00sZSxSLklORk8sYCR7ZS5yb29tRW5kZWQ/XCJSb29tIGVuZGVkXCI6XCJSZW1vdmVkIGZyb20gcm9vbVwifSAke3Q/YGJ5ICR7dH1gOlwiXCJ9YCk7dGhpcy5lbWl0RXZlbnQoaSl9c2VuZFBlZXJMaXN0KGUpe2xldCB0PXRoaXMuY3JlYXRlTm90aWZpY2F0aW9uKFQuUEVFUl9MSVNULGUsUi5JTkZPKTt0aGlzLmVtaXRFdmVudCh0KX1zZW5kUGVlclVwZGF0ZShlLHQpe2xldCBpPXRoaXMuc3RvcmUuZ2V0U3RhdGUoeCh0PT1udWxsP3ZvaWQgMDp0LmlkKSl8fHQsbz1vZVtlXTtpZihvKXtsZXQgcj10aGlzLmNyZWF0ZU5vdGlmaWNhdGlvbihvLGksUi5JTkZPKTt0aGlzLmVtaXRFdmVudChyKX19c2VuZFRyYWNrVXBkYXRlKGUsdCl7bGV0IGk9dGhpcy5zdG9yZS5nZXRTdGF0ZShTZSh0KSksbz1yZVtlXTtpZihvKXtsZXQgcj10aGlzLmNyZWF0ZU5vdGlmaWNhdGlvbihvLGksUi5JTkZPKTt0aGlzLmVtaXRFdmVudChyKX19c2VuZE1lc3NhZ2VSZWNlaXZlZChlKXtsZXQgdD10aGlzLmNyZWF0ZU5vdGlmaWNhdGlvbihULk5FV19NRVNTQUdFLGUsUi5JTkZPKTt0aGlzLmVtaXRFdmVudCh0KX1zZW5kRXJyb3IoZSl7bGV0IHQ9dGhpcy5jcmVhdGVOb3RpZmljYXRpb24oVC5FUlJPUixlLFIuRVJST1IpO3RoaXMuZW1pdEV2ZW50KHQpfXNlbmRSZWNvbm5lY3RpbmcoZSl7bGV0IHQ9dGhpcy5jcmVhdGVOb3RpZmljYXRpb24oVC5SRUNPTk5FQ1RJTkcsZSxSLkVSUk9SKTt0aGlzLmVtaXRFdmVudCh0KX1zZW5kUmVjb25uZWN0ZWQoKXtsZXQgZT10aGlzLmNyZWF0ZU5vdGlmaWNhdGlvbihULlJFQ09OTkVDVEVELG51bGwsUi5JTkZPKTt0aGlzLmVtaXRFdmVudChlKX1zZW5kQ2hhbmdlVHJhY2tTdGF0ZVJlcXVlc3QoZSl7bGV0IHQ9dGhpcy5jcmVhdGVOb3RpZmljYXRpb24oVC5DSEFOR0VfVFJBQ0tfU1RBVEVfUkVRVUVTVCxlLFIuSU5GTyk7dGhpcy5lbWl0RXZlbnQodCl9c2VuZENoYW5nZU11bHRpVHJhY2tTdGF0ZVJlcXVlc3QoZSl7bGV0IHQ9dGhpcy5jcmVhdGVOb3RpZmljYXRpb24oVC5DSEFOR0VfTVVMVElfVFJBQ0tfU1RBVEVfUkVRVUVTVCxlLFIuSU5GTyk7dGhpcy5lbWl0RXZlbnQodCl9ZW1pdEV2ZW50KGUpe3RoaXMuZXZlbnRFbWl0dGVyLmVtaXQoUmUsZSl9Y3JlYXRlTm90aWZpY2F0aW9uKGUsdCxpLG89XCJcIil7cmV0dXJuIHRoaXMuaWQrKyx7aWQ6dGhpcy5pZCx0eXBlOmUsbWVzc2FnZTpvLGRhdGE6dCxzZXZlcml0eTppfX19O2ltcG9ydHtITVNBdWRpb1RyYWNrIGFzIG9zLEhNU0V4Y2VwdGlvbiBhcyBycyxITVNSZW1vdGVWaWRlb1RyYWNrIGFzIG10LEhNU1NpbXVsY2FzdExheWVyIGFzIEh0fWZyb21cIkAxMDBtc2xpdmUvaG1zLXZpZGVvXCI7aW1wb3J0e0hNU1JlbW90ZUF1ZGlvVHJhY2sgYXMgZXMsSE1TUmVtb3RlVmlkZW9UcmFjayBhcyB0c31mcm9tXCJAMTAwbXNsaXZlL2htcy12aWRlb1wiO2Z1bmN0aW9uIGx0KHMpe3JldHVybiBzIGluc3RhbmNlb2YgZXN8fHMgaW5zdGFuY2VvZiB0c312YXIgZHQ9KHMsZSk9PntsZXQgdD1sZShPYmplY3Qua2V5cyhzKSxPYmplY3Qua2V5cyhlKSk7Zm9yKGxldCBpIG9mIHQpe2xldCBvPXNbaV0scj1lW2ldO0llKG8scik/KF8oby5hdXhpbGlhcnlUcmFja3Msci5hdXhpbGlhcnlUcmFja3MpJiYoci5hdXhpbGlhcnlUcmFja3M9by5hdXhpbGlhcnlUcmFja3MpLE9iamVjdC5hc3NpZ24obyxyKSk6dmUobyxyKT9kZWxldGUgc1tpXTpFZShvLHIpJiYoc1tpXT1yKX19LHV0PShzLGUpPT57bGV0IHQ9bGUoT2JqZWN0LmtleXMocyksT2JqZWN0LmtleXMoZSkpO2ZvcihsZXQgaSBvZiB0KXtsZXQgbz1zW2ldLHI9ZVtpXTtJZShvLHIpPyhzcyhvLHIpLE9iamVjdC5hc3NpZ24obyxyKSk6dmUobyxyKT9kZWxldGUgc1tpXTpFZShvLHIpJiYoc1tpXT1yKX19LERlPShzLGUpPT57bGV0IHQ9bGUoT2JqZWN0LmtleXMocyksT2JqZWN0LmtleXMoZSkpO2ZvcihsZXQgaSBvZiB0KXtsZXQgbz1zW2ldLHI9ZVtpXTtJZShvLHIpP09iamVjdC5hc3NpZ24obyxyKTp2ZShvLHIpP2RlbGV0ZSBzW2ldOkVlKG8scikmJihzW2ldPXIpfX0sTXQ9KHMsZSx0KT0+e2xldCBpPXQucmVkdWNlKChyLGEpPT4oclthLmZpcnN0VHJhY2tJZF09T2JqZWN0LnZhbHVlcyhlW2EuZ2V0VHJhY2tJREJlaW5nU2VudCgpXXx8e30pLnNvcnQoKG4sTSk9PiFuLnJpZHx8IU0ucmlkPzA6bi5yaWQ8TS5yaWQ/LTE6MSkscikse30pLG89bGUoT2JqZWN0LmtleXMocyksT2JqZWN0LmtleXMoaSkpO2ZvcihsZXQgciBvZiBvKXtpZighaVtyXSl7ZGVsZXRlIHNbcl07Y29udGludWV9c1tyXT1pW3JdfX0sc3M9KHMsZSk9PntzLnBsdWdpbnMmJl8ocy5wbHVnaW5zLGUucGx1Z2lucykmJihlLnBsdWdpbnM9cy5wbHVnaW5zKSxzLnR5cGU9PT1cInZpZGVvXCImJnMubGF5ZXJEZWZpbml0aW9ucyYmXyhzLmxheWVyRGVmaW5pdGlvbnMsZS5sYXllckRlZmluaXRpb25zKSYmKGUubGF5ZXJEZWZpbml0aW9ucz1zLmxheWVyRGVmaW5pdGlvbnMpfSxJZT0ocyxlKT0+cyYmZSx2ZT0ocyxlKT0+cyYmIWUsRWU9KHMsZSk9PiFzJiZlLF89KHMsZSk9PntpZihzPT09ZXx8cy5sZW5ndGg9PT0wJiYoZT09bnVsbD92b2lkIDA6ZS5sZW5ndGgpPT09MClyZXR1cm4hMDtpZighc3x8IWV8fHMubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCB0PTA7dDxzLmxlbmd0aDt0KyspaWYoc1t0XSE9PWVbdF0pcmV0dXJuITE7cmV0dXJuITB9LGxlPShzLGUpPT57bGV0IHQ9bmV3IFNldDtmb3IobGV0IGkgb2Ygcyl0LmFkZChpKTtmb3IobGV0IGkgb2YgZSl0LmFkZChpKTtyZXR1cm4gQXJyYXkuZnJvbSh0KX07aW1wb3J0e0hNU0xvY2FsQXVkaW9UcmFjayBhcyBwdCxITVNMb2NhbFZpZGVvVHJhY2sgYXMgZGUsSE1TUmVtb3RlQXVkaW9UcmFjayBhcyBpcyxITVNSZW1vdGVWaWRlb1RyYWNrIGFzIFR0fWZyb21cIkAxMDBtc2xpdmUvaG1zLXZpZGVvXCI7dmFyIG09Y2xhc3N7c3RhdGljIGNvbnZlcnRQZWVyKGUpe3ZhciB0LGksbztyZXR1cm57aWQ6ZS5wZWVySWQsbmFtZTplLm5hbWUscm9sZU5hbWU6KHQ9ZS5yb2xlKT09bnVsbD92b2lkIDA6dC5uYW1lLGlzTG9jYWw6ZS5pc0xvY2FsLHZpZGVvVHJhY2s6KGk9ZS52aWRlb1RyYWNrKT09bnVsbD92b2lkIDA6aS50cmFja0lkLGF1ZGlvVHJhY2s6KG89ZS5hdWRpb1RyYWNrKT09bnVsbD92b2lkIDA6by50cmFja0lkLGF1eGlsaWFyeVRyYWNrczplLmF1eGlsaWFyeVRyYWNrcy5tYXAocj0+ci50cmFja0lkKSxjdXN0b21lclVzZXJJZDplLmN1c3RvbWVyVXNlcklkLG1ldGFkYXRhOmUubWV0YWRhdGEsam9pbmVkQXQ6ZS5qb2luZWRBdH19c3RhdGljIGNvbnZlcnRUcmFjayhlLHQpe2xldCBpPXtpZDplLnRyYWNrSWQsc291cmNlOmUuc291cmNlLHR5cGU6ZS50eXBlLGVuYWJsZWQ6ZS5lbmFibGVkLGRpc3BsYXlFbmFibGVkOmUuZW5hYmxlZCxwZWVySWQ6ZS5wZWVySWR8fHR9O3JldHVybiB0aGlzLmVucmljaFRyYWNrKGksZSksaX1zdGF0aWMgZW5yaWNoVHJhY2soZSx0KXtsZXQgaT10LmdldE1lZGlhVHJhY2tTZXR0aW5ncygpO3QgaW5zdGFuY2VvZiBpcyYmKGUudm9sdW1lPXQuZ2V0Vm9sdW1lKCl8fDApLG0udXBkYXRlRGV2aWNlSUQoZSx0KSxlLnR5cGU9PT1cInZpZGVvXCImJihlLnNvdXJjZT09PVwic2NyZWVuXCI/KGUuZGlzcGxheVN1cmZhY2U9aS5kaXNwbGF5U3VyZmFjZSxtLmVucmljaFNjcmVlblRyYWNrKGUsdCkpOmUuc291cmNlPT09XCJyZWd1bGFyXCImJihlLmZhY2luZ01vZGU9aS5mYWNpbmdNb2RlKSxlLmhlaWdodD1pLmhlaWdodCxlLndpZHRoPWkud2lkdGgsbS5lbnJpY2hWaWRlb1RyYWNrKGUsdCkpLG0uZW5yaWNoUGx1Z2luc0RldGFpbHMoZSx0KX1zdGF0aWMgdXBkYXRlRGV2aWNlSUQoZSx0KXt2YXIgaTt0IGluc3RhbmNlb2YgZGV8fHQgaW5zdGFuY2VvZiBwdD9lLmRldmljZUlEPXQuc2V0dGluZ3MuZGV2aWNlSWQ6ZS5kZXZpY2VJRD0oaT10LmdldE1lZGlhVHJhY2tTZXR0aW5ncygpKT09bnVsbD92b2lkIDA6aS5kZXZpY2VJZH1zdGF0aWMgZW5yaWNoVmlkZW9UcmFjayhlLHQpe3QgaW5zdGFuY2VvZiBUdCYmKGUubGF5ZXI9dC5nZXRMYXllcigpLGUucHJlZmVycmVkTGF5ZXI9dC5nZXRQcmVmZXJyZWRMYXllcigpLGUuZGVncmFkZWQ9dC5kZWdyYWRlZCksKHQgaW5zdGFuY2VvZiBUdHx8dCBpbnN0YW5jZW9mIGRlKSYmKF8odC5nZXRTaW11bGNhc3REZWZpbml0aW9ucygpLGUubGF5ZXJEZWZpbml0aW9ucyl8fChlLmxheWVyRGVmaW5pdGlvbnM9dC5nZXRTaW11bGNhc3REZWZpbml0aW9ucygpKSl9c3RhdGljIGVucmljaFNjcmVlblRyYWNrKGUsdCl7dmFyIGksbztpZih0IGluc3RhbmNlb2YgZGUpe2xldCByPShpPXQuZ2V0Q2FwdHVyZUhhbmRsZSk9PW51bGw/dm9pZCAwOmkuY2FsbCh0KTsocj09bnVsbD92b2lkIDA6ci5oYW5kbGUpIT09KChvPWUuY2FwdHVyZUhhbmRsZSk9PW51bGw/dm9pZCAwOm8uaGFuZGxlKSYmKGUuY2FwdHVyZUhhbmRsZT1yKSx0LmlzQ3VycmVudFRhYiYmKGUuZGlzcGxheVN1cmZhY2U9XCJzZWxmQnJvd3NlclwiKX19c3RhdGljIGVucmljaFBsdWdpbnNEZXRhaWxzKGUsdCl7KHQgaW5zdGFuY2VvZiBkZXx8dCBpbnN0YW5jZW9mIHB0KSYmKF8odC5nZXRQbHVnaW5zKCksZS5wbHVnaW5zKXx8KGUucGx1Z2lucz10LmdldFBsdWdpbnMoKSkpfXN0YXRpYyBjb252ZXJ0Um9vbShlKXt2YXIgcixhO2xldHtyZWNvcmRpbmc6dCxydG1wOmksaGxzOm99PW0uY29udmVydFJlY29yZGluZ1N0cmVhbWluZ1N0YXRlKGU9PW51bGw/dm9pZCAwOmUucmVjb3JkaW5nLGU9PW51bGw/dm9pZCAwOmUucnRtcCxlPT1udWxsP3ZvaWQgMDplLmhscyk7cmV0dXJue2lkOmUuaWQsbmFtZTplLm5hbWUsbG9jYWxQZWVyOihhPShyPWUubG9jYWxQZWVyKT09bnVsbD92b2lkIDA6ci5wZWVySWQpIT1udWxsP2E6XCJcIixyZWNvcmRpbmc6dCxydG1wOmksaGxzOm8sc2Vzc2lvbklkOmUuc2Vzc2lvbklkLHN0YXJ0ZWRBdDplLnN0YXJ0ZWRBdCxqb2luZWRBdDplLmpvaW5lZEF0LHBlZXJDb3VudDplLnBlZXJDb3VudH19c3RhdGljIGNvbnZlcnRNZXNzYWdlKGUpe3ZhciB0LGksbyxyLGEsbixNO3JldHVybntzZW5kZXI6KHQ9ZS5zZW5kZXIpPT1udWxsP3ZvaWQgMDp0LnBlZXJJZCxzZW5kZXJOYW1lOihpPWUuc2VuZGVyKT09bnVsbD92b2lkIDA6aS5uYW1lLHNlbmRlclJvbGU6KHI9KG89ZS5zZW5kZXIpPT1udWxsP3ZvaWQgMDpvLnJvbGUpPT1udWxsP3ZvaWQgMDpyLm5hbWUsc2VuZGVyVXNlcklkOihhPWUuc2VuZGVyKT09bnVsbD92b2lkIDA6YS5jdXN0b21lclVzZXJJZCxyZWNpcGllbnRQZWVyOihuPWUucmVjaXBpZW50UGVlcik9PW51bGw/dm9pZCAwOm4ucGVlcklkLHJlY2lwaWVudFJvbGVzOihNPWUucmVjaXBpZW50Um9sZXMpPT1udWxsP3ZvaWQgMDpNLm1hcChQPT5QLm5hbWUpLHRpbWU6ZS50aW1lLHR5cGU6ZS50eXBlLG1lc3NhZ2U6ZS5tZXNzYWdlfX1zdGF0aWMgY29udmVydFJvbGVzKGUpe2xldCB0PXt9O3JldHVybiBlJiZlLmZvckVhY2goaT0+e3RbaS5uYW1lXT1pfSksdH1zdGF0aWMgY29udmVydFJvbGVDaGFuZ2VSZXF1ZXN0KGUpe3ZhciB0O3JldHVybntyZXF1ZXN0ZWRCeToodD1lLnJlcXVlc3RlZEJ5KT09bnVsbD92b2lkIDA6dC5wZWVySWQscm9sZU5hbWU6ZS5yb2xlLm5hbWUsdG9rZW46ZS50b2tlbn19c3RhdGljIGNvbnZlcnRFeGNlcHRpb24oZSl7cmV0dXJue2NvZGU6ZS5jb2RlLGFjdGlvbjplLmFjdGlvbixuYW1lOmUubmFtZSxtZXNzYWdlOmUubWVzc2FnZSxkZXNjcmlwdGlvbjplLmRlc2NyaXB0aW9uLGlzVGVybWluYWw6ZS5pc1Rlcm1pbmFsLG5hdGl2ZUVycm9yOmUubmF0aXZlRXJyb3IsdGltZXN0YW1wOm5ldyBEYXRlfX1zdGF0aWMgY29udmVydERldmljZUNoYW5nZVVwZGF0ZShlKXtsZXQgdD17ZGV2aWNlczplLmRldmljZXMsc2VsZWN0aW9uOmUuc2VsZWN0aW9uLHR5cGU6ZS50eXBlfTtyZXR1cm4gZS5lcnJvciYmKHQuZXJyb3I9dGhpcy5jb252ZXJ0RXhjZXB0aW9uKGUuZXJyb3IpKSx0fXN0YXRpYyBjb252ZXJ0UGxheWxpc3QoZSl7bGV0IHQ9dGhpcy5nZXRDb252ZXJ0ZWRQbGF5bGlzdFR5cGUoZSxwLmF1ZGlvKSxpPXRoaXMuZ2V0Q29udmVydGVkUGxheWxpc3RUeXBlKGUscC52aWRlbyk7cmV0dXJue2F1ZGlvOnQsdmlkZW86aX19c3RhdGljIGNvbnZlcnRQbGF5bGlzdEl0ZW0oZSx0KXtsZXQgaT10LnR5cGUsbz1lLmdldEN1cnJlbnRTZWxlY3Rpb24oaSkscj1lLmlzUGxheWluZyhpKSxhPXQudXJsPT09KG89PW51bGw/dm9pZCAwOm8udXJsKTtyZXR1cm4gJCh3KHt9LHQpLHt0eXBlOnQudHlwZSxzZWxlY3RlZDphLHBsYXlpbmc6YSYmcn0pfXN0YXRpYyBnZXRDb252ZXJ0ZWRQbGF5bGlzdFR5cGUoZSx0KXtsZXQgaT17fSxvPWUuZ2V0Q3VycmVudFNlbGVjdGlvbih0KSxyPWUuZ2V0Q3VycmVudFByb2dyZXNzKHQpLGE9ZS5nZXRWb2x1bWUodCksbj1lLmdldExpc3QodCksTT1lLmdldEN1cnJlbnRJbmRleCh0KTtyZXR1cm4gZS5nZXRMaXN0KHQpLmZvckVhY2goUD0+e2lbUC5pZF09bS5jb252ZXJ0UGxheWxpc3RJdGVtKGUsUCl9KSx7bGlzdDppLHNlbGVjdGlvbjp7aWQ6bz09bnVsbD92b2lkIDA6by5pZCxoYXNQcmV2aW91czpNPjAsaGFzTmV4dDpNPG4ubGVuZ3RoLTF9LHByb2dyZXNzOnIsdm9sdW1lOmEsY3VycmVudFRpbWU6ZS5nZXRDdXJyZW50VGltZSh0KSxwbGF5YmFja1JhdGU6ZS5nZXRQbGF5YmFja1JhdGUodCl9fXN0YXRpYyBjb252ZXJ0UmVjb3JkaW5nU3RyZWFtaW5nU3RhdGUoZSx0LGkpe3ZhciBvO3JldHVybntyZWNvcmRpbmc6e2Jyb3dzZXI6dyh7cnVubmluZzohMX0sZT09bnVsbD92b2lkIDA6ZS5icm93c2VyKSxzZXJ2ZXI6dyh7cnVubmluZzohMX0sZT09bnVsbD92b2lkIDA6ZS5zZXJ2ZXIpLGhsczp3KHtydW5uaW5nOiExfSxlPT1udWxsP3ZvaWQgMDplLmhscyl9LHJ0bXA6dyh7cnVubmluZzohMX0sdCksaGxzOnt2YXJpYW50czooKG89aT09bnVsbD92b2lkIDA6aS52YXJpYW50cyk9PW51bGw/dm9pZCAwOm8ubWFwKHI9PnIpKXx8W10scnVubmluZzohIShpPT1udWxsP3ZvaWQgMDppLnJ1bm5pbmcpLGVycm9yOmk9PW51bGw/dm9pZCAwOmkuZXJyb3J9fX19O3ZhciB1ZT1jbGFzc3tjb25zdHJ1Y3RvcihlLHQsaSxvKXt0aGlzLnBsYXlsaXN0TWFuYWdlcj1lO3RoaXMuc3luY1BsYXlsaXN0U3RhdGU9aTt0aGlzLnN0b3JlPW87dGhpcy50eXBlPXR9cGxheShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYoIWUpe3UudyhcIlBsZWFzZSBwYXNzIGlkIHRvIHBsYXlcIik7cmV0dXJufXlpZWxkIHRoaXMucGxheWxpc3RNYW5hZ2VyLnNldEVuYWJsZWQoITAse2lkOmUsdHlwZTp0aGlzLnR5cGV9KX0pfXBhdXNlKCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCBlPXRoaXMudHlwZT09PXAuYXVkaW8/WmU6ZXQsdD10aGlzLnN0b3JlLmdldFN0YXRlKGUuc2VsZWN0aW9uKTtpZighdC5pZCl7dS53KFwiTm8gaXRlbSBpcyBjdXJyZW50bHkgcGxheWluZyB0byBwYXVzZVwiKTtyZXR1cm59eWllbGQgdGhpcy5wbGF5bGlzdE1hbmFnZXIuc2V0RW5hYmxlZCghMSx7aWQ6dC5pZCx0eXBlOnRoaXMudHlwZX0pfSl9cGxheU5leHQoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5wbGF5bGlzdE1hbmFnZXIucGxheU5leHQodGhpcy50eXBlKX0pfXBsYXlQcmV2aW91cygpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLnBsYXlsaXN0TWFuYWdlci5wbGF5UHJldmlvdXModGhpcy50eXBlKX0pfXNlZWsoZSl7dGhpcy5wbGF5bGlzdE1hbmFnZXIuc2VlayhlLHRoaXMudHlwZSksdGhpcy5zeW5jUGxheWxpc3RTdGF0ZShgc2Vla09uJHt0aGlzLnR5cGV9UGxheWxpc3RgKX1zZWVrVG8oZSl7dGhpcy5wbGF5bGlzdE1hbmFnZXIuc2Vla1RvKGUsdGhpcy50eXBlKSx0aGlzLnN5bmNQbGF5bGlzdFN0YXRlKGBzZWVrVG9PbiR7dGhpcy50eXBlfVBsYXlsaXN0YCl9c2V0Vm9sdW1lKGUpe3RoaXMucGxheWxpc3RNYW5hZ2VyLnNldFZvbHVtZShlLHRoaXMudHlwZSksdGhpcy5zeW5jUGxheWxpc3RTdGF0ZShgc2V0Vm9sdW1lT24ke3RoaXMudHlwZX1QbGF5bGlzdGApfXNldExpc3QoZSl7dGhpcy5wbGF5bGlzdE1hbmFnZXIuc2V0TGlzdChlKSx0aGlzLnN5bmNQbGF5bGlzdFN0YXRlKGBzZXRMaXN0T24ke3RoaXMudHlwZX1QbGF5bGlzdGApfXN0b3AoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5wbGF5bGlzdE1hbmFnZXIuc3RvcCh0aGlzLnR5cGUpLHRoaXMuc3luY1BsYXlsaXN0U3RhdGUoYHN0b3Ake3RoaXMudHlwZX1QbGF5bGlzdGApfSl9c2V0SXNBdXRvcGxheU9uKGUpe3RoaXMucGxheWxpc3RNYW5hZ2VyLnNldElzQXV0b3BsYXlPbih0aGlzLnR5cGUsZSl9c2V0UGxheWJhY2tSYXRlKGUpe3RoaXMucGxheWxpc3RNYW5hZ2VyLnNldFBsYXliYWNrUmF0ZSh0aGlzLnR5cGUsZSksdGhpcy5zeW5jUGxheWxpc3RTdGF0ZShgc2V0JHt0aGlzLnR5cGV9UGxheWJhY2tSYXRlYCl9cmVtb3ZlSXRlbShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IHQ9eWllbGQgdGhpcy5wbGF5bGlzdE1hbmFnZXIucmVtb3ZlSXRlbShlLHRoaXMudHlwZSk7cmV0dXJuIHQmJnRoaXMuc3luY1BsYXlsaXN0U3RhdGUoYHJlbW92ZSR7dGhpcy50eXBlfVBsYXlsaXN0SXRlbWApLHR9KX1jbGVhckxpc3QoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5wbGF5bGlzdE1hbmFnZXIuY2xlYXJMaXN0KHRoaXMudHlwZSksdGhpcy5zeW5jUGxheWxpc3RTdGF0ZShgY2xlYXIke3RoaXMudHlwZX1QbGF5bGlzdGApfSl9fTt2YXIgYmU9Y2xhc3N7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuaG1zU0RLVHJhY2tzPXt9O3RoaXMuaG1zU0RLUGVlcnM9e307dGhpcy5pc1Jvb21Kb2luQ2FsbGVkPSExO3RoaXMuaWdub3JlZE1lc3NhZ2VUeXBlcz1bXTt0aGlzLnNldFByb2dyZXNzPSh7dHlwZTplLHByb2dyZXNzOnR9KT0+e3RoaXMuc2V0U3RhdGUoaT0+e2kucGxheWxpc3RbZV0ucHJvZ3Jlc3M9dCxpLnBsYXlsaXN0W2VdLmN1cnJlbnRUaW1lPXRoaXMuc2RrLmdldFBsYXlsaXN0TWFuYWdlcigpLmdldEN1cnJlbnRUaW1lKGUpfSxcInBsYXlsaXN0UHJvZ3Jlc3NcIil9O3RoaXMuc3luY1BsYXlsaXN0U3RhdGU9ZT0+e3RoaXMuc2V0U3RhdGUodD0+e09iamVjdC5hc3NpZ24odC5wbGF5bGlzdCxtLmNvbnZlcnRQbGF5bGlzdCh0aGlzLnNkay5nZXRQbGF5bGlzdE1hbmFnZXIoKSkpfSxlKX07dGhpcy5zZW5kUGVlclVwZGF0ZU5vdGlmaWNhdGlvbj0oZSx0KT0+e2xldCBpPXRoaXMuc3RvcmUuZ2V0U3RhdGUoeCh0LnBlZXJJZCkpLG89b2VbZV18fFwicGVlclVwZGF0ZVwiO3RoaXMuc3luY1Jvb21TdGF0ZShvKSxpfHwoaT10aGlzLnN0b3JlLmdldFN0YXRlKHgodC5wZWVySWQpKSksdGhpcy5obXNOb3RpZmljYXRpb25zLnNlbmRQZWVyVXBkYXRlKGUsaSl9O3RoaXMuc2V0U3RhdGU9KGUsdCk9PnRoaXMuc3RvcmUubmFtZWRTZXRTdGF0ZShlLHQpO3RoaXMuc3RvcmU9ZSx0aGlzLnNkaz10LHRoaXMuaG1zTm90aWZpY2F0aW9ucz1pfXJlZnJlc2hEZXZpY2VzKCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuc2RrLnJlZnJlc2hEZXZpY2VzKCl9KX11bmJsb2NrQXVkaW8oKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5zZGsuZ2V0QXVkaW9PdXRwdXQoKS51bmJsb2NrQXV0b3BsYXkoKX0pfXNldFZvbHVtZShlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0P3lpZWxkIHRoaXMuc2V0VHJhY2tWb2x1bWUoZSx0KTooeWllbGQgdGhpcy5zZGsuZ2V0QXVkaW9PdXRwdXQoKS5zZXRWb2x1bWUoZSksdGhpcy5zeW5jUm9vbVN0YXRlKFwic2V0T3V0cHV0Vm9sdW1lXCIpKX0pfXNldEF1ZGlvT3V0cHV0RGV2aWNlKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXsoeWllbGQgdGhpcy5zZGsuZ2V0QXVkaW9PdXRwdXQoKS5zZXREZXZpY2UoZSkpJiZ0aGlzLnNldFN0YXRlKGk9PntpLnNldHRpbmdzLmF1ZGlvT3V0cHV0RGV2aWNlSWQ9ZX0sXCJzZXRBdWRpb091dHB1dERldmljZVwiKX0pfXNldFByZWZlcnJlZExheWVyKGUsdCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCBpPXRoaXMuaG1zU0RLVHJhY2tzW2VdO2lmKGkpaWYoaSBpbnN0YW5jZW9mIG10KXtpZih0PT09SHQuTk9ORSl7dS53KGBsYXllciAke0h0Lk5PTkV9IHdpbGwgYmUgaWdub3JlZGApO3JldHVybn15aWVsZCBpLnNldFByZWZlcnJlZExheWVyKHQpLHRoaXMudXBkYXRlVmlkZW9MYXllcihlLFwic2V0UHJlZmVycmVkTGF5ZXJcIil9ZWxzZSB1LncoYHRyYWNrICR7ZX0gaXMgbm90IGEgcmVtb3RlIHZpZGVvIHRyYWNrYCk7ZWxzZSB0aGlzLmxvZ1Bvc3NpYmxlSW5jb25zaXN0ZW5jeShgdHJhY2sgJHtlfSBub3QgcHJlc2VudCwgdW5hYmxlIHRvIHNldCBwcmVmZmVyIGxheWVyYCl9KX1wcmV2aWV3KGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZih0aGlzLmlzUm9vbUpvaW5DYWxsZWQpe3RoaXMubG9nUG9zc2libGVJbmNvbnNpc3RlbmN5KFwiYXR0ZW1wdGluZyB0byBjYWxsIHByZXZpZXcgYWZ0ZXIgam9pbiB3YXMgY2FsbGVkXCIpO3JldHVybn1sZXQgdD10aGlzLnN0b3JlLmdldFN0YXRlKGIpO2lmKHQ9PT1ILlByZXZpZXd8fHQ9PT1ILkNvbm5lY3Rpbmcpe3RoaXMubG9nUG9zc2libGVJbmNvbnNpc3RlbmN5KFwiYXR0ZW1wdGluZyB0byBjYWxsIHByZXZpZXcgd2hpbGUgcm9vbSBpcyBpbiBwcmV2aWV3L2Nvbm5lY3RpbmdcIik7cmV0dXJufXRyeXt0aGlzLnNldFN0YXRlKGk9PntpLnJvb20ucm9vbVN0YXRlPUguQ29ubmVjdGluZ30sXCJjb25uZWN0aW5nXCIpLHlpZWxkIHRoaXMuc2RrUHJldmlld1dpdGhMaXN0ZW5lcnMoZSl9Y2F0Y2goaSl7dGhyb3cgdS5lKFwiQ2Fubm90IHNob3cgcHJldmlldy4gRmFpbGVkIHRvIGNvbm5lY3QgdG8gcm9vbSAtIFwiLGkpLGl9fSl9am9pbihlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYodGhpcy5pc1Jvb21Kb2luQ2FsbGVkKXt0aGlzLmxvZ1Bvc3NpYmxlSW5jb25zaXN0ZW5jeShcInJvb20gam9pbiBpcyBjYWxsZWQgYWdhaW5cIik7cmV0dXJufXRyeXt0aGlzLmlzUm9vbUpvaW5DYWxsZWQ9ITAsdGhpcy5zZXRTdGF0ZSh0PT57dC5yb29tLnJvb21TdGF0ZT1ILkNvbm5lY3Rpbmd9LFwiam9pblwiKSx5aWVsZCB0aGlzLnNka0pvaW5XaXRoTGlzdGVuZXJzKGUpfWNhdGNoKHQpe3Rocm93IHRoaXMuaXNSb29tSm9pbkNhbGxlZD0hMSx1LmUoXCJGYWlsZWQgdG8gY29ubmVjdCB0byByb29tIC0gXCIsdCksdH19KX1sZWF2ZSgpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgZT10aGlzLnN0b3JlLmdldFN0YXRlKG1lKSx0PSEwO2V8fCh0PSExLHRoaXMubG9nUG9zc2libGVJbmNvbnNpc3RlbmN5KFwicm9vbSBsZWF2ZSBpcyBjYWxsZWQgd2hlbiBubyByb29tIGlzIGNvbm5lY3RlZFwiKSk7bGV0IGk9dGhpcy5zdG9yZS5nZXRTdGF0ZShiKTtyZXR1cm4gdGhpcy5zZXRTdGF0ZShvPT57by5yb29tLnJvb21TdGF0ZT1ILkRpc2Nvbm5lY3Rpbmd9LFwibGVhdmluZ1wiKSx0aGlzLnNkay5sZWF2ZSh0KS50aGVuKCgpPT57dGhpcy5yZXNldFN0YXRlKFwibGVhdmVcIiksdS5pKFwibGVmdCByb29tXCIpfSkuY2F0Y2gobz0+e3UuZShcImVycm9yIGluIGxlYXZpbmcgcm9vbSAtIFwiLG8pLHRoaXMuc2V0U3RhdGUocj0+e3Iucm9vbS5yb29tU3RhdGU9aX0sXCJyZXZlcnRMZWF2ZVwiKX0pfSl9c2V0U2NyZWVuU2hhcmVFbmFibGVkKGUsdCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3R5cGVvZiB0PT1cImJvb2xlYW5cIiYmKHQ9e2F1ZGlvT25seTp0fSk7dHJ5e2U/eWllbGQgdGhpcy5zdGFydFNjcmVlblNoYXJlKHQpOnlpZWxkIHRoaXMuc3RvcFNjcmVlblNoYXJlKCl9Y2F0Y2goaSl7dGhyb3cgdGhpcy5obXNOb3RpZmljYXRpb25zLnNlbmRFcnJvcihtLmNvbnZlcnRFeGNlcHRpb24oaSkpLGl9fSl9YWRkVHJhY2soZSx0PVwicmVndWxhclwiKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5zZGsuYWRkVHJhY2soZSx0KSx0aGlzLnN5bmNSb29tU3RhdGUoXCJhZGRUcmFja1wiKX0pfXJlbW92ZVRyYWNrKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLnNkay5yZW1vdmVUcmFjayhlKSx0aGlzLnN5bmNSb29tU3RhdGUoXCJyZW1vdmVUcmFja1wiKX0pfXNldExvY2FsQXVkaW9FbmFibGVkKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgdD10aGlzLnN0b3JlLmdldFN0YXRlKEEpO3QmJih5aWVsZCB0aGlzLnNldEVuYWJsZWRUcmFjayh0LGUpKX0pfXNldExvY2FsVmlkZW9FbmFibGVkKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgdD10aGlzLnN0b3JlLmdldFN0YXRlKE4pO3QmJih5aWVsZCB0aGlzLnNldEVuYWJsZWRUcmFjayh0LGUpKX0pfXNldEVuYWJsZWRUcmFjayhlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgcjtpZigoKHI9dGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnRyYWNrc1tlXSk9PW51bGw/dm9pZCAwOnIuZW5hYmxlZCk9PT10KXt0aGlzLmxvZ1Bvc3NpYmxlSW5jb25zaXN0ZW5jeShgbG9jYWwgdHJhY2tbJHtlfV0gZW5hYmxlZCBzdGF0ZSAtICR7dH1gKTtyZXR1cm59dGhpcy5zZXRTdGF0ZShhPT57YS50cmFja3NbZV0/YS50cmFja3NbZV0uZGlzcGxheUVuYWJsZWQ9dDp0aGlzLmxvZ1Bvc3NpYmxlSW5jb25zaXN0ZW5jeShcInRyYWNrIGlkIG5vdCBmb3VuZCBmb3Igc2V0RW5hYmxlZFwiKX0sXCJkaXNwbGF5RW5hYmxlZFwiKTt0cnl7eWllbGQgdGhpcy5zZXRFbmFibGVkU0RLVHJhY2soZSx0KSx0aGlzLnN5bmNSb29tU3RhdGUoXCJzZXRFbmFibGVkXCIpfWNhdGNoKGEpe3Rocm93IHRoaXMuc2V0U3RhdGUobj0+e24udHJhY2tzW2VdLmRpc3BsYXlFbmFibGVkPSF0fSxcInJvbGxiYWNrRGlzcGxheUVuYWJsZWRcIiksdGhpcy5obXNOb3RpZmljYXRpb25zLnNlbmRFcnJvcihtLmNvbnZlcnRFeGNlcHRpb24oYSkpLGF9bGV0IG89dD9DLlRSQUNLX1VOTVVURUQ6Qy5UUkFDS19NVVRFRDt0aGlzLmhtc05vdGlmaWNhdGlvbnMuc2VuZFRyYWNrVXBkYXRlKG8sZSl9KX1zZXRBdWRpb1NldHRpbmdzKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgdD10aGlzLnN0b3JlLmdldFN0YXRlKEEpO3QmJih5aWVsZCB0aGlzLnNldFNES0xvY2FsQXVkaW9UcmFja1NldHRpbmdzKHQsZSksdGhpcy5zeW5jUm9vbVN0YXRlKFwic2V0QXVkaW9TZXR0aW5nc1wiKSl9KX1zZXRWaWRlb1NldHRpbmdzKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgdD10aGlzLnN0b3JlLmdldFN0YXRlKE4pO3QmJih5aWVsZCB0aGlzLnNldFNES0xvY2FsVmlkZW9UcmFja1NldHRpbmdzKHQsZSksdGhpcy5zeW5jUm9vbVN0YXRlKFwic2V0VmlkZW9TZXR0aW5nc1wiKSl9KX1zZW5kTWVzc2FnZShlKXt0aGlzLnNlbmRCcm9hZGNhc3RNZXNzYWdlKGUpfXNlbmRCcm9hZGNhc3RNZXNzYWdlKGUsdCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCBpPXlpZWxkIHRoaXMuc2RrLnNlbmRCcm9hZGNhc3RNZXNzYWdlKGUsdCk7dGhpcy51cGRhdGVNZXNzYWdlSW5TdG9yZShpLHttZXNzYWdlOmUsdHlwZTp0fSl9KX1zZW5kR3JvdXBNZXNzYWdlKGUsdCxpKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IG89dGhpcy5zdG9yZS5nZXRTdGF0ZShWKSxyPXQubWFwKG49Pm9bbl0pLGE9eWllbGQgdGhpcy5zZGsuc2VuZEdyb3VwTWVzc2FnZShlLHIsaSk7dGhpcy51cGRhdGVNZXNzYWdlSW5TdG9yZShhLHttZXNzYWdlOmUscmVjaXBpZW50Um9sZXM6dCx0eXBlOml9KX0pfXNlbmREaXJlY3RNZXNzYWdlKGUsdCxpKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IG89dGhpcy5obXNTREtQZWVyc1t0XSxyPXlpZWxkIHRoaXMuc2RrLnNlbmREaXJlY3RNZXNzYWdlKGUsbyxpKTt0aGlzLnVwZGF0ZU1lc3NhZ2VJblN0b3JlKHIse21lc3NhZ2U6ZSxyZWNpcGllbnRQZWVyOm8ucGVlcklkLHR5cGU6aX0pfSl9dXBkYXRlTWVzc2FnZUluU3RvcmUoZSx0KXtpZighZSl0aHJvdyB1LncoXCJzZW5kTWVzc2FnZVwiLFwiRmFpbGVkIHRvIHNlbmQgbWVzc2FnZVwiLHQpLEVycm9yKGBzZW5kTWVzc2FnZSBGYWlsZWQgLSAke0pTT04uc3RyaW5naWZ5KHQpfWApO2xldCBpPW0uY29udmVydE1lc3NhZ2UoZSk7cmV0dXJuIGkucmVhZD0hMCxpLnNlbmRlck5hbWU9XCJZb3VcIixpLmlnbm9yZWQ9dGhpcy5pZ25vcmVkTWVzc2FnZVR5cGVzLmluY2x1ZGVzKGkudHlwZSksdGhpcy5wdXRNZXNzYWdlSW5TdG9yZShpKSxpfXNldE1lc3NhZ2VSZWFkKGUsdCl7dGhpcy5zZXRTdGF0ZShpPT57dD9pLm1lc3NhZ2VzLmJ5SURbdF0/aS5tZXNzYWdlcy5ieUlEW3RdLnJlYWQ9ZTp0aGlzLmxvZ1Bvc3NpYmxlSW5jb25zaXN0ZW5jeShcIm5vIG1lc3NhZ2Ugd2l0aCBpZCBpcyBmb3VuZFwiKTppLm1lc3NhZ2VzLmFsbElEcy5mb3JFYWNoKG89PntpLm1lc3NhZ2VzLmJ5SURbb10ucmVhZD1lfSl9LFwic2V0TWVzc2FnZVJlYWRcIil9YXR0YWNoVmlkZW8oZSx0KXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYodGhpcy5sb2NhbEFuZFZpZGVvVW5tdXRpbmcoZSkpcmV0dXJuIG5ldyBQcm9taXNlKGk9PntsZXQgbz10aGlzLnN0b3JlLnN1YnNjcmliZShyPT5jKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyJiYoeWllbGQgdGhpcy5hdHRhY2hWaWRlb0ludGVybmFsKGUsdCksbygpLGkoKSl9KSxIZSl9KTt5aWVsZCB0aGlzLmF0dGFjaFZpZGVvSW50ZXJuYWwoZSx0KX0pfWRldGFjaFZpZGVvKGUsdCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCBpPXRoaXMuaG1zU0RLVHJhY2tzW2VdOyhpPT1udWxsP3ZvaWQgMDppLnR5cGUpPT09XCJ2aWRlb1wiPyhpLnJlbW92ZVNpbmsodCksdGhpcy51cGRhdGVWaWRlb0xheWVyKGUsXCJkZXRhY2hWaWRlb1wiKSk6KHQmJih0LnNyY09iamVjdD1udWxsKSx0aGlzLmxvZ1Bvc3NpYmxlSW5jb25zaXN0ZW5jeShcIm5vIHZpZGVvIHRyYWNrIGZvdW5kIHRvIHJlbW92ZSBzaW5rXCIpKX0pfWFkZFBsdWdpblRvVmlkZW9UcmFjayhlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5hZGRSZW1vdmVWaWRlb1BsdWdpbihlLFwiYWRkXCIsdCl9KX1hZGRQbHVnaW5Ub0F1ZGlvVHJhY2soZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybiB0aGlzLmFkZFJlbW92ZUF1ZGlvUGx1Z2luKGUsXCJhZGRcIil9KX12YWxpZGF0ZVZpZGVvUGx1Z2luU3VwcG9ydChlKXtsZXQgdD17fTtpZih0LmlzU3VwcG9ydGVkPSExLCFlKXJldHVybiB1LncoXCJubyBwbHVnaW4gcGFzc2VkIGluIGZvciBjaGVja2luZyBzdXBwb3J0XCIpLHQuZXJyTXNnPVwibm8gcGx1Z2luIHBhc3NlZCBpbiBmb3IgY2hlY2tpbmcgc3VwcG9ydFwiLHQ7bGV0IGk9dGhpcy5zdG9yZS5nZXRTdGF0ZShOKTtpZighaSlyZXR1cm4gdS53KFwidmlkZW8gVHJhY2sgbm90IGFkZGVkIHRvIGxvY2FsIHBlZXIgeWV0XCIpLHQuZXJyTXNnPVwiY2FsbCB0aGlzIGZ1bmN0aW9uIG9ubHkgYWZ0ZXIgbG9jYWwgcGVlciBoYXMgdmlkZW8gdHJhY2tcIix0O2xldCBvPXRoaXMuaG1zU0RLVHJhY2tzW2ldO3JldHVybiBvP3Q9by52YWxpZGF0ZVBsdWdpbihlKToodS53KGB0cmFjayAke2l9IG5vdCBwcmVzZW50LCB1bmFibGUgdG8gdmFsaWRhdGUgcGx1Z2luYCksdC5lcnJNc2c9YHRyYWNrICR7aX0gbm90IHByZXNlbnQsIHVuYWJsZSB0byB2YWxpZGF0ZSBwbHVnaW5gKSx0fXZhbGlkYXRlQXVkaW9QbHVnaW5TdXBwb3J0KGUpe2xldCB0PXt9O2lmKHQuaXNTdXBwb3J0ZWQ9ITEsIWUpcmV0dXJuIHUudygnbm8gcGx1Z2luIHBhc3NlZCBpbiBmb3IgY2hlY2tpbmcgc3VwcG9ydFwiJyksdC5lcnJNc2c9J25vIHBsdWdpbiBwYXNzZWQgaW4gZm9yIGNoZWNraW5nIHN1cHBvcnRcIicsdDtsZXQgaT10aGlzLnN0b3JlLmdldFN0YXRlKEEpO2lmKCFpKXJldHVybiB1LncoXCJhdWRpbyB0cmFjayBub3QgYWRkZWQgdG8gbG9jYWwgcGVlciB5ZXRcIiksdC5lcnJNc2c9XCJjYWxsIHRoaXMgZnVuY3Rpb24gb25seSBhZnRlciBsb2NhbCBwZWVyIGhhcyBhdWRpbyB0cmFja1wiLHQ7bGV0IG89dGhpcy5obXNTREtUcmFja3NbaV07cmV0dXJuIG8/dD1vLnZhbGlkYXRlUGx1Z2luKGUpOih1LncoYHRyYWNrICR7aX0gbm90IHByZXNlbnQsIHVuYWJsZSB0byB2YWxpZGF0ZSBwbHVnaW5gKSx0LmVyck1zZz1gdHJhY2sgJHtpfSBub3QgcHJlc2VudCwgdW5hYmxlIHRvIHZhbGlkYXRlIHBsdWdpbmApLHR9cmVtb3ZlUGx1Z2luRnJvbVZpZGVvVHJhY2soZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybiB0aGlzLmFkZFJlbW92ZVZpZGVvUGx1Z2luKGUsXCJyZW1vdmVcIil9KX1yZW1vdmVQbHVnaW5Gcm9tQXVkaW9UcmFjayhlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHRoaXMuYWRkUmVtb3ZlQXVkaW9QbHVnaW4oZSxcInJlbW92ZVwiKX0pfWNoYW5nZVJvbGUoZSx0LGk9ITEpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgbz10aGlzLmhtc1NES1BlZXJzW2VdO2lmKCFvKXt0aGlzLmxvZ1Bvc3NpYmxlSW5jb25zaXN0ZW5jeShgVW5rbm93biBwZWVyIElEIGdpdmVuICR7ZX0gZm9yIGNoYW5nZXJvbGVgKTtyZXR1cm59eWllbGQgdGhpcy5zZGsuY2hhbmdlUm9sZU9mUGVlcihvLHQsaSl9KX1jaGFuZ2VSb2xlT2ZQZWVyKGUsdCxpPSExKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IG89dGhpcy5obXNTREtQZWVyc1tlXTtpZighbyl7dGhpcy5sb2dQb3NzaWJsZUluY29uc2lzdGVuY3koYFVua25vd24gcGVlciBJRCBnaXZlbiAke2V9IGZvciBjaGFuZ2Vyb2xlYCk7cmV0dXJufXlpZWxkIHRoaXMuc2RrLmNoYW5nZVJvbGVPZlBlZXIobyx0LGkpfSl9Y2hhbmdlUm9sZU9mUGVlcnNXaXRoUm9sZXMoZSx0KXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IGk9dGhpcy5zZGsuZ2V0Um9sZXMoKS5maWx0ZXIobz0+ZS5pbmNsdWRlcyhvLm5hbWUpKTt5aWVsZCB0aGlzLnNkay5jaGFuZ2VSb2xlT2ZQZWVyc1dpdGhSb2xlcyhpLHQpfSl9YWNjZXB0Q2hhbmdlUm9sZShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IHQ9ZS5yZXF1ZXN0ZWRCeT90aGlzLmhtc1NES1BlZXJzW2UucmVxdWVzdGVkQnkuaWRdOnZvaWQgMDt0fHx1LncoYHBlZXIgZm9yIHdoaWNoIHJvbGUgY2hhbmdlIGlzIHJlcXVlc3RlZCBubyBsb25nZXIgYXZhaWxhYmxlIC0gJHtlLnJlcXVlc3RlZEJ5fWApO2xldCBpPXtyZXF1ZXN0ZWRCeTp0LHJvbGU6ZS5yb2xlLHRva2VuOmUudG9rZW59O3lpZWxkIHRoaXMuc2RrLmFjY2VwdENoYW5nZVJvbGUoaSksdGhpcy5yZW1vdmVSb2xlQ2hhbmdlUmVxdWVzdChlKX0pfWluaXRBcHBEYXRhKGUpe3RoaXMuc2V0U3RhdGUodD0+e3QuYXBwRGF0YT1lfSxcImluaXRBcHBEYXRhXCIpfXNldEFwcERhdGEoZSx0LGkpe2xldCBvPSh0PT1udWxsP3ZvaWQgMDp0LmNvbnN0cnVjdG9yLm5hbWUpPT09XCJPYmplY3RcIjt0aGlzLnNldFN0YXRlKHI9PntpZihyLmFwcERhdGEpaSYmbz9PYmplY3QuYXNzaWduKHIuYXBwRGF0YVtlXSx0KTpyLmFwcERhdGFbZV09dDtlbHNle2xldCBhPXtbZV06dH07ci5hcHBEYXRhPWF9fSxgc2V0QXBwRGF0YS0ke2V9YCl9cmVqZWN0Q2hhbmdlUm9sZShlKXt0aGlzLnJlbW92ZVJvbGVDaGFuZ2VSZXF1ZXN0KGUpfWVuZFJvb20oZSx0KXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IGk9dGhpcy5zdG9yZS5nZXRTdGF0ZShGZSk7aWYoIShpPT1udWxsP3ZvaWQgMDppLmVuZFJvb20pKXt1LncoXCJZb3UgYXJlIG5vdCBhbGxvd2VkIHRvIHBlcmZvcm0gdGhpcyBhY3Rpb24gLSBlbmRSb29tXCIpO3JldHVybn1sZXQgbz10aGlzLnN0b3JlLmdldFN0YXRlKGIpO3RoaXMuc2V0U3RhdGUocj0+e3Iucm9vbS5yb29tU3RhdGU9SC5EaXNjb25uZWN0aW5nfSxcImVuZGluZ1Jvb21cIik7dHJ5e3lpZWxkIHRoaXMuc2RrLmVuZFJvb20oZSx0KSx0aGlzLnJlc2V0U3RhdGUoXCJlbmRSb29tXCIpfWNhdGNoKHIpe3UuZShcImVycm9yIGluIGVuZGluZyByb29tIC0gXCIsciksdGhpcy5zZXRTdGF0ZShhPT57YS5yb29tLnJvb21TdGF0ZT1vfSxcInJldmVydEVuZFJvb21cIil9fSl9cmVtb3ZlUGVlcihlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgaT10aGlzLmhtc1NES1BlZXJzW2VdO2lmKGkmJiFpLmlzTG9jYWwpeWllbGQgdGhpcy5zZGsucmVtb3ZlUGVlcihpLHQpO2Vsc2V7dGhpcy5sb2dQb3NzaWJsZUluY29uc2lzdGVuY3koYE5vIHJlbW90ZSBwZWVyIGZvdW5kIGZvciBwZWVySUQgLSAke2V9YCk7cmV0dXJufX0pfXN0YXJ0UlRNUE9yUmVjb3JkaW5nKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLnNkay5zdGFydFJUTVBPclJlY29yZGluZyhlKX0pfXN0b3BSVE1QQW5kUmVjb3JkaW5nKCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuc2RrLnN0b3BSVE1QQW5kUmVjb3JkaW5nKCl9KX1zdGFydEhMU1N0cmVhbWluZyhlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5zZGsuc3RhcnRITFNTdHJlYW1pbmcoZSl9KX1zdG9wSExTU3RyZWFtaW5nKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLnNkay5zdG9wSExTU3RyZWFtaW5nKGUpfSl9c2VuZEhMU1RpbWVkTWV0YWRhdGEoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuc2RrLnNlbmRITFNUaW1lZE1ldGFkYXRhKGUpfSl9Y2hhbmdlTmFtZShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5zZGsuY2hhbmdlTmFtZShlKX0pfWNoYW5nZU1ldGFkYXRhKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0eXBlb2YgZSE9XCJzdHJpbmdcIiYmKGU9SlNPTi5zdHJpbmdpZnkoZSkpLHlpZWxkIHRoaXMuc2RrLmNoYW5nZU1ldGFkYXRhKGUpfSl9c2V0U2Vzc2lvbk1ldGFkYXRhKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLnNkay5zZXRTZXNzaW9uTWV0YWRhdGEoZSksdGhpcy5zZXRTdGF0ZSh0PT57dC5zZXNzaW9uTWV0YWRhdGE9ZX0sXCJzZXRTZXNzaW9uTWV0YWRhdGFcIil9KX1wb3B1bGF0ZVNlc3Npb25NZXRhZGF0YSgpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgZT15aWVsZCB0aGlzLnNkay5nZXRTZXNzaW9uTWV0YWRhdGEoKTt0aGlzLnNldFN0YXRlKHQ9Pnt0LnNlc3Npb25NZXRhZGF0YT1lfSxcInBvcHVsYXRlU2Vzc2lvbk1ldGFkYXRhXCIpfSl9c2V0UmVtb3RlVHJhY2tFbmFibGVkKGUsdCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXtsZXQgaT10aGlzLmhtc1NES1RyYWNrc1tlXTtpJiZsdChpKT95aWVsZCB0aGlzLnNkay5jaGFuZ2VUcmFja1N0YXRlKGksdCk6dGhpcy5sb2dQb3NzaWJsZUluY29uc2lzdGVuY3koYE5vIHJlbW90ZSB0cmFjayB3aXRoIElEICR7ZX0gZm91bmQgZm9yIGNoYW5nZSB0cmFjayBzdGF0ZWApfWVsc2UgQXJyYXkuaXNBcnJheShlKSYmZS5mb3JFYWNoKGk9PnRoaXMuc2V0UmVtb3RlVHJhY2tFbmFibGVkKGksdCkpfSl9c2V0UmVtb3RlVHJhY2tzRW5hYmxlZChlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IHQ9e2VuYWJsZWQ6ZS5lbmFibGVkLHR5cGU6ZS50eXBlLHNvdXJjZTplLnNvdXJjZX07aWYoZS5yb2xlcyl7bGV0IGk9dGhpcy5zdG9yZS5nZXRTdGF0ZShWKTt0LnJvbGVzPWUucm9sZXMubWFwKG89Pmlbb10pfXlpZWxkIHRoaXMuc2RrLmNoYW5nZU11bHRpVHJhY2tTdGF0ZSh0KX0pfXNldExvZ0xldmVsKGUpe3UubGV2ZWw9ZSx0aGlzLnNkay5zZXRMb2dMZXZlbChlKX1zZXRGcmFtZXdvcmtJbmZvKGUpe3RoaXMuc2RrLnNldEZyYW1ld29ya0luZm8oZSl9aWdub3JlTWVzc2FnZVR5cGVzKGUsdD0hMSl7aWYodCl0aGlzLmlnbm9yZWRNZXNzYWdlVHlwZXM9ZTtlbHNlIGZvcihsZXQgaSBvZiBlKXRoaXMuaWdub3JlZE1lc3NhZ2VUeXBlcy5pbmNsdWRlcyhpKXx8dGhpcy5pZ25vcmVkTWVzc2FnZVR5cGVzLnB1c2goaSl9cmVzZXRTdGF0ZShlPVwicmVzZXRTdGF0ZVwiKXt0aGlzLmlzUm9vbUpvaW5DYWxsZWQ9ITEsdGhpcy5obXNTREtUcmFja3M9e30sdS5jbGVhblVwKCksdGhpcy5zZXRTdGF0ZSh0PT57T2JqZWN0LmFzc2lnbih0LHRlKCkpfSxlKX1zZGtKb2luV2l0aExpc3RlbmVycyhlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5zZGsuam9pbihlLHtvbkpvaW46dGhpcy5vbkpvaW4uYmluZCh0aGlzKSxvblJvb21VcGRhdGU6dGhpcy5vblJvb21VcGRhdGUuYmluZCh0aGlzKSxvblBlZXJVcGRhdGU6dGhpcy5vblBlZXJVcGRhdGUuYmluZCh0aGlzKSxvblRyYWNrVXBkYXRlOnRoaXMub25UcmFja1VwZGF0ZS5iaW5kKHRoaXMpLG9uTWVzc2FnZVJlY2VpdmVkOnRoaXMub25NZXNzYWdlUmVjZWl2ZWQuYmluZCh0aGlzKSxvbkVycm9yOnRoaXMub25FcnJvci5iaW5kKHRoaXMpLG9uUmVjb25uZWN0ZWQ6dGhpcy5vblJlY29ubmVjdGVkLmJpbmQodGhpcyksb25SZWNvbm5lY3Rpbmc6dGhpcy5vblJlY29ubmVjdGluZy5iaW5kKHRoaXMpLG9uUm9sZUNoYW5nZVJlcXVlc3Q6dGhpcy5vblJvbGVDaGFuZ2VSZXF1ZXN0LmJpbmQodGhpcyksb25Sb2xlVXBkYXRlOnRoaXMub25Sb2xlVXBkYXRlLmJpbmQodGhpcyksb25EZXZpY2VDaGFuZ2U6dGhpcy5vbkRldmljZUNoYW5nZS5iaW5kKHRoaXMpLG9uQ2hhbmdlVHJhY2tTdGF0ZVJlcXVlc3Q6dGhpcy5vbkNoYW5nZVRyYWNrU3RhdGVSZXF1ZXN0LmJpbmQodGhpcyksb25DaGFuZ2VNdWx0aVRyYWNrU3RhdGVSZXF1ZXN0OnRoaXMub25DaGFuZ2VNdWx0aVRyYWNrU3RhdGVSZXF1ZXN0LmJpbmQodGhpcyksb25SZW1vdmVkRnJvbVJvb206dGhpcy5vblJlbW92ZWRGcm9tUm9vbS5iaW5kKHRoaXMpLG9uTmV0d29ya1F1YWxpdHk6dGhpcy5vbk5ldHdvcmtRdWFsaXR5LmJpbmQodGhpcyl9KSx0aGlzLnNkay5hZGRBdWRpb0xpc3RlbmVyKHtvbkF1ZGlvTGV2ZWxVcGRhdGU6dGhpcy5vbkF1ZGlvTGV2ZWxVcGRhdGUuYmluZCh0aGlzKX0pLHRoaXMuc2RrLmFkZENvbm5lY3Rpb25RdWFsaXR5TGlzdGVuZXIoe29uQ29ubmVjdGlvblF1YWxpdHlVcGRhdGU6dGhpcy5vbkNvbm5lY3Rpb25RdWFsaXR5VXBkYXRlLmJpbmQodGhpcyl9KX0pfW9uUmVtb3ZlZEZyb21Sb29tKGUpe3ZhciBvO2xldCB0PXRoaXMuc3RvcmUuZ2V0U3RhdGUoeCgobz1lLnJlcXVlc3RlZEJ5KT09bnVsbD92b2lkIDA6by5wZWVySWQpKTt0aGlzLmhtc05vdGlmaWNhdGlvbnMuc2VuZExlYXZlUm9vbSgkKHcoe30sZSkse3JlcXVlc3RlZEJ5OnR8fHZvaWQgMH0pKTtsZXQgaT1lLnJvb21FbmRlZHx8IXQ/XCJyb29tRW5kZWRcIjpcInJlbW92ZWRGcm9tUm9vbVwiO3UuaShgcmVzZXR0aW5nIHN0YXRlIGFmdGVyIHBlZXIgcmVtb3ZlZCAke2l9YCxlKSx0aGlzLnJlc2V0U3RhdGUoaSl9b25EZXZpY2VDaGFuZ2UoZSl7bGV0IHQ9ZS5kZXZpY2VzO2lmKCF0KXJldHVybjtsZXQgaT10aGlzLnN0b3JlLmdldFN0YXRlKEUpO2lmKHRoaXMuc2V0U3RhdGUobz0+e18oby5kZXZpY2VzLmF1ZGlvSW5wdXQsdC5hdWRpb0lucHV0KXx8KG8uZGV2aWNlcy5hdWRpb0lucHV0PXQuYXVkaW9JbnB1dCksXyhvLmRldmljZXMudmlkZW9JbnB1dCx0LnZpZGVvSW5wdXQpfHwoby5kZXZpY2VzLnZpZGVvSW5wdXQ9dC52aWRlb0lucHV0KSxfKG8uZGV2aWNlcy5hdWRpb091dHB1dCx0LmF1ZGlvT3V0cHV0KXx8KG8uZGV2aWNlcy5hdWRpb091dHB1dD10LmF1ZGlvT3V0cHV0KSx0aGlzLmhtc1NES1BlZXJzW2k9PW51bGw/dm9pZCAwOmkuaWRdJiZPYmplY3QuYXNzaWduKG8uc2V0dGluZ3MsdGhpcy5nZXRNZWRpYVNldHRpbmdzKHRoaXMuaG1zU0RLUGVlcnNbaT09bnVsbD92b2lkIDA6aS5pZF0pKX0sXCJkZXZpY2VDaGFuZ2VcIiksZS5zZWxlY3Rpb24pe2xldCBvPW0uY29udmVydERldmljZUNoYW5nZVVwZGF0ZShlKTt0aGlzLmhtc05vdGlmaWNhdGlvbnMuc2VuZERldmljZUNoYW5nZShvKX19c2RrUHJldmlld1dpdGhMaXN0ZW5lcnMoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuc2RrLnByZXZpZXcoZSx7b25QcmV2aWV3OnRoaXMub25QcmV2aWV3LmJpbmQodGhpcyksb25FcnJvcjp0aGlzLm9uRXJyb3IuYmluZCh0aGlzKSxvblJlY29ubmVjdGVkOnRoaXMub25SZWNvbm5lY3RlZC5iaW5kKHRoaXMpLG9uUmVjb25uZWN0aW5nOnRoaXMub25SZWNvbm5lY3RpbmcuYmluZCh0aGlzKSxvbkRldmljZUNoYW5nZTp0aGlzLm9uRGV2aWNlQ2hhbmdlLmJpbmQodGhpcyksb25Sb29tVXBkYXRlOnRoaXMub25Sb29tVXBkYXRlLmJpbmQodGhpcyksb25QZWVyVXBkYXRlOnRoaXMub25QZWVyVXBkYXRlLmJpbmQodGhpcyksb25OZXR3b3JrUXVhbGl0eTp0aGlzLm9uTmV0d29ya1F1YWxpdHkuYmluZCh0aGlzKX0pLHRoaXMuc2RrLmFkZEF1ZGlvTGlzdGVuZXIoe29uQXVkaW9MZXZlbFVwZGF0ZTp0aGlzLm9uQXVkaW9MZXZlbFVwZGF0ZS5iaW5kKHRoaXMpfSl9KX1vbk5ldHdvcmtRdWFsaXR5KGUpe3RoaXMuc2V0U3RhdGUodD0+e3ZhciBvO2xldCBpPXQucm9vbS5sb2NhbFBlZXJ8fCgobz10aGlzLnNkay5nZXRMb2NhbFBlZXIoKSk9PW51bGw/dm9pZCAwOm8ucGVlcklkKTtpJiYodC5jb25uZWN0aW9uUXVhbGl0aWVzW2ldPXtwZWVySUQ6aSxkb3dubGlua1F1YWxpdHk6ZX0pfSxcIkNvbm5lY3Rpb25RdWFsaXR5XCIpfXN0YXJ0U2NyZWVuU2hhcmUoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3RoaXMuc3RvcmUuZ2V0U3RhdGUoZ2UpP3RoaXMubG9nUG9zc2libGVJbmNvbnNpc3RlbmN5KFwic3RhcnQgc2NyZWVuc2hhcmUgaXMgY2FsbGVkIHdoaWxlIGl0J3Mgb25cIik6KHlpZWxkIHRoaXMuc2RrLnN0YXJ0U2NyZWVuU2hhcmUoKCk9PnRoaXMuc3luY1Jvb21TdGF0ZShcInNjcmVlbnNoYXJlU3RvcHBlZFwiKSxlKSx0aGlzLnN5bmNSb29tU3RhdGUoXCJzdGFydFNjcmVlblNoYXJlXCIpKX0pfXN0b3BTY3JlZW5TaGFyZSgpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0aGlzLnN0b3JlLmdldFN0YXRlKGdlKT8oeWllbGQgdGhpcy5zZGsuc3RvcFNjcmVlblNoYXJlKCksdGhpcy5zeW5jUm9vbVN0YXRlKFwic3RvcFNjcmVlblNoYXJlXCIpKTp0aGlzLmxvZ1Bvc3NpYmxlSW5jb25zaXN0ZW5jeShcInN0b3Agc2NyZWVuc2hhcmUgaXMgY2FsbGVkIHdoaWxlIGl0J3Mgbm90IG9uXCIpfSl9YXR0YWNoVmlkZW9JbnRlcm5hbChlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgaT10aGlzLmhtc1NES1RyYWNrc1tlXTtpJiZpLnR5cGU9PT1cInZpZGVvXCI/KHlpZWxkIGkuYWRkU2luayh0KSx0aGlzLnVwZGF0ZVZpZGVvTGF5ZXIoZSxcImF0dGFjaFZpZGVvXCIpKTp0aGlzLmxvZ1Bvc3NpYmxlSW5jb25zaXN0ZW5jeShcIm5vIHZpZGVvIHRyYWNrIGZvdW5kIHRvIGFkZCBzaW5rXCIpfSl9c3luY1Jvb21TdGF0ZShlKXtlPWAke2V9X2Z1bGxTeW5jYCx1LnRpbWUoYHN0b3JlLXN5bmMtJHtlfWApO2xldCB0PXt9LGk9W10sbz17fSxyPXt9LGE9e30sbj10aGlzLnNkay5nZXRQZWVycygpO2ZvcihsZXQgaCBvZiBuKXtsZXQgTz1tLmNvbnZlcnRQZWVyKGgpO3RbTy5pZF09TyxpLnB1c2goTy5pZCksdGhpcy5obXNTREtQZWVyc1tPLmlkXT1oO2xldCBRPVtoLmF1ZGlvVHJhY2ssaC52aWRlb1RyYWNrLC4uLmguYXV4aWxpYXJ5VHJhY2tzXTtmb3IobGV0IGVlIG9mIFEpe2lmKCFlZSljb250aW51ZTtsZXQgTmU9bS5jb252ZXJ0VHJhY2soZWUpO29bTmUuaWRdPU5lLHJbZWUudHJhY2tJZF09ZWV9Ty5pc0xvY2FsJiZPYmplY3QuYXNzaWduKGEsdGhpcy5nZXRNZWRpYVNldHRpbmdzKGgpKX1sZXQgTT10aGlzLnNkay5nZXRSZWNvcmRpbmdTdGF0ZSgpLFA9dGhpcy5zZGsuZ2V0UlRNUFN0YXRlKCkscT10aGlzLnNkay5nZXRITFNTdGF0ZSgpO3RoaXMuc2V0U3RhdGUoaD0+e2gucm9vbS5wZWVycz1pO2xldCBPPWgucGVlcnMsUT1oLnRyYWNrcztkdChPLHQpLHV0KFEsbyksT2JqZWN0LmFzc2lnbihoLnNldHRpbmdzLGEpLHRoaXMuaG1zU0RLVHJhY2tzPXIsT2JqZWN0LmFzc2lnbihoLnJvbGVzLG0uY29udmVydFJvbGVzKHRoaXMuc2RrLmdldFJvbGVzKCkpKSxPYmplY3QuYXNzaWduKGgucGxheWxpc3QsbS5jb252ZXJ0UGxheWxpc3QodGhpcy5zZGsuZ2V0UGxheWxpc3RNYW5hZ2VyKCkpKSxPYmplY3QuYXNzaWduKGgucm9vbSxtLmNvbnZlcnRSZWNvcmRpbmdTdHJlYW1pbmdTdGF0ZShNLFAscSkpfSxlKSx1LnRpbWVFbmQoYHN0b3JlLXN5bmMtJHtlfWApfW9uUHJldmlldyhlKXt0aGlzLnNldFN0YXRlKHQ9PntPYmplY3QuYXNzaWduKHQucm9vbSxtLmNvbnZlcnRSb29tKGUpKSx0LnJvb20ucm9vbVN0YXRlPUguUHJldmlld30sXCJwcmV2aWV3U3RhcnRcIiksdGhpcy5zeW5jUm9vbVN0YXRlKFwicHJldmlld1N5bmNcIil9b25Kb2luKGUpe2xldCB0PXRoaXMuc2RrLmdldFBsYXlsaXN0TWFuYWdlcigpO3RoaXMuYXVkaW9QbGF5bGlzdD1uZXcgdWUodCxwLmF1ZGlvLHRoaXMuc3luY1BsYXlsaXN0U3RhdGUuYmluZCh0aGlzKSx0aGlzLnN0b3JlKSx0aGlzLnZpZGVvUGxheWxpc3Q9bmV3IHVlKHQscC52aWRlbyx0aGlzLnN5bmNSb29tU3RhdGUuYmluZCh0aGlzKSx0aGlzLnN0b3JlKSx0aGlzLnN5bmNSb29tU3RhdGUoXCJqb2luU3luY1wiKSx0aGlzLnNldFN0YXRlKGk9PntPYmplY3QuYXNzaWduKGkucm9vbSxtLmNvbnZlcnRSb29tKGUpKSxpLnJvb20uaXNDb25uZWN0ZWQ9ITAsaS5yb29tLnJvb21TdGF0ZT1ILkNvbm5lY3RlZH0sXCJqb2luZWRcIiksdC5vblByb2dyZXNzKHRoaXMuc2V0UHJvZ3Jlc3MpLHQub25OZXdUcmFja1N0YXJ0KGk9Pnt0aGlzLnN5bmNQbGF5bGlzdFN0YXRlKGAke2kudHlwZX1QbGF5bGlzdFVwZGF0ZWApfSksdC5vblBsYXlsaXN0RW5kZWQoaT0+e3RoaXMuc3luY1BsYXlsaXN0U3RhdGUoYCR7aX1QbGF5bGlzdEVuZGVkYCl9KSx0Lm9uQ3VycmVudFRyYWNrRW5kZWQoaT0+e3RoaXMuaG1zTm90aWZpY2F0aW9ucy5zZW5kUGxheWxpc3RUcmFja0VuZGVkKG0uY29udmVydFBsYXlsaXN0SXRlbSh0LGkpKSx0aGlzLnN5bmNQbGF5bGlzdFN0YXRlKGAke2kudHlwZX1QbGF5bGlzdEl0ZW1FbmRlZGApfSl9b25Sb29tVXBkYXRlKGUsdCl7dGhpcy5zZXRTdGF0ZShpPT57T2JqZWN0LmFzc2lnbihpLnJvb20sbS5jb252ZXJ0Um9vbSh0KSl9LGUpfW9uUGVlclVwZGF0ZShlLHQpe2lmKCFbVS5CRUNBTUVfRE9NSU5BTlRfU1BFQUtFUixVLlJFU0lHTkVEX0RPTUlOQU5UX1NQRUFLRVJdLmluY2x1ZGVzKGUpKXtpZihBcnJheS5pc0FycmF5KHQpKXt0aGlzLnN5bmNSb29tU3RhdGUoXCJwZWVyc0pvaW5lZFwiKTtsZXQgaT1bXTtmb3IobGV0IG8gb2YgdCl7bGV0IHI9dGhpcy5zdG9yZS5nZXRTdGF0ZSh4KG8ucGVlcklkKSk7ciYmaS5wdXNoKHIpfXRoaXMuaG1zTm90aWZpY2F0aW9ucy5zZW5kUGVlckxpc3QoaSk7cmV0dXJufXRoaXMuc2VuZFBlZXJVcGRhdGVOb3RpZmljYXRpb24oZSx0KX19b25UcmFja1VwZGF0ZShlLHQsaSl7aWYoZT09PUMuVFJBQ0tfUkVNT1ZFRCl0aGlzLmhtc05vdGlmaWNhdGlvbnMuc2VuZFRyYWNrVXBkYXRlKGUsdC50cmFja0lkKSx0aGlzLmhhbmRsZVRyYWNrUmVtb3ZlKHQsaSk7ZWxzZXtsZXQgbz1yZVtlXXx8XCJ0cmFja1VwZGF0ZVwiO3RoaXMuc3luY1Jvb21TdGF0ZShvKSx0aGlzLmhtc05vdGlmaWNhdGlvbnMuc2VuZFRyYWNrVXBkYXRlKGUsdC50cmFja0lkKX19b25NZXNzYWdlUmVjZWl2ZWQoZSl7bGV0IHQ9bS5jb252ZXJ0TWVzc2FnZShlKTt0LnJlYWQ9ITEsdC5pZ25vcmVkPXRoaXMuaWdub3JlZE1lc3NhZ2VUeXBlcy5pbmNsdWRlcyh0LnR5cGUpLHRoaXMucHV0TWVzc2FnZUluU3RvcmUodCksdGhpcy5obXNOb3RpZmljYXRpb25zLnNlbmRNZXNzYWdlUmVjZWl2ZWQodCl9cHV0TWVzc2FnZUluU3RvcmUoZSl7ZS5pZ25vcmVkfHx0aGlzLnNldFN0YXRlKHQ9PntlLmlkPVN0cmluZyh0aGlzLnN0b3JlLmdldFN0YXRlKGplKSsxKSx0Lm1lc3NhZ2VzLmJ5SURbZS5pZF09ZSx0Lm1lc3NhZ2VzLmFsbElEcy5wdXNoKGUuaWQpfSxcIm5ld01lc3NhZ2VcIil9b25BdWRpb0xldmVsVXBkYXRlKGUpe3RoaXMuc2V0U3RhdGUodD0+e2xldCBpPXt9O2UuZm9yRWFjaChyPT57aWYoIXIudHJhY2t8fCFyLnBlZXIpcmV0dXJuO2xldCBhPXIudHJhY2sudHJhY2tJZDtpW2FdPXIuYXVkaW9MZXZlbCx0LnNwZWFrZXJzW2FdfHwodC5zcGVha2Vyc1thXT17YXVkaW9MZXZlbDpyLmF1ZGlvTGV2ZWwscGVlcklEOnIucGVlci5wZWVySWQsdHJhY2tJRDphfSl9KTtsZXQgbz1PYmplY3QuZW50cmllcyh0LnNwZWFrZXJzKTtmb3IobGV0W3IsYV1vZiBvKWEuYXVkaW9MZXZlbD1pW3JdfHwwLGEuYXVkaW9MZXZlbD09PTAmJmRlbGV0ZSB0LnNwZWFrZXJzW3JdfSxcImF1ZGlvTGV2ZWxcIil9b25Db25uZWN0aW9uUXVhbGl0eVVwZGF0ZShlKXt0aGlzLnNldFN0YXRlKHQ9PntsZXQgaT1uZXcgU2V0O2UuZm9yRWFjaChyPT57bGV0IGE9ci5wZWVySUQ7IWF8fChpLmFkZChhKSx0LmNvbm5lY3Rpb25RdWFsaXRpZXNbYV0/T2JqZWN0LmFzc2lnbih0LmNvbm5lY3Rpb25RdWFsaXRpZXNbYV0scik6dC5jb25uZWN0aW9uUXVhbGl0aWVzW2FdPXIpfSk7bGV0IG89T2JqZWN0LmtleXModC5jb25uZWN0aW9uUXVhbGl0aWVzKTtmb3IobGV0IHIgb2YgbylpLmhhcyhyKXx8ZGVsZXRlIHQuY29ubmVjdGlvblF1YWxpdGllc1tyXX0sXCJjb25uZWN0aW9uUXVhbGl0eVwiKX1vbkNoYW5nZVRyYWNrU3RhdGVSZXF1ZXN0KGUpe3ZhciByO2xldCB0PXRoaXMuc3RvcmUuZ2V0U3RhdGUoeCgocj1lLnJlcXVlc3RlZEJ5KT09bnVsbD92b2lkIDA6ci5wZWVySWQpKSxpPXRoaXMuZ2V0U3RvcmVMb2NhbFRyYWNrSURmcm9tU0RLVHJhY2soZS50cmFjayksbz10aGlzLnN0b3JlLmdldFN0YXRlKFNlKGkpKTtpZighbylyZXR1cm4gdGhpcy5sb2dQb3NzaWJsZUluY29uc2lzdGVuY3koYE5vdCBmb3VuZCB0cmFjayBmb3Igd2hpY2ggdHJhY2sgc3RhdGUgY2hhbmdlIHdhcyByZXF1ZXN0ZWQsICR7ZS50cmFja31gKTtlLmVuYWJsZWR8fHRoaXMuc3luY1Jvb21TdGF0ZShcImNoYW5nZVRyYWNrU3RhdGVSZXF1ZXN0XCIpLHRoaXMuaG1zTm90aWZpY2F0aW9ucy5zZW5kQ2hhbmdlVHJhY2tTdGF0ZVJlcXVlc3Qoe3JlcXVlc3RlZEJ5OnR8fHZvaWQgMCx0cmFjazpvLGVuYWJsZWQ6ZS5lbmFibGVkfSl9b25DaGFuZ2VNdWx0aVRyYWNrU3RhdGVSZXF1ZXN0KGUpe3ZhciByO2xldCB0PXRoaXMuc3RvcmUuZ2V0U3RhdGUoeCgocj1lLnJlcXVlc3RlZEJ5KT09bnVsbD92b2lkIDA6ci5wZWVySWQpKTtlLmVuYWJsZWR8fHRoaXMuc3luY1Jvb21TdGF0ZShcImNoYW5nZU11bHRpVHJhY2tTdGF0ZVJlcXVlc3RcIik7bGV0IGk9W10sbz10aGlzLnN0b3JlLmdldFN0YXRlKGcpO2ZvcihsZXQgYSBvZiBlLnRyYWNrcyl7bGV0IG49dGhpcy5nZXRTdG9yZUxvY2FsVHJhY2tJRGZyb21TREtUcmFjayhhKTtuJiZvW25dJiZpLnB1c2gob1tuXSl9dGhpcy5obXNOb3RpZmljYXRpb25zLnNlbmRDaGFuZ2VNdWx0aVRyYWNrU3RhdGVSZXF1ZXN0KHtyZXF1ZXN0ZWRCeTp0fHx2b2lkIDAsdHJhY2tzOmksZW5hYmxlZDplLmVuYWJsZWQsdHlwZTplLnR5cGUsc291cmNlOmUuc291cmNlfSl9b25SZWNvbm5lY3RlZCgpe3RoaXMuc3luY1Jvb21TdGF0ZShcInJlY29ubmVjdGVkU3luY1wiKSx0aGlzLmhtc05vdGlmaWNhdGlvbnMuc2VuZFJlY29ubmVjdGVkKCksdGhpcy5zZXRTdGF0ZShlPT57ZS5yb29tLnJvb21TdGF0ZT1lLnJvb20uaXNDb25uZWN0ZWQ/SC5Db25uZWN0ZWQ6SC5QcmV2aWV3fSxcInJlY29ubmVjdGVkXCIpfW9uUmVjb25uZWN0aW5nKGUpe2xldCB0PW0uY29udmVydEV4Y2VwdGlvbihlKTt1LmUoXCJSZWNvbm5lY3Rpb246IHJlY2VpdmVkIGVycm9yIGZyb20gc2RrXCIsdCksdGhpcy5obXNOb3RpZmljYXRpb25zLnNlbmRSZWNvbm5lY3RpbmcodCksdGhpcy5zZXRTdGF0ZShpPT57aS5yb29tLnJvb21TdGF0ZT1ILlJlY29ubmVjdGluZyxpLmVycm9ycy5wdXNoKHQpfSxcInJlY29ubmVjdGluZ1wiKX1vbkVycm9yKGUpe2xldCB0PW0uY29udmVydEV4Y2VwdGlvbihlKTt0LmlzVGVybWluYWw/KHRoaXMubGVhdmUoKS50aGVuKCgpPT51LmUoXCJlcnJvciBmcm9tIFNESywgbGVmdCByb29tLlwiKSksdGhpcy5zZXRTdGF0ZShpPT57aS5yb29tLnJvb21TdGF0ZT1ILkZhaWxlZCxpLmVycm9ycy5wdXNoKHQpfSxcImVycm9yVGVybWluYWxcIikpOnRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5lcnJvcnMubGVuZ3RoPDUwJiZ0aGlzLnNldFN0YXRlKG89PntvLmVycm9ycy5wdXNoKHQpfSxcImVycm9yXCIpLHRoaXMuc3luY1Jvb21TdGF0ZShcImVycm9yU3luY1wiKSx0aGlzLmhtc05vdGlmaWNhdGlvbnMuc2VuZEVycm9yKHQpLHUuZShcInJlY2VpdmVkIGVycm9yIGZyb20gc2RrXCIsdCBpbnN0YW5jZW9mIHJzP2Ake3R9YDp0KX11cGRhdGVWaWRlb0xheWVyKGUsdCl7bGV0IGk9dGhpcy5obXNTREtUcmFja3NbZV07aWYoaSYmaSBpbnN0YW5jZW9mIG10KXtsZXQgbz10aGlzLnN0b3JlLmdldFN0YXRlKHN0KGUpKTsoKG89PW51bGw/dm9pZCAwOm8ubGF5ZXIpIT09aS5nZXRMYXllcigpfHwobz09bnVsbD92b2lkIDA6by5kZWdyYWRlZCkhPT1pLmRlZ3JhZGVkfHwobz09bnVsbD92b2lkIDA6by5wcmVmZXJyZWRMYXllcikhPT1pLmdldFByZWZlcnJlZExheWVyKCkpJiZ0aGlzLnNldFN0YXRlKGE9PntsZXQgbj1hLnRyYWNrc1tlXTtuLmxheWVyPWkuZ2V0TGF5ZXIoKSxuLnByZWZlcnJlZExheWVyPWkuZ2V0UHJlZmVycmVkTGF5ZXIoKSxuLmRlZ3JhZGVkPWkuZGVncmFkZWR9LHQpfX1oYW5kbGVUcmFja1JlbW92ZShlLHQpe3RoaXMuc2V0U3RhdGUoaT0+e2xldCBvPWkucGVlcnNbdC5wZWVySWRdLHI9aS50cmFja3MsYT1lLnRyYWNrSWQ7aWYodGhpcy5pc1NhbWVTdG9yZVNES1RyYWNrKGEsbz09bnVsbD92b2lkIDA6by5hdWRpb1RyYWNrKSlvPT1udWxsfHxkZWxldGUgby5hdWRpb1RyYWNrO2Vsc2UgaWYodGhpcy5pc1NhbWVTdG9yZVNES1RyYWNrKGEsbz09bnVsbD92b2lkIDA6by52aWRlb1RyYWNrKSlvPT1udWxsfHxkZWxldGUgby52aWRlb1RyYWNrO2Vsc2V7bGV0IG49bz09bnVsbD92b2lkIDA6by5hdXhpbGlhcnlUcmFja3MuaW5kZXhPZihhKTtuPi0xJiZ0aGlzLmlzU2FtZVN0b3JlU0RLVHJhY2soYSxvPT1udWxsP3ZvaWQgMDpvLmF1eGlsaWFyeVRyYWNrc1tuXSkmJihvPT1udWxsfHxvLmF1eGlsaWFyeVRyYWNrcy5zcGxpY2UobiwxKSl9ZGVsZXRlIHJbYV0sZGVsZXRlIHRoaXMuaG1zU0RLVHJhY2tzW2FdfSxcInRyYWNrUmVtb3ZlZFwiKX1zZXRFbmFibGVkU0RLVHJhY2soZSx0KXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IGk9dGhpcy5obXNTREtUcmFja3NbZV07aT95aWVsZCBpLnNldEVuYWJsZWQodCk6dGhpcy5sb2dQb3NzaWJsZUluY29uc2lzdGVuY3koYHRyYWNrICR7ZX0gbm90IHByZXNlbnQsIHVuYWJsZSB0byBlbmFibGVkL2Rpc2FibGVgKX0pfXNldFNES0xvY2FsVmlkZW9UcmFja1NldHRpbmdzKGUsdCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCBpPXRoaXMuaG1zU0RLVHJhY2tzW2VdO2k/eWllbGQgaS5zZXRTZXR0aW5ncyh0KTp0aGlzLmxvZ1Bvc3NpYmxlSW5jb25zaXN0ZW5jeShgbG9jYWwgdHJhY2sgJHtlfSBub3QgcHJlc2VudCwgdW5hYmxlIHRvIHNldCBzZXR0aW5nc2ApfSl9c2V0U0RLTG9jYWxBdWRpb1RyYWNrU2V0dGluZ3MoZSx0KXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IGk9dGhpcy5obXNTREtUcmFja3NbZV07aT95aWVsZCBpLnNldFNldHRpbmdzKHQpOnRoaXMubG9nUG9zc2libGVJbmNvbnNpc3RlbmN5KGBsb2NhbCB0cmFjayAke2V9IG5vdCBwcmVzZW50LCB1bmFibGUgdG8gc2V0IHNldHRpbmdzYCl9KX1nZXRNZWRpYVNldHRpbmdzKGUpe3ZhciByO2xldCB0PXRoaXMuc3RvcmUuZ2V0U3RhdGUoS2UpLGk9ZS5hdWRpb1RyYWNrLG89ZS52aWRlb1RyYWNrO3JldHVybnthdWRpb0lucHV0RGV2aWNlSWQ6KGk9PW51bGw/dm9pZCAwOmkuc2V0dGluZ3MuZGV2aWNlSWQpfHx0LmF1ZGlvSW5wdXREZXZpY2VJZCx2aWRlb0lucHV0RGV2aWNlSWQ6KG89PW51bGw/dm9pZCAwOm8uc2V0dGluZ3MuZGV2aWNlSWQpfHx0LnZpZGVvSW5wdXREZXZpY2VJZCxhdWRpb091dHB1dERldmljZUlkOihyPXRoaXMuc2RrLmdldEF1ZGlvT3V0cHV0KCkuZ2V0RGV2aWNlKCkpPT1udWxsP3ZvaWQgMDpyLmRldmljZUlkfX1zZXRUcmFja1ZvbHVtZShlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgaT10aGlzLmhtc1NES1RyYWNrc1t0XTtpP2kgaW5zdGFuY2VvZiBvcz8oeWllbGQgaS5zZXRWb2x1bWUoZSksdGhpcy5zZXRTdGF0ZShvPT57bGV0IHI9by50cmFja3NbdF07ciYmci50eXBlPT09XCJhdWRpb1wiJiYoci52b2x1bWU9ZSl9LFwidHJhY2tWb2x1bWVcIikpOnUudyhgdHJhY2sgJHt0fSBpcyBub3QgYW4gYXVkaW8gdHJhY2tgKTp0aGlzLmxvZ1Bvc3NpYmxlSW5jb25zaXN0ZW5jeShgdHJhY2sgJHt0fSBub3QgcHJlc2VudCwgdW5hYmxlIHRvIHNldCB2b2x1bWVgKX0pfWxvY2FsQW5kVmlkZW9Vbm11dGluZyhlKXtpZih0aGlzLnN0b3JlLmdldFN0YXRlKEUpLnZpZGVvVHJhY2shPT1lKXJldHVybiExO2xldCBpPXRoaXMuc3RvcmUuZ2V0U3RhdGUocWUpLG89dGhpcy5zdG9yZS5nZXRTdGF0ZShIZSk7cmV0dXJuIGkmJiFvfWxvZ1Bvc3NpYmxlSW5jb25zaXN0ZW5jeShlKXt1LncoXCJwb3NzaWJsZSBpbmNvbnNpc3RlbmN5IGRldGVjdGVkIC0gXCIsZSl9YWRkUmVtb3ZlVmlkZW9QbHVnaW4oZSx0LGkpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZighZSl7dS53KFwiSW52YWxpZCBwbHVnaW4gcmVjZWl2ZWQgaW4gc3RvcmVcIik7cmV0dXJufWxldCBvPXRoaXMuc3RvcmUuZ2V0U3RhdGUoTik7aWYobyl7bGV0IHI9dGhpcy5obXNTREtUcmFja3Nbb107cj8odD09PVwiYWRkXCI/eWllbGQgci5hZGRQbHVnaW4oZSxpKTp0PT09XCJyZW1vdmVcIiYmKHlpZWxkIHIucmVtb3ZlUGx1Z2luKGUpKSx0aGlzLnN5bmNSb29tU3RhdGUoYCR7dH1WaWRlb1BsdWdpbmApKTp0aGlzLmxvZ1Bvc3NpYmxlSW5jb25zaXN0ZW5jeShgdHJhY2sgJHtvfSBub3QgcHJlc2VudCwgdW5hYmxlIHRvIHJlbW92ZSBwbHVnaW5gKX19KX1hZGRSZW1vdmVBdWRpb1BsdWdpbihlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZighZSl7dS53KFwiSW52YWxpZCBwbHVnaW4gcmVjZWl2ZWQgaW4gc3RvcmVcIik7cmV0dXJufWxldCBpPXRoaXMuc3RvcmUuZ2V0U3RhdGUoQSk7aWYoaSl7bGV0IG89dGhpcy5obXNTREtUcmFja3NbaV07bz8odD09PVwiYWRkXCI/eWllbGQgby5hZGRQbHVnaW4oZSk6dD09PVwicmVtb3ZlXCImJih5aWVsZCBvLnJlbW92ZVBsdWdpbihlKSksdGhpcy5zeW5jUm9vbVN0YXRlKGAke3R9QXVkaW9QbHVnaW5gKSk6dGhpcy5sb2dQb3NzaWJsZUluY29uc2lzdGVuY3koYHRyYWNrICR7aX0gbm90IHByZXNlbnQsIHVuYWJsZSB0byByZW1vdmUgcGx1Z2luYCl9fSl9aXNTYW1lU3RvcmVTREtUcmFjayhlLHQpe3ZhciBpO3JldHVybiB0PygoaT10aGlzLmhtc1NES1RyYWNrc1t0XSk9PW51bGw/dm9pZCAwOmkudHJhY2tJZCk9PT1lOiExfW9uUm9sZUNoYW5nZVJlcXVlc3QoZSl7dGhpcy5zZXRTdGF0ZSh0PT57dC5yb2xlQ2hhbmdlUmVxdWVzdHMubGVuZ3RoPT09MCYmdC5yb2xlQ2hhbmdlUmVxdWVzdHMucHVzaChtLmNvbnZlcnRSb2xlQ2hhbmdlUmVxdWVzdChlKSl9LFwicm9sZUNoYW5nZVJlcXVlc3RcIil9cmVtb3ZlUm9sZUNoYW5nZVJlcXVlc3QoZSl7dGhpcy5zZXRTdGF0ZSh0PT57bGV0IGk9dC5yb2xlQ2hhbmdlUmVxdWVzdHMuZmluZEluZGV4KG89Pm8udG9rZW49PT1lLnRva2VuKTtpIT09LTEmJnQucm9sZUNoYW5nZVJlcXVlc3RzLnNwbGljZShpLDEpfSxcInJlbW92ZVJvbGVDaGFuZ2VSZXF1ZXN0XCIpfW9uUm9sZVVwZGF0ZSgpe3RoaXMuc3luY1Jvb21TdGF0ZShcInJvbGVVcGRhdGVcIil9Z2V0U3RvcmVMb2NhbFRyYWNrSURmcm9tU0RLVHJhY2soZSl7cmV0dXJuIHRoaXMuc3RvcmUuZ2V0U3RhdGUoQmUpLmZpbmQoaT0+dGhpcy5obXNTREtUcmFja3NbaV0udHJhY2tJZD09PWUudHJhY2tJZCl9fTtpbXBvcnR7aXNCcm93c2VyIGFzIGFzfWZyb21cIkAxMDBtc2xpdmUvaG1zLXZpZGVvXCI7dmFyIE1lPXM9PmFzP2Ake3N9ICR7ZG9jdW1lbnQudGl0bGV9YDpzO3ZhciBndD0ocyxlLHQpPT57bGV0IGk7dC5nZXRTdGF0ZShiKT09PUguQ29ubmVjdGVkJiYoaT1mdChzLGUsdCkpLHQuc3Vic2NyaWJlKG89PntbSC5Db25uZWN0ZWQsSC5SZWNvbm5lY3RpbmddLmluY2x1ZGVzKG8pP2l8fChpPWZ0KHMsZSx0KSk6W0guRGlzY29ubmVjdGVkLEguRmFpbGVkXS5pbmNsdWRlcyhvKSYmaSYmKFNzKGUsbyksaSgpLGk9dm9pZCAwKX0sYil9LGZ0PShzLGUsdCk9Pnt2YXIgcixhO2xldCBpPW5zKHQsZSk7KHI9cy5nZXRXZWJydGNJbnRlcm5hbHMoKSk9PW51bGx8fHIuc3RhcnQoKTtsZXQgbz0oYT1zLmdldFdlYnJ0Y0ludGVybmFscygpKT09bnVsbD92b2lkIDA6YS5vblN0YXRzQ2hhbmdlKG49PmNzKGUsbix0LHMpKTtyZXR1cm4oKT0+e2koKSxvJiZvKCl9fSxucz0ocyxlKT0+e2xldCB0LGksbztyZXR1cm4gcy5nZXRTdGF0ZShGKT9lLm5hbWVkU2V0U3RhdGUocj0+e3IubG9jYWxQZWVyLmlkPXMuZ2V0U3RhdGUoRil9LFwibG9jYWxwZWVyLWlkXCIpOnQ9cy5zdWJzY3JpYmUocj0+e3ImJmUubmFtZWRTZXRTdGF0ZShhPT57YS5sb2NhbFBlZXIuaWQ9cn0sXCJsb2NhbHBlZXItaWRcIil9LEYpLHMuZ2V0U3RhdGUoTik/ZS5uYW1lZFNldFN0YXRlKHI9PntyLmxvY2FsUGVlci52aWRlb1RyYWNrPXMuZ2V0U3RhdGUoTil9LFwibG9jYWxwZWVyLXZpZGVvdHJhY2staWRcIik6aT1zLnN1YnNjcmliZShyPT57ciYmZS5uYW1lZFNldFN0YXRlKGE9PnthLmxvY2FsUGVlci52aWRlb1RyYWNrPXJ9LFwibG9jYWxwZWVyLXZpZGVvdHJhY2staWRcIil9LE4pLHMuZ2V0U3RhdGUoQSk/ZS5uYW1lZFNldFN0YXRlKHI9PntyLmxvY2FsUGVlci5hdWRpb1RyYWNrPXMuZ2V0U3RhdGUoQSl9LFwibG9jYWxwZWVyLWF1ZGlvdHJhY2staWRcIik6bz1zLnN1YnNjcmliZShyPT57ciYmZS5uYW1lZFNldFN0YXRlKGE9PnthLmxvY2FsUGVlci5hdWRpb1RyYWNrPXJ9LFwibG9jYWxwZWVyLWF1ZGlvdHJhY2staWRcIil9LEEpLCgpPT57dD09bnVsbHx8dCgpLGk9PW51bGx8fGkoKSxvPT1udWxsfHxvKCl9fSxjcz0ocyxlLHQsaSk9PntsZXQgbz10LmdldFN0YXRlKGcpO3MubmFtZWRTZXRTdGF0ZShyPT57bGV0IGE9dC5nZXRTdGF0ZShGKSxuPXt9LE09T2JqZWN0LmtleXMobykuZmlsdGVyKHE9Pm9bcV0ucGVlcklkIT09YSk7Zm9yKGxldCBxIG9mIE0pe2xldCBoPWUuZ2V0UmVtb3RlVHJhY2tTdGF0cyhxKTtoJiYobltxXT1oKX1EZShyLnJlbW90ZVRyYWNrU3RhdHMsbik7bGV0IFA9e1thXTplLmdldExvY2FsUGVlclN0YXRzKCl9O0RlKHIucGVlclN0YXRzLFApLE10KHIubG9jYWxUcmFja1N0YXRzLGUuZ2V0TG9jYWxUcmFja1N0YXRzKCksaS5zdG9yZS5nZXRMb2NhbFBlZXJUcmFja3MoKSl9LFwid2VicnRjLXN0YXRzXCIpfSxTcz0ocyxlPVwicmVzZXRTdGF0ZVwiKT0+e3MubmFtZWRTZXRTdGF0ZSh0PT57T2JqZWN0LmFzc2lnbih0LHNlKCkpfSxlKX07dmFyIHBlPWNsYXNze2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5obXNTdG9yZT1lO3RoaXMuc2RrPXQ7dGhpcy5zdG9yZT1MLmNyZWF0ZU5ld0hNU1N0b3JlKE1lKFwiSE1TU3RhdHNTdG9yZVwiKSxzZSksdGhpcy5nZXRTdGF0ZT10aGlzLnN0b3JlLmdldFN0YXRlLHRoaXMuc3Vic2NyaWJlPXRoaXMuc3RvcmUuc3Vic2NyaWJlLHRoaXMuZ2V0UHVibGlzaFBlZXJDb25uZWN0aW9uPSgpPT5uZXcgUHJvbWlzZShpPT57dmFyIG8scjt0aGlzLmhtc1N0b3JlLmdldFN0YXRlKGIpPT09XCJDb25uZWN0ZWRcIj9pKChyPShvPXRoaXMuc2RrKT09bnVsbD92b2lkIDA6by5nZXRXZWJydGNJbnRlcm5hbHMoKSk9PW51bGw/dm9pZCAwOnIuZ2V0UHVibGlzaFBlZXJDb25uZWN0aW9uKCkpOnRoaXMuaG1zU3RvcmUuc3Vic2NyaWJlKGE9Pnt2YXIgbixNO2E9PT1cIkNvbm5lY3RlZFwiJiZpKChNPShuPXRoaXMuc2RrKT09bnVsbD92b2lkIDA6bi5nZXRXZWJydGNJbnRlcm5hbHMoKSk9PW51bGw/dm9pZCAwOk0uZ2V0UHVibGlzaFBlZXJDb25uZWN0aW9uKCkpfSxiKX0pLHRoaXMuZ2V0U3Vic2NyaWJlUGVlckNvbm5lY3Rpb249KCk9Pm5ldyBQcm9taXNlKGk9Pnt2YXIgbyxyO3RoaXMuaG1zU3RvcmUuZ2V0U3RhdGUoYik9PT1cIkNvbm5lY3RlZFwiP2koKHI9KG89dGhpcy5zZGspPT1udWxsP3ZvaWQgMDpvLmdldFdlYnJ0Y0ludGVybmFscygpKT09bnVsbD92b2lkIDA6ci5nZXRTdWJzY3JpYmVQZWVyQ29ubmVjdGlvbigpKTp0aGlzLmhtc1N0b3JlLnN1YnNjcmliZShhPT57dmFyIG4sTTthPT09XCJDb25uZWN0ZWRcIiYmaSgoTT0obj10aGlzLnNkayk9PW51bGw/dm9pZCAwOm4uZ2V0V2VicnRjSW50ZXJuYWxzKCkpPT1udWxsP3ZvaWQgMDpNLmdldFN1YnNjcmliZVBlZXJDb25uZWN0aW9uKCkpfSxiKX0pLCEhdGhpcy5zZGsmJmd0KHRoaXMuc2RrLHRoaXMuc3RvcmUsdGhpcy5obXNTdG9yZSl9fTtpbXBvcnR7Y3JlYXRlU2VsZWN0b3IgYXMga31mcm9tXCJyZXNlbGVjdFwiO3ZhciBscz1zPT5zLmxvY2FsUGVlci5pZCxkcz1zPT5zLmxvY2FsUGVlci5hdWRpb1RyYWNrLHVzPXM9PnMubG9jYWxQZWVyLnZpZGVvVHJhY2ssTXM9KHMsZSk9PmUsaHQ9KHMsZSk9PmUscHM9cz0+cy5yZW1vdGVUcmFja1N0YXRzLHl0PXM9PnMucGVlclN0YXRzLENlPXM9PnMubG9jYWxUcmFja1N0YXRzLEs9ayhbeXQsbHNdLChzLGUpPT5zW2VdKSxUcz1rKEsscz0+e3ZhciBlO3JldHVybihlPXM9PW51bGw/dm9pZCAwOnMuc3Vic2NyaWJlKT09bnVsbD92b2lkIDA6ZS5wYWNrZXRzTG9zdH0pLG1zPWsoSyxzPT57dmFyIGU7cmV0dXJuKGU9cz09bnVsbD92b2lkIDA6cy5zdWJzY3JpYmUpPT1udWxsP3ZvaWQgMDplLmppdHRlcn0pLEhzPWsoSyxzPT57dmFyIGU7cmV0dXJuKGU9cz09bnVsbD92b2lkIDA6cy5wdWJsaXNoKT09bnVsbD92b2lkIDA6ZS5iaXRyYXRlfSksZ3M9ayhLLHM9Pnt2YXIgZTtyZXR1cm4oZT1zPT1udWxsP3ZvaWQgMDpzLnN1YnNjcmliZSk9PW51bGw/dm9pZCAwOmUuYml0cmF0ZX0pLGZzPWsoSyxzPT57dmFyIGU7cmV0dXJuKGU9cz09bnVsbD92b2lkIDA6cy5wdWJsaXNoKT09bnVsbD92b2lkIDA6ZS5hdmFpbGFibGVPdXRnb2luZ0JpdHJhdGV9KSxocz1rKEsscz0+e3ZhciBlO3JldHVybihlPXM9PW51bGw/dm9pZCAwOnMuc3Vic2NyaWJlKT09bnVsbD92b2lkIDA6ZS5hdmFpbGFibGVJbmNvbWluZ0JpdHJhdGV9KSx5cz1rKEsscz0+e3ZhciBlO3JldHVybihlPXM9PW51bGw/dm9pZCAwOnMucHVibGlzaCk9PW51bGw/dm9pZCAwOmUuYnl0ZXNTZW50fSksa3M9ayhLLHM9Pnt2YXIgZTtyZXR1cm4oZT1zPT1udWxsP3ZvaWQgMDpzLnN1YnNjcmliZSk9PW51bGw/dm9pZCAwOmUuYnl0ZXNSZWNlaXZlZH0pLFJzPWsoW3l0LE1zXSwocyxlKT0+ZT9zW2VdOnZvaWQgMCksUHM9ayhbcHMsaHRdLChzLGUpPT5lP3NbZV06dm9pZCAwKSxBZT1rKFtDZSxodF0sKHMsZSk9PmU/c1tlXTp2b2lkIDApLERzPWwoUnMpLElzPWwoUHMpLHZzPWsoW0NlLGRzXSwocyxlKT0+e3ZhciB0O3JldHVybiBlPyh0PXNbZV0pPT1udWxsP3ZvaWQgMDp0WzBdOnZvaWQgMH0pLEVzPWwoayhBZSxzPT5zPT1udWxsP3ZvaWQgMDpzWzBdKSksYnM9ayhbQ2UsdXNdLChzLGUpPT57dmFyIHQ7cmV0dXJuIGU/KHQ9c1tlXSk9PW51bGw/dm9pZCAwOnRbMF06dm9pZCAwfSksQ3M9bChrKEFlLHM9PnMpKSxBcz1zPT5sKGsoQWUsZT0+e2xldCB0PU9iamVjdC5rZXlzKGllKS5maW5kKGk9PmllW2ldPT09cyk7cmV0dXJuIHMmJihlPT1udWxsP3ZvaWQgMDplLmZpbmQoaT0+aS5yaWQ9PT10KSl8fChlPT1udWxsP3ZvaWQgMDplWzBdKX0pKSxOcz17bG9jYWxQZWVyU3RhdHM6SyxwYWNrZXRzTG9zdDpUcyxqaXR0ZXI6bXMscHVibGlzaEJpdHJhdGU6SHMsc3Vic2NyaWJlQml0cmF0ZTpncyxhdmFpbGFibGVQdWJsaXNoQml0cmF0ZTpmcyxhdmFpbGFibGVTdWJzY3JpYmVCaXRyYXRlOmhzLHRvdGFsQnl0ZXNTZW50OnlzLHRvdGFsQnl0ZXNSZWNlaXZlZDprcyxwZWVyU3RhdHNCeUlEOkRzLHRyYWNrU3RhdHNCeUlEOklzLGxvY2FsQXVkaW9UcmFja1N0YXRzQnlJRDpFcyxsb2NhbFZpZGVvVHJhY2tTdGF0c0J5SUQ6Q3MsbG9jYWxWaWRlb1RyYWNrU3RhdHNCeUxheWVyOkFzLGxvY2FsQXVkaW9UcmFja1N0YXRzOnZzLGxvY2FsVmlkZW9UcmFja1N0YXRzOmJzfTt2YXIgTD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5nZXRTdGF0cz0oKT0+KHRoaXMuc3RhdHN8fCh0aGlzLnN0YXRzPW5ldyBwZSh0aGlzLnN0b3JlLHRoaXMuc2RrKSksdGhpcy5zdGF0cyk7ZT90aGlzLnN0b3JlPWU6dGhpcy5zdG9yZT1MLmNyZWF0ZU5ld0hNU1N0b3JlKE1lKFwiSE1TU3RvcmVcIiksdGUpLGk/dGhpcy5ub3RpZmljYXRpb25zPWk6dGhpcy5ub3RpZmljYXRpb25zPW5ldyBQZSh0aGlzLnN0b3JlKSx0P3RoaXMuYWN0aW9ucz10Oih0aGlzLnNkaz1uZXcgX3MsdGhpcy5hY3Rpb25zPW5ldyBiZSh0aGlzLnN0b3JlLHRoaXMuc2RrLHRoaXMubm90aWZpY2F0aW9ucykpLHRoaXMuYWN0aW9ucy5zZXRGcmFtZXdvcmtJbmZvKHt0eXBlOlwianNcIixzZGtWZXJzaW9uOmt0KCkudmVyc2lvbn0pLHRoaXMuaW5pdGlhbFRyaWdnZXJPblN1YnNjcmliZT0hMSxVcyYmKHdpbmRvdy5fX2htcz10aGlzKX10cmlnZ2VyT25TdWJzY3JpYmUoKXt0aGlzLmluaXRpYWxUcmlnZ2VyT25TdWJzY3JpYmV8fChMLm1ha2VTdG9yZVRyaWdnZXJPblN1YnNjcmliZSh0aGlzLnN0b3JlKSx0aGlzLmluaXRpYWxUcmlnZ2VyT25TdWJzY3JpYmU9ITApfWdldFN0b3JlKCl7cmV0dXJuIHRoaXMuc3RvcmV9Z2V0SE1TQWN0aW9ucygpe3JldHVybiB0aGlzLmFjdGlvbnN9Z2V0QWN0aW9ucygpe3JldHVybiB0aGlzLmFjdGlvbnN9Z2V0Tm90aWZpY2F0aW9ucygpe3JldHVybntvbk5vdGlmaWNhdGlvbjp0aGlzLm5vdGlmaWNhdGlvbnMub25Ob3RpZmljYXRpb259fXN0YXRpYyBjcmVhdGVOZXdITVNTdG9yZShlLHQpe2xldCBpPXdzKCgpPT50KCkpLG89aS5zZXRTdGF0ZTtpLnNldFN0YXRlPW49PntsZXQgTT10eXBlb2Ygbj09XCJmdW5jdGlvblwiP0xzKG4pOm47byhNKX07bGV0IHI9aS5nZXRTdGF0ZTtpLmdldFN0YXRlPW49Pm4/bihyKCkpOnIoKSxMLmNvbXBhcmVXaXRoU2hhbGxvd0NoZWNrSW5TdWJzY3JpYmUoaSk7bGV0IGE9TC5zZXRVcERldnRvb2xzKGksZSk7cmV0dXJuICQodyh7fSxpKSx7bmFtZWRTZXRTdGF0ZTphfSl9c3RhdGljIG1ha2VTdG9yZVRyaWdnZXJPblN1YnNjcmliZShlKXtsZXQgdD1lLnN1YnNjcmliZTtlLnN1YnNjcmliZT0oaSxvLHIpPT4oaShlLmdldFN0YXRlKG8pLHZvaWQgMCksdChpLG8scikpfXN0YXRpYyBjb21wYXJlV2l0aFNoYWxsb3dDaGVja0luU3Vic2NyaWJlKGUpe2xldCB0PWUuc3Vic2NyaWJlO2Uuc3Vic2NyaWJlPShpLG8scik9PihvfHwobz1hPT5hKSxyPXJ8fE9zLHQoaSxvLHIpKX1zdGF0aWMgc2V0VXBEZXZ0b29scyhlLHQpe2xldCBpO3RyeXtpPXdpbmRvdy5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9ffHx3aW5kb3cudG9wLl9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX199Y2F0Y2goYSl7fWlmKCFpKXJldHVybiBhPT57ZS5zZXRTdGF0ZShhKX07bGV0IG89aS5jb25uZWN0KEwuZGV2dG9vbHNPcHRpb25zKHQpKTtvLnByZWZpeD10P2Ake3R9ID4gYDpcIlwiO2xldCByPWUuc2V0U3RhdGU7cmV0dXJuIGUuc2V0U3RhdGU9YT0+e3IoYSksby5zZW5kKGAke28ucHJlZml4fXNldFN0YXRlYCxlLmdldFN0YXRlKCkpfSxvLnN1YnNjcmliZShMLmRldnRvb2xzU3Vic2NyaWJlKG8sZSxyKSksby5zZW5kKFwic2V0VXBTdG9yZVwiLGUuZ2V0U3RhdGUoKSksKGEsbik9PntyKGEpO2xldCBNPW58fGAke28ucHJlZml4fWFjdGlvbmA7by5zZW5kKE0sZS5nZXRTdGF0ZSgpKX19c3RhdGljIGRldnRvb2xzT3B0aW9ucyhlKXtyZXR1cm57bmFtZTplLGFjdGlvbnNCbGFja2xpc3Q6W1wiYXVkaW9MZXZlbFwiLFwicGxheWxpc3RQcm9ncmVzc1wiLFwiY29ubmVjdGlvblF1YWxpdHlcIl19fXN0YXRpYyBkZXZ0b29sc1N1YnNjcmliZShlLHQsaSl7cmV0dXJuIG89Pnt2YXIgcixhLG4sTTtpZihvLnR5cGU9PT1cIkRJU1BBVENIXCImJm8uc3RhdGUpW1wiSlVNUF9UT19BQ1RJT05cIixcIkpVTVBfVE9fU1RBVEVcIl0uaW5jbHVkZXMoby5wYXlsb2FkLnR5cGUpP2koSlNPTi5wYXJzZShvLnN0YXRlKSk6dC5zZXRTdGF0ZShKU09OLnBhcnNlKG8uc3RhdGUpKTtlbHNlIGlmKG8udHlwZT09PVwiRElTUEFUQ0hcIiYmKChyPW8ucGF5bG9hZCk9PW51bGw/dm9pZCAwOnIudHlwZSk9PT1cIkNPTU1JVFwiKWUuaW5pdCh0LmdldFN0YXRlKCkpO2Vsc2UgaWYoby50eXBlPT09XCJESVNQQVRDSFwiJiYoKGE9by5wYXlsb2FkKT09bnVsbD92b2lkIDA6YS50eXBlKT09PVwiSU1QT1JUX1NUQVRFXCIpe2xldCBQPShuPW8ucGF5bG9hZC5uZXh0TGlmdGVkU3RhdGUpPT1udWxsP3ZvaWQgMDpuLmFjdGlvbnNCeUlkOygoKE09by5wYXlsb2FkLm5leHRMaWZ0ZWRTdGF0ZSk9PW51bGw/dm9pZCAwOk0uY29tcHV0ZWRTdGF0ZXMpfHxbXSkuZm9yRWFjaCgoe3N0YXRlOmh9LE8pPT57bGV0IFE9UFtPXXx8YCR7ZS5wcmVmaXh9c2V0U3RhdGVgO089PT0wP2UuaW5pdChoKTooaShoKSxlLnNlbmQoUSx0LmdldFN0YXRlKCkpKX0pfX19fTtleHBvcnR7YnQgYXMgSE1TQXVkaW9QbHVnaW5UeXBlLHkgYXMgSE1TTG9nTGV2ZWwsT2UgYXMgSE1TTWVzc2FnZVR5cGUsUiBhcyBITVNOb3RpZmljYXRpb25TZXZlcml0eSxUIGFzIEhNU05vdGlmaWNhdGlvblR5cGVzLHAgYXMgSE1TUGxheWxpc3RUeXBlLEwgYXMgSE1TUmVhY3RpdmVTdG9yZSxIIGFzIEhNU1Jvb21TdGF0ZSxDdCBhcyBITVNTaW11bGNhc3RMYXllcixwZSBhcyBITVNTdGF0cyxBdCBhcyBITVNWaWRlb1BsdWdpbkNhbnZhc0NvbnRleHRUeXBlLE50IGFzIEhNU1ZpZGVvUGx1Z2luVHlwZSxzZSBhcyBjcmVhdGVEZWZhdWx0U3RhdHNTdG9yZSx0ZSBhcyBjcmVhdGVEZWZhdWx0U3RvcmVTdGF0ZSx4dCBhcyBwYXJzZWRVc2VyQWdlbnQsT28gYXMgc2VsZWN0QXBwRGF0YSx3byBhcyBzZWxlY3RBcHBEYXRhQnlQYXRoLFplIGFzIHNlbGVjdEF1ZGlvUGxheWxpc3QsSm8gYXMgc2VsZWN0QXVkaW9QbGF5bGlzdFRyYWNrQnlQZWVySUQsVW8gYXMgc2VsZWN0QXVkaW9UcmFja0J5SUQsJHQgYXMgc2VsZWN0QXVkaW9UcmFja0J5UGVlcklELG50IGFzIHNlbGVjdEF1ZGlvVHJhY2tWb2x1bWUsdHIgYXMgc2VsZWN0QXVkaW9Wb2x1bWVCeVBlZXJJRCxHbyBhcyBzZWxlY3RBdXhpbGlhcnlBdWRpb0J5UGVlcklELHFvIGFzIHNlbGVjdEF1eGlsaWFyeVRyYWNrc0J5UGVlcklELE1vIGFzIHNlbGVjdEF2YWlsYWJsZVJvbGVOYW1lcyxXdCBhcyBzZWxlY3RCcm9hZGNhc3RNZXNzYWdlcyxvciBhcyBzZWxlY3RCcm9hZGNhc3RNZXNzYWdlc1VucmVhZENvdW50LEJvIGFzIHNlbGVjdENhbWVyYVN0cmVhbUJ5UGVlcklELFlpIGFzIHNlbGVjdENvbm5lY3Rpb25RdWFsaXRpZXMsJG8gYXMgc2VsZWN0Q29ubmVjdGlvblF1YWxpdHlCeVBlZXJJRCxjbyBhcyBzZWxlY3REZWdyYWRlZFRyYWNrcyxKaSBhcyBzZWxlY3REZXZpY2VzLElyIGFzIHNlbGVjdERpZElKb2luV2l0aGluLHRvIGFzIHNlbGVjdERvbWluYW50U3BlYWtlcixUZSBhcyBzZWxlY3RGdWxsQXBwRGF0YSxIbyBhcyBzZWxlY3RITFNTdGF0ZSxuZSBhcyBzZWxlY3RITVNNZXNzYWdlcyxqZSBhcyBzZWxlY3RITVNNZXNzYWdlc0NvdW50LE5zIGFzIHNlbGVjdEhNU1N0YXRzLEhyIGFzIHNlbGVjdElzQWxsb3dlZFRvUHVibGlzaCxwbyBhcyBzZWxlY3RJc0FsbG93ZWRUb1N1YnNjcmliZSxhdCBhcyBzZWxlY3RJc0F1ZGlvTG9jYWxseU11dGVkLG1lIGFzIHNlbGVjdElzQ29ubmVjdGVkVG9Sb29tLGxvIGFzIHNlbGVjdElzSW5QcmV2aWV3LHNvIGFzIHNlbGVjdElzTG9jYWxBdWRpb0VuYWJsZWQsUnIgYXMgc2VsZWN0SXNMb2NhbEF1ZGlvUGx1Z2luUHJlc2VudCxnZSBhcyBzZWxlY3RJc0xvY2FsU2NyZWVuU2hhcmVkLHFlIGFzIHNlbGVjdElzTG9jYWxWaWRlb0Rpc3BsYXlFbmFibGVkLEhlIGFzIHNlbGVjdElzTG9jYWxWaWRlb0VuYWJsZWQsa3IgYXMgc2VsZWN0SXNMb2NhbFZpZGVvUGx1Z2luUHJlc2VudCxabyBhcyBzZWxlY3RJc0xvY2FsbHlNdXRlZEJ5UGVlcklELHpvIGFzIHNlbGVjdElzUGVlckF1ZGlvRW5hYmxlZCxYbyBhcyBzZWxlY3RJc1BlZXJWaWRlb0VuYWJsZWQsZXIgYXMgc2VsZWN0SXNTY3JlZW5TaGFyZUxvY2FsbHlNdXRlZEJ5UGVlcklELGlvIGFzIHNlbGVjdElzU29tZW9uZVNjcmVlblNoYXJpbmcsQSBhcyBzZWxlY3RMb2NhbEF1ZGlvVHJhY2tJRCxLZSBhcyBzZWxlY3RMb2NhbE1lZGlhU2V0dGluZ3MsRSBhcyBzZWxlY3RMb2NhbFBlZXIsRiBhcyBzZWxlY3RMb2NhbFBlZXJJRCxYaSBhcyBzZWxlY3RMb2NhbFBlZXJOYW1lLGNlIGFzIHNlbGVjdExvY2FsUGVlclJvbGUsWmkgYXMgc2VsZWN0TG9jYWxQZWVyUm9sZU5hbWUsQmUgYXMgc2VsZWN0TG9jYWxUcmFja0lEcyxOIGFzIHNlbGVjdExvY2FsVmlkZW9UcmFja0lELFZlIGFzIHNlbGVjdE1lc3NhZ2VJRHNJbk9yZGVyLHJyIGFzIHNlbGVjdE1lc3NhZ2VzQnlQZWVySUQsYXIgYXMgc2VsZWN0TWVzc2FnZXNCeVJvbGUsVWUgYXMgc2VsZWN0TWVzc2FnZXNNYXAsY3IgYXMgc2VsZWN0TWVzc2FnZXNVbnJlYWRDb3VudEJ5UGVlcklELG5yIGFzIHNlbGVjdE1lc3NhZ2VzVW5yZWFkQ291bnRCeVJvbGUsRm8gYXMgc2VsZWN0UGVlckF1ZGlvQnlJRCxQciBhcyBzZWxlY3RQZWVyQnlDb25kaXRpb24seCBhcyBzZWxlY3RQZWVyQnlJRCx6aSBhcyBzZWxlY3RQZWVyQ291bnQsbHIgYXMgc2VsZWN0UGVlck1ldGFkYXRhLGRyIGFzIHNlbGVjdFBlZXJOYW1lLF9vIGFzIHNlbGVjdFBlZXJOYW1lQnlJRCxVdCBhcyBzZWxlY3RQZWVyU2NyZWVuU2hhcmluZyxvbyBhcyBzZWxlY3RQZWVyU2hhcmluZ0F1ZGlvLG5vIGFzIHNlbGVjdFBlZXJTaGFyaW5nQXVkaW9QbGF5bGlzdCxhbyBhcyBzZWxlY3RQZWVyU2hhcmluZ1ZpZGVvUGxheWxpc3QsVyBhcyBzZWxlY3RQZWVycyxEciBhcyBzZWxlY3RQZWVyc0J5Q29uZGl0aW9uLFNyIGFzIHNlbGVjdFBlZXJzQnlSb2xlLHYgYXMgc2VsZWN0UGVlcnNNYXAscm8gYXMgc2VsZWN0UGVlcnNTY3JlZW5TaGFyaW5nLFRyIGFzIHNlbGVjdFBlZXJzV2l0aEF1ZGlvU3RhdHVzLEZlIGFzIHNlbGVjdFBlcm1pc3Npb25zLG1vIGFzIHNlbGVjdFJUTVBTdGF0ZSxUbyBhcyBzZWxlY3RSZWNvcmRpbmdTdGF0ZSxlbyBhcyBzZWxlY3RSZW1vdGVQZWVycyx5ciBhcyBzZWxlY3RSb2xlQnlSb2xlTmFtZSxtciBhcyBzZWxlY3RSb2xlQ2hhbmdlUmVxdWVzdCxWIGFzIHNlbGVjdFJvbGVzTWFwLEQgYXMgc2VsZWN0Um9vbSxRaSBhcyBzZWxlY3RSb29tSUQsZm8gYXMgc2VsZWN0Um9vbVN0YXJ0VGltZSx1byBhcyBzZWxlY3RSb29tU3RhcnRlZCxiIGFzIHNlbGVjdFJvb21TdGF0ZSxWbyBhcyBzZWxlY3RTY3JlZW5BdWRpb1RyYWNrQnlJRCxydCBhcyBzZWxlY3RTY3JlZW5TaGFyZUF1ZGlvQnlQZWVySUQsWW8gYXMgc2VsZWN0U2NyZWVuU2hhcmVCeVBlZXJJRCxvdCBhcyBzZWxlY3RTY3JlZW5TaGFyZXNCeVBlZXJJZCxLbyBhcyBzZWxlY3RTY3JlZW5WaWRlb1RyYWNrQnlJRCxzciBhcyBzZWxlY3RTY3JlZW5zaGFyZUF1ZGlvVm9sdW1lQnlQZWVySUQsZ28gYXMgc2VsZWN0U2Vzc2lvbklkLGhvIGFzIHNlbGVjdFNlc3Npb25NZXRhZGF0YSxpciBhcyBzZWxlY3RTaW11bGNhc3RMYXllckJ5VHJhY2ssT3QgYXMgc2VsZWN0U3BlYWtlcnMsam8gYXMgc2VsZWN0VHJhY2tBdWRpb0J5SUQsU2UgYXMgc2VsZWN0VHJhY2tCeUlELGcgYXMgc2VsZWN0VHJhY2tzTWFwLFNvIGFzIHNlbGVjdFVucmVhZEhNU01lc3NhZ2VzQ291bnQsZXQgYXMgc2VsZWN0VmlkZW9QbGF5bGlzdCxRbyBhcyBzZWxlY3RWaWRlb1BsYXlsaXN0QXVkaW9UcmFja0J5UGVlcklELFdvIGFzIHNlbGVjdFZpZGVvUGxheWxpc3RWaWRlb1RyYWNrQnlQZWVySUQsc3QgYXMgc2VsZWN0VmlkZW9UcmFja0J5SUQsRnQgYXMgc2VsZWN0VmlkZW9UcmFja0J5UGVlcklELGllIGFzIHNpbXVsY2FzdE1hcHBpbmd9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/hms-video-store/dist/index.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/hms-video-store/node_modules/zustand/esm/shallow.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@100mslive/hms-video-store/node_modules/zustand/esm/shallow.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\nfunction shallow(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  const keysA = Object.keys(objA);\n  if (keysA.length !== Object.keys(objB).length) {\n    return false;\n  }\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (shallow);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9obXMtdmlkZW8tc3RvcmUvbm9kZV9tb2R1bGVzL3p1c3RhbmQvZXNtL3NoYWxsb3cuanMuanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0JBQWtCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrREFBZSxPQUFPLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0AxMDBtc2xpdmUvaG1zLXZpZGVvLXN0b3JlL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9zaGFsbG93LmpzPzZlZWUiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gc2hhbGxvdyhvYmpBLCBvYmpCKSB7XG4gIGlmIChPYmplY3QuaXMob2JqQSwgb2JqQikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAodHlwZW9mIG9iakEgIT09IFwib2JqZWN0XCIgfHwgb2JqQSA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqQiAhPT0gXCJvYmplY3RcIiB8fCBvYmpCID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG4gIGlmIChrZXlzQS5sZW5ndGggIT09IE9iamVjdC5rZXlzKG9iakIpLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXNBLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqQiwga2V5c0FbaV0pIHx8ICFPYmplY3QuaXMob2JqQVtrZXlzQVtpXV0sIG9iakJba2V5c0FbaV1dKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc2hhbGxvdztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/hms-video-store/node_modules/zustand/esm/shallow.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/hms-video-store/node_modules/zustand/esm/vanilla.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@100mslive/hms-video-store/node_modules/zustand/esm/vanilla.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\nfunction create(createState) {\n  let state;\n  const listeners = new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (nextState !== state) {\n      const previousState = state;\n      state = replace ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribeWithSelector = (listener, selector = getState, equalityFn = Object.is) => {\n    let currentSlice = selector(state);\n    function listenerToAdd() {\n      const nextSlice = selector(state);\n      if (!equalityFn(currentSlice, nextSlice)) {\n        const previousSlice = currentSlice;\n        listener(currentSlice = nextSlice, previousSlice);\n      }\n    }\n    listeners.add(listenerToAdd);\n    return () => listeners.delete(listenerToAdd);\n  };\n  const subscribe = (listener, selector, equalityFn) => {\n    if (selector || equalityFn) {\n      return subscribeWithSelector(listener, selector, equalityFn);\n    }\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => listeners.clear();\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(setState, getState, api);\n  return api;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (create);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9obXMtdmlkZW8tc3RvcmUvbm9kZV9tb2R1bGVzL3p1c3RhbmQvZXNtL3ZhbmlsbGEuanMuanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7O0FBRUEsK0RBQWUsTUFBTSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AMTAwbXNsaXZlL2htcy12aWRlby1zdG9yZS9ub2RlX21vZHVsZXMvenVzdGFuZC9lc20vdmFuaWxsYS5qcz9lMDIyIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGNyZWF0ZShjcmVhdGVTdGF0ZSkge1xuICBsZXQgc3RhdGU7XG4gIGNvbnN0IGxpc3RlbmVycyA9IG5ldyBTZXQoKTtcbiAgY29uc3Qgc2V0U3RhdGUgPSAocGFydGlhbCwgcmVwbGFjZSkgPT4ge1xuICAgIGNvbnN0IG5leHRTdGF0ZSA9IHR5cGVvZiBwYXJ0aWFsID09PSBcImZ1bmN0aW9uXCIgPyBwYXJ0aWFsKHN0YXRlKSA6IHBhcnRpYWw7XG4gICAgaWYgKG5leHRTdGF0ZSAhPT0gc3RhdGUpIHtcbiAgICAgIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBzdGF0ZTtcbiAgICAgIHN0YXRlID0gcmVwbGFjZSA/IG5leHRTdGF0ZSA6IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBuZXh0U3RhdGUpO1xuICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihzdGF0ZSwgcHJldmlvdXNTdGF0ZSkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0U3RhdGUgPSAoKSA9PiBzdGF0ZTtcbiAgY29uc3Qgc3Vic2NyaWJlV2l0aFNlbGVjdG9yID0gKGxpc3RlbmVyLCBzZWxlY3RvciA9IGdldFN0YXRlLCBlcXVhbGl0eUZuID0gT2JqZWN0LmlzKSA9PiB7XG4gICAgbGV0IGN1cnJlbnRTbGljZSA9IHNlbGVjdG9yKHN0YXRlKTtcbiAgICBmdW5jdGlvbiBsaXN0ZW5lclRvQWRkKCkge1xuICAgICAgY29uc3QgbmV4dFNsaWNlID0gc2VsZWN0b3Ioc3RhdGUpO1xuICAgICAgaWYgKCFlcXVhbGl0eUZuKGN1cnJlbnRTbGljZSwgbmV4dFNsaWNlKSkge1xuICAgICAgICBjb25zdCBwcmV2aW91c1NsaWNlID0gY3VycmVudFNsaWNlO1xuICAgICAgICBsaXN0ZW5lcihjdXJyZW50U2xpY2UgPSBuZXh0U2xpY2UsIHByZXZpb3VzU2xpY2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBsaXN0ZW5lcnMuYWRkKGxpc3RlbmVyVG9BZGQpO1xuICAgIHJldHVybiAoKSA9PiBsaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyVG9BZGQpO1xuICB9O1xuICBjb25zdCBzdWJzY3JpYmUgPSAobGlzdGVuZXIsIHNlbGVjdG9yLCBlcXVhbGl0eUZuKSA9PiB7XG4gICAgaWYgKHNlbGVjdG9yIHx8IGVxdWFsaXR5Rm4pIHtcbiAgICAgIHJldHVybiBzdWJzY3JpYmVXaXRoU2VsZWN0b3IobGlzdGVuZXIsIHNlbGVjdG9yLCBlcXVhbGl0eUZuKTtcbiAgICB9XG4gICAgbGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgcmV0dXJuICgpID0+IGxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICB9O1xuICBjb25zdCBkZXN0cm95ID0gKCkgPT4gbGlzdGVuZXJzLmNsZWFyKCk7XG4gIGNvbnN0IGFwaSA9IHsgc2V0U3RhdGUsIGdldFN0YXRlLCBzdWJzY3JpYmUsIGRlc3Ryb3kgfTtcbiAgc3RhdGUgPSBjcmVhdGVTdGF0ZShzZXRTdGF0ZSwgZ2V0U3RhdGUsIGFwaSk7XG4gIHJldHVybiBhcGk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/hms-video-store/node_modules/zustand/esm/vanilla.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/hms-video/dist/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@100mslive/hms-video/dist/index.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ENV\": function() { return /* binding */ V; },\n/* harmony export */   \"HMSAudioCodec\": function() { return /* binding */ qe; },\n/* harmony export */   \"HMSAudioContextHandler\": function() { return /* binding */ Re; },\n/* harmony export */   \"HMSAudioPluginType\": function() { return /* binding */ bt; },\n/* harmony export */   \"HMSAudioPluginsManager\": function() { return /* binding */ Qe; },\n/* harmony export */   \"HMSAudioTrack\": function() { return /* binding */ De; },\n/* harmony export */   \"HMSException\": function() { return /* binding */ T; },\n/* harmony export */   \"HMSLocalAudioTrack\": function() { return /* binding */ Pe; },\n/* harmony export */   \"HMSLocalVideoTrack\": function() { return /* binding */ ce; },\n/* harmony export */   \"HMSLogLevel\": function() { return /* binding */ F; },\n/* harmony export */   \"HMSPeerUpdate\": function() { return /* binding */ K; },\n/* harmony export */   \"HMSPlaylistType\": function() { return /* binding */ b; },\n/* harmony export */   \"HMSPluginUnsupportedTypes\": function() { return /* binding */ ie; },\n/* harmony export */   \"HMSRemoteAudioTrack\": function() { return /* binding */ wt; },\n/* harmony export */   \"HMSRemoteVideoTrack\": function() { return /* binding */ ge; },\n/* harmony export */   \"HMSRoomUpdate\": function() { return /* binding */ ne; },\n/* harmony export */   \"HMSSdk\": function() { return /* binding */ Ni; },\n/* harmony export */   \"HMSSimulcastLayer\": function() { return /* binding */ q; },\n/* harmony export */   \"HMSTrack\": function() { return /* binding */ pe; },\n/* harmony export */   \"HMSTrackType\": function() { return /* binding */ L; },\n/* harmony export */   \"HMSTrackUpdate\": function() { return /* binding */ N; },\n/* harmony export */   \"HMSVideoCodec\": function() { return /* binding */ Ke; },\n/* harmony export */   \"HMSVideoPluginCanvasContextType\": function() { return /* binding */ Oe; },\n/* harmony export */   \"HMSVideoPluginType\": function() { return /* binding */ Ie; },\n/* harmony export */   \"HMSVideoPluginsManager\": function() { return /* binding */ et; },\n/* harmony export */   \"HMSVideoTrack\": function() { return /* binding */ Ne; },\n/* harmony export */   \"HMSWebrtcInternals\": function() { return /* binding */ vt; },\n/* harmony export */   \"HMSWebrtcStats\": function() { return /* binding */ St; },\n/* harmony export */   \"getAnalyticsDeviceId\": function() { return /* binding */ mr; },\n/* harmony export */   \"getLocalDevices\": function() { return /* binding */ Ho; },\n/* harmony export */   \"getLocalScreen\": function() { return /* binding */ wo; },\n/* harmony export */   \"getLocalStream\": function() { return /* binding */ Fr; },\n/* harmony export */   \"isBrowser\": function() { return /* binding */ X; },\n/* harmony export */   \"isIOS\": function() { return /* binding */ Mt; },\n/* harmony export */   \"isMobile\": function() { return /* binding */ pr; },\n/* harmony export */   \"isNode\": function() { return /* binding */ he; },\n/* harmony export */   \"isPageHidden\": function() { return /* binding */ gr; },\n/* harmony export */   \"isSupported\": function() { return /* binding */ Wi; },\n/* harmony export */   \"parsedUserAgent\": function() { return /* binding */ ue; },\n/* harmony export */   \"simulcastMapping\": function() { return /* binding */ It; },\n/* harmony export */   \"validateDeviceAV\": function() { return /* binding */ zp; }\n/* harmony export */ });\n/* harmony import */ var webrtc_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webrtc-adapter */ \"./node_modules/webrtc-adapter/src/js/adapter_core.js\");\n/* harmony import */ var ua_parser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ua-parser-js */ \"./node_modules/ua-parser-js/src/ua-parser.js\");\n/* harmony import */ var ua_parser_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(ua_parser_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/index.js\");\n/* harmony import */ var eventemitter2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! eventemitter2 */ \"./node_modules/eventemitter2/lib/eventemitter2.js\");\n/* harmony import */ var eventemitter2__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(eventemitter2__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var sdp_transform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sdp-transform */ \"./node_modules/sdp-transform/lib/index.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/next/dist/build/polyfills/process.js\");\nvar ri=Object.defineProperty,ii=Object.defineProperties;var si=Object.getOwnPropertyDescriptors;var Ue=Object.getOwnPropertySymbols;var dr=Object.prototype.hasOwnProperty,lr=Object.prototype.propertyIsEnumerable;var ur=(a,e,t)=>e in a?ri(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,v=(a,e)=>{for(var t in e||(e={}))dr.call(e,t)&&ur(a,t,e[t]);if(Ue)for(var t of Ue(e))lr.call(e,t)&&ur(a,t,e[t]);return a},_=(a,e)=>ii(a,si(e));var yt=(a,e)=>{var t={};for(var r in a)dr.call(a,r)&&e.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&Ue)for(var r of Ue(a))e.indexOf(r)<0&&lr.call(a,r)&&(t[r]=a[r]);return t};var ai=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports);var c=(a,e,t)=>new Promise((r,i)=>{var s=l=>{try{d(t.next(l))}catch(h){i(h)}},n=l=>{try{d(t.throw(l))}catch(h){i(h)}},d=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,n);d((t=t.apply(a,e)).next())});var Tr=ai((gs,hi)=>{hi.exports={name:\"@100mslive/hms-video\",version:\"0.7.1\",license:\"MIT\",main:\"dist/index.cjs.js\",typings:\"dist/index.d.ts\",module:\"dist/index.js\",files:[\"dist\",\"src\"],engines:{node:\">=10\"},exports:{\".\":{require:\"./dist/index.cjs.js\",import:\"./dist/index.js\",default:\"./dist/index.js\"}},scripts:{prestart:\"rm -rf dist && yarn types:build\",start:'concurrently \"yarn dev\" \"yarn types\"',dev:\"node ../../scripts/dev\",\"build:only\":\"node ../../scripts/build\",build:\"yarn build:only && yarn types:build\",types:\"tsc -w\",\"types:build\":\"tsc -p tsconfig.json\",test:\"jest --maxWorkers=1\",lint:\"eslint -c ../../.eslintrc .\",\"lint:fix\":\"yarn lint --fix\",prepare:\"yarn build\",size:\"size-limit\",analyze:\"size-limit --why\",format:\"prettier --write src/**/*.ts\"},author:\"100ms <tech-common@100ms.live>\",devDependencies:{\"@types/sdp-transform\":\"^2.4.4\",\"@types/ua-parser-js\":\"^0.7.36\",\"@types/uuid\":\"^8.3.0\",\"jest-canvas-mock\":\"^2.3.1\",tslib:\"^2.2.0\"},dependencies:{eventemitter2:\"^6.4.7\",\"sdp-transform\":\"^2.14.1\",\"ua-parser-js\":\"^1.0.1\",uuid:\"^8.3.2\",\"webrtc-adapter\":\"^8.0.0\"},gitHead:\"8f89cfd2a2898848be5368da6211519f6c2c1cef\"}});var te=class{constructor(e){this.key=e;this.storage=null}getStorage(){return X&&!this.storage&&(hr(),this.storage=window.localStorage),this.storage}get(){var r;let e=(r=this.getStorage())==null?void 0:r.getItem(this.key);return e?JSON.parse(e):void 0}set(e){var r;let t=JSON.stringify(e);(r=this.getStorage())==null||r.setItem(this.key,t)}clear(){var e;(e=this.getStorage())==null||e.removeItem(this.key)}};var ue=new ua_parser_js__WEBPACK_IMPORTED_MODULE_1__.UAParser,Sr,he=typeof window==\"undefined\"&&!((Sr=ue.getBrowser().name)==null?void 0:Sr.toLowerCase().includes(\"electron\")),X=typeof window!=\"undefined\",V;(function(r){r.PROD=\"prod\",r.QA=\"qa\",r.DEV=\"dev\"})(V||(V={}));var ci=()=>!he,Wi=ci(),pr=()=>ue.getDevice().type===\"mobile\",mr=()=>{let a,e=new te(\"hms-analytics-deviceId\"),t=e.get();return t?a=t:(a=(0,uuid__WEBPACK_IMPORTED_MODULE_2__.v4)(),e.set(a)),a},gr=()=>typeof document!=\"undefined\"&&document.hidden,Mt=()=>{var a;return((a=ue.getOS().name)==null?void 0:a.toLowerCase())===\"ios\"};var vr=class{constructor(){this.valuesMap=new Map}getItem(e){return this.valuesMap.has(e)?String(this.valuesMap.get(e)):null}setItem(e,t){this.valuesMap.set(e,t)}removeItem(e){this.valuesMap.delete(e)}clear(){this.valuesMap.clear()}key(e){if(arguments.length===0)throw new TypeError(\"Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.\");return Array.from(this.valuesMap.keys())[e]}get length(){return this.valuesMap.size}},hr=()=>{X&&!localStorage&&(window.localStorage=new vr)};var F;(function(l){l[l.VERBOSE=0]=\"VERBOSE\",l[l.DEBUG=1]=\"DEBUG\",l[l.INFO=2]=\"INFO\",l[l.WARN=3]=\"WARN\",l[l.TIME=4]=\"TIME\",l[l.TIMEEND=5]=\"TIMEEND\",l[l.ERROR=6]=\"ERROR\",l[l.NONE=7]=\"NONE\"})(F||(F={}));var di=typeof window!=\"undefined\"&&typeof window.expect!=\"undefined\",o=class{static v(e,...t){this.log(0,e,...t)}static d(e,...t){this.log(1,e,...t)}static i(e,...t){this.log(2,e,...t)}static w(e,...t){this.log(3,e,...t)}static e(e,...t){this.log(6,e,...t)}static time(e){this.log(4,\"[HMSPerformanceTiming]\",e)}static timeEnd(e){this.log(5,\"[HMSPerformanceTiming]\",e,e)}static cleanUp(){performance.clearMarks(),performance.clearMeasures()}static log(e,t,...r){if(!(this.level.valueOf()>e.valueOf()))switch(e){case 0:{console.log(t,...r);break}case 1:{console.debug(t,...r);break}case 2:{console.info(t,...r);break}case 3:{console.warn(t,...r);break}case 6:{console.error(t,...r);break}case 4:{performance.mark(r[0]);break}case 5:{let i=r[0];try{let s=performance.measure(i,i);this.log(1,t,i,s==null?void 0:s.duration),performance.clearMarks(i),performance.clearMeasures(i)}catch(s){this.log(1,t,i,s)}break}}}};o.level=di?7:0;var fe=class{constructor({sender:e,message:t,type:r=\"chat\",recipientPeer:i,recipientRoles:s,time:n}){this.sender=e,this.message=t,this.type=r,this.recipientPeer=i,this.recipientRoles=s,this.time=n}toSignalParams(){var i,s;let e=(i=this.recipientRoles)==null?void 0:i.map(n=>n.name),t=(s=this.recipientPeer)==null?void 0:s.peerId,r={info:{message:this.message,type:this.type}};return(e==null?void 0:e.length)&&(r.roles=e),t&&(r.peer_id=t),r}toString(){var e;return`{\n      sender: ${this.sender};\n      recipientPeer: ${this.recipientPeer};\n      recipientRoles: ${(e=this.recipientRoles)==null?void 0:e.map(t=>t.name)};\n      message: ${this.message};\n      time: ${this.time};\n      type: ${this.type};\n    }`}};var Ge=class{constructor(e,t){this.id=e;this.store=t;this.recording={server:{running:!1},browser:{running:!1},hls:{running:!1}};this.rtmp={running:!1};this.hls={running:!1,variants:[]}}get localPeer(){return this.store.getLocalPeer()}get peers(){return this.store.getPeers()}};var ae=class{constructor({peerId:e,name:t,isLocal:r,customerUserId:i,metadata:s,role:n,joinedAt:d}){this.customerUserId=\"\";this.metadata=\"\";this.auxiliaryTracks=[];this.name=t,this.peerId=e,this.isLocal=r,this.customerUserId=i,this.metadata=s,this.joinedAt=d,n&&(this.role=n)}updateRole(e){this.role=e}updateName(e){this.name=e}updateMetadata(e){this.metadata=e}toString(){var e;return`{\n      name: ${this.name};\n      role: ${(e=this.role)==null?void 0:e.name};\n      peerId: ${this.peerId};\n      customerUserId: ${this.customerUserId};\n    }`}};var He=class{};He.makePeerId=()=>(0,uuid__WEBPACK_IMPORTED_MODULE_2__.v4)();var Ve=class extends ae{constructor(e){super(_(v({},e),{peerId:He.makePeerId(),isLocal:!0}));this.isLocal=!0;this.auxiliaryTracks=[]}};var $e=class extends ae{constructor(e){super(_(v({},e),{isLocal:!1}));this.isLocal=!1;this.auxiliaryTracks=[];this.fromRoomState=!1;this.fromRoomState=!!e.fromRoomState}};var re;(function(r){r.CUSTOM=\"CUSTOM\",r.LOCAL=\"LOCAL\",r.HMS=\"HMS\"})(re||(re={}));function ui(){if(X&&window){let a=window.location.hostname;return a===\"localhost\"||a===\"127.0.0.1\"?re.LOCAL:a.includes(\"app.100ms.live\")?re.HMS:re.CUSTOM}return re.CUSTOM}var Ee=ui();var fr=Tr().version;function _e(a=V.PROD,e){let t=\"web\",r=Ee!==re.LOCAL&&a===V.PROD?\"prod\":\"debug\";if(he)return Er({os:\"web_nodejs\",os_version:process.version,sdk:t,sdk_version:fr,env:r,domain:Ee,framework:\"node\",framework_version:process.version,framework_sdk_version:e==null?void 0:e.sdkVersion});let i=ue.getOS(),s=ue.getDevice(),n=ue.getBrowser(),d=At(`web_${i.name}`),l=i.version||\"\",h=At(`${n.name}_${n.version}`),u=h;return s.type&&(u=`${At(`${s.vendor}_${s.type}`)}/${h}`),Er({os:d,os_version:l,sdk:t,sdk_version:fr,device_model:u,env:r,domain:Ee,framework:e==null?void 0:e.type,framework_version:e==null?void 0:e.version,framework_sdk_version:e==null?void 0:e.sdkVersion})}function At(a){return a.replace(/ /g,\"_\")}var Er=(a,e=\",\")=>Object.keys(a).filter(t=>!!a[t]).map(t=>`${t}:${a[t]}`).join(e);var O=class{constructor({name:e,level:t,properties:r,includesPII:i,timestamp:s}){this.metadata={peer:{},userAgent:_e()};this.name=e,this.level=t,this.includesPII=i||!1,this.properties=r||{},this.timestamp=s||new Date().getTime(),this.event_id=(0,uuid__WEBPACK_IMPORTED_MODULE_2__.v4)(),this.device_id=mr()}toSignalParams(){return{name:this.name,info:_(v({},this.properties),{timestamp:this.timestamp,domain:Ee}),timestamp:new Date().getTime()}}};var We;(function(i){i[i.VERBOSE=0]=\"VERBOSE\",i[i.INFO=1]=\"INFO\",i[i.ERROR=2]=\"ERROR\",i[i.OFF=3]=\"OFF\"})(We||(We={}));var D;(function(i){i[i.VERBOSE=0]=\"VERBOSE\",i[i.INFO=1]=\"INFO\",i[i.ERROR=2]=\"ERROR\",i[i.OFF=3]=\"OFF\"})(D||(D={}));var T=class extends Error{constructor(e,t,r,i,s,n=!1){super(i);this.code=e;this.name=t;this.message=i;this.description=s;this.isTerminal=n;Object.setPrototypeOf(this,T.prototype),this.action=r.toString()}toAnalyticsProperties(){return{error_name:this.name,error_code:this.code,error_message:this.message,error_description:this.description,action:this.action,is_terminal:this.isTerminal}}addNativeError(e){this.nativeError=e}toString(){var e;return`{\n      code: ${this.code};\n      name: ${this.name};\n      action: ${this.action};\n      message: ${this.message};\n      description: ${this.description};\n      isTerminal: ${this.isTerminal};\n      nativeError: ${(e=this.nativeError)==null?void 0:e.message};\n    }`}};var R=class{static connect(e,t,r=new Date,i=new Date,s){let n=this.eventNameFor(\"connect\",e===void 0),d=e?D.ERROR:D.INFO,l=this.getPropertiesWithError(_(v({},t),{[this.KEY_REQUESTED_AT]:r==null?void 0:r.getTime(),[this.KEY_RESPONDED_AT]:i==null?void 0:i.getTime(),endpoint:s}),e);return new O({name:n,level:d,properties:l})}static disconnect(e,t){let r=\"disconnected\",i=e?D.ERROR:D.INFO,s=this.getPropertiesWithError(t,e);return new O({name:r,level:i,properties:s})}static preview(r){var i=r,{error:e}=i,t=yt(i,[\"error\"]);let s=this.eventNameFor(\"preview\",e===void 0),n=e?D.ERROR:D.INFO,d=this.getPropertiesWithError(t,e);return new O({name:s,level:n,properties:d})}static join(r){var i=r,{error:e}=i,t=yt(i,[\"error\"]);let s=this.eventNameFor(\"join\",e===void 0),n=e?D.ERROR:D.INFO,d=this.getPropertiesWithError(_(v({},t),{is_preview_called:!!t.is_preview_called}),e);return new O({name:s,level:n,properties:d})}static publish({devices:e,settings:t,error:r}){let i=this.eventNameFor(\"publish\",r===void 0),s=r?D.ERROR:D.INFO,n=this.getPropertiesWithError({devices:e,audio:t==null?void 0:t.audio,video:t==null?void 0:t.video},r);return new O({name:i,level:s,properties:n})}static subscribeFail(e){let t=this.eventNameFor(\"subscribe\",!1),r=D.ERROR,i=this.getErrorProperties(e);return new O({name:t,level:r,properties:i})}static leave(){return new O({name:\"leave\",level:D.INFO})}static autoplayError(){return new O({name:\"autoplayError\",level:D.ERROR})}static deviceChange({selection:e,type:t,devices:r,error:i}){let s=this.eventNameFor(i?\"publish\":`device.${t}`,i===void 0),n=i?D.ERROR:D.INFO,d=this.getPropertiesWithError({selection:e,devices:r},i);return new O({name:s,level:n,properties:d})}static performance(e){let t=\"perf.stats\",r=D.INFO,i=e.toAnalyticsProperties();return new O({name:t,level:r,properties:i})}static rtcStats(e){let t=\"rtc.stats\",r=D.INFO,i=e.toAnalyticsProperties();return new O({name:t,level:r,properties:i})}static degradationStats(e,t){let r=\"video.degradation.stats\",i=D.INFO,s={degradedAt:e.degradedAt,trackId:e.trackId};if(!t&&e.degradedAt instanceof Date){let n=new Date,d=n.valueOf()-e.degradedAt.valueOf();s=_(v({},s),{duration:d,restoredAt:n})}return new O({name:r,level:i,properties:s})}static audioDetectionFail(e,t){let r=this.getPropertiesWithError({device:t},e),i=D.ERROR,s=\"audiopresence.failed\";return new O({name:s,level:i,properties:r})}static previewNetworkQuality(e){return new O({name:\"perf.networkquality.preview\",level:e.error?D.ERROR:D.INFO,properties:e})}static eventNameFor(e,t){return`${e}.${t?\"success\":\"failed\"}`}static getPropertiesWithError(e,t){let r=this.getErrorProperties(t);return e=v(v({},r),e),e}static getErrorProperties(e){return e?e instanceof T?e.toAnalyticsProperties():{error_name:e.name,error_message:e.message,error_description:e.cause}:{}}};R.KEY_REQUESTED_AT=\"requested_at\",R.KEY_RESPONDED_AT=\"responded_at\";var M;(function(u){u.INIT=\"init_response_time\",u.WEBSOCKET_CONNECT=\"ws_connect_time\",u.ON_POLICY_CHANGE=\"on_policy_change_time\",u.LOCAL_AUDIO_TRACK=\"local_audio_track_time\",u.LOCAL_VIDEO_TRACK=\"local_video_track_time\",u.JOIN=\"join_time\",u.PREVIEW=\"preview_time\",u.PEER_LIST=\"peer_list_time\",u.ROOM_STATE=\"room_state_time\",u.JOIN_RESPONSE=\"join_response_time\"})(M||(M={}));var mi=[M.INIT,M.WEBSOCKET_CONNECT,M.ON_POLICY_CHANGE,M.LOCAL_AUDIO_TRACK,M.LOCAL_VIDEO_TRACK,M.PEER_LIST,M.ROOM_STATE],Pt=class{constructor(){this.eventPerformanceMeasures={}}start(e){performance.mark(e)}end(e){var t;try{this.eventPerformanceMeasures[e]=performance.measure(e,e),o.d(\"[HMSPerformanceTiming]\",e,(t=this.eventPerformanceMeasures[e])==null?void 0:t.duration)}catch(r){o.w(\"[AnalyticsTimer]\",`Error in measuring performance for event ${e}`,{error:r})}}getTimeTaken(e){var t;return(t=this.eventPerformanceMeasures[e])==null?void 0:t.duration}getTimes(...e){return[...mi,...e].reduce((t,r)=>_(v({},t),{[r]:this.getTimeTaken(r)}),{})}cleanUp(){this.eventPerformanceMeasures={}}};var f={WebSocketConnectionErrors:{FAILED_TO_CONNECT:1e3,WEBSOCKET_CONNECTION_LOST:1003,ABNORMAL_CLOSE:1006},InitAPIErrors:{SERVER_ERRORS:2e3,INIT_CONFIG_NOT_AVAILABLE:2002,ENDPOINT_UNREACHABLE:2003,INVALID_TOKEN_FORMAT:2004},TracksErrors:{GENERIC_TRACK:3e3,CANT_ACCESS_CAPTURE_DEVICE:3001,DEVICE_NOT_AVAILABLE:3002,DEVICE_IN_USE:3003,DEVICE_LOST_MIDWAY:3008,NOTHING_TO_RETURN:3005,INVALID_VIDEO_SETTINGS:3006,CODEC_CHANGE_NOT_PERMITTED:3007,AUTOPLAY_ERROR:3008,OVER_CONSTRAINED:3009,NO_AUDIO_DETECTED:3010,SYSTEM_DENIED_PERMISSION:3011,CURRENT_TAB_NOT_SHARED:3012},WebrtcErrors:{CREATE_OFFER_FAILED:4001,CREATE_ANSWER_FAILED:4002,SET_LOCAL_DESCRIPTION_FAILED:4003,SET_REMOTE_DESCRIPTION_FAILED:4004,ICE_FAILURE:4005},WebsocketMethodErrors:{SERVER_ERRORS:5e3,ALREADY_JOINED:5001,CANNOT_JOIN_PREVIEW_IN_PROGRESS:5002},GenericErrors:{NOT_CONNECTED:6e3,SIGNALLING:6001,UNKNOWN:6002,NOT_READY:6003,JSON_PARSING_FAILED:6004,TRACK_METADATA_MISSING:6005,RTC_TRACK_MISSING:6006,PEER_METADATA_MISSING:6007,INVALID_ROLE:6008,PREVIEW_IN_PROGRESS:6009,MISSING_MEDIADEVICES:6010,MISSING_RTCPEERCONNECTION:6011},PlaylistErrors:{NO_ENTRY_TO_PLAY:8001,NO_ENTRY_IS_PLAYING:8002}};var p;(function(I){I.NONE=\"NONE\",I.TRACK=\"TRACK\",I.INIT=\"INIT\",I.PUBLISH=\"PUBLISH\",I.UNPUBLISH=\"UNPUBLISH\",I.JOIN=\"JOIN\",I.SUBSCRIBE=\"SUBSCRIBE\",I.DATA_CHANNEL_SEND=\"DATA_CHANNEL_SEND\",I.RESTART_ICE=\"RESTART_ICE\",I.VIDEO_PLUGINS=\"VIDEO_PLUGINS\",I.AUDIO_PLUGINS=\"AUDIO_PLUGINS\",I.AUTOPLAY=\"AUTOPLAY\",I.RECONNECT_SIGNAL=\"RECONNECT_SIGNAL\",I.VALIDATION=\"VALIDATION\",I.PLAYLIST=\"PLAYLIST\",I.PREVIEW=\"PREVIEW\"})(p||(p={}));var m={WebSocketConnectionErrors:{FailedToConnect(a,e=\"\"){return new T(f.WebSocketConnectionErrors.FAILED_TO_CONNECT,\"WebsocketFailedToConnect\",a,`[WS]: ${e}`,`[WS]: ${e}`)},WebSocketConnectionLost(a,e=\"\"){return new T(f.WebSocketConnectionErrors.WEBSOCKET_CONNECTION_LOST,\"WebSocketConnectionLost\",a,\"Network connection lost \",e)},AbnormalClose(a,e=\"\"){return new T(f.WebSocketConnectionErrors.ABNORMAL_CLOSE,\"WebSocketAbnormalClose\",a,\"Websocket closed abnormally\",e)}},InitAPIErrors:{ServerErrors(a,e,t=\"\"){return new T(a,\"ServerErrors\",e,`[INIT]: Server error ${t}`,t,!0)},EndpointUnreachable(a,e=\"\"){return new T(f.InitAPIErrors.ENDPOINT_UNREACHABLE,\"EndpointUnreachable\",a,`Endpoint is not reachable - ${e}`,e)},InvalidTokenFormat(a,e=\"\"){return new T(f.InitAPIErrors.INVALID_TOKEN_FORMAT,\"InvalidTokenFormat\",a,`Token is not in proper JWT format - ${e}`,e,!0)},InitConfigNotAvailable(a,e=\"\"){return new T(f.InitAPIErrors.INIT_CONFIG_NOT_AVAILABLE,\"InitError\",a,`[INIT]: ${e}`,`[INIT]: ${e}`)}},TracksErrors:{GenericTrack(a,e=\"\"){return new T(f.TracksErrors.GENERIC_TRACK,\"GenericTrack\",a,`[TRACK]: ${e}`,`[TRACK]: ${e}`)},CantAccessCaptureDevice(a,e,t=\"\"){return new T(f.TracksErrors.CANT_ACCESS_CAPTURE_DEVICE,\"CantAccessCaptureDevice\",a,`User denied permission to access capture device - ${e}`,t)},DeviceNotAvailable(a,e,t=\"\"){return new T(f.TracksErrors.DEVICE_NOT_AVAILABLE,\"DeviceNotAvailable\",a,`[TRACK]: Capture device is no longer available - ${e}`,t)},DeviceInUse(a,e,t=\"\"){return new T(f.TracksErrors.DEVICE_IN_USE,\"DeviceInUse\",a,`[TRACK]: Capture device is in use by another application - ${e}`,t)},DeviceLostMidway(a,e,t=\"\"){return new T(f.TracksErrors.DEVICE_LOST_MIDWAY,\"DeviceLostMidway\",a,`Lost access to capture device midway - ${e}`,t)},NothingToReturn(a,e=\"\",t=\"There is no media to return. Please select either video or audio or both.\"){return new T(f.TracksErrors.NOTHING_TO_RETURN,\"NothingToReturn\",a,t,e)},InvalidVideoSettings(a,e=\"\"){return new T(f.TracksErrors.INVALID_VIDEO_SETTINGS,\"InvalidVideoSettings\",a,\"Cannot enable simulcast when no video settings are provided\",e)},AutoplayBlocked(a,e=\"\"){return new T(f.TracksErrors.AUTOPLAY_ERROR,\"AutoplayBlocked\",a,\"Autoplay blocked because the user didn't interact with the document first\",e)},CodecChangeNotPermitted(a,e=\"\"){return new T(f.TracksErrors.CODEC_CHANGE_NOT_PERMITTED,\"CodecChangeNotPermitted\",a,\"Codec can't be changed mid call.\",e)},OverConstrained(a,e,t=\"\"){return new T(f.TracksErrors.OVER_CONSTRAINED,\"OverConstrained\",a,`[TRACK]: Requested constraints cannot be satisfied with the device hardware - ${e}`,t)},NoAudioDetected(a,e=\"Please check the mic or use another audio input\"){return new T(f.TracksErrors.NO_AUDIO_DETECTED,\"NoAudioDetected\",a,\"No audio input detected from microphone\",e)},SystemDeniedPermission(a,e,t=\"\"){return new T(f.TracksErrors.SYSTEM_DENIED_PERMISSION,\"SystemDeniedPermission\",a,`Operating System denied permission to access capture device - ${e}`,t)},CurrentTabNotShared(){return new T(f.TracksErrors.CURRENT_TAB_NOT_SHARED,\"CurrentTabNotShared\",p.TRACK,\"The app requires you to share the current tab\",\"You must screen share the current tab in order to proceed\")}},WebrtcErrors:{CreateOfferFailed(a,e=\"\"){return new T(f.WebrtcErrors.CREATE_OFFER_FAILED,\"CreateOfferFailed\",a,`[${a.toString()}]: Failed to create offer. `,e)},CreateAnswerFailed(a,e=\"\"){return new T(f.WebrtcErrors.CREATE_ANSWER_FAILED,\"CreateAnswerFailed\",a,`[${a.toString()}]: Failed to create answer. `,e)},SetLocalDescriptionFailed(a,e=\"\"){return new T(f.WebrtcErrors.SET_LOCAL_DESCRIPTION_FAILED,\"SetLocalDescriptionFailed\",a,`[${a.toString()}]: Failed to set offer. `,e)},SetRemoteDescriptionFailed(a,e=\"\"){return new T(f.WebrtcErrors.SET_REMOTE_DESCRIPTION_FAILED,\"SetRemoteDescriptionFailed\",a,`[${a.toString()}]: Failed to set answer. `,e)},ICEFailure(a,e=\"\"){return new T(f.WebrtcErrors.ICE_FAILURE,\"ICEFailure\",a,`[${a.toString()}]: Ice connection state FAILED`,e)}},WebsocketMethodErrors:{ServerErrors(a,e,t){return new T(a,\"ServerErrors\",e,t,t,!0)},AlreadyJoined(a,e=\"\"){return new T(f.WebsocketMethodErrors.ALREADY_JOINED,\"AlreadyJoined\",a,\"[JOIN]: You have already joined this room.\",e)},CannotJoinPreviewInProgress(a,e=\"\"){return new T(f.WebsocketMethodErrors.CANNOT_JOIN_PREVIEW_IN_PROGRESS,\"CannotJoinPreviewInProgress\",a,\"[JOIN]: Cannot join if preview is in progress\",e)}},GenericErrors:{NotConnected(a,e=\"\"){return new T(f.GenericErrors.NOT_CONNECTED,\"NotConnected\",a,\"Client is not connected\",e)},Signalling(a,e){return new T(f.GenericErrors.SIGNALLING,\"Signalling\",a,`Unknown signalling error: ${a.toString()} ${e} `,e)},Unknown(a,e){return new T(f.GenericErrors.UNKNOWN,\"Unknown\",a,`Unknown exception: ${e}`,e)},NotReady(a,e=\"\"){return new T(f.GenericErrors.NOT_READY,\"NotReady\",a,e,e)},JsonParsingFailed(a,e,t=\"\"){return new T(f.GenericErrors.JSON_PARSING_FAILED,\"JsonParsingFailed\",a,`Failed to parse JSON message - ${e}`,t)},TrackMetadataMissing(a,e=\"\"){return new T(f.GenericErrors.TRACK_METADATA_MISSING,\"TrackMetadataMissing\",a,\"Track Metadata Missing\",e)},RTCTrackMissing(a,e=\"\"){return new T(f.GenericErrors.RTC_TRACK_MISSING,\"RTCTrackMissing\",a,\"RTC Track missing\",e)},PeerMetadataMissing(a,e=\"\"){return new T(f.GenericErrors.PEER_METADATA_MISSING,\"PeerMetadataMissing\",a,\"Peer Metadata Missing\",e)},ValidationFailed(a,e){return new T(f.GenericErrors.INVALID_ROLE,\"ValidationFailed\",p.VALIDATION,a,e?JSON.stringify(e):\"\")},InvalidRole(a,e){return new T(f.GenericErrors.INVALID_ROLE,\"InvalidRole\",a,\"Invalid role. Join with valid role\",e,!0)},PreviewAlreadyInProgress(a,e=\"\"){return new T(f.GenericErrors.PREVIEW_IN_PROGRESS,\"PreviewAlreadyInProgress\",a,\"[Preview]: Cannot join if preview is in progress\",e)},MissingMediaDevices(){return new T(f.GenericErrors.MISSING_MEDIADEVICES,\"MissingMediaDevices\",p.JOIN,\"navigator.mediaDevices is undefined. 100ms SDK won't work on this website as WebRTC is not supported on HTTP endpoints(missing navigator.mediaDevices). Please ensure you're using the SDK either on localhost or a valid HTTPS endpoint.\",\"\",!0)},MissingRTCPeerConnection(){return new T(f.GenericErrors.MISSING_RTCPEERCONNECTION,\"MissingRTCPeerConnection\",p.JOIN,\"RTCPeerConnection which is a core requirement for WebRTC call was not found, this could be due to an unsupported browser or browser extensions blocking WebRTC\",\"\",!0)}},MediaPluginErrors:{PlatformNotSupported(a,e=\"\"){return new T(7001,\"PlatformNotSupported\",a,\"Check HMS Docs to see the list of supported platforms\",e)},InitFailed(a,e=\"\"){return new T(7002,\"InitFailed\",a,\"Plugin init failed\",e)},ProcessingFailed(a,e=\"\"){return new T(7003,\"ProcessingFailed\",a,\"Plugin processing failed\",e)},AddAlreadyInProgress(a,e=\"\"){return new T(7004,\"AddAlreadyInProgress\",a,\"Plugin add already in progress\",e)},DeviceNotSupported(a,e=\"\"){return new T(7005,\"DeviceNotSupported\",a,\"Check HMS Docs to see the list of supported devices\",e)}},PlaylistErrors:{NoEntryToPlay(a,e){return new T(f.PlaylistErrors.NO_ENTRY_TO_PLAY,\"NoEntryToPlay\",a,\"Reached end of playlist\",e)},NoEntryPlaying(a,e){return new T(f.PlaylistErrors.NO_ENTRY_IS_PLAYING,\"NoEntryIsPlaying\",a,\"No entry is playing at this time\",e)}}};var W;(function(s){s.UNKNOWN=\"unknown(video or audio)\",s.AUDIO=\"audio\",s.VIDEO=\"video\",s.AV=\"audio, video\",s.SCREEN=\"screen\"})(W||(W={}));function gi(a,e){let t=a.toLowerCase();return t.includes(\"device not found\")?m.TracksErrors.DeviceNotAvailable(p.TRACK,e,a):t.includes(\"permission denied\")?m.TracksErrors.CantAccessCaptureDevice(p.TRACK,e,a):m.TracksErrors.GenericTrack(p.TRACK,a)}function Si(a,e=\"\"){if(webrtc_adapter__WEBPACK_IMPORTED_MODULE_0__[\"default\"].browserDetails.browser===\"chrome\"&&a.name===\"NotAllowedError\"&&a.message.includes(\"denied by system\"))return m.TracksErrors.SystemDeniedPermission(p.TRACK,e,a.message);if(webrtc_adapter__WEBPACK_IMPORTED_MODULE_0__[\"default\"].browserDetails.browser===\"firefox\"&&a.name===\"NotFoundError\"){let r=m.TracksErrors.SystemDeniedPermission(p.TRACK,e,a.message);return r.description=`Capture device is either blocked at Operating System level or not available - ${e}`,r}switch(a.name){case\"OverconstrainedError\":return m.TracksErrors.OverConstrained(p.TRACK,e,a.constraint);case\"NotAllowedError\":return m.TracksErrors.CantAccessCaptureDevice(p.TRACK,e,a.message);case\"NotFoundError\":return m.TracksErrors.DeviceNotAvailable(p.TRACK,e,a.message);case\"NotReadableError\":return m.TracksErrors.DeviceInUse(p.TRACK,e,a.message);case\"TypeError\":return m.TracksErrors.NothingToReturn(p.TRACK,a.message);default:return gi(a.message,e)}}function Z(a,e){let t=Si(a,e);return t.addNativeError(a),t}var ne;(function(s){s.RECORDING_STATE_UPDATED=\"RECORDING_STATE_UPDATED\",s.BROWSER_RECORDING_STATE_UPDATED=\"BROWSER_RECORDING_STATE_UPDATED\",s.SERVER_RECORDING_STATE_UPDATED=\"SERVER_RECORDING_STATE_UPDATED\",s.RTMP_STREAMING_STATE_UPDATED=\"RTMP_STREAMING_STATE_UPDATED\",s.HLS_STREAMING_STATE_UPDATED=\"HLS_STREAMING_STATE_UPDATED\"})(ne||(ne={}));var K;(function(S){S[S.PEER_JOINED=0]=\"PEER_JOINED\",S[S.PEER_LEFT=1]=\"PEER_LEFT\",S[S.AUDIO_TOGGLED=2]=\"AUDIO_TOGGLED\",S[S.VIDEO_TOGGLED=3]=\"VIDEO_TOGGLED\",S[S.BECAME_DOMINANT_SPEAKER=4]=\"BECAME_DOMINANT_SPEAKER\",S[S.RESIGNED_DOMINANT_SPEAKER=5]=\"RESIGNED_DOMINANT_SPEAKER\",S[S.STARTED_SPEAKING=6]=\"STARTED_SPEAKING\",S[S.STOPPED_SPEAKING=7]=\"STOPPED_SPEAKING\",S[S.ROLE_UPDATED=8]=\"ROLE_UPDATED\",S[S.PEER_LIST=9]=\"PEER_LIST\",S[S.NAME_UPDATED=10]=\"NAME_UPDATED\",S[S.METADATA_UPDATED=11]=\"METADATA_UPDATED\"})(K||(K={}));var N;(function(d){d[d.TRACK_ADDED=0]=\"TRACK_ADDED\",d[d.TRACK_REMOVED=1]=\"TRACK_REMOVED\",d[d.TRACK_MUTED=2]=\"TRACK_MUTED\",d[d.TRACK_UNMUTED=3]=\"TRACK_UNMUTED\",d[d.TRACK_DESCRIPTION_CHANGED=4]=\"TRACK_DESCRIPTION_CHANGED\",d[d.TRACK_DEGRADED=5]=\"TRACK_DEGRADED\",d[d.TRACK_RESTORED=6]=\"TRACK_RESTORED\"})(N||(N={}));var q;(function(i){i.NONE=\"none\",i.LOW=\"low\",i.MEDIUM=\"medium\",i.HIGH=\"high\"})(q||(q={}));var It={f:q.HIGH,h:q.MEDIUM,q:q.LOW};var Ke;(function(r){r.VP8=\"vp8\",r.VP9=\"vp9\",r.H264=\"h264\"})(Ke||(Ke={}));var qe;(function(e){e.OPUS=\"opus\"})(qe||(qe={}));var b;(function(t){t.audio=\"audio\",t.video=\"video\"})(b||(b={}));var z=class{constructor(){this._volume=1;this._codec=qe.OPUS;this._maxBitrate=32;this._deviceId=\"default\";this._advanced=[{googEchoCancellation:{exact:!0}},{googExperimentalEchoCancellation:{exact:!0}},{autoGainControl:{exact:!0}},{noiseSuppression:{exact:!0}},{googHighpassFilter:{exact:!0}},{googAudioMirroring:{exact:!0}}]}volume(e){if(!(0<=e&&e<=1))throw Error(\"volume can only be in range [0.0, 1.0]\");return this._volume=e,this}codec(e){return this._codec=e,this}maxBitrate(e){if(e&&e<=0)throw Error(\"maxBitrate should be >= 1\");return this._maxBitrate=e,this}deviceId(e){return this._deviceId=e,this}advanced(e){return this._advanced=e,this}build(){return new ke(this._volume,this._codec,this._maxBitrate,this._deviceId,this._advanced)}},ke=class{constructor(e,t,r,i,s){this.volume=e,this.codec=t,this.maxBitrate=r,this.deviceId=i,this.advanced=s}toConstraints(){return{deviceId:this.deviceId,advanced:this.advanced}}toAnalyticsProperties(){return{audio_bitrate:this.maxBitrate,audio_codec:this.codec}}};var J=class{constructor(){this._width=320;this._height=180;this._codec=Ke.VP8;this._maxFramerate=30;this._maxBitrate=150;this._advanced=[]}setWidth(e){return this._width=e,this}setHeight(e){return this._height=e,this}codec(e){return this._codec=e,this}maxFramerate(e){if(e&&e<=0)throw Error(\"maxFramerate should be >= 1\");return this._maxFramerate=e,this}maxBitrate(e,t=!0){if(typeof e==\"number\"&&e<=0)throw Error(\"maxBitrate should be >= 1\");return this._maxBitrate=e,!this._maxBitrate&&t&&(this._maxBitrate=15e4),this}deviceId(e){return this._deviceId=e,this}advanced(e){return this._advanced=e,this}build(){return new ye(this._width,this._height,this._codec,this._maxFramerate,this._deviceId,this._advanced,this._maxBitrate)}},ye=class{constructor(e,t,r,i,s,n,d){this.width=e,this.height=t,this.codec=r,this.maxFramerate=i,this.maxBitrate=d,this.deviceId=s,this.advanced=n}toConstraints(e){let t=\"ideal\";return e&&(t=\"max\"),{width:{[t]:this.width},height:{[t]:this.height},frameRate:this.maxFramerate,deviceId:this.deviceId}}toAnalyticsProperties(){return{width:this.width,height:this.height,video_bitrate:this.maxBitrate,framerate:this.maxFramerate,video_codec:this.codec}}};var je=class{constructor(){this._video=new J().build();this._audio=new z().build();this._screen=new J().build();this._simulcast=!1}video(e){return this._video=e,this}audio(e){return this._audio=e,this}screen(e){return this._screen=e,this}simulcast(e){return this._simulcast=e,this}build(){if(this._audio===null&&this._video===null)throw m.TracksErrors.NothingToReturn(p.TRACK);if(this._video===null&&this._simulcast)throw m.TracksErrors.InvalidVideoSettings(p.TRACK,\"Cannot enable simulcast when no video settings are provided\");return new Le(this._video,this._audio,this._simulcast,this._screen||void 0)}},Le=class{constructor(e,t,r,i=null){this.video=e,this.audio=t,this.simulcast=r,this.screen=i}toAnalyticsProperties(){let e={audio_enabled:this.audio!==null,video_enabled:this.video!==null};return this.audio&&(e=v(v({},this.audio.toAnalyticsProperties()),e)),this.video&&(e=v(v({},this.video.toAnalyticsProperties()),e)),e}};var Me=class{constructor(e){this.tracks=new Array;this.nativeStream=e,this.id=e.id}};var Je=a=>a?`{\n    trackId: ${a.id};\n    kind: ${a.kind};\n    enabled: ${a.enabled};\n    muted: ${a.muted};\n    readyState: ${a.readyState};\n  }`:\"\";var pe=class{constructor(e,t,r){this.logIdentifier=\"\";this.stream=e,this.nativeTrack=t,this.source=r}get enabled(){return this.nativeTrack.enabled}get trackId(){return this.firstTrackId||this.sdpTrackId||this.nativeTrack.id}getMediaTrackSettings(){return this.nativeTrack.getSettings()}setEnabled(e){return c(this,null,function*(){this.nativeTrack.enabled=e})}setSdpTrackId(e){this.sdpTrackId=e}setFirstTrackId(e){this.firstTrackId=e}cleanup(){var e;(e=this.nativeTrack)==null||e.stop()}toString(){return`{\n      streamId: ${this.stream.id};\n      peerId: ${this.peerId};\n      trackId: ${this.trackId};\n      logIdentifier: ${this.logIdentifier};\n      source: ${this.source};\n      enabled: ${this.enabled};\n      nativeTrack: ${Je(this.nativeTrack)};\n    }`}};var L;(function(t){t.AUDIO=\"audio\",t.VIDEO=\"video\"})(L||(L={}));var Ae=class extends Me{constructor(e,t){super(e);this.audio=!0;this.video=q.NONE;this.connection=t}setAudio(e,t,r){return c(this,null,function*(){this.audio!==e&&(this.audio=e,o.d(`[Remote stream] ${r||\"\"} ${this.id}`,`subscribing audio - ${this.audio}`),yield this.connection.sendOverApiDataChannelWithResponse({params:{subscribed:this.audio,track_id:t},method:\"prefer-audio-track-state\"}))})}setVideoLayerLocally(e,t,r){this.video=e,o.d(`[Remote stream] ${t} - ${this.id}`,`source: ${r} Setting layer field to - ${e}`)}setVideoLayer(e,t,r,i){return this.setVideoLayerLocally(e,r,i),o.d(`[Remote stream] ${r} - ${this.id}`,`request ${e} layer`),this.connection.sendOverApiDataChannelWithResponse({params:{max_spatial_layer:this.video,track_id:t},method:\"prefer-video-track-state\"})}getSimulcastLayer(){return this.video}getVideoLayer(){return this.video}isAudioSubscribed(){return this.audio}};var De=class extends pe{constructor(e,t,r){super(e,t,r);this.type=L.AUDIO;this.audioElement=null;if(t.kind!==\"audio\")throw new Error(\"Expected 'track' kind = 'audio'\")}getVolume(){return this.audioElement?this.audioElement.volume*100:null}setVolume(e){return c(this,null,function*(){if(e<0||e>100)throw Error(\"Please pass a valid number between 0-100\");yield this.subscribeToAudio(e===0?!1:this.enabled),this.audioElement&&(this.audioElement.volume=e/100)})}setAudioElement(e){this.audioElement=e}getAudioElement(){return this.audioElement}getOutputDevice(){return this.outputDevice}cleanup(){super.cleanup(),this.audioElement&&(this.audioElement.srcObject=null,this.audioElement.remove(),this.audioElement=null)}setOutputDevice(e){return c(this,null,function*(){var t;if(!this.audioElement){o.d(\"audio-track\",\"no audio element to set output\");return}try{typeof this.audioElement.setSinkId==\"function\"&&(yield(t=this.audioElement)==null?void 0:t.setSinkId(e.deviceId),this.outputDevice=e)}catch(r){o.d(\"audio-track\",r)}})}removeSink(){var e;this.audioElement&&((e=window.HMS)==null?void 0:e.AUDIO_SINK)&&(this.audioElement.srcObject=null,this.subscribeToAudio(!1))}addSink(){var t,r;if(!this.nativeTrack||!this.audioElement||!((t=window.HMS)==null?void 0:t.AUDIO_SINK))return;let e=this.audioElement.srcObject;e instanceof MediaStream&&((r=e.getAudioTracks()[0])==null?void 0:r.id)===this.nativeTrack.id||(this.audioElement.srcObject=new MediaStream([this.nativeTrack]),this.subscribeToAudio(!0))}subscribeToAudio(e){return c(this,null,function*(){this.stream instanceof Ae&&(yield this.stream.setAudio(e,this.trackId,this.logIdentifier))})}};var yr=class{constructor(){this.storage=new te(\"hms-device-selection\");this.remember=!1;this.TAG=\"[HMSDeviceStorage]\"}setDevices(e){this.devices=e}rememberDevices(e){this.remember=e}updateSelection(e,{deviceId:t,groupId:r}){if(!this.devices||!this.remember)return;let i=this.devices[e].find(n=>this.isSame({deviceId:t,groupId:r},n));if(!i){o.w(this.TAG,`Could not find device with deviceId: ${t}, groupId: ${r}`);return}let s=this.storage.get()||{};s[e]=i,this.storage.set(s)}getSelection(){if(!!this.remember)return this.storage.get()}cleanup(){this.remember=!1,this.devices=void 0}isSame(e,t){return e.deviceId===t.deviceId&&(e.groupId===t.groupId||!e.groupId)}},Q=new yr;var bt;(function(t){t.TRANSFORM=\"TRANSFORM\",t.ANALYZE=\"ANALYZE\"})(bt||(bt={}));var ie;(function(t){t.PLATFORM_NOT_SUPPORTED=\"PLATFORM_NOT_SUPPORTED\",t.DEVICE_NOT_SUPPORTED=\"DEVICE_NOT_SUPPORTED\"})(ie||(ie={}));var oe=class{static failure(e,t){let r=\"mediaPlugin.failed\",i=D.ERROR,s=v({plugin_name:e},t.toAnalyticsProperties());return new O({name:r,level:i,properties:s})}static audioPluginFailure(e,t,r){let i=\"mediaPlugin.failed\",s=D.ERROR,n=v({plugin_name:e,sampleRate:t},r.toAnalyticsProperties());return new O({name:i,level:s,properties:n})}static audioPluginStats({pluginName:e,duration:t,loadTime:r,sampleRate:i}){let s=\"mediaPlugin.stats\",n=D.INFO,d={plugin_name:e,duration:t,load_time:r,sampleRate:i};return new O({name:s,level:n,properties:d})}static stats({pluginName:e,duration:t,loadTime:r,avgPreProcessingTime:i,avgProcessingTime:s,inputFrameRate:n,pluginFrameRate:d}){let l=\"mediaPlugin.stats\",h=D.INFO,u={plugin_name:e,duration:t,load_time:r,avg_preprocessing_time:i,avg_processing_time:s,input_frame_rate:n,plugin_frame_rate:d};return new O({name:l,level:h,properties:u})}};var Ct=class{constructor(e){this.eventBus=e;this.TAG=\"[AudioPluginsAnalytics]\";this.initTime={},this.addedTimestamps={},this.pluginAdded={},this.pluginSampleRate={}}added(e,t){this.pluginAdded[e]=!0,this.addedTimestamps[e]=Date.now(),this.initTime[e]=0,this.pluginSampleRate[e]=t}removed(e){if(this.pluginAdded[e]){let t={pluginName:e,duration:Math.floor((Date.now()-this.addedTimestamps[e])/1e3),loadTime:this.initTime[e],sampleRate:this.pluginSampleRate[e]};this.eventBus.analytics.publish(oe.audioPluginStats(t)),this.clean(e)}}failure(e,t){this.pluginAdded[e]&&(this.eventBus.analytics.publish(oe.audioPluginFailure(e,this.pluginSampleRate[e],t)),this.clean(e))}initWithTime(e,t){return c(this,null,function*(){if(this.initTime[e]){o.i(this.TAG,`Plugin Already loaded ${e}, time it took: ${this.initTime[e]}`);return}let r;try{r=yield this.timeInMs(t),o.i(this.TAG,`Time taken for Plugin ${e} initialization : ${r}`)}catch(i){let s=m.MediaPluginErrors.InitFailed(p.AUDIO_PLUGINS,`failed during initialization of plugin${i.message||i}`);throw o.e(this.TAG,s),this.failure(e,s),s}r&&(this.initTime[e]=r)})}timeInMs(e){return c(this,null,function*(){let t=Date.now();return yield e(),Math.floor(Date.now()-t)})}clean(e){delete this.addedTimestamps[e],delete this.initTime[e],delete this.pluginAdded[e],delete this.pluginSampleRate[e]}};var vi=48e3,Ti=()=>navigator.userAgent.indexOf(\"Firefox\")!==-1,Qe=class{constructor(e,t){this.TAG=\"[AudioPluginsManager]\";this.pluginAddInProgress=!1;this.hmsTrack=e,this.pluginsMap=new Map,this.analytics=new Ct(t),this.createAudioContext()}getPlugins(){return Array.from(this.pluginsMap.keys())}addPlugin(e){return c(this,null,function*(){var r;let t=(r=e.getName)==null?void 0:r.call(e);if(!t){o.w(\"no name provided by the plugin\");return}if(this.pluginAddInProgress){let i=m.MediaPluginErrors.AddAlreadyInProgress(p.AUDIO_PLUGINS,\"Add Plugin is already in Progress\");throw this.analytics.added(t,this.audioContext.sampleRate),this.analytics.failure(t,i),o.w(\"can't add another plugin when previous add is in progress\"),i}this.pluginAddInProgress=!0;try{yield this.addPluginInternal(e)}finally{this.pluginAddInProgress=!1}})}addPluginInternal(e){return c(this,null,function*(){var r;let t=(r=e.getName)==null?void 0:r.call(e);if(this.pluginsMap.get(t)){o.w(this.TAG,`plugin - ${t} already added.`);return}yield this.validateAndThrow(t,e);try{this.pluginsMap.size===0?yield this.initAudioNodes():this.prevAudioNode&&this.prevAudioNode.disconnect(),this.analytics.added(t,this.audioContext.sampleRate),yield this.analytics.initWithTime(t,()=>c(this,null,function*(){return e.init()})),this.pluginsMap.set(t,e),yield this.processPlugin(e),yield this.connectToDestination()}catch(i){throw o.e(this.TAG,\"failed to add plugin\",i),i}})}validatePlugin(e){return e.checkSupport(this.audioContext)}validateAndThrow(e,t){return c(this,null,function*(){let r=this.validatePlugin(t);if(r.isSupported)o.i(this.TAG,`plugin is supported,- ${t.getName()}`);else if(this.analytics.added(e,this.audioContext.sampleRate),r.errType===ie.PLATFORM_NOT_SUPPORTED){let i=m.MediaPluginErrors.PlatformNotSupported(p.AUDIO_PLUGINS,\"platform not supported, see docs\");throw this.analytics.failure(e,i),yield this.cleanup(),i}else if(r.errType===ie.DEVICE_NOT_SUPPORTED){let i=m.MediaPluginErrors.DeviceNotSupported(p.AUDIO_PLUGINS,\"audio device not supported, see docs\");throw this.analytics.failure(e,i),yield this.cleanup(),i}})}removePlugin(e){return c(this,null,function*(){yield this.removePluginInternal(e),this.pluginsMap.size===0?(yield this.cleanup(),o.i(this.TAG,\"No plugins left, stopping plugins loop\"),yield this.hmsTrack.setProcessedTrack(void 0)):yield this.reprocessPlugins()})}cleanup(){return c(this,null,function*(){var e,t,r;for(let i of this.pluginsMap.values())yield this.removePluginInternal(i);yield this.hmsTrack.setProcessedTrack(void 0),(e=this.sourceNode)==null||e.disconnect(),(t=this.prevAudioNode)==null||t.disconnect(),(r=this.outputTrack)==null||r.stop(),this.sourceNode=void 0,this.destinationNode=void 0,this.prevAudioNode=void 0,this.outputTrack=void 0})}closeContext(){return c(this,null,function*(){var e;(e=this.audioContext)==null||e.close(),this.audioContext=void 0})}reprocessPlugins(){return c(this,null,function*(){if(this.pluginsMap.size===0||!this.sourceNode)return;let e=Array.from(this.pluginsMap.values());yield this.cleanup(),yield this.initAudioNodes();for(let t of e)yield this.addPlugin(t)})}initAudioNodes(){return c(this,null,function*(){if(this.audioContext){if(!this.sourceNode){let e=new MediaStream([this.hmsTrack.nativeTrack]);this.sourceNode=this.audioContext.createMediaStreamSource(e)}if(!this.destinationNode){this.destinationNode=this.audioContext.createMediaStreamDestination(),this.outputTrack=this.destinationNode.stream.getAudioTracks()[0];try{yield this.hmsTrack.setProcessedTrack(this.outputTrack)}catch(e){throw o.e(this.TAG,\"error in setting processed track\",e),e}}}})}processPlugin(e){return c(this,null,function*(){try{let t=yield e.processAudioTrack(this.audioContext,this.prevAudioNode||this.sourceNode);this.prevAudioNode&&this.prevAudioNode.connect(t),this.prevAudioNode=t}catch(t){let r=e.getName();o.e(this.TAG,`error in processing plugin ${r}`,t),yield this.removePluginInternal(e)}})}connectToDestination(){return c(this,null,function*(){try{this.prevAudioNode&&this.destinationNode&&this.prevAudioNode.context===this.destinationNode.context&&this.prevAudioNode.connect(this.destinationNode)}catch(e){o.e(this.TAG,\"error in connecting to destination node\",e)}})}removePluginInternal(e){return c(this,null,function*(){var r;let t=(r=e.getName)==null?void 0:r.call(e);if(!this.pluginsMap.get(t)){o.w(this.TAG,`plugin - ${t} not found to remove.`);return}o.i(this.TAG,`removing plugin ${t}`),this.pluginsMap.delete(t),e.stop(),this.analytics.removed(t)})}createAudioContext(){this.audioContext||(Ti()?this.audioContext=new AudioContext:this.audioContext=new AudioContext({sampleRate:vi}))}};function Ye(a){return c(this,null,function*(){try{return(yield navigator.mediaDevices.getUserMedia({audio:a?a.toConstraints():!1})).getAudioTracks()[0]}catch(e){throw Z(e,W.AUDIO)}})}function ze(a){return c(this,null,function*(){try{return(yield navigator.mediaDevices.getUserMedia({video:a?a.toConstraints():!1})).getVideoTracks()[0]}catch(e){throw Z(e,W.VIDEO)}})}function Xe(a){return\"canvas\"in a||a.label===\"MediaStreamAudioDestinationNode\"||a.label===\"\"}var me=class{constructor(e=1/0){this.capacity=e;this.storage=[]}size(){return this.storage.length}toList(){return this.storage.slice(0)}enqueue(e){this.size()===this.capacity&&this.dequeue(),this.storage.push(e)}dequeue(){return this.storage.shift()}aggregate(e){return e(this.storage)}};function j(a){if(a<0)throw Error(\"`ms` should be a positive integer\");return new Promise(e=>setTimeout(e,a))}function Mr(a,e=300){let t;return function(...r){clearTimeout(t),t=void 0;let i=this;t=setTimeout(()=>{a.apply(i,r)},e)}}var fi=35,Ei=5,Rt=class{constructor(e,t,r){this.track=e;this.audioLevelEvent=t;this.silenceEvent=r;this.TAG=\"[TrackAudioLevelMonitor]\";this.audioLevel=0;this.isMonitored=!1;this.interval=100;this.historyInterval=700;this.history=new me(this.historyInterval/this.interval);this.detectSilence=()=>c(this,null,function*(){let e=30,t=10,r=0;for(;this.isMonitored;){if(this.track.enabled)if(this.isSilentThisInstant()){if(r++,r>t){this.silenceEvent.publish({track:this.track});break}}else break;yield j(e)}});try{let i=new MediaStream([this.track.nativeTrack]);this.analyserNode=this.createAnalyserNodeForStream(i)}catch(i){o.w(this.TAG,\"Unable to initialize AudioContext\",i)}}start(){this.stop(),this.isMonitored=!0,o.d(this.TAG,\"Starting track Monitor\",`${this.track}`),this.loop().then(()=>o.d(this.TAG,\"Stopping track Monitor\",`${this.track}`))}stop(){if(!this.analyserNode){o.d(this.TAG,\"AudioContext not initialized\");return}this.sendAudioLevel(0),this.isMonitored=!1}loop(){return c(this,null,function*(){for(;this.isMonitored;)this.sendAudioLevel(this.getMaxAudioLevelOverPeriod()),yield j(this.interval)})}sendAudioLevel(e=0){if(e=e>fi?e:0,Math.abs(this.audioLevel-e)>Ei){this.audioLevel=e;let r={track:this.track,audioLevel:this.audioLevel};this.audioLevelEvent.publish(r)}}getMaxAudioLevelOverPeriod(){if(!this.analyserNode){o.d(this.TAG,\"AudioContext not initialized\");return}let e=this.calculateAudioLevel();return e!==void 0&&this.history.enqueue(e),this.history.aggregate(t=>Math.max(...t))}calculateAudioLevel(){if(!this.analyserNode){o.d(this.TAG,\"AudioContext not initialized\");return}let e=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(e);let t=.009,r=t;for(let n of e)r=Math.max(r,(n-128)/128);let i=(Math.log(t)-Math.log(r))/Math.log(t);return Math.ceil(Math.min(Math.max(i*100,0),100))}isSilentThisInstant(){if(!this.analyserNode){o.d(this.TAG,\"AudioContext not initialized\");return}let e=new Uint8Array(this.analyserNode.fftSize);return this.analyserNode.getByteTimeDomainData(e),!e.some(t=>t!==128&&t!==0)}createAnalyserNodeForStream(e){let t=new AudioContext,r=t.createAnalyser();return t.createMediaStreamSource(e).connect(r),r}};function Ar(a,e){return function(r){return r in a&&a[r]!==e[r]}}var Pe=class extends De{constructor(e,t,r,i,s=new z().build()){super(e,t,r);this.eventBus=i;this.TAG=\"[HMSLocalAudioTrack]\";this.handleVisibilityChange=()=>c(this,null,function*(){document.visibilityState===\"visible\"&&(yield this.replaceTrackWith(this.settings))});this.handleSettingsChange=e=>c(this,null,function*(){let t=this.stream,r=Ar(e,this.settings);r(\"maxBitrate\")&&e.maxBitrate&&(yield t.setMaxBitrate(e.maxBitrate,this)),r(\"advanced\")&&(yield this.replaceTrackWith(e))});this.handleDeviceChange=(e,t=!1)=>c(this,null,function*(){Ar(e,this.settings)(\"deviceId\")&&(yield this.replaceTrackWith(e),t||Q.updateSelection(\"audioInput\",{deviceId:e.deviceId,groupId:this.nativeTrack.getSettings().groupId}))});e.tracks.push(this),this.settings=s,s.deviceId!==t.getSettings().deviceId&&!Xe(t)&&(this.settings=this.buildNewSettings({deviceId:t.getSettings().deviceId})),this.pluginsManager=new Qe(this,i),this.setFirstTrackId(t.id),Mt()&&X&&document.addEventListener(\"visibilitychange\",this.handleVisibilityChange)}replaceTrackWith(e){return c(this,null,function*(){let t=this.nativeTrack,r=this.enabled,i=Boolean(this.audioLevelMonitor);t==null||t.stop();let s=yield Ye(e);s.enabled=r;let n=this.stream;yield n.replaceSenderTrack(t,this.processedTrack||s),yield n.replaceStreamTrack(t,s),this.nativeTrack=s,i&&this.initAudioLevelMonitor();try{yield this.pluginsManager.reprocessPlugins()}catch(d){this.eventBus.audioPluginFailed.publish(d)}})}setEnabled(e){var t=r=>super[r];return c(this,null,function*(){e!==this.enabled&&(e&&Xe(this.nativeTrack)&&(yield this.replaceTrackWith(this.settings)),yield t(\"setEnabled\").call(this,e),e&&(this.settings=this.buildNewSettings({deviceId:this.nativeTrack.getSettings().deviceId})),this.eventBus.localAudioEnabled.publish({enabled:e,track:this}),this.stream.trackUpdate(this))})}isPublishedTrackId(e){return this.publishedTrackId===e}setSettings(e,t=!1){return c(this,null,function*(){let r=this.buildNewSettings(e);if(yield this.handleDeviceChange(r,t),Xe(this.nativeTrack)){this.settings=r;return}yield this.handleSettingsChange(r),this.settings=r})}getPlugins(){return this.pluginsManager.getPlugins()}addPlugin(e){return c(this,null,function*(){return this.pluginsManager.addPlugin(e)})}removePlugin(e){return c(this,null,function*(){return this.pluginsManager.removePlugin(e)})}validatePlugin(e){return this.pluginsManager.validatePlugin(e)}setProcessedTrack(e){return c(this,null,function*(){if(!e){this.processedTrack&&(yield this.stream.replaceSenderTrack(this.processedTrack,this.nativeTrack)),this.processedTrack=void 0;return}e!==this.processedTrack&&(this.processedTrack?yield this.stream.replaceSenderTrack(this.processedTrack,e):yield this.stream.replaceSenderTrack(this.nativeTrack,e),this.processedTrack=e)})}initAudioLevelMonitor(){this.audioLevelMonitor&&this.destroyAudioLevelMonitor(),o.d(this.TAG,\"Monitor Audio Level for\",this,this.getMediaTrackSettings().deviceId),this.audioLevelMonitor=new Rt(this,this.eventBus.trackAudioLevelUpdate,this.eventBus.localAudioSilence),this.audioLevelMonitor.start(),this.audioLevelMonitor.detectSilence()}destroyAudioLevelMonitor(){var e;(e=this.audioLevelMonitor)==null||e.stop(),this.audioLevelMonitor=void 0}cleanup(){var e=t=>super[t];return c(this,null,function*(){var r;e(\"cleanup\").call(this),yield this.pluginsManager.cleanup(),yield this.pluginsManager.closeContext(),(r=this.processedTrack)==null||r.stop(),this.destroyAudioLevelMonitor(),Mt()&&X&&document.removeEventListener(\"visibilitychange\",this.handleVisibilityChange)})}getTrackIDBeingSent(){return this.processedTrack?this.processedTrack.id:this.nativeTrack.id}getTrackBeingSent(){return this.processedTrack||this.nativeTrack}buildNewSettings(e){let{volume:t,codec:r,maxBitrate:i,deviceId:s,advanced:n}=v(v({},this.settings),e);return new ke(t,r,i,s,n)}};var wt=class extends De{setEnabled(e){var t=r=>super[r];return c(this,null,function*(){e!==this.enabled&&(yield t(\"setEnabled\").call(this,e),yield this.subscribeToAudio(e))})}};var Ne=class extends pe{constructor(e,t,r){super(e,t,r);this.type=L.VIDEO;this.sinkCount=0;if(t.kind!==\"video\")throw new Error(\"Expected 'track' kind = 'video'\")}hasSinks(){return this.sinkCount>0}addSink(e){this.addSinkInternal(e,this.nativeTrack)}removeSink(e){e.srcObject!==null&&(e.srcObject=null,this.sinkCount>0&&this.sinkCount--)}addSinkInternal(e,t){var i;let r=e.srcObject;r!==null&&r instanceof MediaStream&&((i=r.getVideoTracks()[0])==null?void 0:i.id)===t.id||(e.srcObject=new MediaStream([t]),this.sinkCount++)}};var Ie;(function(t){t.TRANSFORM=\"TRANSFORM\",t.ANALYZE=\"ANALYZE\"})(Ie||(Ie={}));var Oe;(function(t){t[\"2D\"]=\"2d\",t.WEBGL=\"webgl\",t.WEBGL2=\"webgl2\"})(Oe||(Oe={}));var Ze=class{constructor(){this.total=0;this.count=0}add(e){this.count++,this.total+=e}getAvg(){return Math.floor(this.total/this.count)}reset(){this.total=0,this.count=0}};var Ht=class{constructor(e){this.eventBus=e;this.TAG=\"[VideoPluginsAnalytics]\";this.initTime={},this.preProcessingAvgs=new Ze,this.addedTimestamps={},this.processingAvgs={},this.pluginAdded={},this.pluginInputFrameRate={},this.pluginFrameRate={}}added(e,t,r){this.pluginAdded[e]=!0,this.addedTimestamps[e]=Date.now(),this.initTime[e]=0,this.processingAvgs[e]=new Ze,this.pluginInputFrameRate[e]=t,this.pluginFrameRate[e]=r||t}removed(e){var t;if(this.pluginAdded[e]){let r={pluginName:e,duration:Math.floor((Date.now()-this.addedTimestamps[e])/1e3),loadTime:this.initTime[e],avgPreProcessingTime:this.preProcessingAvgs.getAvg(),avgProcessingTime:(t=this.processingAvgs[e])==null?void 0:t.getAvg(),inputFrameRate:this.pluginInputFrameRate[e],pluginFrameRate:this.pluginFrameRate[e]};this.eventBus.analytics.publish(oe.stats(r)),this.clean(e)}}failure(e,t){this.pluginAdded[e]&&(this.eventBus.analytics.publish(oe.failure(e,t)),this.clean(e))}initWithTime(e,t){return c(this,null,function*(){if(this.initTime[e]){o.i(this.TAG,`Plugin Already loaded ${e}, time it took: ${this.initTime[e]}`);return}let r;try{r=yield this.timeInMs(t),o.i(this.TAG,`Time taken for Plugin ${e} initialization : ${r}`)}catch(i){let s=m.MediaPluginErrors.InitFailed(p.VIDEO_PLUGINS,`failed during initialization of plugin${i.message||i}`);throw o.e(this.TAG,s),this.failure(e,s),s}r&&(this.initTime[e]=r)})}preProcessWithTime(e){return c(this,null,function*(){let t=yield this.timeInMs(e);this.preProcessingAvgs.add(t)})}processWithTime(e,t){return c(this,null,function*(){var i;let r;try{r=yield this.timeInMs(t)}catch(s){let n=m.MediaPluginErrors.ProcessingFailed(p.VIDEO_PLUGINS,`Failed during processing of plugin${s.message||s}`);throw o.e(this.TAG,n),this.failure(e,n),n}r&&((i=this.processingAvgs[e])==null||i.add(r))})}timeInMs(e){return c(this,null,function*(){let t=Date.now();return yield e(),Math.floor(Date.now()-t)})}clean(e){delete this.addedTimestamps[e],delete this.initTime[e],delete this.processingAvgs[e],delete this.pluginAdded[e],delete this.pluginInputFrameRate[e],delete this.pluginFrameRate[e]}};var Pr=24,ki=320,yi=240,et=class{constructor(e,t){this.TAG=\"[VideoPluginsManager]\";this.pluginsLoopRunning=!1;this.pluginsLoopState=\"paused\";this.pluginAddInProgress=!1;this.hmsTrack=e,this.pluginsMap=new Map,this.pluginNumFramesToSkip={},this.pluginNumFramesSkipped={},this.analytics=new Ht(t),this.canvases=new Array}getPlugins(){return Array.from(this.pluginsMap.keys())}addPlugin(e,t){return c(this,null,function*(){var r;if(this.pluginAddInProgress){let i=(r=e.getName)==null?void 0:r.call(e);if(!i||i===\"\"){o.w(\"no name provided by the plugin\");return}let s=m.MediaPluginErrors.AddAlreadyInProgress(p.VIDEO_PLUGINS,\"Add Plugin is already in Progress\");throw this.analytics.failure(i,s),o.w(\"can't add another plugin when previous add is in progress\"),s}this.pluginAddInProgress=!0;try{yield this.addPluginInternal(e,t)}finally{this.pluginAddInProgress=!1}})}addPluginInternal(e,t){return c(this,null,function*(){var n,d;let r=(n=e.getName)==null?void 0:n.call(e);if(!r||r===\"\"){o.w(\"no name provided by the plugin\");return}if(this.pluginsMap.has(r)){o.w(this.TAG,`plugin - ${e.getName()} already added.`);return}let i=this.hmsTrack.getMediaTrackSettings().frameRate||Pr,s=0;t&&t>0?(o.i(this.TAG,`adding plugin ${e.getName()} with framerate ${t}`),t<i&&(s=Math.ceil(i/t)-1),this.analytics.added(r,i,t)):(o.i(this.TAG,`adding plugin ${e.getName()}`),this.analytics.added(r,i)),o.i(this.TAG,\"numFrames to skip processing\",s),this.pluginNumFramesToSkip[r]=s,this.pluginNumFramesSkipped[r]=s,this.validateAndThrow(r,e);try{if(yield this.analytics.initWithTime(r,()=>c(this,null,function*(){return yield e.init()})),this.pluginsMap.set(r,e),this.pluginsMap.size+1>this.canvases.length)for(let l=this.canvases.length;l<=this.pluginsMap.size;l++)this.canvases[l]=document.createElement(\"canvas\");yield this.startPluginsLoop((d=e.getContextType)==null?void 0:d.call(e))}catch(l){throw o.e(this.TAG,\"failed to add plugin\",l),yield this.removePlugin(e),l}})}validatePlugin(e){return e.checkSupport()}validateAndThrow(e,t){let r=this.validatePlugin(t);if(r.isSupported)o.i(this.TAG,`plugin is supported,- ${t.getName()}`);else{let i;switch(r.errType){case ie.PLATFORM_NOT_SUPPORTED:throw i=m.MediaPluginErrors.PlatformNotSupported(p.VIDEO_PLUGINS,\"platform not supported, see docs\"),this.analytics.failure(e,i),i;case ie.DEVICE_NOT_SUPPORTED:throw i=m.MediaPluginErrors.DeviceNotSupported(p.VIDEO_PLUGINS,\"video device not supported, see docs\"),this.analytics.failure(e,i),i}}}removePlugin(e){return c(this,null,function*(){let t=e.getName();if(!this.pluginsMap.get(t)){o.w(this.TAG,`plugin - ${t} not found to remove.`);return}o.i(this.TAG,`removing plugin ${t}`),this.removePluginEntry(t),this.pluginsMap.size===0&&(o.i(this.TAG,\"No plugins left, stopping plugins loop\"),yield this.stopPluginsLoop()),e.stop(),this.analytics.removed(t)})}removePluginEntry(e){this.pluginsMap.delete(e),this.pluginNumFramesToSkip[e]&&delete this.pluginNumFramesToSkip[e],this.pluginNumFramesSkipped[e]&&delete this.pluginNumFramesSkipped[e]}waitForRestart(){return c(this,null,function*(){if(!(!this.pluginsLoopRunning||this.pluginsLoopState===\"running\"))for(;this.pluginsLoopState===\"paused\";)yield j(100)})}cleanup(){return c(this,null,function*(){var e;for(let t of this.pluginsMap.values())yield this.removePlugin(t);(e=this.outputTrack)==null||e.stop()})}initElementsAndStream(e){this.inputCanvas||(this.inputCanvas=document.createElement(\"canvas\")),this.outputCanvas=document.createElement(\"canvas\"),this.inputVideo||(this.inputVideo=document.createElement(\"video\")),this.inputCanvas.getContext(\"2d\"),this.outputCanvas.getContext(e||Oe[\"2D\"]);let t=this.outputCanvas.captureStream();this.outputTrack=t.getVideoTracks()[0]}startPluginsLoop(e){return c(this,null,function*(){if(!this.pluginsLoopRunning){this.initElementsAndStream(e),this.pluginsLoopRunning=!0;try{yield this.hmsTrack.setProcessedTrack(this.outputTrack)}catch(t){throw this.pluginsLoopRunning=!1,o.e(this.TAG,\"error in setting processed track\",t),t}this.pluginsLoop().then(()=>{o.d(this.TAG,\"processLoop stopped\")})}})}stopPluginsLoop(){return c(this,null,function*(){var e;this.pluginsLoopRunning=!1,yield this.hmsTrack.setProcessedTrack(void 0),this.resetCanvases(),(e=this.outputTrack)==null||e.stop(),this.inputVideo&&(this.inputVideo.srcObject=null,this.inputVideo=void 0)})}pluginsLoop(){return c(this,null,function*(){for(;this.pluginsLoopRunning;){let e=this.hmsTrack.getMediaTrackSettings().frameRate||Pr,t=Math.floor(1e3/e);if(!this.hmsTrack.enabled||this.hmsTrack.nativeTrack.readyState===\"ended\"){this.pluginsLoopState===\"running\"&&this.resetCanvases(),this.pluginsLoopState=\"paused\",yield j(t);continue}let r=0;try{yield this.analytics.preProcessWithTime(()=>c(this,null,function*(){return yield this.doPreProcessing()}));let i=Date.now();yield this.processFramesThroughPlugins(),r=Math.floor(Date.now()-i),r>t&&(r=t)}catch(i){o.e(this.TAG,\"error in plugins loop\",i)}this.pluginsLoopState=\"running\",yield j(t-r)}})}doPreProcessing(){return c(this,null,function*(){yield this.addTrackToVideo(),yield this.updateInputCanvas()})}processFramesThroughPlugins(){return c(this,null,function*(){this.canvases[0]=this.inputCanvas;let e=0;for(let t of this.pluginsMap.values()){let r=t.getName();if(!!t){try{let i=this.checkIfSkipRequired(r);if(t.getPluginType()===Ie.TRANSFORM){let s=(n,d)=>c(this,null,function*(){try{yield t.processVideoFrame(n,d,i)}catch(l){o.e(this.TAG,`error in processing plugin ${r}`,l)}});if(i)e===this.pluginsMap.size-1?yield s(this.canvases[e],this.outputCanvas):yield s(this.canvases[e],this.canvases[e+1]);else{let n=this.canvases[e],d=this.canvases[e+1];e===this.pluginsMap.size-1?yield this.analytics.processWithTime(r,()=>c(this,null,function*(){return s(n,this.outputCanvas)})):yield this.analytics.processWithTime(r,()=>c(this,null,function*(){return s(n,d)}))}}else t.getPluginType()===Ie.ANALYZE&&!i&&(yield this.analytics.processWithTime(r,()=>c(this,null,function*(){return yield t.processVideoFrame(this.inputCanvas)})))}catch(i){o.e(this.TAG,`error in processing plugin ${r}`,i),yield this.removePlugin(t)}e++}}})}addTrackToVideo(){return c(this,null,function*(){var t;if(!this.inputVideo)return;let e=this.inputVideo.srcObject;e!==null&&e instanceof MediaStream&&((t=e.getVideoTracks()[0])==null?void 0:t.id)===this.hmsTrack.nativeTrack.id||(this.inputVideo.pause(),this.inputVideo.srcObject=new MediaStream([this.hmsTrack.nativeTrack]),this.inputVideo.muted=!0,this.inputVideo.playsInline=!0,yield this.inputVideo.play())})}updateInputCanvas(){return c(this,null,function*(){if(!this.inputCanvas||!this.inputVideo)return;let{width:e=ki,height:t=yi}=this.hmsTrack.getMediaTrackSettings();this.inputCanvas.height!==t&&(this.inputCanvas.height=t),this.inputCanvas.width!==e&&(this.inputCanvas.width=e),this.inputCanvas.getContext(\"2d\").drawImage(this.inputVideo,0,0,e,t)})}resetCanvases(){if(!this.outputCanvas||!this.inputCanvas)return;let e=this.inputCanvas.getContext(\"2d\");e&&(e.fillStyle=\"rgb(0, 0, 0)\",e.fillRect(0,0,this.outputCanvas.width,this.outputCanvas.height)),this.canvases=[]}checkIfSkipRequired(e){let t=!1;return this.pluginNumFramesSkipped[e]<this.pluginNumFramesToSkip[e]?(this.pluginNumFramesSkipped[e]++,t=!0):(t=!1,this.pluginNumFramesSkipped[e]=0),t}};function Ir(a,e){return function(r){return r in a&&a[r]!==e[r]}}var ce=class extends Ne{constructor(e,t,r,i,s=new J().build()){super(e,t,r);this.eventBus=i;this._layerDefinitions=[];this.TAG=\"[LocalVideoTrack]\";this.isCurrentTab=!1;this.buildNewSettings=e=>{let{width:t,height:r,codec:i,maxFramerate:s,maxBitrate:n,deviceId:d,advanced:l}=v(v({},this.settings),e);return new ye(t,r,i,s,d,l,n)};this.handleSettingsChange=e=>c(this,null,function*(){let t=this.stream,r=Ir(e,this.settings);r(\"maxBitrate\")&&e.maxBitrate&&(yield t.setMaxBitrate(e.maxBitrate,this)),(r(\"width\")||r(\"height\")||r(\"advanced\"))&&(yield this.nativeTrack.applyConstraints(e.toConstraints()))});this.handleDeviceChange=(e,t=!1)=>c(this,null,function*(){if(Ir(e,this.settings)(\"deviceId\")&&this.source===\"regular\"){if(this.enabled){let i=yield this.replaceTrackWith(e);yield this.replaceSender(i,this.enabled),this.nativeTrack=i}t||Q.updateSelection(\"videoInput\",{deviceId:e.deviceId,groupId:this.nativeTrack.getSettings().groupId})}});e.tracks.push(this),this.settings=s,s.deviceId!==t.getSettings().deviceId&&t.enabled&&(this.settings=this.buildNewSettings({deviceId:t.getSettings().deviceId})),this.pluginsManager=new et(this,i),this.setFirstTrackId(this.trackId)}setSimulcastDefinitons(e){this._layerDefinitions=e}getSimulcastDefinitions(){return this._layerDefinitions}setEnabled(e){var t=r=>super[r];return c(this,null,function*(){if(e!==this.enabled){if(this.source===\"regular\"){let i;e?i=yield this.replaceTrackWith(this.settings):i=yield this.replaceTrackWithBlank(),yield this.replaceSender(i,e),this.nativeTrack=i,e&&(yield this.pluginsManager.waitForRestart(),this.settings=this.buildNewSettings({deviceId:i.getSettings().deviceId}))}yield t(\"setEnabled\").call(this,e),this.eventBus.localVideoEnabled.publish({enabled:e,track:this}),this.stream.trackUpdate(this)}})}isPublishedTrackId(e){return this.publishedTrackId===e}addSink(e){this.addSinkInternal(e,this.processedTrack||this.nativeTrack)}setSettings(e,t=!1){return c(this,null,function*(){let r=this.buildNewSettings(e);if(yield this.handleDeviceChange(r,t),!this.enabled){this.settings=r;return}yield this.handleSettingsChange(r),this.settings=r})}getPlugins(){return this.pluginsManager.getPlugins()}addPlugin(e,t){return c(this,null,function*(){return this.pluginsManager.addPlugin(e,t)})}removePlugin(e){return c(this,null,function*(){return this.pluginsManager.removePlugin(e)})}validatePlugin(e){return this.pluginsManager.validatePlugin(e)}cleanup(){var e=t=>super[t];return c(this,null,function*(){var r;e(\"cleanup\").call(this),yield this.pluginsManager.cleanup(),(r=this.processedTrack)==null||r.stop()})}cropTo(e){return c(this,null,function*(){if(!!e&&this.source===\"screen\")try{this.nativeTrack.cropTo&&(yield this.nativeTrack.cropTo(e))}catch(t){throw o.e(this.TAG,\"failed to crop screenshare capture - \",t),m.TracksErrors.GenericTrack(p.TRACK,\"failed to crop screenshare capture\")}})}getCaptureHandle(){if(this.nativeTrack.getCaptureHandle)return this.nativeTrack.getCaptureHandle()}setProcessedTrack(e){return c(this,null,function*(){if(!this.nativeTrack.enabled){this.processedTrack=e;return}if(!e){this.processedTrack&&(yield this.stream.replaceSenderTrack(this.processedTrack,this.nativeTrack)),this.processedTrack=void 0;return}e!==this.processedTrack&&(this.processedTrack?yield this.stream.replaceSenderTrack(this.processedTrack,e):yield this.stream.replaceSenderTrack(this.nativeTrack,e),this.processedTrack=e)})}getTrackIDBeingSent(){return this.getTrackBeingSent().id}getTrackBeingSent(){return this.enabled?this.processedTrack||this.nativeTrack:this.nativeTrack}replaceTrackWith(e){return c(this,null,function*(){let t=this.nativeTrack;t==null||t.stop();let r=yield ze(e);return this.settings.deviceId===\"default\"&&(this.settings=this.buildNewSettings({deviceId:this.nativeTrack.getSettings().deviceId})),r})}replaceTrackWithBlank(){return c(this,null,function*(){let e=this.nativeTrack;return e==null||e.stop(),de.getEmptyVideoTrack(e)})}replaceSender(e,t){return c(this,null,function*(){let r=this.stream;t?yield r.replaceSenderTrack(this.nativeTrack,this.processedTrack||e):yield r.replaceSenderTrack(this.processedTrack||this.nativeTrack,e),yield r.replaceStreamTrack(this.nativeTrack,e)})}};var be=\"renegotiation-callback-id\",tt=\"ion-sfu\",rt=100,xe=5,br=60,Cr=12e3,Rr=1e3,wr=5,Ce=\"SUBSCRIBE_ICE_CONNECTION_CALLBACK_ID\",Hr=6e4,_r=1e3,Lr=!1,Dr=\"https://event.100ms.live/v2/client/report\",Nr=\"https://event-nonprod.100ms.live/v2/client/report\",Or=100,G={DEVICE_CHANGE:\"device-change\",LOCAL_AUDIO_ENABLED:\"local-audio-enabled\",LOCAL_VIDEO_ENABLED:\"local-video-enabled\",STATS_UPDATE:\"stats-update\",RTC_STATS_UPDATE:\"rtc-stats-update\",TRACK_DEGRADED:\"track-degraded\",TRACK_RESTORED:\"track-restored\",TRACK_AUDIO_LEVEL_UPDATE:\"track-audio-level-update\",LOCAL_AUDIO_SILENCE:\"local-audio-silence\",ANALYTICS:\"analytics\",AUDIO_PLUGIN_FAILED:\"audio-plugin-failed\",POLICY_CHANGE:\"policy-change\",LOCAL_ROLE_UPDATE:\"local-role-update\",AUDIO_TRACK_UPDATE:\"audio-track-update\",AUDIO_TRACK_ADDED:\"audio-track-added\",AUDIO_TRACK_REMOVED:\"audio-track-removed\",AUTOPLAY_ERROR:\"autoplay-error\",LEAVE:\"leave\"};var ge=class extends Ne{constructor(){super(...arguments);this._degraded=!1;this._degradedAt=null;this._layerDefinitions=[];this.history=new xr;this.preferredLayer=q.HIGH}get degraded(){return this._degraded}get degradedAt(){return this._degradedAt}setEnabled(e){var t=r=>super[r];return c(this,null,function*(){e!==this.enabled&&(yield t(\"setEnabled\").call(this,e))})}setPreferredLayer(e){return c(this,null,function*(){if(e===q.NONE){o.w(`layer ${q.NONE} will be ignored`);return}if(this.preferredLayer=e,!!this.shouldSendVideoLayer(e,\"preferLayer\")){if(!this.hasSinks()){o.d(`[Remote Track] ${this.logIdentifier}`,`Track does not have any sink, saving ${e}, source=${this.source}`);return}yield this.requestLayer(e,\"preferLayer\"),this.pushInHistory(`uiPreferLayer-${e}`)}})}getSimulcastLayer(){return this.stream.getSimulcastLayer()}getLayer(){return this.stream.getVideoLayer()}getPreferredLayer(){return this.preferredLayer}addSink(e){var t=r=>super[r];return c(this,null,function*(){t(\"addSink\").call(this,e),yield this.updateLayer(\"addSink\"),this.pushInHistory(\"uiSetLayer-high\")})}removeSink(e){var t=r=>super[r];return c(this,null,function*(){t(\"removeSink\").call(this,e),yield this.updateLayer(\"removeSink\"),this._degraded=!1,this.pushInHistory(\"uiSetLayer-none\")})}getSimulcastDefinitions(){return[...this._layerDefinitions]}setSimulcastDefinitons(e){this._layerDefinitions=e}setLayerFromServer(e){let t=e.subscriber_degraded;this._degraded=t&&e.current_layer===q.NONE,this._degradedAt=t?new Date:this._degradedAt;let r=e.current_layer;return o.d(`[Remote Track] ${this.logIdentifier} ${this.stream.id} - layer update from sfu`,`currLayer=${e.current_layer}, preferredLayer=${e.expected_layer}`,`sub_degraded=${e.subscriber_degraded}`,`pub_degraded=${e.publisher_degraded}`,`isDegraded=${t}`),this.stream.setVideoLayerLocally(r,this.logIdentifier,\"setLayerFromServer\"),this.pushInHistory(`sfuLayerUpdate-${r}`),t}setDegradedFromSdk(e){this._degraded=e,this._degradedAt=e?new Date:this._degradedAt,this.updateLayer(\"sdkDegradation\"),this.pushInHistory(e?\"sdkDegraded-none\":\"sdkRecovered-high\")}updateLayer(e){return c(this,null,function*(){let t=this.degraded||!this.hasSinks()?q.NONE:this.preferredLayer;!this.shouldSendVideoLayer(t,e)||(yield this.requestLayer(t,e))})}pushInHistory(e){Lr&&this.history.push({name:e,layer:this.getLayer(),degraded:this.degraded})}requestLayer(e,t){return c(this,null,function*(){try{let r=yield this.stream.setVideoLayer(e,this.trackId,this.logIdentifier,t);return o.d(`[Remote Track] ${this.logIdentifier}`,`Requested layer ${e}, source=${this.source}`),r}catch(r){throw o.d(`[Remote Track] ${this.logIdentifier}`,`Failed to set layer ${e}, source=${this.source}, ${r.message}`),r}})}shouldSendVideoLayer(e,t){let r=this.getLayer();return this.degraded&&e===q.NONE?!0:r===e?(o.d(`[Remote Track] ${this.logIdentifier}`,`Not sending update, already on layer ${e}, source=${t}`),!1):!0}},xr=class{constructor(){this.history=[]}push(e){e.time=new Date().toISOString().split(\"T\")[1],this.history.push(e)}};var Se=class extends Me{constructor(){super(...arguments);this.TAG=\"[HMSLocalStream]\";this.connection=null}setConnection(e){this.connection=e}addTransceiver(e,t){let r=[];if(e instanceof ce)if(t.length>0)o.v(this.TAG,\"Simulcast enabled with layers\",t),r.push(...t);else{let s={active:this.nativeStream.active};e.settings.maxBitrate&&!he&&(s.maxBitrate=e.settings.maxBitrate),r.push(s)}let i=this.connection.addTransceiver(e.getTrackBeingSent(),{streams:[this.nativeStream],direction:\"sendonly\",sendEncodings:r});return this.setPreferredCodec(i,e.nativeTrack.kind),i}setMaxBitrate(e,t){return c(this,null,function*(){var r;yield(r=this.connection)==null?void 0:r.setMaxBitrate(e,t)})}setPreferredCodec(e,t){}replaceTrack(e,t){return c(this,null,function*(){yield this.replaceSenderTrack(e,t),e.stop(),this.replaceStreamTrack(e,t)})}replaceStreamTrack(e,t){this.nativeStream.addTrack(t),this.nativeStream.removeTrack(e)}replaceSenderTrack(e,t){return c(this,null,function*(){var i;let r=(i=this.connection)==null?void 0:i.getSenders().find(s=>s.track&&s.track.id===e.id);if(r===void 0){o.w(this.TAG,`No sender found for trackId=${e.id}`);return}yield r.replaceTrack(t)})}removeSender(e){let t=0;this.connection.getSenders().forEach(r=>{var i,s;if(((i=r.track)==null?void 0:i.id)===e.trackId||((s=r.track)==null?void 0:s.id)===e.getTrackIDBeingSent()){this.connection.removeTrack(r),t+=1;let n=this.tracks.indexOf(e);n!==-1?this.tracks.splice(n,1):o.e(this.TAG,`Cannot find ${e.trackId} in locally stored tracks`)}}),t!==1&&o.e(this.TAG,`Removed ${t} sender's, expected to remove 1`)}trackUpdate(e){var t;(t=this.connection)==null||t.trackUpdate(e)}};function Fr(a){return c(this,null,function*(){try{return yield navigator.mediaDevices.getUserMedia(a)}catch(e){throw Z(e,W.AV)}})}function wo(a){return c(this,null,function*(){try{return yield navigator.mediaDevices.getDisplayMedia({video:a,audio:!1})}catch(e){throw Z(e,W.SCREEN)}})}function Ho(){return c(this,null,function*(){try{let a=yield navigator.mediaDevices.enumerateDevices(),e={audioinput:[],audiooutput:[],videoinput:[]};return a.forEach(t=>e[t.kind].push(t)),e}catch(a){throw Z(a,W.AV)}})}var Re={audioContext:null,getAudioContext(){return this.audioContext||(this.audioContext=new AudioContext),this.audioContext},resumeContext(){return c(this,null,function*(){try{return yield this.getAudioContext().resume()}catch(a){o.e(\"AudioContext\",a)}})}};var Br={isAudioMuted:!1,isVideoMuted:!1,audioInputDeviceId:\"default\",audioOutputDeviceId:\"default\",videoDeviceId:\"default\"},Fe,de=class{constructor(e,t,r,i,s){this.store=e;this.observer=t;this.deviceManager=r;this.eventBus=i;this.analyticsTimer=s;this.TAG=\"[LocalTrackManager]\";this.setScreenCaptureHandleConfig()}getTracksToPublish(e){return c(this,null,function*(){let t=this.getAVTrackSettings(e);if(!t)return[];let r=!!t.audio,i=!!t.video,s=[],{videoTrack:n,audioTrack:d}=yield this.updateCurrentLocalTrackSettings(t),l=(n==null?void 0:n.stream)||(d==null?void 0:d.stream),h=Boolean(n&&this.store.getTrackById(n.trackId)),u=Boolean(d&&this.store.getTrackById(d.trackId));if(h&&u)return[];let g={audio:r&&!d&&(e.isAudioMuted?\"empty\":!0),video:i&&!n&&(e.isVideoMuted?\"empty\":!0)};this.analyticsTimer.start(M.LOCAL_AUDIO_TRACK),this.analyticsTimer.start(M.LOCAL_VIDEO_TRACK);try{o.d(this.TAG,\"Init Local Tracks\",{fetchTrackOptions:g}),s=yield this.getLocalTracks(g,t,l)}catch(S){s=yield this.retryGetLocalTracks(S,t,g,l)}return this.analyticsTimer.end(M.LOCAL_AUDIO_TRACK),this.analyticsTimer.end(M.LOCAL_VIDEO_TRACK),n&&i&&!h&&s.push(n),d&&r&&!u&&s.push(d),s})}getLocalTracks(){return c(this,arguments,function*(e={audio:!0,video:!0},t,r){try{let i=yield this.getNativeLocalTracks(e,t);return this.createHMSLocalTracks(i,t,r)}catch(i){throw this.eventBus.analytics.publish(R.publish({devices:this.deviceManager.getDevices(),error:i,settings:t})),i}})}getNativeLocalTracks(){return c(this,arguments,function*(e={audio:!1,video:!1},t){let r=new Le(e.video===!0?t.video:null,e.audio===!0?t.audio:null,t.simulcast),i=[];return(r.audio||r.video)&&i.push(...yield this.getAVTracks(r)),i.push(...this.getEmptyTracks(e)),i})}getLocalScreen(e){return c(this,null,function*(){var g;let t=yield this.getOrDefaultScreenshareConfig(e),r=this.getScreenshareSettings(t.videoOnly),i={video:_(v({},r==null?void 0:r.video.toConstraints(!0)),{displaySurface:t.displaySurface}),preferCurrentTab:t.preferCurrentTab,selfBrowserSurface:t.selfBrowserSurface,surfaceSwitching:t.surfaceSwitching,systemAudio:t.systemAudio};if(r==null?void 0:r.audio){let S=(g=r==null?void 0:r.audio)==null?void 0:g.toConstraints();delete S.advanced,i.audio=_(v({},S),{autoGainControl:!1,noiseSuppression:!1,googAutoGainControl:!1,echoCancellation:!1})}let s;try{o.d(\"retrieving screenshare with \",{config:t},{constraints:i}),s=yield navigator.mediaDevices.getDisplayMedia(i)}catch(S){o.w(this.TAG,\"error in getting screenshare - \",S);let y=Z(S,W.SCREEN);throw this.eventBus.analytics.publish(R.publish({error:y,devices:this.deviceManager.getDevices(),settings:new Le(r==null?void 0:r.video,r==null?void 0:r.audio,!1)})),y}let n=[],d=new Se(s),l=s.getVideoTracks()[0],h=new ce(d,l,\"screen\",this.eventBus,r==null?void 0:r.video);h.setSimulcastDefinitons(this.store.getSimulcastDefinitionsForPeer(this.store.getLocalPeer(),\"screen\"));try{let S=this.validateCurrentTabCapture(h,t.forceCurrentTab);h.isCurrentTab=S,yield h.cropTo(t.cropTarget)}catch(S){throw s.getTracks().forEach(y=>y.stop()),S}n.push(h);let u=s.getAudioTracks()[0];if(u){let S=new Pe(d,u,\"screen\",this.eventBus,r==null?void 0:r.audio);n.push(S)}return o.v(this.TAG,\"getLocalScreen\",n),n})}setScreenCaptureHandleConfig(e){var t;!((t=navigator.mediaDevices)==null?void 0:t.setCaptureHandleConfig)||this.isInIframe()||(e=e||{},Object.assign(e,{handle:(0,uuid__WEBPACK_IMPORTED_MODULE_2__.v4)(),exposeOrigin:!1,permittedOrigins:[window.location.origin]}),o.d(\"setting capture handle - \",e.handle),navigator.mediaDevices.setCaptureHandleConfig(e),this.captureHandleIdentifier=e.handle)}validateCurrentTabCapture(e,t){let r=e.getCaptureHandle(),i=!!(this.captureHandleIdentifier&&(r==null?void 0:r.handle)===this.captureHandleIdentifier);if(t&&!i)throw o.e(this.TAG,\"current tab was not shared with forceCurrentTab as true\"),m.TracksErrors.CurrentTabNotShared();return i}requestPermissions(){return c(this,null,function*(){try{(yield navigator.mediaDevices.getUserMedia({audio:!0,video:!0})).getTracks().forEach(t=>t.stop())}catch(e){o.e(this.TAG,e)}})}static getEmptyVideoTrack(e){var l,h,u;let t=((l=e==null?void 0:e.getSettings())==null?void 0:l.width)||320,r=((h=e==null?void 0:e.getSettings())==null?void 0:h.height)||240,i=10;Fe||(Fe=Object.assign(document.createElement(\"canvas\"),{width:t,height:r}),(u=Fe.getContext(\"2d\"))==null||u.fillRect(0,0,t,r));let n=Fe.captureStream(i).getVideoTracks()[0],d=setInterval(()=>{if(n.readyState===\"ended\"){clearInterval(d);return}let g=Fe.getContext(\"2d\");if(g){let y=g.getImageData(0,0,1,1).data[0]===0?1:0;g.fillStyle=`rgb(${y}, 0, 0)`,g.fillRect(0,0,1,1)}},1e3/i);return n.onended=()=>{clearInterval(d)},n.enabled=!1,n}static getEmptyAudioTrack(){let e=Re.getAudioContext(),t=e.createOscillator(),r=e.createMediaStreamDestination();t.connect(r),t.start();let i=r.stream.getAudioTracks()[0];return i.enabled=!1,i}getAVTracks(e){return c(this,null,function*(){try{let t=yield navigator.mediaDevices.getUserMedia({audio:e.audio?e.audio.toConstraints():!1,video:e.video?e.video.toConstraints():!1});return t.getVideoTracks().concat(t.getAudioTracks())}catch(t){yield this.deviceManager.init();let r=!!(!this.deviceManager.hasWebcamPermission&&e.video),i=!!(!this.deviceManager.hasMicrophonePermission&&e.audio),s=this.getErrorType(r,i);throw Z(t,s)}})}getAVTrackSettings(e){let t=this.getAudioSettings(e),r=this.getVideoSettings(e);return!t&&!r?null:new je().video(r).audio(t).build()}isInIframe(){try{return window.self!==window.top}catch(e){return!0}}retryGetLocalTracks(e,t,r,i){return c(this,null,function*(){if(e instanceof T&&e.action===p.TRACK){this.observer.onFailure(e);let s=e.code===f.TracksErrors.OVER_CONSTRAINED,n=e.message.includes(\"audio\"),d=e.message.includes(\"video\");if(s){let l=new je().video(new ye).audio(new ke).build();o.w(this.TAG,\"Fetch AV Tracks failed with overconstrained error\",{fetchTrackOptions:r},{error:e});try{return yield this.getLocalTracks(r,l,i)}catch(h){let u=h instanceof T?h.nativeError:h,g=h;if((u==null?void 0:u.name)===\"OverconstrainedError\"){let S=m.TracksErrors.GenericTrack(p.TRACK,\"Overconstrained error after dropping all constraints\");S.addNativeError(u),g=S}return yield this.retryGetLocalTracks(g,t,r,i)}}r.audio=n?\"empty\":r.audio,r.video=d?\"empty\":r.video,o.w(this.TAG,\"Fetch AV Tracks failed\",{fetchTrackOptions:r},e);try{return yield this.getLocalTracks(r,t,i)}catch(l){return o.w(this.TAG,\"Fetch empty tacks failed\",l),r.audio=r.audio&&\"empty\",r.video=r.video&&\"empty\",this.observer.onFailure(l),yield this.getLocalTracks(r,t,i)}}else return o.w(this.TAG,\"Fetch AV Tracks failed - unknown exception\",e),this.observer.onFailure(e),[]})}getErrorType(e,t){return e&&t?W.AV:e?W.VIDEO:t?W.AUDIO:W.UNKNOWN}getEmptyTracks(e){let t=[];return e.audio===\"empty\"&&t.push(de.getEmptyAudioTrack()),e.video===\"empty\"&&t.push(de.getEmptyVideoTrack()),t}updateCurrentLocalTrackSettings(e){return c(this,null,function*(){let t=this.store.getLocalPeerTracks(),r=t.find(n=>n.type===L.VIDEO&&n.source===\"regular\"),i=t.find(n=>n.type===L.AUDIO&&n.source===\"regular\"),s=t.find(n=>n.type===L.VIDEO&&n.source===\"screen\");return(e==null?void 0:e.video)&&(yield r==null?void 0:r.setSettings(e.video)),(e==null?void 0:e.audio)&&(yield i==null?void 0:i.setSettings(e.audio)),(e==null?void 0:e.screen)&&(yield s==null?void 0:s.setSettings(e.screen)),{videoTrack:r,audioTrack:i}})}getAudioSettings(e){var n;let t=this.store.getPublishParams();if(!t||!((n=t.allowed)==null?void 0:n.includes(\"audio\")))return null;let r=this.store.getLocalPeer(),i=r==null?void 0:r.audioTrack,s=(i==null?void 0:i.settings.deviceId)||e.audioInputDeviceId;return new z().codec(t.audio.codec).maxBitrate(t.audio.bitRate).deviceId(s||Br.audioInputDeviceId).build()}getVideoSettings(e){var d;let t=this.store.getPublishParams();if(!t||!((d=t.allowed)==null?void 0:d.includes(\"video\")))return null;let r=this.store.getLocalPeer(),i=r==null?void 0:r.videoTrack,s=(i==null?void 0:i.settings.deviceId)||e.videoDeviceId,n=t.video;return new J().codec(n.codec).maxBitrate(n.bitRate).maxFramerate(n.frameRate).setWidth(n.width).setHeight(n.height).deviceId(s||Br.videoDeviceId).build()}getScreenshareSettings(e=!1){var i;let t=this.store.getPublishParams();if(!t||!((i=t.allowed)==null?void 0:i.includes(\"screen\")))return null;let r=t.screen;return{video:new J().maxBitrate(r.bitRate,!1).codec(r.codec).maxFramerate(r.frameRate).setWidth(r.width).setHeight(r.height).build(),audio:e?void 0:new z().build()}}getOrDefaultScreenshareConfig(e){return c(this,null,function*(){var r;let t=Object.assign({videoOnly:!1,audioOnly:!1,forceCurrentTab:!1,preferCurrentTab:!1,selfBrowserSurface:\"exclude\",surfaceSwitching:\"include\",systemAudio:\"exclude\",displaySurface:\"monitor\"},e||{});return t.forceCurrentTab&&(t.videoOnly=!0,t.preferCurrentTab=!0,t.selfBrowserSurface=\"include\",t.surfaceSwitching=\"exclude\"),t.preferCurrentTab&&(t.selfBrowserSurface=\"include\",t.displaySurface=void 0),t.cropElement&&((r=window.CropTarget)==null?void 0:r.fromElement)&&(t.cropTarget=yield window.CropTarget.fromElement(t.cropElement)),t})}createHMSLocalTracks(e,t,r){let i=e.find(d=>d.kind===\"video\"),s=e.find(d=>d.kind===\"audio\");r?e.forEach(d=>r==null?void 0:r.nativeStream.addTrack(d)):r=new Se(new MediaStream(e));let n=[];if(s&&(t==null?void 0:t.audio)){let d=new Pe(r,s,\"regular\",this.eventBus,t.audio);n.push(d)}if(i&&(t==null?void 0:t.video)){let d=new ce(r,i,\"regular\",this.eventBus,t.video);d.setSimulcastDefinitons(this.store.getSimulcastDefinitionsForPeer(this.store.getLocalPeer(),\"regular\")),n.push(d)}return n}};var _t=class{constructor(e,t){this.eventBus=e;this.listener=t;this.TAG=\"[NetworkTestManager]\";this.controller=new AbortController;this.start=e=>c(this,null,function*(){var h;if(!e)return;let{url:t,timeout:r,scoreMap:i}=e,s=this.controller.signal,n=Date.now(),d=0,l=j(r).then(()=>{this.controller.abort()});try{let g=(h=(yield fetch(`${t}?${Date.now()}`,{signal:s})).body)==null?void 0:h.getReader();if(!g)throw Error(\"unable to process request\");let S=()=>c(this,null,function*(){if(!!g)try{let y=!1;for(;!y;){let{value:x,done:B}=yield g.read();y=B,x&&(d+=x.byteLength,this.sendScore({scoreMap:i,downloadedSize:d,startTime:n}))}}catch(y){o.e(this.TAG,y)}});return Promise.race([S(),l]).then(()=>{this.sendScore({scoreMap:i,downloadedSize:d,startTime:n,finished:!0})}).catch(y=>{o.e(this.TAG,y),this.updateScoreToListener(0),this.eventBus.analytics.publish(R.previewNetworkQuality({error:y.message}))})}catch(u){o.e(this.TAG,u),u.name!==\"AbortError\"&&(this.updateScoreToListener(0),this.eventBus.analytics.publish(R.previewNetworkQuality({error:u.message})))}});this.stop=()=>{this.controller.signal.aborted||this.controller.abort()};this.sendScore=({scoreMap:e,downloadedSize:t,startTime:r,finished:i=!1})=>{let s=(Date.now()-r)/1e3,d=t/1024/s*8,l=-1;for(let h in e){let u=e[h];d>=u.low&&(!u.high||d<=u.high)&&(l=Number(h))}this.updateScoreToListener(l),i&&this.eventBus.analytics.publish(R.previewNetworkQuality({score:l,downLink:d.toFixed(2)}))}}updateScoreToListener(e){var t,r;e!==this.score&&(this.score=e,(r=(t=this.listener)==null?void 0:t.onNetworkQuality)==null||r.call(t,e))}};var it=class{constructor(e,t,r,i,s){this.store=e;this.transport=t;this.publish=r;this.removeAuxiliaryTrack=i;this.listener=s;this.handleLocalPeerRoleUpdate=r=>c(this,[r],function*({oldRole:e,newRole:t}){var y,x,B,I,or,cr;let i=this.store.getLocalPeer();if(!i)return;let s=new Set(e.publishParams.allowed),n=new Set(t.publishParams.allowed),d=this.removeTrack(s,n,\"video\"),l=this.hasSimulcastDifference((y=e.publishParams.simulcast)==null?void 0:y.video,(x=t.publishParams.simulcast)==null?void 0:x.video),h=this.removeTrack(s,n,\"audio\"),u=this.removeTrack(s,n,\"screen\"),g=this.hasSimulcastDifference((B=e.publishParams.simulcast)==null?void 0:B.screen,(I=t.publishParams.simulcast)==null?void 0:I.screen);yield this.removeAudioTrack(h),yield this.removeVideoTracks(d||l),yield this.removeScreenTracks(u||g),this.store.setPublishParams(t.publishParams);let S=((or=this.store.getConfig())==null?void 0:or.settings)||{isAudioMuted:!0,isVideoMuted:!0,audioInputDeviceId:\"default\",videoDeviceId:\"default\",audioOutputDeviceId:\"default\"};yield this.publish(_(v({},S),{isAudioMuted:!0,isVideoMuted:!0})),(cr=this.listener)==null||cr.onPeerUpdate(K.ROLE_UPDATED,i)})}removeVideoTracks(e){return c(this,null,function*(){var r;if(!e)return;let t=this.store.getLocalPeer();(t==null?void 0:t.videoTrack)&&(yield this.transport.unpublish([t.videoTrack]),(r=this.listener)==null||r.onTrackUpdate(N.TRACK_REMOVED,t.videoTrack,t),t.videoTrack=void 0),yield this.removeAuxTracks(i=>i.source!==\"screen\"&&i.type===\"video\")})}removeAudioTrack(e){return c(this,null,function*(){var r;if(!e)return;let t=this.store.getLocalPeer();(t==null?void 0:t.audioTrack)&&(yield this.transport.unpublish([t.audioTrack]),(r=this.listener)==null||r.onTrackUpdate(N.TRACK_REMOVED,t.audioTrack,t),t.audioTrack=void 0),yield this.removeAuxTracks(i=>i.source!==\"screen\"&&i.type===\"audio\")})}removeScreenTracks(e){return c(this,null,function*(){!e||(yield this.removeAuxTracks(t=>t.source===\"screen\"))})}removeAuxTracks(e){return c(this,null,function*(){let t=this.store.getLocalPeer();if(t==null?void 0:t.auxiliaryTracks){let r=[...t.auxiliaryTracks];for(let i of r)e(i)&&(yield this.removeAuxiliaryTrack(i.trackId))}})}removeTrack(e,t,r){return e.has(r)&&!t.has(r)}hasSimulcastDifference(e,t){var r,i;return!e&&!t?!1:((r=e==null?void 0:e.layers)==null?void 0:r.length)!==((i=t==null?void 0:t.layers)==null?void 0:i.length)}};var Lt=class{constructor(e){this.store=e;this.primitiveComparator=(e,t)=>e===t?0:Number(e)-Number(t);this.stringComparator=(e,t)=>e===t?0:e<t?-1:1}getPeerComparators(){return{videoEnabled:(e,t)=>{var r,i;return this.primitiveComparator(Boolean((r=e.videoTrack)==null?void 0:r.enabled),Boolean((i=t.videoTrack)==null?void 0:i.enabled))},audioEnabled:(e,t)=>{var r,i;return this.primitiveComparator(Boolean((r=e.audioTrack)==null?void 0:r.enabled),Boolean((i=t.audioTrack)==null?void 0:i.enabled))},screenShare:(e,t)=>this.primitiveComparator(e.auxiliaryTracks.some(r=>r.source===\"screen\"),t.auxiliaryTracks.some(r=>r.source===\"screen\")),audioLevel:(e,t)=>{var r,i;return this.primitiveComparator(((r=this.store.getSpeakers().find(s=>s.peer&&s.peer.peerId===(e==null?void 0:e.peerId)))==null?void 0:r.audioLevel)||-1,((i=this.store.getSpeakers().find(s=>s.peer&&s.peer.peerId===(t==null?void 0:t.peerId)))==null?void 0:i.audioLevel)||-1)},rolePriority:(e,t)=>{var r,i;return this.primitiveComparator(((r=t.role)==null?void 0:r.priority)||0,((i=e.role)==null?void 0:i.priority)||0)}}}getTrackComparators(){return{video:(e,t)=>this.primitiveComparator(e.type===L.VIDEO,t.type===L.VIDEO),audio:(e,t)=>this.primitiveComparator(e.type===L.AUDIO,t.type===L.AUDIO),enabled:(e,t)=>this.primitiveComparator(Boolean(e.enabled),Boolean(t.enabled)),peerAudioLevel:(e,t)=>{let r=this.store.getPeerByTrackId(e.trackId),i=this.store.getPeerByTrackId(t.trackId);return this.getPeerComparators().audioLevel(r,i)},audioLevel:(e,t)=>{var r,i;return this.primitiveComparator(((r=this.store.getSpeakers().find(s=>s.track.trackId===e.trackId))==null?void 0:r.audioLevel)||0,((i=this.store.getSpeakers().find(s=>s.track.trackId===t.trackId))==null?void 0:i.audioLevel)||0)},screenShare:(e,t)=>this.primitiveComparator(e.source===\"screen\",t.source===\"screen\"),rolePriority:(e,t)=>{var r,i,s,n;return this.primitiveComparator(((i=(r=this.store.getPeerByTrackId(t.trackId))==null?void 0:r.role)==null?void 0:i.priority)||0,((n=(s=this.store.getPeerByTrackId(e.trackId))==null?void 0:s.role)==null?void 0:n.priority)||0)}}}};var Ur=class{constructor(){this.TAG=\"[HTTPAnalyticsTransport]\";this.failedEvents=new te(\"client-events\");this.isConnected=!0;this.env=null}setEnv(e){this.env=e,this.flushFailedEvents()}sendEvent(e){if(!this.env){this.addEventToStorage(e);return}let t={event:e.name,payload:e.properties,event_id:String(e.timestamp),peer:e.metadata.peer,timestamp:e.timestamp,device_id:e.device_id},r=this.env===V.PROD?Dr:Nr;fetch(r,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${e.metadata.token}`,user_agent_v2:e.metadata.userAgent},body:JSON.stringify(t)}).then(i=>{if(i.status===401){this.removeFromStorage(e);return}if(i.status!==200)throw Error(i.statusText);this.removeFromStorage(e)}).catch(i=>{o.v(this.TAG,\"Failed to send event\",i,e),this.addEventToStorage(e)})}flushFailedEvents(){let e=this.failedEvents.get();e==null||e.forEach(t=>this.sendEvent(t))}addEventToStorage(e){let t=this.failedEvents.get()||[];t.find(r=>r.timestamp===e.timestamp)||(t.length===Or&&t.shift(),t.push(e),this.failedEvents.set(t))}removeFromStorage(e){let t=this.failedEvents.get()||[],r=t.findIndex(i=>i.timestamp===e.timestamp);r>-1&&(t.splice(r,1),this.failedEvents.set(t))}},ve=new Ur;var st=class{constructor(){this.comparator=new Lt(this);this.knownRoles={};this.peers={};this.tracks={};this.peerTrackStates={};this.speakers=[];this.roleDetailsArrived=!1;this.env=V.PROD;this.simulcastEnabled=!1;this.userAgent=_e(this.env)}getConfig(){return this.config}setSimulcastEnabled(e){this.simulcastEnabled=e}getEnv(){return this.env}getPublishParams(){return this.publishParams}getComparator(){return this.comparator}getRoom(){return this.room}getPolicyForRole(e){return this.knownRoles[e]}getKnownRoles(){return this.knownRoles}getLocalPeer(){if(this.localPeerId&&this.peers[this.localPeerId])return this.peers[this.localPeerId]}getRemotePeers(){return Object.values(this.peers).filter(e=>!e.isLocal)}getPeers(){return Object.values(this.peers)}getPeerById(e){if(this.peers[e])return this.peers[e]}getTracksMap(){return this.tracks}getTracks(){return Object.values(this.tracks)}getVideoTracks(){return this.getTracks().filter(e=>e.type===L.VIDEO)}getRemoteVideoTracks(){return this.getTracks().filter(e=>e instanceof ge)}getAudioTracks(){return this.getTracks().filter(e=>e.type===L.AUDIO)}getPeerTracks(e){let t=e?this.peers[e]:void 0,r=[];return(t==null?void 0:t.videoTrack)&&r.push(t.videoTrack),(t==null?void 0:t.audioTrack)&&r.push(t.audioTrack),r.concat((t==null?void 0:t.auxiliaryTracks)||[])}getLocalPeerTracks(){return this.getPeerTracks(this.localPeerId)}getTrackById(e){var i,s;let t=this.tracks[e];if(t)return t;let r=this.getLocalPeer();if(r){if((i=r.audioTrack)==null?void 0:i.isPublishedTrackId(e))return r.audioTrack;if((s=r.videoTrack)==null?void 0:s.isPublishedTrackId(e))return r.videoTrack}}getPeerByTrackId(e){let t=this.tracks[e];return t.peerId?this.peers[t.peerId]:void 0}getSpeakers(){return this.speakers}getSpeakerPeers(){return this.speakers.map(e=>e.peer)}getUserAgent(){return this.userAgent}createAndSetUserAgent(e){this.userAgent=_e(this.env,e)}setRoom(e){this.room=e}setKnownRoles(e){this.knownRoles=e,this.roleDetailsArrived=!0,this.updatePeersPolicy()}hasRoleDetailsArrived(){return this.roleDetailsArrived}setConfig(e){var t,r,i;if(Q.rememberDevices(Boolean(e.rememberDeviceSelection)),e.rememberDeviceSelection){let s=Q.getSelection();s&&(e.settings||(e.settings={}),((t=s.audioInput)==null?void 0:t.deviceId)&&(e.settings.audioInputDeviceId=e.settings.audioInputDeviceId||s.audioInput.deviceId),((r=s.audioOutput)==null?void 0:r.deviceId)&&(e.settings.audioOutputDeviceId=e.settings.audioOutputDeviceId||s.audioOutput.deviceId),((i=s.videoInput)==null?void 0:i.deviceId)&&(e.settings.videoDeviceId=e.settings.videoDeviceId||s.videoInput.deviceId))}this.config=e,this.setEnv()}setPublishParams(e){var t;this.publishParams=e,!!this.simulcastEnabled&&(this.videoLayers=this.convertSimulcastLayers((t=e.simulcast)==null?void 0:t.video))}addPeer(e){this.peers[e.peerId]=e,e.isLocal&&(this.localPeerId=e.peerId)}addTrack(e){this.tracks[e.trackId]=e}getTrackState(e){return this.peerTrackStates[e]}setTrackState(e){this.peerTrackStates[e.trackInfo.track_id]=e}removePeer(e){this.localPeerId===e&&(this.localPeerId=void 0),delete this.peers[e]}removeTrack(e){delete this.tracks[e]}updateSpeakers(e){this.speakers=e}updateAudioOutputVolume(e){return c(this,null,function*(){for(let t of this.getAudioTracks())yield t.setVolume(e)})}updateAudioOutputDevice(e){return c(this,null,function*(){let t=[];this.getAudioTracks().forEach(r=>{t.push(r.setOutputDevice(e))}),yield Promise.all(t)})}getSubscribeDegradationParams(){var t,r;let e=(r=(t=this.getLocalPeer())==null?void 0:t.role)==null?void 0:r.subscribeParams.subscribeDegradation;if(e&&Object.keys(e).length>0)return e}getSimulcastLayers(e){var t;return this.simulcastEnabled?e===\"screen\"?[]:((t=this.videoLayers)==null?void 0:t.layers)||[]:[]}convertSimulcastLayers(e){if(!!e)return _(v({},e),{layers:(e.layers||[]).map(t=>_(v({},t),{maxBitrate:t.maxBitrate*1e3}))})}getSimulcastDefinitionsForPeer(e,t){var d,l,h;if([!e||!e.role,t===\"screen\",!this.simulcastEnabled].some(u=>!!u))return[];let r=this.getPolicyForRole(e.role.name).publishParams,i,s,n;return t===\"regular\"?(i=(d=r.simulcast)==null?void 0:d.video,s=r.video.width,n=r.video.height):t===\"screen\"&&(i=(l=r.simulcast)==null?void 0:l.screen,s=r.screen.width,n=r.screen.height),((h=i==null?void 0:i.layers)==null?void 0:h.map(u=>{let g=It[u.rid],S={width:s/u.scaleResolutionDownBy,height:n/u.scaleResolutionDownBy};return{layer:g,resolution:S}}))||[]}cleanUp(){let e=this.getTracks();for(let t of e)t.cleanup();this.room=void 0,this.config=void 0,this.localPeerId=void 0,this.roleDetailsArrived=!1}setErrorListener(e){this.errorListener=e}updatePeersPolicy(){this.getPeers().forEach(e=>{var t;if(!e.role){(t=this.errorListener)==null||t.onError(m.GenericErrors.InvalidRole(p.VALIDATION,\"\"));return}e.role=this.getPolicyForRole(e.role.name)})}setEnv(){var i;let t=((i=this.config)==null?void 0:i.initEndpoint).split(\"https://\")[1],r=V.PROD;t.startsWith(V.PROD)?r=V.PROD:t.startsWith(V.QA)?r=V.QA:t.startsWith(V.DEV)&&(r=V.DEV),this.env=r,ve.setEnv(r)}};var Dt=class{constructor(e){this.store=e;this.bufferSize=rt;this.TAG=\"[AnalyticsEventsService]\";this.transport=null;this.pendingEvents=[];this.level=We.INFO}setTransport(e){this.transport=e}reset(){this.transport=null,this.pendingEvents=[]}queue(e){if(e.level>=this.level&&(this.pendingEvents.push(e),this.pendingEvents.length>this.bufferSize)){let t=this.pendingEvents.shift();o.d(this.TAG,\"Max buffer size reached\",\"Removed event to accommodate new events\",t)}return this}flushFailedClientEvents(){ve.flushFailedEvents()}flush(){var e;try{for(;this.pendingEvents.length>0;){let t=this.pendingEvents.shift();t&&(t.metadata.peer.peer_id=(e=this.store.getLocalPeer())==null?void 0:e.peerId,t.metadata.userAgent=this.store.getUserAgent(),this.transport&&this.transport.transportProvider.isConnected?this.transport.sendEvent(t):this.sendClientEventOnHTTP(t))}}catch(t){o.w(this.TAG,\"Flush Failed\",t)}}sendClientEventOnHTTP(e){var i,s,n,d;let t=this.store.getRoom(),r=this.store.getLocalPeer();e.metadata.token=(i=this.store.getConfig())==null?void 0:i.authToken,e.metadata.peer={session_id:t.sessionId,room_id:t.id,room_name:t.name,template_id:t.templateId,joined_at:(s=t.joinedAt)==null?void 0:s.getTime(),session_started_at:(n=t.startedAt)==null?void 0:n.getTime(),role:(d=r==null?void 0:r.role)==null?void 0:d.name,user_name:r==null?void 0:r.name,user_data:r==null?void 0:r.metadata},ve.sendEvent(e)}};var Gr={autoplayFailed:void 0,initialized:!1,autoplayCheckPromise:void 0},at=class{constructor(e,t,r){this.store=e;this.deviceManager=t;this.eventBus=r;this.autoPausedTracks=new Set;this.TAG=\"[AudioSinkManager]:\";this.volume=100;this.state=v({},Gr);this.handleAudioPaused=e=>{var s;let r=(s=e.target.srcObject)==null?void 0:s.getAudioTracks()[0];if(!(r==null?void 0:r.enabled))return;o.d(this.TAG,\"Audio Paused\",e.target.id);let i=this.store.getTrackById(e.target.id);i&&(pr()?setTimeout(()=>c(this,null,function*(){i&&(yield this.playAudioFor(i))}),500):this.autoPausedTracks.add(i))};this.handleTrackUpdate=({track:e,enabled:t})=>{var r;((r=window.HMS)==null?void 0:r.AUDIO_SINK)&&(t?(e.addSink(),this.playAudioFor(e)):e.removeSink()),o.d(this.TAG,\"Track updated\",`${e}`)};this.handleTrackAdd=r=>c(this,[r],function*({track:e,peer:t}){var s,n,d;let i=document.createElement(\"audio\");i.style.display=\"none\",i.id=e.trackId,i.addEventListener(\"pause\",this.handleAudioPaused),e.setAudioElement(i),e.setVolume(this.volume),o.d(this.TAG,\"Audio track added\",`${e}`),(s=this.audioSink)==null||s.append(i),this.outputDevice&&(yield e.setOutputDevice(this.outputDevice)),((n=window.HMS)==null?void 0:n.AUDIO_SINK)?e.enabled?e.addSink():e.removeSink():i.srcObject=new MediaStream([e.nativeTrack]),(d=this.listener)==null||d.onTrackUpdate(N.TRACK_ADDED,e,t),yield this.handleAutoplayError(e)});this.handleAutoplayError=e=>c(this,null,function*(){if(this.state.autoplayFailed===void 0&&(this.state.autoplayCheckPromise||(this.state.autoplayCheckPromise=new Promise(t=>{this.playAudioFor(e).then(t)})),yield this.state.autoplayCheckPromise),this.state.autoplayFailed){this.autoPausedTracks.add(e);return}yield this.playAudioFor(e)});this.handleAudioDeviceChange=e=>{e.error||!e.selection||e.type===\"video\"||this.unpauseAudioTracks()};this.handleTrackRemove=e=>{this.autoPausedTracks.delete(e);let t=document.getElementById(e.trackId);t&&(t.removeEventListener(\"pause\",this.handleAudioPaused),t.srcObject=null,t.remove(),e.setAudioElement(null)),this.audioSink&&this.audioSink.childElementCount===0&&(this.state.autoplayCheckPromise=void 0,this.state.autoplayFailed=void 0),o.d(this.TAG,\"Audio track removed\",`${e}`)};this.unpauseAudioTracks=()=>c(this,null,function*(){let e=[];this.autoPausedTracks.forEach(t=>{e.push(this.playAudioFor(t))}),yield Promise.all(e)});this.eventBus.audioTrackAdded.subscribe(this.handleTrackAdd),this.eventBus.audioTrackRemoved.subscribe(this.handleTrackRemove),this.eventBus.audioTrackUpdate.subscribe(this.handleTrackUpdate),this.eventBus.deviceChange.subscribe(this.handleAudioDeviceChange)}setListener(e){this.listener=e}get outputDevice(){return this.deviceManager.outputDevice}getVolume(){return this.volume}setVolume(e){return c(this,null,function*(){yield this.store.updateAudioOutputVolume(e),this.volume=e})}unblockAutoplay(){return c(this,null,function*(){this.autoPausedTracks.size>0&&this.unpauseAudioTracks()})}init(e){if(this.state.initialized)return;this.state.initialized=!0;let t=document.createElement(\"div\");t.id=`HMS-SDK-audio-sink-${(0,uuid__WEBPACK_IMPORTED_MODULE_2__.v4)()}`,(e&&document.getElementById(e)||document.body).append(t),this.audioSink=t}cleanUp(){var e;(e=this.audioSink)==null||e.remove(),this.audioSink=void 0,this.eventBus.audioTrackAdded.unsubscribe(this.handleTrackAdd),this.eventBus.audioTrackRemoved.unsubscribe(this.handleTrackRemove),this.eventBus.audioTrackUpdate.unsubscribe(this.handleTrackUpdate),this.eventBus.deviceChange.unsubscribe(this.handleAudioDeviceChange),this.autoPausedTracks=new Set,this.state=v({},Gr)}playAudioFor(e){return c(this,null,function*(){let t=e.getAudioElement();if(!t){o.w(this.TAG,\"No audio element found on track\",e.trackId);return}try{yield t.play(),this.state.autoplayFailed=!1,this.autoPausedTracks.delete(e),o.d(this.TAG,\"Played track\",`${e}`)}catch(r){this.autoPausedTracks.add(e),o.e(this.TAG,\"Failed to play track\",`${e}`,r);let i=r;if(!this.state.autoplayFailed&&i.name===\"NotAllowedError\"){this.state.autoplayFailed=!0;let s=m.TracksErrors.AutoplayBlocked(p.AUTOPLAY,\"\");s.addNativeError(i),this.eventBus.analytics.publish(R.autoplayError()),this.eventBus.autoplayError.publish(s)}}})}};var nt=class{constructor(e,t){this.store=e;this.eventBus=t;this.audioInput=[];this.audioOutput=[];this.videoInput=[];this.hasWebcamPermission=!1;this.hasMicrophonePermission=!1;this.TAG=\"[Device Manager]:\";this.initialized=!1;this.videoInputChanged=!1;this.audioInputChanged=!1;this.updateOutputDevice=e=>c(this,null,function*(){let t=this.audioOutput.find(r=>r.deviceId===e);return t&&(this.outputDevice=t,yield this.store.updateAudioOutputDevice(t),Q.updateSelection(\"audioOutput\",{deviceId:t.deviceId,groupId:t.groupId})),t});this.getCurrentSelection=()=>{var n,d;let e=this.store.getLocalPeer(),t=this.createIdentifier((n=e==null?void 0:e.audioTrack)==null?void 0:n.getMediaTrackSettings()),r=this.createIdentifier((d=e==null?void 0:e.videoTrack)==null?void 0:d.getMediaTrackSettings()),i=this.audioInput.find(l=>this.createIdentifier(l)===t),s=this.videoInput.find(l=>this.createIdentifier(l)===r);return{audioInput:i,videoInput:s,audioOutput:this.outputDevice}};this.computeChange=(e,t)=>e.length!==t.length?!0:t.some(r=>!e.includes(this.createIdentifier(r)));this.enumerateDevices=()=>c(this,null,function*(){try{let e=yield navigator.mediaDevices.enumerateDevices(),t=this.videoInput.map(this.createIdentifier),r=this.audioInput.map(this.createIdentifier);this.audioInput=[],this.audioOutput=[],this.videoInput=[],e.forEach(i=>{i.kind===\"audioinput\"&&i.label?(this.hasMicrophonePermission=!0,this.audioInput.push(i)):i.kind===\"audiooutput\"?this.audioOutput.push(i):i.kind===\"videoinput\"&&i.label&&(this.hasWebcamPermission=!0,this.videoInput.push(i))}),this.videoInputChanged=this.computeChange(t,this.videoInput),this.audioInputChanged=this.computeChange(r,this.audioInput),Q.setDevices({videoInput:[...this.videoInput],audioInput:[...this.audioInput],audioOutput:[...this.audioOutput]}),this.logDevices(\"Enumerate Devices\")}catch(e){o.e(this.TAG,\"Failed enumerating devices\",e)}});this.handleDeviceChange=Mr(()=>c(this,null,function*(){yield this.enumerateDevices(),this.logDevices(\"After Device Change\");let e=this.store.getLocalPeer();yield this.setOutputDevice(!0),yield this.handleAudioInputDeviceChange(e==null?void 0:e.audioTrack),yield this.handleVideoInputDeviceChange(e==null?void 0:e.videoTrack),this.eventBus.analytics.publish(R.deviceChange({selection:this.getCurrentSelection(),type:\"change\",devices:this.getDevices()}))}),500).bind(this);this.handleAudioInputDeviceChange=e=>c(this,null,function*(){if(!e){o.d(this.TAG,\"No Audio track on local peer\");return}if(!this.audioInputChanged){o.d(this.TAG,\"No Change in AudioInput Device\");return}let t=this.getNewAudioInputDevice();if(!t||!t.deviceId){this.eventBus.analytics.publish(R.deviceChange({selection:{audioInput:t},error:new Error(\"Audio device not found\"),devices:this.getDevices(),type:\"audioInput\"})),o.w(this.TAG,\"Audio device not found\");return}let{settings:r}=e,i=new z().codec(r.codec).maxBitrate(r.maxBitrate).deviceId(t.deviceId).build();try{yield e.setSettings(i,!0),this.eventBus.deviceChange.publish({devices:this.getDevices(),selection:t,type:\"audioInput\"}),this.logDevices(\"Audio Device Change Success\")}catch(s){o.e(this.TAG,\"[Audio Device Change]\",s),this.eventBus.analytics.publish(R.deviceChange({selection:{audioInput:t},devices:this.getDevices(),type:\"audioInput\",error:s})),this.eventBus.deviceChange.publish({error:s,selection:t,type:\"audioInput\",devices:this.getDevices()})}});this.handleVideoInputDeviceChange=e=>c(this,null,function*(){if(!e){o.d(this.TAG,\"No video track on local peer\");return}if(!this.videoInputChanged){o.d(this.TAG,\"No Change in VideoInput Device\");return}let t=this.videoInput[0];if(!t||!t.deviceId){this.eventBus.analytics.publish(R.deviceChange({selection:{videoInput:t},error:new Error(\"Video device not found\"),devices:this.getDevices(),type:\"video\"})),o.w(this.TAG,\"Video device not found\");return}let{settings:r}=e,i=new J().codec(r.codec).maxBitrate(r.maxBitrate).maxFramerate(r.maxFramerate).setWidth(r.width).setHeight(r.height).deviceId(t.deviceId).build();try{yield e.setSettings(i,!0),this.eventBus.deviceChange.publish({devices:this.getDevices(),selection:t,type:\"video\"}),this.logDevices(\"Video Device Change Success\")}catch(s){o.e(this.TAG,\"[Video Device Change]\",s),this.eventBus.analytics.publish(R.deviceChange({selection:{videoInput:t},devices:this.getDevices(),type:\"video\",error:s})),this.eventBus.deviceChange.publish({error:s,type:\"video\",selection:t,devices:this.getDevices()})}});let r=({enabled:i,track:s})=>i&&s.source===\"regular\";this.eventBus.localVideoEnabled.waitFor(r).then(()=>c(this,null,function*(){yield this.enumerateDevices(),this.videoInputChanged&&this.eventBus.deviceChange.publish({devices:this.getDevices()})})),this.eventBus.localAudioEnabled.waitFor(r).then(()=>c(this,null,function*(){yield this.enumerateDevices(),this.audioInputChanged&&this.eventBus.deviceChange.publish({devices:this.getDevices()})}))}init(e=!1){return c(this,null,function*(){this.initialized&&!e||(!this.initialized&&navigator.mediaDevices.addEventListener(\"devicechange\",this.handleDeviceChange),this.initialized=!0,yield this.enumerateDevices(),this.logDevices(\"Init\"),yield this.setOutputDevice(),this.eventBus.deviceChange.publish({devices:this.getDevices()}),this.eventBus.analytics.publish(R.deviceChange({selection:this.getCurrentSelection(),type:\"list\",devices:this.getDevices()})))})}getDevices(){return{audioInput:this.audioInput,audioOutput:this.audioOutput,videoInput:this.videoInput}}cleanUp(){this.initialized=!1,this.audioInput=[],this.audioOutput=[],this.videoInput=[],this.outputDevice=void 0,navigator.mediaDevices.removeEventListener(\"devicechange\",this.handleDeviceChange)}createIdentifier(e){return e?`${e.deviceId}${e.groupId}`:\"\"}getNewAudioInputDevice(){let e=this.audioInput.find(t=>t.deviceId===\"default\");return e?this.audioInput.find(r=>r.label!==e.label&&e.label.includes(r.label)):this.audioInput[0]}setOutputDevice(e=!1){return c(this,null,function*(){let t=this.getNewAudioInputDevice(),r=this.createIdentifier(this.outputDevice);this.outputDevice=this.getAudioOutputDeviceMatchingInput(t),this.outputDevice||(this.outputDevice=this.audioOutput.find(i=>this.createIdentifier(i)===r),this.outputDevice||(this.outputDevice=this.audioOutput.find(i=>i.deviceId===\"default\")||this.audioOutput[0])),yield this.store.updateAudioOutputDevice(this.outputDevice),e&&r!==this.createIdentifier(this.outputDevice)&&(this.eventBus.analytics.publish(R.deviceChange({selection:{audioOutput:this.outputDevice},devices:this.getDevices(),type:\"audioOutput\"})),this.eventBus.deviceChange.publish({selection:this.outputDevice,type:\"audioOutput\",devices:this.getDevices()}))})}getAudioOutputDeviceMatchingInput(e){var i,s;let t=((s=(i=this.store.getConfig())==null?void 0:i.settings)==null?void 0:s.speakerAutoSelectionBlacklist)||[];if(t===\"all\")return;let r=(e==null?void 0:e.label.toLowerCase())||\"\";if(!t.some(n=>r.includes(n.toLowerCase()))&&(e==null?void 0:e.groupId))return this.audioOutput.find(n=>e.deviceId!==\"default\"&&n.label===e.label)}logDevices(e=\"\"){o.d(this.TAG,e,JSON.stringify({videoInput:[...this.videoInput],audioInput:[...this.audioInput],audioOutput:[...this.audioOutput],selected:this.getCurrentSelection()},null,4))}};var ot=class{constructor(e,t){this.deviceManager=e;this.audioSinkManager=t}getVolume(){return this.audioSinkManager.getVolume()}setVolume(e){if(e<0||e>100)throw Error(\"Please pass a valid number between 0-100\");this.audioSinkManager.setVolume(e)}getDevice(){return this.deviceManager.outputDevice}setDevice(e){return this.deviceManager.updateOutputDevice(e)}unblockAutoplay(){return c(this,null,function*(){yield this.audioSinkManager.unblockAutoplay(),yield Re.resumeContext()})}};var U=class{constructor(e,t){this.eventName=e;this.eventEmitter=t;this.publish=e=>{this.eventEmitter.emit(this.eventName,e)};this.subscribe=e=>{this.eventEmitter.on(this.eventName,e)};this.subscribeOnce=e=>{this.eventEmitter.once(this.eventName,e)};this.unsubscribe=e=>{this.eventEmitter.off(this.eventName,e)};this.waitFor=e=>this.eventEmitter.waitFor(this.eventName,{filter:e});this.removeAllListeners=()=>{this.eventEmitter.removeAllListeners(this.eventName)}}};var Nt=class{constructor(){this.eventEmitter=new eventemitter2__WEBPACK_IMPORTED_MODULE_3__.EventEmitter2;this.deviceChange=new U(G.DEVICE_CHANGE,this.eventEmitter);this.localAudioEnabled=new U(G.LOCAL_AUDIO_ENABLED,this.eventEmitter);this.localVideoEnabled=new U(G.LOCAL_VIDEO_ENABLED,this.eventEmitter);this.statsUpdate=new U(G.STATS_UPDATE,this.eventEmitter);this.trackDegraded=new U(G.TRACK_DEGRADED,this.eventEmitter);this.trackRestored=new U(G.TRACK_RESTORED,this.eventEmitter);this.trackAudioLevelUpdate=new U(G.TRACK_AUDIO_LEVEL_UPDATE,this.eventEmitter);this.audioPluginFailed=new U(G.AUDIO_PLUGIN_FAILED,this.eventEmitter);this.localAudioSilence=new U(G.LOCAL_AUDIO_SILENCE,this.eventEmitter);this.analytics=new U(G.ANALYTICS,this.eventEmitter);this.policyChange=new U(G.POLICY_CHANGE,this.eventEmitter);this.localRoleUpdate=new U(G.LOCAL_ROLE_UPDATE,this.eventEmitter);this.audioTrackUpdate=new U(G.AUDIO_TRACK_UPDATE,this.eventEmitter);this.audioTrackAdded=new U(G.AUDIO_TRACK_ADDED,this.eventEmitter);this.audioTrackRemoved=new U(G.AUDIO_TRACK_REMOVED,this.eventEmitter);this.autoplayError=new U(G.AUTOPLAY_ERROR,this.eventEmitter);this.leave=new U(G.LEAVE,this.eventEmitter)}};var Ot=class{constructor(e,t,r){this.store=e;this.listener=t;this.audioListener=r}handleActiveSpeakers(e){var s,n,d;let t=e[\"speaker-list\"],r=t.map(l=>({audioLevel:l.level,peer:this.store.getPeerById(l.peer_id),track:this.store.getTrackById(l.track_id)}));(s=this.audioListener)==null||s.onAudioLevelUpdate(r),this.store.updateSpeakers(r);let i=t[0];if(i){let l=this.store.getPeerById(i.peer_id);(n=this.listener)==null||n.onPeerUpdate(K.BECAME_DOMINANT_SPEAKER,l)}else(d=this.listener)==null||d.onPeerUpdate(K.RESIGNED_DOMINANT_SPEAKER,null)}};var A;(function(k){k.ROOM_STATE=\"room-state\",k.PEER_JOIN=\"on-peer-join\",k.PEER_LEAVE=\"on-peer-leave\",k.PEER_LIST=\"peer-list\",k.TRACK_METADATA_ADD=\"on-track-add\",k.TRACK_UPDATE=\"on-track-update\",k.CHANGE_TRACK_MUTE_STATE_UPDATE=\"on-change-track-mute-state-request\",k.ACTIVE_SPEAKERS=\"active-speakers\",k.CONNECTION_QUALITY=\"on-connection-quality-update\",k.SFU_STATS=\"sfu-stats\",k.ON_SFU_TRACK_LAYER_UPDATE=\"on-track-layer-update\",k.BROADCAST=\"on-broadcast\",k.ROLE_CHANGE=\"on-role-change\",k.POLICY_CHANGE=\"on-policy-change\",k.ROLE_CHANGE_REQUEST=\"on-role-change-request\",k.TRACK_UPDATE_REQUEST=\"on-track-update-request\",k.PEER_UPDATE=\"on-peer-update\",k.PEER_LEAVE_REQUEST=\"on-peer-leave-request\",k.UNSUPPORTED=\"unsupported\",k.RTMP_START=\"on-rtmp-start\",k.RTMP_STOP=\"on-rtmp-stop\",k.RECORDING_START=\"on-record-start\",k.RECORDING_STOP=\"on-record-stop\",k.HLS_START=\"on-hls-start\",k.HLS_STOP=\"on-hls-stop\"})(A||(A={}));var xt=class{constructor(e,t){this.store=e;this.listener=t;this.TAG=\"[BroadcastManager]\"}handleNotification(e,t){e===A.BROADCAST&&this.handleBroadcast(t)}handleBroadcast(e){var h;let t=e.peer,r=e.info,i=e.roles,s=this.getSender(t),n=e.private?this.store.getLocalPeer():void 0,d=[];if(i==null?void 0:i.length){let u=this.store.getKnownRoles();for(let g of i)u[g]&&d.push(u[g])}let l=new fe(_(v({},r),{sender:s,recipientRoles:d,recipientPeer:n,time:new Date(e.timestamp)}));o.d(this.TAG,`Received Message from sender=${t==null?void 0:t.peer_id}: ${l}`),(h=this.listener)==null||h.onMessageReceived(l)}getSender(e){let t=e?this.store.getPeerById(e.peer_id):void 0;return!t&&e&&(t=new ae({peerId:e.peer_id,name:e.info.name,isLocal:!1,customerUserId:e.info.user_id,metadata:e.info.data})),t}};var Ft=class{constructor(e){this.listener=e}handleQualityUpdate(e){var i;let r=e.peers.map(s=>({peerID:s.peer_id,downlinkQuality:s.downlink_score}));(i=this.listener)==null||i.onConnectionQualityUpdate(r)}};var Bt=class{constructor(e,t,r,i){this.store=e;this.peerManager=t;this.trackManager=r;this.listener=i;this.TAG=\"[PeerListManager]\";this.handleInitialPeerList=e=>{let t=Object.values(e.peers);this.peerManager.handlePeerList(t)};this.handleReconnectPeerList=e=>{this.handleRepeatedPeerList(e.peers)};this.handlePreviewRoomState=e=>{if(!this.store.hasRoleDetailsArrived())return;let t=e.peers;if(t==null){e.peer_count===0&&this.handleRepeatedPeerList({});return}Object.keys(t).forEach(r=>{t[r].tracks={},t[r].is_from_room_state=!0}),this.handleRepeatedPeerList(t)};this.handleRepeatedPeerList=e=>{let t=this.store.getRemotePeers(),r=Object.values(e),i=t.filter(s=>!e[s.peerId]);o.d(this.TAG,`${i}`),i.forEach(s=>{var d;let n={peer_id:s.peerId,role:((d=s.role)==null?void 0:d.name)||\"\",info:{name:s.name,data:s.metadata||\"\",user_id:s.customerUserId||\"\"},tracks:{}};this.peerManager.handlePeerLeave(n)}),r.forEach(s=>{let n=this.store.getPeerById(s.peer_id),d=Object.values(s.tracks);n?(this.store.getPeerTracks(n.peerId).forEach(h=>{var u;s.tracks[h.trackId]||(this.removePeerTrack(n,h.trackId),(u=this.listener)==null||u.onTrackUpdate(N.TRACK_REMOVED,h,n))}),d.forEach(h=>{this.store.getTrackById(h.track_id)||this.store.setTrackState({peerId:n.peerId,trackInfo:h})}),this.trackManager.handleTrackUpdate({peer:{info:s.info,peer_id:s.peer_id},tracks:s.tracks}),this.peerManager.handlePeerUpdate(s)):this.peerManager.handlePeerJoin(s)})}}handleNotification(e,t,r){if(e===A.PEER_LIST){let i=t;r?(o.d(this.TAG,\"RECONNECT_PEER_LIST event\",JSON.stringify(i,null,2)),this.handleReconnectPeerList(i)):(o.d(this.TAG,\"PEER_LIST event\",JSON.stringify(i,null,2)),this.handleInitialPeerList(i))}else if(e===A.ROOM_STATE){let i=t;this.handlePreviewRoomState(i)}}removePeerTrack(e,t){var r,i;if(((r=e.audioTrack)==null?void 0:r.trackId)===t)e.audioTrack=void 0;else if(((i=e.videoTrack)==null?void 0:i.trackId)===t)e.videoTrack=void 0;else{let s=e.auxiliaryTracks.findIndex(n=>n.trackId===t);s>=0&&e.auxiliaryTracks.splice(s,1)}}};var Y=a=>a?new Date(a):void 0;var Ut=class{constructor(e,t,r){this.store=e;this.trackManager=t;this.listener=r;this.TAG=\"[PeerManager]\";this.handlePeerList=e=>{var i,s;if(e.length===0){(i=this.listener)==null||i.onPeerUpdate(K.PEER_LIST,[]);return}let t=[],r=new Set(e.map(n=>n.peer_id));this.store.getRemotePeers().forEach(({peerId:n,fromRoomState:d})=>{!r.has(n)&&d&&this.store.removePeer(n)});for(let n of e)t.push(this.makePeer(n));(s=this.listener)==null||s.onPeerUpdate(K.PEER_LIST,t),this.trackManager.processPendingTracks()};this.handlePeerJoin=e=>{var r;let t=this.makePeer(e);(r=this.listener)==null||r.onPeerUpdate(K.PEER_JOINED,t),this.trackManager.processPendingTracks()};this.handlePeerLeave=e=>{var r,i,s,n;let t=this.store.getPeerById(e.peer_id);this.store.removePeer(e.peer_id),o.d(this.TAG,\"PEER_LEAVE\",e.peer_id,`remainingPeers=${this.store.getPeers().length}`),!!t&&(t.audioTrack&&((r=this.listener)==null||r.onTrackUpdate(N.TRACK_REMOVED,t.audioTrack,t)),t.videoTrack&&((i=this.listener)==null||i.onTrackUpdate(N.TRACK_REMOVED,t.videoTrack,t)),(s=t.auxiliaryTracks)==null||s.forEach(d=>{var l;(l=this.listener)==null||l.onTrackUpdate(N.TRACK_REMOVED,d,t)}),(n=this.listener)==null||n.onPeerUpdate(K.PEER_LEFT,t))}}handleNotification(e,t){switch(e){case A.PEER_JOIN:{let r=t;this.handlePeerJoin(r);break}case A.PEER_LEAVE:{let r=t;this.handlePeerLeave(r);break}case A.PEER_UPDATE:this.handlePeerUpdate(t);break;default:break}}handlePeerUpdate(e){var r;let t=this.store.getPeerById(e.peer_id);if(!!t){if(t.role&&t.role.name!==e.role){let i=this.store.getPolicyForRole(e.role);t.updateRole(i),(r=this.listener)==null||r.onPeerUpdate(K.ROLE_UPDATED,t)}this.handlePeerInfoUpdate(v({peer:t},e.info))}}handlePeerInfoUpdate({peer:e,name:t,data:r}){var i,s;!e||(t&&e.name!==t&&(e.updateName(t),(i=this.listener)==null||i.onPeerUpdate(K.NAME_UPDATED,e)),r&&e.metadata!==r&&(e.updateMetadata(r),(s=this.listener)==null||s.onPeerUpdate(K.METADATA_UPDATED,e)))}makePeer(e){let t=new $e({peerId:e.peer_id,name:e.info.name,customerUserId:e.info.user_id,metadata:e.info.data,role:this.store.getPolicyForRole(e.role),joinedAt:Y(e.joined_at),fromRoomState:!!e.is_from_room_state});this.store.addPeer(t),o.d(this.TAG,\"adding to the peerList\",t.toString());for(let r in e.tracks)this.store.setTrackState({peerId:e.peer_id,trackInfo:e.tracks[r]});return t}};var Gt=class{constructor(e,t){this.store=e;this.eventBus=t}handlePolicyChange(e){var i;let t=this.store.getLocalPeer();if(t&&!t.role){let s=e.known_roles[e.name];t.updateRole(s)}this.store.setKnownRoles(e.known_roles),this.store.getRoom().templateId=e.template_id;let r=(i=e.known_roles[e.name])==null?void 0:i.publishParams;if(this.store.setPublishParams(r),(t==null?void 0:t.role)&&t.role.name!==e.name){let s=this.store.getPolicyForRole(e.name),n=t.role;t.updateRole(s),this.eventBus.localRoleUpdate.publish({oldRole:n,newRole:s})}this.eventBus.policyChange.publish(e)}};var Vt=class{constructor(e,t){this.store=e;this.listener=t}handleNotification(e,t){switch(e){case A.ROLE_CHANGE_REQUEST:this.handleRoleChangeRequest(t);break;case A.TRACK_UPDATE_REQUEST:this.handleTrackUpdateRequest(t);break;case A.CHANGE_TRACK_MUTE_STATE_UPDATE:this.handleChangeTrackStateRequest(t);break;default:return}}handleRoleChangeRequest(e){var r;let t={requestedBy:e.requested_by?this.store.getPeerById(e.requested_by):void 0,role:this.store.getPolicyForRole(e.role),token:e.token};(r=this.listener)==null||r.onRoleChangeRequest(t)}handleTrackUpdateRequest(e){let{requested_by:t,track_id:r,mute:i}=e,s=t?this.store.getPeerById(t):void 0,n=this.store.getLocalPeerTracks().find(l=>l.publishedTrackId===r);if(!n)return;let d=()=>{var l;(l=this.listener)==null||l.onChangeTrackStateRequest({requestedBy:s,track:n,enabled:!i})};if(i){if(n.enabled===!i)return;n.setEnabled(!i).then(d)}else d()}handleChangeTrackStateRequest(e){var h;let{type:t,source:r,value:i,requested_by:s}=e,n=s?this.store.getPeerById(s):void 0,d=!i,l=this.getTracksToBeUpdated({type:t,source:r,enabled:d});if(l.length!==0)if(d)(h=this.listener)==null||h.onChangeMultiTrackStateRequest({requestedBy:n,tracks:l,type:t,source:r,enabled:!0});else{let u=[];for(let g of l)u.push(g.setEnabled(!1));Promise.all(u).then(()=>{var g;(g=this.listener)==null||g.onChangeMultiTrackStateRequest({requestedBy:n,tracks:l,enabled:!1})})}}getTracksToBeUpdated({type:e,source:t,enabled:r}){let s=this.store.getLocalPeerTracks();return e&&(s=s.filter(n=>n.type===e)),t&&(s=s.filter(n=>n.source===t)),s.filter(n=>n.enabled!==r)}};var $t=class{constructor(e,t){this.store=e;this.listener=t;this.TAG=\"[RoomUpdateManager]\"}handleNotification(e,t){switch(e){case A.PEER_LIST:this.onRoomState(t.room);break;case A.RTMP_START:this.onRTMPStart(t);break;case A.RTMP_STOP:this.onRTMPStop(t);break;case A.RECORDING_START:this.onRecordingStart(t);break;case A.RECORDING_STOP:this.onRecordingStop(t);break;case A.ROOM_STATE:this.handlePreviewRoomState(t);break;default:this.onHLS(e,t);break}}handlePreviewRoomState(e){let{room:t}=e;this.onRoomState(t,e.peer_count)}onRoomState(e,t){var h,u,g;let{recording:r,streaming:i,session_id:s,started_at:n,name:d}=e,l=this.store.getRoom();l.peerCount=t,l.name=d,l.recording.server.running=!!(r==null?void 0:r.sfu.enabled),l.recording.browser.running=!!(r==null?void 0:r.browser.enabled),l.rtmp.running=!!((h=i==null?void 0:i.rtmp)==null?void 0:h.enabled),l.rtmp.startedAt=Y((u=i==null?void 0:i.rtmp)==null?void 0:u.started_at),l.recording.server.startedAt=Y(r==null?void 0:r.sfu.started_at),l.recording.browser.startedAt=Y(r==null?void 0:r.browser.started_at),l.recording.hls=this.getPeerListHLSRecording(r),l.hls=this.convertHls(i==null?void 0:i.hls),l.sessionId=s,l.startedAt=Y(n),(g=this.listener)==null||g.onRoomUpdate(ne.RECORDING_STATE_UPDATED,l)}onRTMPStart(e){var t;this.setRTMPStatus(!((t=e.error)==null?void 0:t.code),e)}onRTMPStop(e){this.setRTMPStatus(!1,e)}onRecordingStart(e){var t;this.setRecordingStatus(!((t=e.error)==null?void 0:t.code),e)}onRecordingStop(e){this.setRecordingStatus(!1,e)}onHLS(e,t){var i,s;if(![A.HLS_START,A.HLS_STOP].includes(e))return;let r=this.store.getRoom();t.enabled=e===A.HLS_START&&!((i=t.error)==null?void 0:i.code),r.hls=this.convertHls(t),r.recording.hls=this.getHLSRecording(t),(s=this.listener)==null||s.onRoomUpdate(ne.HLS_STREAMING_STATE_UPDATED,r)}convertHls(e){var r;let t={running:!!(e==null?void 0:e.enabled),variants:[],error:this.toSdkError(e==null?void 0:e.error)};return(r=e==null?void 0:e.variants)==null||r.forEach(i=>{t.variants.push({meetingURL:i.meeting_url,url:i.url,metadata:i.metadata,startedAt:Y(i.started_at)})}),t}getHLSRecording(e){var r,i,s;let t={running:!1};return(e==null?void 0:e.hls_recording)&&(t={running:!!(e==null?void 0:e.enabled),singleFilePerLayer:!!((r=e.hls_recording)==null?void 0:r.single_file_per_layer),hlsVod:!!((i=e.hls_recording)==null?void 0:i.hls_vod),startedAt:Y((s=e==null?void 0:e.variants)==null?void 0:s[0].started_at),error:this.toSdkError(e.error)}),t}getPeerListHLSRecording(e){var r,i;let t=e==null?void 0:e.hls;return{running:!!(t==null?void 0:t.enabled),startedAt:Y(t==null?void 0:t.started_at),singleFilePerLayer:!!((r=t==null?void 0:t.config)==null?void 0:r.single_file_per_layer),hlsVod:!!((i=t==null?void 0:t.config)==null?void 0:i.hls_vod)}}setRecordingStatus(e,t){var s;let r=this.store.getRoom(),i;t.type===\"sfu\"?(r.recording.server={running:e,startedAt:e?Y(t.started_at):void 0,error:this.toSdkError(t.error)},i=ne.SERVER_RECORDING_STATE_UPDATED):(r.recording.browser={running:e,startedAt:e?Y(t.started_at):void 0,error:this.toSdkError(t.error)},i=ne.BROWSER_RECORDING_STATE_UPDATED),(s=this.listener)==null||s.onRoomUpdate(i,r)}setRTMPStatus(e,t){var i;let r=this.store.getRoom();r.rtmp={running:e,startedAt:e?Y(t.started_at):void 0,error:this.toSdkError(t.error)},(i=this.listener)==null||i.onRoomUpdate(ne.RTMP_STREAMING_STATE_UPDATED,r)}toSdkError(e){if(!(e==null?void 0:e.code))return;let t=e.message||\"error in streaming/recording\",r=new T(e.code,\"ServerErrors\",p.NONE,t,t);return o.e(this.TAG,\"error in streaming/recording\",r),r}};var Wt=class{constructor(e,t,r){this.store=e;this.eventBus=t;this.listener=r;this.TAG=\"[TrackManager]\";this.tracksToProcess=new Map;this.handleTrackAdd=e=>{o.d(this.TAG,\"ONTRACKADD\",`${e}`),this.store.addTrack(e),this.tracksToProcess.set(e.trackId,e),this.processPendingTracks()};this.handleTrackRemove=e=>{var i;o.d(this.TAG,\"ONTRACKREMOVE\",`${e}`);let t=this.store.getTrackState(e.trackId);if(!t)return;e.type===L.AUDIO&&this.eventBus.audioTrackRemoved.publish(e);let r=this.store.getPeerById(t.peerId);!r||(this.removePeerTracks(r,e),this.store.removeTrack(e.trackId),(i=this.listener)==null||i.onTrackUpdate(N.TRACK_REMOVED,e,r))};this.handleTrackLayerUpdate=e=>{for(let t in e.tracks){let r=e.tracks[t],i=this.store.getTrackById(t);!i||!this.store.getPeerByTrackId(t)||i instanceof ge&&this.setLayer(i,r)}};this.handleTrackUpdate=e=>{var r,i;let t=this.store.getPeerById(e.peer.peer_id);if(!!t)for(let s in e.tracks){let n=Object.assign({},(r=this.store.getTrackState(s))==null?void 0:r.trackInfo),d=e.tracks[s],l=this.store.getTrackById(s);if(this.store.setTrackState({peerId:e.peer.peer_id,trackInfo:v(v({},n),d)}),!l||this.tracksToProcess.has(s))this.processPendingTracks();else{l.setEnabled(!d.mute);let h=this.processTrackUpdate(l,n,d);h&&((i=this.listener)==null||i.onTrackUpdate(h,l,t))}}}}handleTrackMetadataAdd(e){o.d(this.TAG,\"TRACK_METADATA_ADD\",JSON.stringify(e,null,2));for(let t in e.tracks)this.store.setTrackState({peerId:e.peer.peer_id,trackInfo:e.tracks[t]});this.processPendingTracks()}processPendingTracks(){new Map(this.tracksToProcess).forEach(t=>{var s;let r=this.store.getTrackState(t.trackId);if(!r)return;let i=this.store.getPeerById(r.peerId);!i||(t.source=r.trackInfo.source,t.peerId=i.peerId,t.logIdentifier=i.name,t.setEnabled(!r.trackInfo.mute),this.addAudioTrack(i,t),this.addVideoTrack(i,t),t.type===L.AUDIO?this.eventBus.audioTrackAdded.publish({track:t,peer:i}):(s=this.listener)==null||s.onTrackUpdate(N.TRACK_ADDED,t,i),this.tracksToProcess.delete(t.trackId))})}setLayer(e,t){var s,n;let r=this.store.getPeerByTrackId(e.trackId);if(!r)return;e.setLayerFromServer(t)?(s=this.listener)==null||s.onTrackUpdate(N.TRACK_DEGRADED,e,r):(n=this.listener)==null||n.onTrackUpdate(N.TRACK_RESTORED,e,r)}removePeerTracks(e,t){var i,s;let r=e.auxiliaryTracks.indexOf(t);r>-1?e.auxiliaryTracks.splice(r,1):t.type===L.AUDIO&&((i=e.audioTrack)==null?void 0:i.trackId)===t.trackId?e.audioTrack=void 0:t.type===L.VIDEO&&((s=e.videoTrack)==null?void 0:s.trackId)===t.trackId&&(e.videoTrack=void 0)}addAudioTrack(e,t){t.type===L.AUDIO&&(!e.audioTrack&&t.source===\"regular\"?e.audioTrack=t:e.auxiliaryTracks.push(t))}addVideoTrack(e,t){if(t.type!==L.VIDEO)return;let r=t,i=this.store.getSimulcastDefinitionsForPeer(e,r.source);r.setSimulcastDefinitons(i),!e.videoTrack&&t.source===\"regular\"?e.videoTrack=r:e.auxiliaryTracks.push(r)}processTrackUpdate(e,t,r){let i;return e.setEnabled(!r.mute),t.mute!==r.mute?(i=r.mute?N.TRACK_MUTED:N.TRACK_UNMUTED,e.type===L.AUDIO&&this.eventBus.audioTrackUpdate.publish({track:e,enabled:!r.mute})):t.description!==r.description&&(i=N.TRACK_DESCRIPTION_CHANGED),i}};var ct=class{constructor(e,t,r,i,s){this.store=e;this.listener=r;this.audioListener=i;this.connectionQualityListener=s;this.TAG=\"[HMSNotificationManager]\";this.hasConsistentRoomStateArrived=!1;this.ignoreNotification=e=>{if(e===A.PEER_LIST)this.hasConsistentRoomStateArrived=!0;else if(e===A.ROOM_STATE)return this.hasConsistentRoomStateArrived;return!1};this.handleTrackAdd=e=>{this.trackManager.handleTrackAdd(e)};this.handleTrackRemove=e=>{this.trackManager.handleTrackRemove(e)};this.updateLocalPeer=({name:e,metadata:t})=>{let r=this.store.getLocalPeer();this.peerManager.handlePeerInfoUpdate({peer:r,name:e,data:t})};this.trackManager=new Wt(this.store,t,this.listener),this.peerManager=new Ut(this.store,this.trackManager,this.listener),this.peerListManager=new Bt(this.store,this.peerManager,this.trackManager,this.listener),this.broadcastManager=new xt(this.store,this.listener),this.policyChangeManager=new Gt(this.store,t),this.requestManager=new Vt(this.store,this.listener),this.activeSpeakerManager=new Ot(this.store,this.listener,this.audioListener),this.connectionQualityManager=new Ft(this.connectionQualityListener),this.roomUpdateManager=new $t(this.store,this.listener)}setListener(e){this.listener=e,this.trackManager.listener=e,this.peerManager.listener=e,this.peerListManager.listener=e,this.broadcastManager.listener=e,this.requestManager.listener=e,this.activeSpeakerManager.listener=e,this.roomUpdateManager.listener=e}setAudioListener(e){this.audioListener=e,this.activeSpeakerManager.audioListener=e}setConnectionQualityListener(e){this.connectionQualityListener=e,this.connectionQualityManager.listener=e}handleNotification(e,t=!1){var s,n;let r=e.method,i=e.params;[A.ACTIVE_SPEAKERS,A.SFU_STATS,A.CONNECTION_QUALITY,void 0].includes(r)||o.d(this.TAG,`Received notification - ${r}`,{notification:i}),r===A.SFU_STATS&&((s=window.HMS)==null?void 0:s.ON_SFU_STATS)&&typeof((n=window.HMS)==null?void 0:n.ON_SFU_STATS)==\"function\"&&window.HMS.ON_SFU_STATS(e.params),!this.ignoreNotification(r)&&(this.roomUpdateManager.handleNotification(r,i),this.peerManager.handleNotification(r,i),this.requestManager.handleNotification(r,i),this.peerListManager.handleNotification(r,i,t),this.broadcastManager.handleNotification(r,i),this.handleIsolatedMethods(r,i))}handleIsolatedMethods(e,t){switch(e){case A.TRACK_METADATA_ADD:{this.trackManager.handleTrackMetadataAdd(t);break}case A.TRACK_UPDATE:{this.trackManager.handleTrackUpdate(t);break}case A.ON_SFU_TRACK_LAYER_UPDATE:{this.trackManager.handleTrackLayerUpdate(t);break}case A.ACTIVE_SPEAKERS:this.activeSpeakerManager.handleActiveSpeakers(t);break;case A.CONNECTION_QUALITY:this.connectionQualityManager.handleQualityUpdate(t);break;case A.POLICY_CHANGE:this.policyChangeManager.handlePolicyChange(t);break;default:break}}};var dt=class{constructor(e){this.type=e.type,this.source=e.source||\"regular\",this.description=\"\",e instanceof pe?(this.mute=!e.enabled,this.track_id=e.publishedTrackId,this.stream_id=e.stream.id):(this.mute=e.mute,this.track_id=e.track_id,this.stream_id=e.stream_id)}};var Be=class{constructor(e){this.TAG=\"[AudioContextManager]\";this.audioContext=new AudioContext,this.source=this.audioContext.createMediaElementSource(e),this.source.connect(this.audioContext.destination)}resumeContext(){this.audioContext.state===\"suspended\"&&(o.d(this.TAG,\"AudioContext is resumed\"),this.audioContext.resume())}getAudioTrack(){return this.destinationNode&&this.source.disconnect(this.destinationNode),this.destinationNode=this.audioContext.createMediaStreamDestination(),this.source.connect(this.destinationNode),this.destinationNode.stream.getAudioTracks()[0]}cleanup(){this.audioContext.state!==\"closed\"&&this.audioContext.close()}};var Te=class extends eventemitter2__WEBPACK_IMPORTED_MODULE_3__.EventEmitter2{on(e,t){return super.on(e,t)}off(e,t){return super.off(e,t)}emit(e,t){return super.emit(e,t)}listeners(e){return super.listeners(e)}};var Kt=class extends Te{constructor(){super(...arguments);this.audioElement=null;this.TAG=\"[PlaylistAudioManager]\";this.seeked=!1}play(e){return c(this,null,function*(){return this.audioElement=this.getAudioElement(),new Promise((t,r)=>{this.audioElement=this.getAudioElement(),this.audioElement.src=e,this.seeked=!1,this.audioElement.onerror=()=>{let i=`Error loading ${e}`;o.e(this.TAG,i),this.stop(),r(i)},this.audioElement.oncanplaythrough=()=>c(this,null,function*(){try{if(!this.audioElement)return;if(this.audioContextManager.resumeContext(),this.track)this.seeked?this.seeked=!1:(yield this.audioElement.play(),t([this.track]));else{yield this.audioElement.play();let i=this.audioContextManager.getAudioTrack();this.track=i,t([i])}}catch(i){o.e(this.TAG,\"Error playing audio\",e,i.message),r(i)}}),this.audioElement.onseeked=()=>{this.seeked=!0}})})}getTracks(){return this.track?[this.track.id]:[]}getElement(){return this.audioElement}stop(){var e,t,r;(e=this.audioElement)==null||e.pause(),(t=this.audioElement)==null||t.removeAttribute(\"src\"),this.audioElement=null,(r=this.audioContextManager)==null||r.cleanup(),this.track=void 0}getAudioElement(){if(this.audioElement)return this.audioElement;let e=document.createElement(\"audio\");return e.crossOrigin=\"anonymous\",e.addEventListener(\"timeupdate\",t=>this.emit(\"progress\",t)),e.addEventListener(\"ended\",()=>{this.emit(\"ended\",null)}),this.audioContextManager=new Be(e),e}};var qt=class extends Te{constructor(){super(...arguments);this.TAG=\"[PlaylistVideoManager]\";this.videoElement=null;this.canvasContext=null;this.tracks=[];this.DEFAUL_FPS=24;this.seeked=!1;this.drawImage=()=>{var e,t,r;this.videoElement&&!this.videoElement.paused&&!this.videoElement.ended&&((r=this.canvasContext)==null||r.drawImage(this.videoElement,0,0,(e=this.canvas)==null?void 0:e.width,(t=this.canvas)==null?void 0:t.height),this.timer=setTimeout(()=>{this.drawImage()},1e3/this.DEFAUL_FPS))}}play(e){return this.videoElement=this.getVideoElement(),this.createCanvas(),new Promise((t,r)=>{this.videoElement=this.getVideoElement(),this.videoElement.src=e,this.seeked=!1,this.videoElement.onerror=()=>{let i=`Error loading ${e}`;o.e(this.TAG,i),this.stop(),r(i)},this.videoElement.oncanplaythrough=()=>c(this,null,function*(){var i,s,n;try{if(!this.videoElement)return;if(this.canvas.width=this.videoElement.videoWidth,this.canvas.height=this.videoElement.videoHeight,this.tracks.length===0){this.clearCanvasAndTracks();let d=this.canvas.captureStream();if(!d){o.e(this.TAG,\"Browser does not support captureStream\");return}this.videoElement.onplay=this.drawImage,this.audioContextManager.resumeContext(),yield this.videoElement.play();let l=this.audioContextManager.getAudioTrack();d.addTrack(l),d.getTracks().forEach(h=>{this.tracks.push(h)}),t(this.tracks)}else this.seeked?(this.seeked=!1,(n=this.canvasContext)==null||n.drawImage(this.videoElement,0,0,(i=this.canvas)==null?void 0:i.width,(s=this.canvas)==null?void 0:s.height)):(yield this.videoElement.play(),t(this.tracks))}catch(d){o.e(this.TAG,\"Error playing video\",e,d.message),r(d)}}),this.videoElement.onseeked=()=>{this.seeked=!0}})}getTracks(){return this.tracks.map(e=>e.id)}getElement(){return this.videoElement}stop(){var e,t,r;(e=this.videoElement)==null||e.pause(),(t=this.videoElement)==null||t.removeAttribute(\"src\"),this.videoElement=null,(r=this.audioContextManager)==null||r.cleanup(),this.clearCanvasAndTracks()}clearCanvasAndTracks(){var e;this.tracks=[],(e=this.canvasContext)==null||e.clearRect(0,0,this.canvas.width,this.canvas.height),clearTimeout(this.timer)}getVideoElement(){if(this.videoElement)return this.videoElement;let e=document.createElement(\"video\");return e.crossOrigin=\"anonymous\",e.addEventListener(\"timeupdate\",t=>this.emit(\"progress\",t)),e.addEventListener(\"ended\",()=>{this.emit(\"ended\",null)}),this.audioContextManager=new Be(e),e}createCanvas(){this.canvas||(this.canvas=document.createElement(\"canvas\"),this.canvasContext=this.canvas.getContext(\"2d\"))}};var lt={audio:{list:[],currentIndex:-1,isAutoplayOn:!0},video:{list:[],currentIndex:-1,isAutoplayOn:!0}},ut=class extends Te{constructor(e,t){super();this.sdk=e;this.eventBus=t;this.state={audio:v({},lt.audio),video:v({},lt.video)};this.TAG=\"[PlaylistManager]\";this.handlePausePlaylist=r=>c(this,[r],function*({enabled:e,track:t}){var s;if(e)return;let i;t.source===\"audioplaylist\"&&(i=b.audio),t.source===\"videoplaylist\"&&(i=b.video),!!i&&((s=this.getElement(i))==null||s.pause())});this.addTrack=(e,t)=>c(this,null,function*(){yield this.sdk.addTrack(e,t),o.d(this.TAG,\"Playlist track added\",Je(e))});this.removeTrack=e=>c(this,null,function*(){yield this.sdk.removeTrack(e),o.d(this.TAG,\"Playlist track removed\",e)});this.audioManager=new Kt,this.videoManager=new qt,this.addListeners()}getList(e=b.audio){return this.state[e].list}setList(e){if(!e||e.length===0){o.w(this.TAG,\"Please pass in a list of HMSPlaylistItem's\");return}e.forEach(t=>{this.state[t.type].list.includes(t)||this.state[t.type].list.push(t)})}clearList(e){return c(this,null,function*(){this.isPlaying(e)&&(yield this.stop(e)),this.state[e].list=[]})}removeItem(e,t){return c(this,null,function*(){let{list:r,currentIndex:i}=this.state[t],s=r.findIndex(n=>e===n.id);return s>-1?(i===s&&this.isPlaying(t)&&(yield this.stop(t)),r.splice(s,1),!0):!1})}seek(e,t=b.audio){let{currentIndex:r}=this.state[t];if(r===-1)throw m.PlaylistErrors.NoEntryToPlay(p.PLAYLIST,\"No item is currently playing\");let i=this.getElement(t);if(i){let s=Math.max(i.currentTime+e,0);i.currentTime=Math.min(s,i.duration)}}seekTo(e,t=b.audio){let{currentIndex:r}=this.state[t];if(r===-1)throw m.PlaylistErrors.NoEntryToPlay(p.PLAYLIST,\"No item is currently playing\");if(e<0)throw Error(\"value cannot be negative\");let i=this.getElement(t);i&&(i.currentTime=Math.min(e,i.duration))}setVolume(e,t=b.audio){if(e<0||e>100)throw Error(\"Please pass a valid number between 0-100\");let r=this.getElement(t);r&&(r.volume=e*.01)}getVolume(e=b.audio){let t=this.getElement(e);return t?t.volume*100:0}getCurrentTime(e=b.audio){let t=this.getElement(e);return(t==null?void 0:t.currentTime)||0}getCurrentIndex(e=b.audio){return this.state[e].currentIndex}getCurrentProgress(e=b.audio){var n;let{list:t,currentIndex:r}=this.state[e],i=(n=t[r])==null?void 0:n.url,s=this.getElement(e);return!i||!s?0:Math.floor(100*(s.currentTime/s.duration))}getCurrentSelection(e=b.audio){let{list:t,currentIndex:r}=this.state[e];if(r!==-1)return t[r]}isPlaying(e=b.audio){let t=this.getElement(e);return!!t&&!t.paused}setIsAutoplayOn(e=b.audio,t){this.state[e].isAutoplayOn=t}getPlaybackRate(e=b.audio){let t=this.getElement(e);return t?t.playbackRate:1}setPlaybackRate(e=b.audio,t){if(t<.25||t>2)throw Error(\"Please pass a value between 0.25 and 2.0\");let r=this.getElement(e);r&&(r.playbackRate=t)}setEnabled(i,s){return c(this,arguments,function*(e,{id:t,type:r=b.audio}){let d=this.state[r].list.findIndex(h=>h.id===t);if(!t||d===-1){o.w(this.TAG,\"Pass a valid id\");return}let l=this.state[r].list[d].url;e?yield this.play(l,r):yield this.pause(l,r),this.state[r].currentIndex=d,this.setDuration(r)})}playNext(){return c(this,arguments,function*(e=b.audio){let{list:t,currentIndex:r}=this.state[e];if(r>=t.length-1)throw m.PlaylistErrors.NoEntryToPlay(p.PLAYLIST,\"Reached end of playlist\");yield this.play(t[r+1].url,e),this.state[e].currentIndex=r+1,this.setDuration(e)})}playPrevious(){return c(this,arguments,function*(e=b.audio){let{list:t,currentIndex:r}=this.state[e];if(r<=0)throw m.PlaylistErrors.NoEntryToPlay(p.PLAYLIST,\"Reached start of playlist\");yield this.play(t[r-1].url,e),this.state[e].currentIndex=r-1,this.setDuration(e)})}stop(){return c(this,arguments,function*(e=b.audio){var r;let t=e===b.audio?this.audioManager:this.videoManager;(r=t.getElement())==null||r.pause(),yield this.removeTracks(e),t.stop(),this.state[e].currentIndex=-1})}cleanup(){this.state={audio:v({},lt.audio),video:v({},lt.video)},this.eventBus.localAudioEnabled.unsubscribe(this.handlePausePlaylist),this.eventBus.localVideoEnabled.unsubscribe(this.handlePausePlaylist),this.audioManager.stop(),this.videoManager.stop()}onProgress(e){this.videoManager.on(\"progress\",()=>{try{e({type:b.video,progress:this.getCurrentProgress(b.video)})}catch(t){o.e(this.TAG,\"Error in onProgress callback\")}}),this.audioManager.on(\"progress\",()=>{try{e({type:b.audio,progress:this.getCurrentProgress(b.audio)})}catch(t){o.e(this.TAG,\"Error in onProgress callback\")}})}onNewTrackStart(e){this.on(\"newTrackStart\",e)}onPlaylistEnded(e){this.on(\"playlistEnded\",e)}onCurrentTrackEnded(e){this.on(\"currentTrackEnded\",e)}getElement(e=b.audio){return e===b.audio?this.audioManager.getElement():this.videoManager.getElement()}removeTracks(){return c(this,arguments,function*(e=b.audio){let r=(e===b.audio?this.audioManager:this.videoManager).getTracks();for(let i of r)yield this.removeTrack(i)})}play(r){return c(this,arguments,function*(e,t=b.audio){let i=t===b.audio?this.audioManager:this.videoManager,s=i.getElement();if(this.isItemCurrentlyPlaying(e,t)){o.w(this.TAG,`The ${t} is currently playing`);return}if(s==null?void 0:s.src.includes(e))yield s.play();else{s==null||s.pause();let n=yield i.play(e);for(let d of n)yield this.addTrack(d,t===b.audio?\"audioplaylist\":\"videoplaylist\")}})}isItemCurrentlyPlaying(e,t){let r=this.getElement(t);return!!(r&&!r.paused&&r.src.includes(e))}setDuration(e=b.audio){let t=this.getElement(e),{list:r,currentIndex:i}=this.state[e];r[i]&&(r[i].duration=(t==null?void 0:t.duration)||0),this.emit(\"newTrackStart\",r[i])}pause(r){return c(this,arguments,function*(e,t=b.audio){let i=this.getElement(t);i&&!i.paused&&i.src.includes(e)?(i.pause(),o.d(this.TAG,\"paused url\",e)):o.w(this.TAG,\"The passed in url is not currently playing\")})}addListeners(){this.audioManager.on(\"ended\",()=>this.handleEnded(b.audio)),this.videoManager.on(\"ended\",()=>this.handleEnded(b.video)),this.eventBus.localAudioEnabled.subscribe(this.handlePausePlaylist),this.eventBus.localVideoEnabled.subscribe(this.handlePausePlaylist)}handleEnded(){return c(this,arguments,function*(e=b.audio){let{list:t,currentIndex:r,isAutoplayOn:i}=this.state[e];r===t.length-1?(yield this.stop(e),this.emit(\"playlistEnded\",e)):i?this.playNext(e):yield this.pause(t[r].url,e),this.emit(\"currentTrackEnded\",t[r])})}};var jt=class{constructor(e,t,r=\"\",i=\"\",s=\"https://prod-init.100ms.live/init\",n=!1){this.authToken=e;this.peerId=t;this.peerName=r;this.data=i;this.endpoint=s;this.autoSubscribeVideo=n}};var C;(function(s){s[s.ConnectFailed=0]=\"ConnectFailed\",s[s.SignalDisconnect=1]=\"SignalDisconnect\",s[s.JoinWSMessageFailed=2]=\"JoinWSMessageFailed\",s[s.PublishIceConnectionFailed=3]=\"PublishIceConnectionFailed\",s[s.SubscribeIceConnectionFailed=4]=\"SubscribeIceConnectionFailed\"})(C||(C={}));var Vr={[0]:[],[1]:[],[2]:[1],[3]:[1],[4]:[1]};var w;(function(d){d.Disconnected=\"Disconnected\",d.Connecting=\"Connecting\",d.Joined=\"Joined\",d.Preview=\"Preview\",d.Failed=\"Failed\",d.Reconnecting=\"Reconnecting\",d.Leaving=\"Leaving\"})(w||(w={}));var Jt=class{constructor(e){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r,e(t,r)})}};var Qt=class{constructor(e,t){this.onStateChange=e;this.sendEvent=t;this.TAG=\"[RetryScheduler]\";this.inProgress=new Map;this.retryTaskIds=[]}schedule(d){return c(this,arguments,function*({category:e,error:t,task:r,originalState:i,maxFailedRetries:s=xe,changeState:n=!0}){yield this.scheduleTask({category:e,error:t,changeState:n,task:r,originalState:i,maxFailedRetries:s})})}reset(){this.retryTaskIds.forEach(e=>clearTimeout(e)),this.retryTaskIds=[],this.inProgress.clear()}scheduleTask(l){return c(this,arguments,function*({category:e,error:t,changeState:r,task:i,originalState:s,maxFailedRetries:n=xe,failedRetryCount:d=0}){if(o.d(this.TAG,\"schedule: \",{category:C[e],error:t}),d===0){let y=this.inProgress.get(e);if(y){o.d(this.TAG,`schedule: Already a task for ${C[e]} scheduled, waiting for its completion`),yield y.promise;return}let x=new Jt((B,I)=>{});this.inProgress.set(e,x),this.sendEvent(t,e)}let h=!1,u=Vr[e];for(let y in u){let x=u[parseInt(y)];try{let B=this.inProgress.get(x);B&&(o.d(this.TAG,`schedule: Suspending retry task of ${C[e]}, waiting for ${C[x]} to recover`),yield B.promise,o.d(this.TAG,`schedule: Resuming retry task ${C[e]} as it's dependency ${C[x]} is recovered`))}catch(B){o.d(this.TAG,`schedule: Stopping retry task of ${C[e]} as it's dependency ${C[x]} failed to recover`),h=!0;break}}if(d>=n||h){if(t.description+=`. [${C[e]}] Could not recover after ${d} tries`,h&&(t.description+=` Could not recover all of it's required dependencies - [${u.map(y=>C[y]).toString()}]`),t.isTerminal=!0,this.inProgress.delete(e),this.sendEvent(t,e),this.reset(),r)this.onStateChange(w.Failed,t);else throw t;return}r&&this.onStateChange(w.Reconnecting,t);let g=this.getDelayForRetryCount(e,d);o.i(this.TAG,`schedule: [${C[e]}] [failedRetryCount=${d}] Scheduling retry task in ${g}ms`);let S;try{S=yield this.setTimeoutPromise(i,g)}catch(y){S=!1,o.w(this.TAG,`[${C[e]}] Un-caught exception ${y.name} in retry-task, initiating retry`,y)}if(S){let y=this.inProgress.get(e);this.inProgress.delete(e),y==null||y.resolve(d),r&&this.inProgress.size===0&&this.onStateChange(s),o.i(this.TAG,`schedule: [${C[e]}] [failedRetryCount=${d}] Recovered \\u267B\\uFE0F`)}else yield this.scheduleTask({category:e,error:t,changeState:r,task:i,originalState:s,maxFailedRetries:n,failedRetryCount:d+1})})}getBaseDelayForTask(e,t){return e===C.JoinWSMessageFailed?2:Math.pow(2,t)}getDelayForRetryCount(e,t){let r=this.getBaseDelayForTask(e,t),i=e===C.JoinWSMessageFailed?Math.random()*2:Math.random();return Math.round(Math.min(r+i,br)*1e3)}setTimeoutPromise(e,t){return c(this,null,function*(){return new Promise((r,i)=>{let s=window.setTimeout(()=>c(this,null,function*(){try{let n=yield e();n&&this.retryTaskIds.splice(this.retryTaskIds.indexOf(s),1),r(n)}catch(n){i(n)}}),t);this.retryTaskIds.push(s)})})}};var Yt=class extends me{constructor(){super(rt);this.localStorage=new te(\"hms-analytics\");this.localStorage.clear(),this.initLocalStorageQueue()}enqueue(e){super.enqueue(e),this.localStorage.set(this.storage)}dequeue(){let e=super.dequeue();return this.localStorage.set(this.storage),e}initLocalStorageQueue(){var e;(e=this.localStorage.get())==null||e.forEach(t=>{let r=new O(t);super.enqueue(r)})}};var zt=class{constructor(){this.TAG=\"[AnalyticsTransport]\"}sendEvent(e){try{this.sendSingleEvent(e),this.flushFailedEvents()}catch(t){o.w(this.TAG,\"sendEvent failed\",t)}}flushFailedEvents(e){var t;try{for(o.d(this.TAG,\"Flushing failed events\",this.failedEvents);this.failedEvents.size()>0;){let r=this.failedEvents.dequeue();r&&(((t=r.metadata)==null?void 0:t.peer.peer_id)===e||!r.metadata.peer.peer_id?this.sendSingleEvent(r):ve.sendEvent(r))}}catch(r){o.w(this.TAG,\"flushFailedEvents failed\",r)}}sendSingleEvent(e){try{this.transportProvider.sendEvent(e),o.d(this.TAG,\"Sent event\",e.name,e)}catch(t){throw o.w(this.TAG,`${this.transportProvider.TAG}.sendEvent failed, adding to local storage events`,{event:e,error:t}),this.failedEvents.enqueue(e),t}}};var Xt=class extends zt{constructor(e){super();this.transportProvider=e;this.failedEvents=new Yt}};var $;(function(t){t[t.Publish=0]=\"Publish\",t[t.Subscribe=1]=\"Subscribe\"})($||($={}));var $r=\"[VALIDATIONS]\";function se(a){return a!=null}var Zt=()=>{if(!se(RTCPeerConnection)){let a=m.GenericErrors.MissingRTCPeerConnection();throw o.e($r,a),a}},er=()=>{if(!se(navigator.mediaDevices)){let a=m.GenericErrors.MissingMediaDevices();throw o.e($r,a),a}};function Wr(a,e){var i;let t=(0,sdp_transform__WEBPACK_IMPORTED_MODULE_4__.parse)(a.sdp);if(!((i=t.origin)==null?void 0:i.username.startsWith(\"mozilla\")))return a;let r=e?Array.from(e.values()):[];return t.media.forEach(s=>{var l,h,u;let n=(l=s.msid)==null?void 0:l.split(\" \")[0],d=(h=r.find(g=>g.type===s.type&&g.stream_id===n))==null?void 0:h.track_id;d&&(s.msid=(u=s.msid)==null?void 0:u.replace(/\\s(.+)/,` ${d}`))}),{type:a.type,sdp:(0,sdp_transform__WEBPACK_IMPORTED_MODULE_4__.write)(t)}}function Kr(a,e){var s;if(!(a==null?void 0:a.sdp)||!e)return;let r=(0,sdp_transform__WEBPACK_IMPORTED_MODULE_4__.parse)(a.sdp).media.find(n=>se(n.mid)&&parseInt(n.mid)===parseInt(e));return(s=r==null?void 0:r.msid)==null?void 0:s.split(\" \")[1]}function qr(a){return a.sdp.includes(\"usedtx=1\")?a:{type:a.type,sdp:a.sdp.replace(\"useinbandfec=1\",\"useinbandfec=1;usedtx=1\")}}var le=\"[HMSConnection]\",we=class{constructor(e,t){this.candidates=new Array;this.role=e,this.signal=t}get iceConnectionState(){return this.nativeConnection.iceConnectionState}get connectionState(){return this.nativeConnection.connectionState}get action(){return this.role===$.Publish?p.PUBLISH:p.SUBSCRIBE}addTransceiver(e,t){return this.nativeConnection.addTransceiver(e,t)}createOffer(e,t){return c(this,null,function*(){try{let r=yield this.nativeConnection.createOffer(t);return o.d(le,`[role=${this.role}] createOffer offer=${JSON.stringify(r,null,1)}`),qr(Wr(r,e))}catch(r){throw m.WebrtcErrors.CreateOfferFailed(this.action,r.message)}})}createAnswer(e=void 0){return c(this,null,function*(){try{let t=yield this.nativeConnection.createAnswer(e);return o.d(le,`[role=${this.role}] createAnswer answer=${JSON.stringify(t,null,1)}`),t}catch(t){throw m.WebrtcErrors.CreateAnswerFailed(this.action,t.message)}})}setLocalDescription(e){return c(this,null,function*(){try{o.d(le,`[role=${this.role}] setLocalDescription description=${JSON.stringify(e,null,1)}`),yield this.nativeConnection.setLocalDescription(e)}catch(t){throw m.WebrtcErrors.SetLocalDescriptionFailed(this.action,t.message)}})}setRemoteDescription(e){return c(this,null,function*(){try{o.d(le,`[role=${this.role}] setRemoteDescription description=${JSON.stringify(e,null,1)}`),yield this.nativeConnection.setRemoteDescription(e)}catch(t){throw m.WebrtcErrors.SetRemoteDescriptionFailed(this.action,t.message)}})}addIceCandidate(e){return c(this,null,function*(){o.d(le,`[role=${this.role}] addIceCandidate candidate=${JSON.stringify(e,null,1)}`),yield this.nativeConnection.addIceCandidate(e)})}get remoteDescription(){return this.nativeConnection.remoteDescription}getSenders(){return this.nativeConnection.getSenders()}logSelectedIceCandidatePairs(){(this.role===$.Publish?this.getSenders():this.getReceivers()).forEach(t=>{var i;let r=(i=t.track)==null?void 0:i.kind;try{if(t.transport){let s=t.transport.iceTransport,n=()=>{typeof s.getSelectedCandidatePair==\"function\"&&(this.selectedCandidatePair=s.getSelectedCandidatePair(),o.d(le,`${$[this.role]} connection`,`selected ${r||\"unknown\"} candidate pair`,JSON.stringify(this.selectedCandidatePair,null,2)))};typeof s.onselectedcandidatepairchange==\"function\"&&(s.onselectedcandidatepairchange=n),n()}}catch(s){o.w(le,`Error in logging selected ice candidate pair for ${$[this.role]} connection`,s)}})}removeTrack(e){this.nativeConnection.signalingState!==\"closed\"&&this.nativeConnection.removeTrack(e)}setMaxBitrate(e,t){return c(this,null,function*(){let r=this.getSenders().find(i=>{var s;return((s=i==null?void 0:i.track)==null?void 0:s.id)===t.getTrackIDBeingSent()});if(r){let i=r.getParameters();i.encodings.length>0&&(i.encodings[0].maxBitrate=e*1e3),yield r.setParameters(i)}else o.w(le,`no sender found to setMaxBitrate for track - ${t.trackId}, sentTrackId - ${t.getTrackIDBeingSent()}`)})}getStats(){return c(this,null,function*(){return yield this.nativeConnection.getStats()})}close(){return c(this,null,function*(){this.nativeConnection.close()})}getReceivers(){return this.nativeConnection.getReceivers()}};var ht=class extends we{constructor(e,t,r,i){super($.Publish,e);this.TAG=\"[HMSPublishConnection]\";this.observer=r,this.transport=i,this.nativeConnection=new RTCPeerConnection(t),this.nativeConnection.createDataChannel(tt,{protocol:\"SCTP\"}),this.nativeConnection.onicecandidate=({candidate:s})=>{s&&e.trickle(this.role,s)},this.nativeConnection.oniceconnectionstatechange=()=>{this.observer.onIceConnectionChange(this.nativeConnection.iceConnectionState)},this.nativeConnection.onconnectionstatechange=()=>{this.observer.onConnectionStateChange(this.nativeConnection.connectionState)}}initAfterJoin(){this.nativeConnection.onnegotiationneeded=()=>c(this,null,function*(){o.d(this.TAG,\"onnegotiationneeded\"),yield this.observer.onRenegotiationNeeded()})}trackUpdate(e){this.transport.trackUpdate(e)}};var pt=class{constructor(e,t,r=\"\"){this.TAG=\"[HMSDataChannel]\";this.nativeChannel=e,this.observer=t,this.metadata=r,e.onmessage=i=>{this.observer.onMessage(i.data)}}get id(){return this.nativeChannel.id}get label(){return this.nativeChannel.label}get readyState(){return this.nativeChannel.readyState}send(e){o.d(this.TAG,`[${this.metadata}] Sending [size=${e.length}] message=${e}`),this.nativeChannel.send(e)}close(){this.nativeChannel.close()}};var mt=class extends we{constructor(e,t,r){super($.Subscribe,e);this.TAG=\"[HMSSubscribeConnection]\";this.remoteStreams=new Map;this.MAX_RETRIES=3;this.pendingMessageQueue=[];this.eventEmitter=new (eventemitter2__WEBPACK_IMPORTED_MODULE_3___default())({maxListeners:15});this.handlePendingApiMessages=()=>{this.eventEmitter.emit(\"open\",!0),this.pendingMessageQueue.length>0&&(o.d(this.TAG,\"Found pending message queue, sending messages\"),this.pendingMessageQueue.forEach(e=>this.sendOverApiDataChannel(e)),this.pendingMessageQueue.length=0)};this.sendMessage=(e,t)=>c(this,null,function*(){var i;((i=this.apiChannel)==null?void 0:i.readyState)!==\"open\"&&(yield this.eventEmitter.waitFor(\"open\"));let r;for(let s=0;s<this.MAX_RETRIES;s++){this.apiChannel.send(e),r=yield this.waitForResponse(t);let n=r.error;if(n){if(o.e(this.TAG,`Failed sending ${t}`,{request:e,try:s+1,error:n}),!(n.code/100==5||n.code===429))throw Error(`code=${n.code}, message=${n.message}`);let l=(2+Math.random()*2)*1e3;yield j(l)}else break}return r});this.waitForResponse=e=>c(this,null,function*(){let t=yield this.eventEmitter.waitFor(\"message\",function(i){return i.includes(e)}),r=JSON.parse(t[0]);if(r.error)throw r.error;return o.d(this.TAG,`response for ${e} -`,JSON.stringify(r,null,2)),r});this.observer=r,this.nativeConnection=new RTCPeerConnection(t),this.initNativeConnectionCallbacks()}initNativeConnectionCallbacks(){this.nativeConnection.oniceconnectionstatechange=()=>{this.observer.onIceConnectionChange(this.nativeConnection.iceConnectionState)},this.nativeConnection.onconnectionstatechange=()=>{this.observer.onConnectionStateChange(this.nativeConnection.connectionState)},this.nativeConnection.ondatachannel=e=>{e.channel.label===tt&&(this.apiChannel=new pt(e.channel,{onMessage:t=>{this.eventEmitter.emit(\"message\",t),this.observer.onApiChannelMessage(t)}},`role=${this.role}`),e.channel.onopen=this.handlePendingApiMessages)},this.nativeConnection.onicecandidate=e=>{e.candidate!==null&&this.signal.trickle(this.role,e.candidate)},this.nativeConnection.ontrack=e=>{var l;let t=e.streams[0],r=t.id;if(!this.remoteStreams.has(r)){let h=new Ae(t,this);this.remoteStreams.set(r,h),t.onremovetrack=u=>{let g=h.tracks.findIndex(S=>S.nativeTrack.id===u.track.id);if(g>=0){let S=h.tracks[g];this.observer.onTrackRemove(S),h.tracks.splice(g,1),h.tracks.length===0&&this.remoteStreams.delete(r)}}}let i=this.remoteStreams.get(r),s=e.track.kind===\"audio\"?wt:ge,n=new s(i,e.track),d=Kr(this.remoteDescription,(l=e.transceiver)==null?void 0:l.mid);d&&n.setSdpTrackId(d),i.tracks.push(n),this.observer.onTrackAdd(n)}}sendOverApiDataChannel(e){this.apiChannel&&this.apiChannel.readyState===\"open\"?this.apiChannel.send(e):(o.w(this.TAG,`API Data channel not ${this.apiChannel?\"open\":\"present\"}, queueing`,e),this.pendingMessageQueue.push(e))}sendOverApiDataChannelWithResponse(e,t){return c(this,null,function*(){let r=(0,uuid__WEBPACK_IMPORTED_MODULE_2__.v4)(),i=JSON.stringify(v({id:t||r,jsonrpc:\"2.0\"},e));return this.sendMessage(i,r)})}close(){var e=t=>super[t];return c(this,null,function*(){var r;yield e(\"close\").call(this),(r=this.apiChannel)==null||r.close()})}};var gt=class{constructor(e,t){this.store=e;this.eventBus=t;this.TAG=\"[TrackDegradationController]\";this.MAX_RECOVER_GRACE_PERIOD=120;this.recoverAttemptCount=0;this.packetsLost=0;let r=this.store.getSubscribeDegradationParams();this.PACKETS_LOST_THRESHOLD=r.packetLossThreshold,this.MIN_DEGRADE_GRACE_PERIOD=r.degradeGracePeriodSeconds,this.MIN_RECOVER_GRACE_PERIOD=r.recoverGracePeriodSeconds,this.degradeGracePeriod=this.MIN_DEGRADE_GRACE_PERIOD,this.recoverGracePeriod=this.MIN_RECOVER_GRACE_PERIOD}get isAttemptingRecover(){return Boolean(this.recoveringTrack)}handleRtcStatsChange(e){let t=e>this.packetsLost+this.PACKETS_LOST_THRESHOLD;this.packetsLost=e,t?this.degrade():this.recover()}degrade(){if(this.degradeGracePeriod>0){this.degradeGracePeriod--;return}if(this.isAttemptingRecover)return this.cancelRecovery();o.d(this.TAG,\"Packet loss increased, Degrading\",{packetsLost:this.packetsLost}),this.degradeActiveTracksByHalf(),this.degradeGracePeriod=this.MIN_DEGRADE_GRACE_PERIOD,this.recoverGracePeriod=this.MIN_RECOVER_GRACE_PERIOD}recover(){if(this.degradeGracePeriod=this.MIN_DEGRADE_GRACE_PERIOD,this.recoverGracePeriod>0){this.recoverGracePeriod--;return}this.recoveringTrack=this.getActiveTracks(!0).find(e=>e.degraded),!!this.recoveringTrack&&(o.d(this.TAG,\"Packet lost stable, recovering track\",this.recoveringTrack),this.recoveringTrack.setDegradedFromSdk(!1),this.eventBus.trackRestored.publish(this.recoveringTrack),this.recoverGracePeriod=this.MIN_RECOVER_GRACE_PERIOD)}cleanUp(){this.eventBus.trackDegraded.removeAllListeners(),this.eventBus.trackRestored.removeAllListeners()}degradeActiveTracksByHalf(){let e=this.getActiveTracks(!1);if(!e.length)return;o.d(this.TAG,{activeTracks:[...e]});let t=Math.ceil(e.length/2);for(;t--;){let r=e.pop();r.setDegradedFromSdk(!0),this.eventBus.trackDegraded.publish(r)}}getActiveTracks(e){return this.store.getRemoteVideoTracks().filter(t=>t.hasSinks()&&(!t.degraded||e)).sort((t,r)=>{let i=this.store.getComparator().getTrackComparators();return-1*(i.screenShare(t,r)||i.rolePriority(t,r)||i.peerAudioLevel(t,r)||this.store.getComparator().stringComparator(t.trackId,r.trackId))}).slice(0)}cancelRecovery(){this.recoveringTrack&&(this.recoveringTrack.setDegradedFromSdk(!0),this.eventBus.trackDegraded.publish(this.recoveringTrack)),this.recoveringTrack=void 0,this.recoverAttemptCount++,this.recoverGracePeriod=this.getDelayForRecoverCount(this.recoverAttemptCount),this.degradeGracePeriod=this.MIN_DEGRADE_GRACE_PERIOD,o.d(this.TAG,\"Recover Attempt Failed\",{count:this.recoverAttemptCount,delay:this.recoverGracePeriod})}getDelayForRecoverCount(e){let t=this.MIN_RECOVER_GRACE_PERIOD+this.MIN_RECOVER_GRACE_PERIOD*e;return Math.min(t,this.MAX_RECOVER_GRACE_PERIOD)}};var Jr=(a,e,t,r)=>c(void 0,null,function*(){var n;let i,s={};try{i=yield(n=a.publish)==null?void 0:n.call(a,e.getTrackBeingSent());let d={},l={},h={};i==null||i.forEach(u=>{switch(u.type){case\"outbound-rtp\":l[u.id]=u;break;case\"remote-inbound-rtp\":h[u.ssrc]=u;break;case\"codec\":d[u.id]=u.mimeType;break;default:break}}),Object.keys(v({},l)).forEach(u=>{var I;let g=(I=l[u])==null?void 0:I.codecId,S=g?d[g]:void 0,y;S&&(y=S.substring(S.indexOf(\"/\")+1));let x=l[u],B=h[x.ssrc];s[u]=_(v({},x),{bitrate:ir(\"bytesSent\",x,r==null?void 0:r[u]),packetsLost:B==null?void 0:B.packetsLost,jitter:B==null?void 0:B.jitter,peerName:t,peerID:e.peerId,codec:y})})}catch(d){o.w(\"[HMSWebrtcStats]\",\"Error in getting local track stats\",e,d)}return s}),Qr=(a,e,t,r)=>c(void 0,null,function*(){var l;let i;try{i=yield(l=a.subscribe)==null?void 0:l.call(a,e.nativeTrack)}catch(h){o.w(\"[HMSWebrtcStats]\",\"Error in getting remote track stats\",e,h)}let s=wi(i),n=ir(\"bytesReceived\",s,r),d=sr(\"packetsLost\",s,r);return(s==null?void 0:s.remote)&&Object.assign(s.remote,{packetsLostRate:sr(\"packetsLost\",s.remote,r==null?void 0:r.remote)}),s&&Object.assign(s,{bitrate:n,packetsLostRate:d,peerId:e.peerId,peerName:t,codec:s.codec})}),wi=a=>{let e,t,r={};a==null||a.forEach(n=>{switch(n.type){case\"inbound-rtp\":e=n;break;case\"outbound-rtp\":e=n;break;case\"remote-inbound-rtp\":t=n;break;case\"codec\":r[n.id]=n.mimeType;break;default:break}});let i=(e==null?void 0:e.codecId)?r[e.codecId]:void 0,s;return i&&(s=i.substring(i.indexOf(\"/\")+1)),e&&Object.assign(e,{remote:t,codec:s})},tr=(a,e,t)=>{let r=Hi(e),i=ir(a===\"publish\"?\"bytesSent\":\"bytesReceived\",r,t&&t[a]);return r&&Object.assign(r,{bitrate:i})},Hi=a=>{let e;return a.forEach(t=>{t.type===\"transport\"&&(e=a.get(t.selectedCandidatePairId))}),e||a.forEach(t=>{t.type===\"candidate-pair\"&&t.selected&&(e=t)}),e},Yr=a=>{let e={packetsLost:0,jitter:0};return a==null||a.forEach(t=>{t.packetsLost&&(e.packetsLost+=t.packetsLost),t.jitter>e.jitter&&(e.jitter=t.jitter)}),e},rr=(a,e)=>Array.from(new Set(a.concat(e))),ir=(a,e,t)=>sr(a,e,t)*8,sr=(a,e,t)=>{let r=e&&e[a],i=t?t[a]:null;return[e,t,se(r),se(i)].every(n=>!!n)?ar(r,i,e==null?void 0:e.timestamp,t==null?void 0:t.timestamp)*1e3:0},ar=(a,e,t,r)=>se(a)&&se(e)&&t&&r?(a-e)/(t-r):0;var St=class{constructor(e,t){this.getStats=e;this.store=t;this.TAG=\"[HMSWebrtcStats]\";this.peerStats={};this.remoteTrackStats={};this.localTrackStats={};var r;this.localPeerID=(r=this.store.getLocalPeer())==null?void 0:r.peerId}getLocalPeerStats(){return this.peerStats[this.localPeerID]}getRemoteTrackStats(e){return this.remoteTrackStats[e]}getLocalTrackStats(){return this.localTrackStats}updateStats(){return c(this,null,function*(){yield this.updateLocalPeerStats(),yield this.updateLocalTrackStats(),yield this.updateRemoteTrackStats()})}updateLocalPeerStats(){return c(this,null,function*(){var u,g,S,y,x,B;let e=this.getLocalPeerStats(),t;try{t=yield(g=(u=this.getStats).publish)==null?void 0:g.call(u)}catch(I){o.w(this.TAG,\"Error in getting publish stats\",I)}let r=t&&tr(\"publish\",t,e),i;try{i=yield(y=(S=this.getStats).subscribe)==null?void 0:y.call(S)}catch(I){o.w(this.TAG,\"Error in getting subscribe stats\",I)}let s=i&&tr(\"subscribe\",i,e),{packetsLost:n,jitter:d}=Yr(i),l=ar(n,(x=e==null?void 0:e.subscribe)==null?void 0:x.packetsLost,s==null?void 0:s.timestamp,(B=e==null?void 0:e.subscribe)==null?void 0:B.timestamp),h=s&&Object.assign(s,{packetsLostRate:l,jitter:d,packetsLost:n});this.peerStats[this.localPeerID]={publish:r,subscribe:h}})}updateRemoteTrackStats(){return c(this,null,function*(){var r;let e=this.store.getTracksMap(),t=rr(Object.keys(this.remoteTrackStats),Object.keys(e)).filter(i=>e[i]&&e[i].peerId!==this.localPeerID);for(let i of t){let s=e[i];if(s){let n=s.peerId&&((r=this.store.getPeerById(s.peerId))==null?void 0:r.name),d=this.getRemoteTrackStats(s.trackId),l=yield Qr(this.getStats,s,n,d);l&&(this.remoteTrackStats[i]=l)}else delete this.remoteTrackStats[i]}})}updateLocalTrackStats(){return c(this,null,function*(){var r;let e=this.store.getLocalPeerTracks().reduce((i,s)=>(i[s.getTrackIDBeingSent()]=s,i),{}),t=rr(Object.keys(this.localTrackStats),Object.keys(e));for(let i of t){let s=e[i];if(s){let n=(r=this.store.getLocalPeer())==null?void 0:r.name,d=yield Jr(this.getStats,s,n,this.localTrackStats[i]);d&&(this.localTrackStats[i]=d)}else delete this.localTrackStats[i]}})}};var vt=class{constructor(e,t,r,i){this.store=e;this.eventBus=t;this.publishConnection=r;this.subscribeConnection=i;this.TAG=\"[HMSWebrtcInternals]\";this.interval=_r;this.isMonitored=!1;this.handleStatsUpdate=()=>c(this,null,function*(){var e;yield(e=this.hmsStats)==null?void 0:e.updateStats(),this.eventBus.statsUpdate.publish(this.hmsStats)})}getPublishPeerConnection(){return this.publishConnection}getSubscribePeerConnection(){return this.subscribeConnection}getCurrentStats(){return this.hmsStats}onStatsChange(e){return this.eventBus.statsUpdate.subscribe(e),()=>{this.eventBus.statsUpdate.unsubscribe(e)}}setPeerConnections({publish:e,subscribe:t}){var r,i;this.publishConnection=e,this.subscribeConnection=t,this.hmsStats=new St({publish:(r=this.publishConnection)==null?void 0:r.getStats.bind(this.publishConnection),subscribe:(i=this.subscribeConnection)==null?void 0:i.getStats.bind(this.subscribeConnection)},this.store)}start(){return c(this,null,function*(){if(this.isMonitored){o.d(this.TAG,\"Already started\");return}this.stop(),this.isMonitored=!0,o.d(this.TAG,\"Starting Webrtc Stats Monitor\"),this.startLoop().then(()=>o.d(this.TAG,\"Stopping Webrtc Stats Monitor\")).catch(e=>o.e(this.TAG,e.message))})}stop(){this.isMonitored=!1}startLoop(){return c(this,null,function*(){for(;this.isMonitored;)yield this.handleStatsUpdate(),yield j(this.interval)})}cleanUp(){this.stop(),this.eventBus.statsUpdate.removeAllListeners()}};var nr=\"[InitService]\",Tt=class{static handleError(e,t){switch(e.status){case 404:throw m.InitAPIErrors.EndpointUnreachable(p.INIT,t.message||e.statusText);case 200:break;default:throw m.InitAPIErrors.ServerErrors(t.code||e.status,p.INIT,t.message||(e==null?void 0:e.statusText))}}static fetchInitConfig(n){return c(this,arguments,function*({token:e,peerId:t,userAgent:r,initEndpoint:i=\"https://prod-init.100ms.live\",region:s=\"\"}){o.d(nr,`fetchInitConfig: initEndpoint=${i} token=${e} peerId=${t} region=${s} `);let d=_i(i,t,r,s);try{let l=yield fetch(d,{headers:{Authorization:`Bearer ${e}`}}),h=yield l.json();return this.handleError(l,h),o.d(nr,`config is ${JSON.stringify(h,null,2)}`),Li(h)}catch(l){let h=l;throw[\"Failed to fetch\",\"NetworkError\"].some(u=>h.message.includes(u))?m.InitAPIErrors.EndpointUnreachable(p.INIT,h.message):h}})}};function _i(a,e,t,r){try{let i=new URL(\"/init\",a);return r&&r.trim().length>0&&i.searchParams.set(\"region\",r.trim()),i.searchParams.set(\"peer_id\",e),i.searchParams.set(\"user_agent_v2\",t),i.toString()}catch(i){let s=i;throw o.e(nr,s.name,s.message),s}}function Li(a){var e;return _(v({},a),{rtcConfiguration:_(v({},a.rtcConfiguration),{iceServers:(e=a.rtcConfiguration)==null?void 0:e.ice_servers})})}var ee;(function(r){r.FLAG_SERVER_SUB_DEGRADATION=\"subscribeDegradation\",r.FLAG_SERVER_SIMULCAST=\"simulcast\",r.FLAG_NON_WEBRTC_DISABLE_OFFER=\"nonWebRTCDisableOffer\"})(ee||(ee={}));var H;(function(E){E.JOIN=\"join\",E.OFFER=\"offer\",E.ANSWER=\"answer\",E.TRICKLE=\"trickle\",E.TRACK_UPDATE=\"track-update\",E.BROADCAST=\"broadcast\",E.ANALYTICS=\"analytics\",E.SERVER_ERROR=\"on-error\",E.SERVER_WARNING=\"on-warning\",E.SDK_NOTIFICATION=\"sdk-notification\",E.LEAVE=\"leave\",E.END_ROOM=\"end-room\",E.PING=\"ping\",E.ROLE_CHANGE_REQUEST=\"role-change-request\",E.ROLE_CHANGE=\"role-change\",E.TRACK_UPDATE_REQUEST=\"track-update-request\",E.PEER_LEAVE_REQUEST=\"peer-leave-request\",E.CHANGE_TRACK_MUTE_STATE_REQUEST=\"change-track-mute-state-request\",E.START_RTMP_OR_RECORDING_REQUEST=\"rtmp-start\",E.STOP_RTMP_AND_RECORDING_REQUEST=\"rtmp-stop\",E.UPDATE_PEER_METADATA=\"peer-update\",E.START_HLS_STREAMING=\"hls-start\",E.STOP_HLS_STREAMING=\"hls-stop\",E.HLS_TIMED_METADATA=\"hls-timed-metadata\",E.SET_METADATA=\"set-metadata\",E.GET_METADATA=\"get-metadata\"})(H||(H={}));function zr(a){switch(a){case H.JOIN:return p.JOIN;case H.OFFER:return p.PUBLISH;case H.ANSWER:return p.SUBSCRIBE;case H.TRACK_UPDATE:return p.TRACK;default:return p.NONE}}var ft=class{constructor(e){this.TAG=\"[SIGNAL]: \";this.pongResponseTimes=new me(wr);this.isJoinCompleted=!1;this.pendingTrickle=[];this.socket=null;this.callbacks=new Map;this._isConnected=!1;this.id=0;this.onCloseHandler=()=>{};this.offlineListener=()=>{o.d(this.TAG,\"Window network offline\"),this.setIsConnected(!1,\"Window network offline\")};this.onlineListener=()=>{o.d(this.TAG,\"Window network online\"),this.observer.onNetworkOnline()};this.observer=e,window.addEventListener(\"offline\",this.offlineListener),window.addEventListener(\"online\",this.onlineListener),this.onMessageHandler=this.onMessageHandler.bind(this)}get isConnected(){return this._isConnected}setIsConnected(e,t=\"\"){o.d(this.TAG,`isConnected set id: ${this.id}, oldValue: ${this._isConnected}, newValue: ${e}`),this._isConnected!==e&&(this._isConnected&&!e?(this._isConnected=e,this.observer.onOffline(t)):!this._isConnected&&e&&(this._isConnected=e,this.observer.onOnline()))}getPongResponseTimes(){return this.pongResponseTimes.toList()}internalCall(e,t){return c(this,null,function*(){var s;let r=(0,uuid__WEBPACK_IMPORTED_MODULE_2__.v4)(),i={method:e,params:t,id:r,jsonrpc:\"2.0\"};(s=this.socket)==null||s.send(JSON.stringify(i));try{return yield new Promise((d,l)=>{this.callbacks.set(r,{resolve:d,reject:l})})}catch(n){let d=n;throw m.WebsocketMethodErrors.ServerErrors(Number(d.code),zr(e),d.message)}})}notify(e,t){var i,s;let r={method:e,params:t};((i=this.socket)==null?void 0:i.readyState)===WebSocket.OPEN&&((s=this.socket)==null||s.send(JSON.stringify(r)))}open(e){return new Promise((t,r)=>{let i=!1;this.socket&&(this.socket.close(),this.socket.removeEventListener(\"close\",this.onCloseHandler),this.socket.removeEventListener(\"message\",this.onMessageHandler)),this.socket=new WebSocket(e);let s=d=>{o.e(this.TAG,\"Error from websocket\",d),i=!0,r(m.WebSocketConnectionErrors.FailedToConnect(p.JOIN,`Error opening websocket connection - ${d}`))};this.onCloseHandler=d=>{o.e(`Websocket closed code=${d.code}`),i?this.setIsConnected(!1,`code: ${d.code}${d.code!==1e3?\", unexpected websocket close\":\"\"}`):(i=!0,r(m.WebSocketConnectionErrors.AbnormalClose(p.JOIN,`Error opening websocket connection - websocket closed unexpectedly with code=${d.code}`)))},this.socket.addEventListener(\"error\",s);let n=()=>{var d,l;i=!0,t(),this.setIsConnected(!0),this.id++,(d=this.socket)==null||d.removeEventListener(\"open\",n),(l=this.socket)==null||l.removeEventListener(\"error\",s),this.pingPongLoop(this.id)};this.socket.addEventListener(\"open\",n),this.socket.addEventListener(\"close\",this.onCloseHandler),this.socket.addEventListener(\"message\",this.onMessageHandler)})}close(){return c(this,null,function*(){window.removeEventListener(\"offline\",this.offlineListener),window.removeEventListener(\"online\",this.onlineListener),this.socket?(this.socket.close(1e3,\"Normal Close\"),this.setIsConnected(!1,\"code: 1000, normal websocket close\"),this.socket.removeEventListener(\"close\",this.onCloseHandler),this.socket.removeEventListener(\"message\",this.onMessageHandler)):this.setIsConnected(!1,\"websocket not connected yet\")})}join(e,t,r,i,s,n){return c(this,null,function*(){if(!this.isConnected)throw m.WebSocketConnectionErrors.WebSocketConnectionLost(p.JOIN,\"Failed to send join over WS connection\");let d={name:e,disableVidAutoSub:r,data:t,offer:n,server_sub_degrade:i,simulcast:s},l=yield this.internalCall(H.JOIN,d);return this.isJoinCompleted=!0,this.pendingTrickle.forEach(({target:h,candidate:u})=>this.trickle(h,u)),this.pendingTrickle.length=0,o.d(this.TAG,`join: response=${JSON.stringify(l,null,1)}`),l})}trickle(e,t){this.isJoinCompleted?this.notify(H.TRICKLE,{target:e,candidate:t}):this.pendingTrickle.push({target:e,candidate:t})}offer(e,t){return c(this,null,function*(){return yield this.call(H.OFFER,{desc:e,tracks:Object.fromEntries(t)})})}answer(e){this.notify(H.ANSWER,{desc:e})}trackUpdate(e){this.notify(H.TRACK_UPDATE,{version:\"1.0\",tracks:Object.fromEntries(e)})}broadcast(e){return c(this,null,function*(){return yield this.call(H.BROADCAST,v({version:\"1.0\"},e.toSignalParams()))})}leave(){this.notify(H.LEAVE,{version:\"1.0\"})}endRoom(e,t){return c(this,null,function*(){yield this.call(H.END_ROOM,{lock:e,reason:t})})}sendEvent(e){if(!this.isConnected)throw Error(`${this.TAG} not connected. Could not send event ${e}`);this.notify(H.ANALYTICS,e.toSignalParams())}ping(e){let t=Date.now(),r=new Promise(s=>{setTimeout(()=>{s(Date.now()-t)},e+1)}),i=this.internalCall(H.PING,{timestamp:t}).then(()=>Date.now()-t).catch(()=>Date.now()-t);return Promise.race([r,i])}requestRoleChange(e){return c(this,null,function*(){yield this.call(H.ROLE_CHANGE_REQUEST,e)})}requestBulkRoleChange(e){return c(this,null,function*(){yield this.call(H.ROLE_CHANGE_REQUEST,e)})}acceptRoleChangeRequest(e){return c(this,null,function*(){yield this.call(H.ROLE_CHANGE,e)})}requestTrackStateChange(e){return c(this,null,function*(){yield this.call(H.TRACK_UPDATE_REQUEST,e)})}requestMultiTrackStateChange(e){return c(this,null,function*(){yield this.call(H.CHANGE_TRACK_MUTE_STATE_REQUEST,e)})}removePeer(e){return c(this,null,function*(){yield this.call(H.PEER_LEAVE_REQUEST,e)})}startRTMPOrRecording(e){return c(this,null,function*(){yield this.call(H.START_RTMP_OR_RECORDING_REQUEST,v({version:\"1.0\"},e))})}stopRTMPAndRecording(){return c(this,null,function*(){yield this.call(H.STOP_RTMP_AND_RECORDING_REQUEST,{version:\"1.0\"})})}startHLSStreaming(e){return c(this,null,function*(){yield this.call(H.START_HLS_STREAMING,v({version:\"1.0\"},e))})}stopHLSStreaming(e){return c(this,null,function*(){yield this.call(H.STOP_HLS_STREAMING,v({version:\"1.0\"},e))})}sendHLSTimedMetadata(e){return c(this,null,function*(){yield this.call(H.HLS_TIMED_METADATA,v({version:\"1.0\"},e))})}updatePeer(e){return c(this,null,function*(){yield this.call(H.UPDATE_PEER_METADATA,v({version:\"1.0\"},e))})}setSessionMetadata(e){return c(this,null,function*(){yield this.call(H.SET_METADATA,v({version:\"1.0\"},e))})}getSessionMetadata(){return this.call(H.GET_METADATA,{version:\"1.0\"})}onMessageHandler(e){let t=e.data,r=JSON.parse(t);if(r.id)this.handleResponseWithId(r);else if(r.method)this.handleResponseWithMethod(r);else throw Error(`WebSocket message has no 'method' or 'id' field, message=${r}`)}handleResponseWithId(e){let t=e,r=t.id;if(this.callbacks.has(r)){let i=this.callbacks.get(r);this.callbacks.delete(r),t.result?i.resolve(t.result):i.reject(t.error)}else this.observer.onNotification(t)}handleResponseWithMethod(e){switch(e.method){case H.OFFER:this.observer.onOffer(e.params);break;case H.TRICKLE:this.observer.onTrickle(e.params);break;case H.SERVER_ERROR:this.observer.onServerError(m.WebsocketMethodErrors.ServerErrors(Number(e.params.code),p.NONE,e.params.message));break;case H.SERVER_WARNING:o.w(this.TAG,e.params);break;default:this.observer.onNotification(e);break}}pingPongLoop(e){return c(this,null,function*(){var r,i;let t=((r=window.HMS)==null?void 0:r.PING_TIMEOUT)||Cr;if(this.isConnected){let s=yield this.ping(t);this.pongResponseTimes.enqueue(s),s>t?(o.d(this.TAG,`Pong timeout ${e}, pageHidden=${gr()}`),this.id===e&&this.setIsConnected(!1,\"ping pong failure\")):setTimeout(()=>this.pingPongLoop(e),((i=window.HMS)==null?void 0:i.PING_INTERVAL)||Rr)}})}call(e,t){return c(this,null,function*(){let r=3,i=m.WebsocketMethodErrors.ServerErrors(500,e,`Default ${e} error`);for(let s=0;s<r;s++)try{return o.d(this.TAG,`Try number ${s+1} sending ${e}`,t),yield this.internalCall(e,t)}catch(n){if(i=n,o.e(this.TAG,`Failed sending ${e}`,{method:e,try:s+1,params:t,error:i}),!(parseInt(`${i.code/100}`)===5||i.code===429))break;let l=(2+Math.random()*2)*1e3;yield j(l)}throw o.e(`Sending ${e} over WS failed after ${r} retries`,{method:e,params:t,error:i}),i})}};var Xr=()=>{if(!X||typeof navigator.connection==\"undefined\")return;let a=navigator.connection;return{downlink:a.downlink,downlinkMax:a.downlinkMax,effectiveType:a.effectiveType,rtt:a.rtt,saveData:a.saveData,type:a.type}};var P=\"[HMSTransport]:\",Et=class{constructor(e,t,r,i,s,n){this.observer=e;this.deviceManager=t;this.store=r;this.eventBus=i;this.analyticsEventsService=s;this.analyticsTimer=n;this.state=w.Disconnected;this.trackStates=new Map;this.publishConnection=null;this.subscribeConnection=null;this.maxSubscribeBitrate=0;this.joinRetryCount=0;this.callbacks=new Map;this.signalObserver={onOffer:e=>c(this,null,function*(){try{if(!this.subscribeConnection)return;yield this.subscribeConnection.setRemoteDescription(e),o.d(P,`[SUBSCRIBE] Adding ${this.subscribeConnection.candidates.length} ice-candidates`,this.subscribeConnection.candidates);for(let r of this.subscribeConnection.candidates)yield this.subscribeConnection.addIceCandidate(r);this.subscribeConnection.candidates.length=0;let t=yield this.subscribeConnection.createAnswer();yield this.subscribeConnection.setLocalDescription(t),this.signal.answer(t),o.d(P,\"[role=SUBSCRIBE] onOffer renegotiation DONE \\u2705\")}catch(t){o.d(P,\"[role=SUBSCRIBE] onOffer renegotiation FAILED \\u274C\"),this.state=w.Failed;let r;throw t instanceof T?r=t:r=m.GenericErrors.Unknown(p.PUBLISH,t.message),this.eventBus.analytics.publish(R.subscribeFail(r)),r}}),onTrickle:e=>c(this,null,function*(){let t=e.target===$.Publish?this.publishConnection:this.subscribeConnection;(t==null?void 0:t.remoteDescription)?yield t.addIceCandidate(e.candidate):t==null||t.candidates.push(e.candidate)}),onNotification:e=>this.observer.onNotification(e),onServerError:e=>c(this,null,function*(){yield this.observer.onStateChange(w.Failed,e)}),onFailure:e=>{this.joinParameters&&this.retryScheduler.schedule({category:C.SignalDisconnect,error:e,task:this.retrySignalDisconnectTask,originalState:this.state})},onOffline:e=>c(this,null,function*(){o.d(P,\"socket offline\",w[this.state]);try{this.state!==w.Leaving&&this.joinParameters&&this.retryScheduler.schedule({category:C.SignalDisconnect,error:m.WebSocketConnectionErrors.WebSocketConnectionLost(p.RECONNECT_SIGNAL,e),task:this.retrySignalDisconnectTask,originalState:this.state})}catch(t){console.error(t)}}),onOnline:()=>{var e;o.d(P,\"socket online\",w[this.state]),this.analyticsSignalTransport.flushFailedEvents((e=this.store.getLocalPeer())==null?void 0:e.peerId)},onNetworkOnline:()=>{this.analyticsEventsService.flushFailedClientEvents()}};this.signal=new ft(this.signalObserver);this.analyticsSignalTransport=new Xt(this.signal);this.publishConnectionObserver={onRenegotiationNeeded:()=>c(this,null,function*(){yield this.performPublishRenegotiation()}),onIceConnectionChange:e=>c(this,null,function*(){(e===\"disconnected\"?o.w.bind(o):o.d.bind(o))(P,`Publish ice connection state change: ${e}`)}),onConnectionStateChange:e=>c(this,null,function*(){var r;(e===\"disconnected\"?o.w.bind(o):o.d.bind(o))(P,`Publish connection state change: ${e}`),e===\"connected\"&&((r=this.publishConnection)==null||r.logSelectedIceCandidatePairs()),e===\"failed\"&&(yield this.handleIceConnectionFailure($.Publish))})};this.subscribeConnectionObserver={onApiChannelMessage:e=>{this.observer.onNotification(JSON.parse(e))},onTrackAdd:e=>{o.d(P,\"[Subscribe] onTrackAdd\",`${e}`),this.observer.onTrackAdd(e)},onTrackRemove:e=>{o.d(P,\"[Subscribe] onTrackRemove\",`${e}`),this.observer.onTrackRemove(e)},onIceConnectionChange:e=>c(this,null,function*(){if((e===\"disconnected\"?o.w.bind(o):o.d.bind(o))(P,`Subscribe ice connection state change: ${e}`),e===\"connected\"){let r=this.callbacks.get(Ce);this.callbacks.delete(Ce),r&&r.promise.resolve(!0)}}),onConnectionStateChange:e=>c(this,null,function*(){var r;if((e===\"disconnected\"?o.w.bind(o):o.d.bind(o))(P,`Subscribe connection state change: ${e}`),e===\"failed\"&&(yield this.handleIceConnectionFailure($.Subscribe)),e===\"connected\"){(r=this.subscribeConnection)==null||r.logSelectedIceCandidatePairs();let i=this.callbacks.get(Ce);this.callbacks.delete(Ce),i&&i.promise.resolve(!0)}})};this.handleLocalRoleUpdate=r=>c(this,[r],function*({oldRole:e,newRole:t}){!(!this.doesRoleNeedWebRTC(e)&&this.doesRoleNeedWebRTC(t))||(o.i(P,\"Local peer role updated to webrtc role, creating PeerConnections and performing inital publish negotiation \\u23F3\"),this.createPeerConnections(),yield this.negotiateOnFirstPublish())});this.retryPublishIceFailedTask=()=>c(this,null,function*(){if(this.publishConnection&&(this.publishConnection.iceConnectionState!==\"connected\"||this.publishConnection.connectionState!==\"connected\")){let e=new Promise((t,r)=>{this.callbacks.set(be,{promise:{resolve:t,reject:r},action:p.RESTART_ICE,extra:{}})});yield this.performPublishRenegotiation({iceRestart:!0}),yield e}return!0});this.retrySubscribeIceFailedTask=()=>c(this,null,function*(){if(this.subscribeConnection&&(this.subscribeConnection.iceConnectionState!==\"connected\"||this.subscribeConnection.connectionState!==\"connected\")){let e=new Promise((r,i)=>{this.callbacks.set(Ce,{promise:{resolve:r,reject:i},action:p.RESTART_ICE,extra:{}})}),t=new Promise(r=>{setTimeout(r,Hr,!1)});return Promise.race([e,t])}return!0});this.retrySignalDisconnectTask=()=>c(this,null,function*(){if(o.d(P,\"retrySignalDisconnectTask\",{signalConnected:this.signal.isConnected}),!this.signal.isConnected)try{yield this.internalConnect(this.joinParameters.authToken,this.joinParameters.endpoint,this.joinParameters.peerId)}catch(t){}let e=this.store.getRoom().joinedAt?this.signal.isConnected&&(yield this.retryPublishIceFailedTask()):this.signal.isConnected;return this.signal.trackUpdate(this.trackStates),e});var l,h;this.webrtcInternals=new vt(this.store,this.eventBus,(l=this.publishConnection)==null?void 0:l.nativeConnection,(h=this.subscribeConnection)==null?void 0:h.nativeConnection);let d=(u,g)=>c(this,null,function*(){u!==this.state&&(this.state=u,yield this.observer.onStateChange(this.state,g))});this.retryScheduler=new Qt(d,this.sendErrorAnalyticsEvent.bind(this)),this.eventBus.statsUpdate.subscribe(u=>{var S,y;let g=((y=(S=u.getLocalPeerStats())==null?void 0:S.subscribe)==null?void 0:y.bitrate)||0;this.maxSubscribeBitrate=Math.max(this.maxSubscribeBitrate,g)})}getWebrtcInternals(){return this.webrtcInternals}isFlagEnabled(e){var i;let t=(i=this.initConfig)==null?void 0:i.config;return((t==null?void 0:t.enabledFlags)||[]).includes(e)}preview(e,t,r,i,s=!1){return c(this,null,function*(){let n=yield this.connect(e,t,r,i,s);return this.state=w.Preview,this.observer.onStateChange(this.state),n})}join(e,t,r,i,s=!1){return c(this,null,function*(){o.d(P,\"join: started \\u23F0\");try{(!this.signal.isConnected||!this.initConfig)&&(yield this.connect(e,i,t,r,s)),this.validateNotDisconnected(\"connect\"),this.initConfig&&(yield this.waitForLocalRoleAvailability(),yield this.createConnectionsAndNegotiateJoin(r,s),yield this.initRtcStatsMonitor(),o.d(P,\"\\u2705 join: Negotiated over PUBLISH connection\"))}catch(n){o.e(P,`join: failed \\u274C [token=${e}]`,n),this.state=w.Failed;let d=n;throw d.isTerminal=d.isTerminal||d.code===500,yield this.observer.onStateChange(this.state,d),d}o.i(P,\"\\u2705 join: successful\"),this.state=w.Joined,this.observer.onStateChange(this.state)})}connect(e,t,r,i,s=!1){return c(this,null,function*(){this.setTransportStateForConnect(),this.joinParameters=new jt(e,r,i.name,i.metaData,t,s);try{return yield this.internalConnect(e,t,r)}catch(n){if(n instanceof T&&([f.WebSocketConnectionErrors.WEBSOCKET_CONNECTION_LOST,f.WebSocketConnectionErrors.FAILED_TO_CONNECT,f.WebSocketConnectionErrors.ABNORMAL_CLOSE,f.InitAPIErrors.ENDPOINT_UNREACHABLE].includes(n.code)||n.code.toString().startsWith(\"5\")||n.code.toString().startsWith(\"429\"))){let l=()=>c(this,null,function*(){return yield this.internalConnect(e,t,r),Boolean(this.initConfig&&this.initConfig.endpoint)});yield this.retryScheduler.schedule({category:C.ConnectFailed,error:n,task:l,originalState:this.state,maxFailedRetries:xe,changeState:!1})}else throw n}})}leave(e){return c(this,null,function*(){var t,r,i,s;this.retryScheduler.reset(),this.joinParameters=void 0,o.d(P,\"leaving in transport\");try{if(this.state=w.Leaving,(t=this.webrtcInternals)==null||t.cleanUp(),(r=this.trackDegradationController)==null||r.cleanUp(),yield(i=this.publishConnection)==null?void 0:i.close(),yield(s=this.subscribeConnection)==null?void 0:s.close(),e)try{this.signal.leave(),o.d(P,\"signal leave done\")}catch(n){o.w(P,\"failed to send leave on websocket to server\",n)}this.analyticsEventsService.flushFailedClientEvents(),this.analyticsEventsService.reset(),yield this.signal.close()}catch(n){this.eventBus.analytics.publish(R.disconnect(n)),o.e(P,\"leave: FAILED \\u274C\",n)}finally{this.state=w.Disconnected,this.observer.onStateChange(this.state)}})}publish(e){return c(this,null,function*(){for(let t of e)try{yield this.publishTrack(t)}catch(r){this.eventBus.analytics.publish(R.publish({devices:this.deviceManager.getDevices(),error:r}))}})}unpublish(e){return c(this,null,function*(){for(let t of e)yield this.unpublishTrack(t)})}sendMessage(e){return c(this,null,function*(){return yield this.signal.broadcast(e)})}trackUpdate(e){let r=Array.from(this.trackStates.values()).find(i=>e.type===i.type&&e.source===i.source);if(r){let i=new dt(_(v({},r),{mute:!e.enabled}));this.trackStates.set(r.track_id,i),o.d(P,\"Track Update\",this.trackStates,e),this.signal.trackUpdate(new Map([[r.track_id,i]]))}}changeRole(e,t,r=!1){return c(this,null,function*(){yield this.signal.requestRoleChange({requested_for:e.peerId,role:t,force:r})})}changeRoleOfPeer(e,t,r){return c(this,null,function*(){yield this.signal.requestRoleChange({requested_for:e.peerId,role:t,force:r})})}changeRoleOfPeersWithRoles(e,t){return c(this,null,function*(){yield this.signal.requestBulkRoleChange({roles:e.map(r=>r.name),role:t,force:!0})})}acceptRoleChange(e){return c(this,null,function*(){yield this.signal.acceptRoleChangeRequest({role:e.role.name,token:e.token})})}endRoom(e,t){return c(this,null,function*(){yield this.signal.endRoom(e,t)})}removePeer(e,t){return c(this,null,function*(){yield this.signal.removePeer({requested_for:e,reason:t})})}startRTMPOrRecording(e){return c(this,null,function*(){var r;let t={meeting_url:e.meetingURL,record:e.record};((r=e.rtmpURLs)==null?void 0:r.length)&&(t.rtmp_urls=e.rtmpURLs),e.resolution&&(t.resolution=e.resolution),yield this.signal.startRTMPOrRecording(t)})}stopRTMPOrRecording(){return c(this,null,function*(){yield this.signal.stopRTMPAndRecording()})}startHLSStreaming(e){return c(this,null,function*(){let t={};e&&e.variants&&e.variants.length>0&&(t.variants=e.variants.map(r=>{let i={meeting_url:r.meetingURL};return r.metadata&&(i.metadata=r.metadata),i})),(e==null?void 0:e.recording)&&(t.hls_recording={single_file_per_layer:e.recording.singleFilePerLayer,hls_vod:e.recording.hlsVod}),yield this.signal.startHLSStreaming(t)})}stopHLSStreaming(e){return c(this,null,function*(){var t;if(e){let r={variants:(t=e==null?void 0:e.variants)==null?void 0:t.map(i=>{let s={meeting_url:i.meetingURL};return i.metadata&&(s.metadata=i.metadata),s})};yield this.signal.stopHLSStreaming(r)}yield this.signal.stopHLSStreaming()})}sendHLSTimedMetadata(e){return c(this,null,function*(){if(e.length>0){let t={metadata_objs:e};yield this.signal.sendHLSTimedMetadata(t)}})}changeName(e){return c(this,null,function*(){let t=this.store.getLocalPeer();t&&t.name!==e&&(yield this.signal.updatePeer({name:e}))})}changeMetadata(e){return c(this,null,function*(){yield this.signal.updatePeer({data:e})})}getSessionMetadata(){return this.signal.getSessionMetadata()}setSessionMetadata(e){return c(this,null,function*(){yield this.signal.setSessionMetadata({data:e})})}changeTrackState(e){return c(this,null,function*(){yield this.signal.requestTrackStateChange(e)})}changeMultiTrackState(e){return c(this,null,function*(){yield this.signal.requestMultiTrackStateChange(e)})}publishTrack(e){return c(this,null,function*(){e.publishedTrackId=e.getTrackIDBeingSent(),o.d(P,`\\u23F3 publishTrack: trackId=${e.trackId}, toPublishTrackId=${e.publishedTrackId}`,`${e}`),this.trackStates.set(e.publishedTrackId,new dt(e));let t=new Promise((n,d)=>{this.callbacks.set(be,{promise:{resolve:n,reject:d},action:p.PUBLISH,extra:{}})}),r=e.stream;r.setConnection(this.publishConnection);let i=this.store.getSimulcastLayers(e.source);r.addTransceiver(e,i),o.time(`publish-${e.trackId}-${e.type}`),yield t,o.timeEnd(`publish-${e.trackId}-${e.type}`),this.store.addTrack(e);let s=e.settings.maxBitrate;s&&(yield r.setMaxBitrate(s,e).then(()=>{o.d(P,`Setting maxBitrate for ${e.source} ${e.type} to ${s} kpbs`)}).catch(n=>o.w(P,\"Failed setting maxBitrate\",n))),o.d(P,`\\u2705 publishTrack: trackId=${e.trackId}`,`${e}`,this.callbacks)})}unpublishTrack(e){return c(this,null,function*(){if(o.d(P,`\\u23F3 unpublishTrack: trackId=${e.trackId}`,`${e}`),e.publishedTrackId&&this.trackStates.has(e.publishedTrackId))this.trackStates.delete(e.publishedTrackId);else{let s=Array.from(this.trackStates.values()).find(n=>e.type===n.type&&e.source===n.source);s&&this.trackStates.delete(s.track_id)}let t=new Promise((i,s)=>{this.callbacks.set(be,{promise:{resolve:i,reject:s},action:p.UNPUBLISH,extra:{}})});e.stream.removeSender(e),yield t,yield e.cleanup(),this.store.removeTrack(e.trackId),o.d(P,`\\u2705 unpublishTrack: trackId=${e.trackId}`,this.callbacks)})}waitForLocalRoleAvailability(){if(!this.store.hasRoleDetailsArrived())return new Promise(e=>{this.eventBus.policyChange.subscribeOnce(()=>e())})}createConnectionsAndNegotiateJoin(e,t=!1){return c(this,null,function*(){let r=this.doesLocalPeerNeedWebRTC();r&&this.createPeerConnections(),this.analyticsTimer.start(M.JOIN_RESPONSE),yield this.negotiateJoinWithRetry({name:e.name,data:e.metaData,autoSubscribeVideo:t,isWebRTC:r}),this.analyticsTimer.end(M.JOIN_RESPONSE)})}createPeerConnections(){this.initConfig&&(this.publishConnection||(this.publishConnection=new ht(this.signal,this.initConfig.rtcConfiguration,this.publishConnectionObserver,this)),this.subscribeConnection||(this.subscribeConnection=new mt(this.signal,this.initConfig.rtcConfiguration,this.subscribeConnectionObserver)))}negotiateJoinWithRetry(s){return c(this,arguments,function*({name:e,data:t,autoSubscribeVideo:r,isWebRTC:i=!0}){try{yield this.negotiateJoin({name:e,data:t,autoSubscribeVideo:r,isWebRTC:i})}catch(n){o.e(P,\"Join negotiation failed \\u274C\",n);let d=n instanceof T?n:m.WebsocketMethodErrors.ServerErrors(500,p.JOIN,`Websocket join error - ${n.message}`);if(parseInt(`${d.code/100}`)===5||d.code===429){this.joinRetryCount=0,d.isTerminal=!1;let h=()=>c(this,null,function*(){return this.joinRetryCount++,yield this.negotiateJoin({name:e,data:t,autoSubscribeVideo:r,isWebRTC:i})});yield this.retryScheduler.schedule({category:C.JoinWSMessageFailed,error:d,task:h,originalState:w.Joined,maxFailedRetries:3,changeState:!1})}else throw n}})}negotiateJoin(s){return c(this,arguments,function*({name:e,data:t,autoSubscribeVideo:r,isWebRTC:i=!0}){return i?yield this.negotiateJoinWebRTC({name:e,data:t,autoSubscribeVideo:r}):yield this.negotiateJoinNonWebRTC({name:e,data:t,autoSubscribeVideo:r})})}negotiateJoinWebRTC(i){return c(this,arguments,function*({name:e,data:t,autoSubscribeVideo:r}){if(o.d(P,\"\\u23F3 join: Negotiating over PUBLISH connection\"),!this.publishConnection)return o.e(P,\"Publish peer connection not found, cannot negotiate\"),!1;let s=yield this.publishConnection.createOffer();yield this.publishConnection.setLocalDescription(s);let n=this.isFlagEnabled(ee.FLAG_SERVER_SUB_DEGRADATION),d=this.isFlagEnabled(ee.FLAG_SERVER_SIMULCAST),l=yield this.signal.join(e,t,!r,n,d,s);yield this.publishConnection.setRemoteDescription(l);for(let h of this.publishConnection.candidates)yield this.publishConnection.addIceCandidate(h);return this.publishConnection.initAfterJoin(),!!l})}negotiateJoinNonWebRTC(i){return c(this,arguments,function*({name:e,data:t,autoSubscribeVideo:r}){o.d(P,\"\\u23F3 join: Negotiating Non-WebRTC\");let s=this.isFlagEnabled(ee.FLAG_SERVER_SUB_DEGRADATION),n=this.isFlagEnabled(ee.FLAG_SERVER_SIMULCAST);return!!(yield this.signal.join(e,t,!r,s,n))})}negotiateOnFirstPublish(){return c(this,null,function*(){if(o.d(P,\"\\u23F3 Negotiating offer over PUBLISH connection\"),!this.publishConnection)return o.e(P,\"Publish peer connection not found, cannot negotiate\"),!1;let e=yield this.publishConnection.createOffer(this.trackStates);yield this.publishConnection.setLocalDescription(e);let t=yield this.signal.offer(e,this.trackStates);yield this.publishConnection.setRemoteDescription(t);for(let r of this.publishConnection.candidates)yield this.publishConnection.addIceCandidate(r);return this.publishConnection.initAfterJoin(),!!t})}performPublishRenegotiation(e){return c(this,null,function*(){o.d(P,\"\\u23F3 [role=PUBLISH] onRenegotiationNeeded START\",this.trackStates);let t=this.callbacks.get(be);if(!!t){if(!this.publishConnection){o.e(P,\"Publish peer connection not found, cannot renegotiate\");return}try{let r=yield this.publishConnection.createOffer(this.trackStates,e);yield this.publishConnection.setLocalDescription(r),o.time(\"renegotiation-offer-exchange\");let i=yield this.signal.offer(r,this.trackStates);this.callbacks.delete(be),o.timeEnd(\"renegotiation-offer-exchange\"),yield this.publishConnection.setRemoteDescription(i),t.promise.resolve(!0),o.d(P,\"[role=PUBLISH] onRenegotiationNeeded DONE \\u2705\")}catch(r){let i;r instanceof T?i=r:i=m.GenericErrors.Unknown(p.PUBLISH,r.message),t.promise.reject(i),o.d(P,\"[role=PUBLISH] onRenegotiationNeeded FAILED \\u274C\")}}})}handleIceConnectionFailure(e){return c(this,null,function*(){var t,r,i,s;e===$.Publish?this.retryScheduler.schedule({category:C.PublishIceConnectionFailed,error:m.WebrtcErrors.ICEFailure(p.PUBLISH,((t=this.publishConnection)==null?void 0:t.selectedCandidatePair)&&JSON.stringify((r=this.publishConnection)==null?void 0:r.selectedCandidatePair)),task:this.retryPublishIceFailedTask,originalState:w.Joined}):this.retryScheduler.schedule({category:C.SubscribeIceConnectionFailed,error:m.WebrtcErrors.ICEFailure(p.SUBSCRIBE,((i=this.subscribeConnection)==null?void 0:i.selectedCandidatePair)&&JSON.stringify((s=this.subscribeConnection)==null?void 0:s.selectedCandidatePair)),task:this.retrySubscribeIceFailedTask,originalState:w.Joined,maxFailedRetries:1})})}internalConnect(e,t,r){return c(this,null,function*(){o.d(P,\"connect: started \\u23F0\");let i=new Date;try{return this.analyticsTimer.start(M.INIT),this.initConfig=yield Tt.fetchInitConfig({token:e,peerId:r,userAgent:this.store.getUserAgent(),initEndpoint:t}),this.analyticsTimer.end(M.INIT),this.validateNotDisconnected(\"post init\"),yield this.openSignal(e,r),this.store.setSimulcastEnabled(this.isFlagEnabled(ee.FLAG_SERVER_SIMULCAST)),o.d(P,\"Adding Analytics Transport: JsonRpcSignal\"),this.analyticsEventsService.setTransport(this.analyticsSignalTransport),this.analyticsEventsService.flush(),this.initConfig}catch(s){throw this.state!==w.Reconnecting&&this.eventBus.analytics.publish(R.connect(s,this.getAdditionalAnalyticsProperties(),i,new Date,t)),o.d(P,\"\\u274C internal connect: failed\",s),s}})}validateNotDisconnected(e){if(this.state===w.Disconnected)throw o.w(P,\"aborting join as transport state is disconnected\"),m.GenericErrors.ValidationFailed(`leave called before join could complete - stage=${e}`)}openSignal(e,t){return c(this,null,function*(){if(!this.initConfig)throw m.InitAPIErrors.InitConfigNotAvailable(p.INIT,\"Init Config not found\");o.d(P,\"\\u23F3 internal connect: connecting to ws endpoint\",this.initConfig.endpoint);let r=new URL(this.initConfig.endpoint);r.searchParams.set(\"peer\",t),r.searchParams.set(\"token\",e),r.searchParams.set(\"user_agent_v2\",this.store.getUserAgent()),this.endpoint=r.toString(),this.analyticsTimer.start(M.WEBSOCKET_CONNECT),yield this.signal.open(this.endpoint),this.analyticsTimer.end(M.WEBSOCKET_CONNECT),this.analyticsTimer.start(M.ON_POLICY_CHANGE),this.analyticsTimer.start(M.ROOM_STATE),o.d(P,\"\\u2705 internal connect: connected to ws endpoint\")})}initRtcStatsMonitor(){return c(this,null,function*(){var e,t,r,i;(r=this.webrtcInternals)==null||r.setPeerConnections({publish:(e=this.publishConnection)==null?void 0:e.nativeConnection,subscribe:(t=this.subscribeConnection)==null?void 0:t.nativeConnection}),this.store.getSubscribeDegradationParams()&&(this.isFlagEnabled(ee.FLAG_SERVER_SUB_DEGRADATION)||(yield(i=this.webrtcInternals)==null?void 0:i.start(),this.trackDegradationController=new gt(this.store,this.eventBus),this.eventBus.statsUpdate.subscribe(s=>{var n,d,l;(l=this.trackDegradationController)==null||l.handleRtcStatsChange(((d=(n=s.getLocalPeerStats())==null?void 0:n.subscribe)==null?void 0:d.packetsLost)||0)})),this.eventBus.trackDegraded.subscribe(s=>{this.eventBus.analytics.publish(R.degradationStats(s,!0)),this.observer.onTrackDegrade(s)}),this.eventBus.trackRestored.subscribe(s=>{this.eventBus.analytics.publish(R.degradationStats(s,!1)),this.observer.onTrackRestore(s)}))})}doesRoleNeedWebRTC(e){var i,s;if(!this.isFlagEnabled(ee.FLAG_NON_WEBRTC_DISABLE_OFFER))return!0;let t=Boolean(e.publishParams.allowed&&((i=e.publishParams.allowed)==null?void 0:i.length)>0),r=Boolean(e.subscribeParams.subscribeToRoles&&((s=e.subscribeParams.subscribeToRoles)==null?void 0:s.length)>0);return t||r}doesLocalPeerNeedWebRTC(){var t;let e=(t=this.store.getLocalPeer())==null?void 0:t.role;return e?this.doesRoleNeedWebRTC(e):!0}setTransportStateForConnect(){if(this.state===w.Failed&&(this.state=w.Disconnected),this.state!==w.Disconnected&&this.state!==w.Reconnecting)throw m.WebsocketMethodErrors.AlreadyJoined(p.JOIN,`Cannot join a meeting in ${this.state} state`);this.state===w.Disconnected&&(this.state=w.Connecting,this.observer.onStateChange(this.state))}sendErrorAnalyticsEvent(e,t){let r=this.getAdditionalAnalyticsProperties(),i;switch(t){case C.ConnectFailed:i=R.connect(e,r);break;case C.SignalDisconnect:i=R.disconnect(e,r);break;case C.JoinWSMessageFailed:i=R.join({error:e,time:this.analyticsTimer.getTimeTaken(M.JOIN),init_response_time:this.analyticsTimer.getTimeTaken(M.INIT),ws_connect_time:this.analyticsTimer.getTimeTaken(M.WEBSOCKET_CONNECT),on_policy_change_time:this.analyticsTimer.getTimeTaken(M.ON_POLICY_CHANGE),local_audio_track_time:this.analyticsTimer.getTimeTaken(M.LOCAL_AUDIO_TRACK),local_video_track_time:this.analyticsTimer.getTimeTaken(M.LOCAL_VIDEO_TRACK),retries_join:this.joinRetryCount});break;case C.PublishIceConnectionFailed:i=R.publish({error:e});break;case C.SubscribeIceConnectionFailed:i=R.subscribeFail(e);break}this.eventBus.analytics.publish(i)}getAdditionalAnalyticsProperties(){var n,d,l,h,u,g,S,y;let e=Xr(),t=typeof document!=\"undefined\"&&document.hidden,r=this.store.getRemoteVideoTracks().filter(x=>x.degraded).length,i=(h=(l=(d=(n=this.getWebrtcInternals())==null?void 0:n.getCurrentStats())==null?void 0:d.getLocalPeerStats())==null?void 0:l.publish)==null?void 0:h.bitrate,s=(y=(S=(g=(u=this.getWebrtcInternals())==null?void 0:u.getCurrentStats())==null?void 0:g.getLocalPeerStats())==null?void 0:S.subscribe)==null?void 0:y.bitrate;return{network_info:e,document_hidden:t,num_degraded_tracks:r,bitrate:{publish:i,subscribe:s},max_sub_bitrate:this.maxSubscribeBitrate,recent_pong_response_times:this.signal.getPongResponseTimes(),transport_state:this.state}}};function kt(a){if(!a||a.length===0)throw m.InitAPIErrors.InvalidTokenFormat(p.INIT,\"Token cannot be an empty string or undefined or null\");let e=a.split(\".\");if(e.length!==3)throw m.InitAPIErrors.InvalidTokenFormat(p.INIT,\"Expected 3 '.' separate fields - header, payload and signature respectively\");let t=atob(e[1]);try{let r=JSON.parse(t);return{roomId:r.room_id,userId:r.user_id,role:r.role}}catch(r){throw m.InitAPIErrors.InvalidTokenFormat(p.INIT,`couldn't parse to json - ${r.message}`)}}var Zr={isAudioMuted:!1,isVideoMuted:!1,audioInputDeviceId:\"default\",audioOutputDeviceId:\"default\",videoDeviceId:\"default\"},ei={published:!1,isInitialised:!1,isReconnecting:!1,isPreviewInProgress:!1,isJoinInProgress:!1,deviceManagersInitialised:!1},Ni=class{constructor(){this.TAG=\"[HMSSdk]:\";this.transportState=w.Disconnected;this.analyticsTimer=new Pt;this.sdkState=v({},ei);this.handleAutoplayError=e=>{var t,r;(r=(t=this.errorListener)==null?void 0:t.onError)==null||r.call(t,e)};this.observer={onNotification:e=>{if(e.method===A.PEER_LEAVE_REQUEST){this.handlePeerLeaveRequest(e.params);return}switch(e.method){case A.POLICY_CHANGE:this.analyticsTimer.end(M.ON_POLICY_CHANGE);break;case A.PEER_LIST:this.analyticsTimer.end(M.PEER_LIST);break;case A.ROOM_STATE:this.analyticsTimer.end(M.ROOM_STATE);break;default:}this.notificationManager.handleNotification(e,this.sdkState.isReconnecting)},onTrackAdd:e=>{this.notificationManager.handleTrackAdd(e)},onTrackRemove:e=>{this.notificationManager.handleTrackRemove(e)},onTrackDegrade:e=>{var t,r;o.d(this.TAG,\"Sending Track Update Track Degraded\",e),(r=this.listener)==null||r.onTrackUpdate(N.TRACK_DEGRADED,e,(t=this.store)==null?void 0:t.getPeerByTrackId(e.trackId))},onTrackRestore:e=>{var t,r;o.d(this.TAG,\"Sending Track Update Track Restored\",e),(r=this.listener)==null||r.onTrackUpdate(N.TRACK_RESTORED,e,(t=this.store)==null?void 0:t.getPeerByTrackId(e.trackId))},onFailure:e=>{var t;(t=this.errorListener)==null||t.onError(e)},onStateChange:(e,t)=>c(this,null,function*(){var i,s;let r=n=>c(this,null,function*(){var d,l;yield this.internalLeave(!0,n),!this.sdkState.isPreviewInProgress&&!this.sdkState.isJoinInProgress&&((l=(d=this.errorListener)==null?void 0:d.onError)==null||l.call(d,n)),this.sdkState.isReconnecting=!1});switch(e){case w.Preview:case w.Joined:this.transportState===w.Reconnecting&&((i=this.listener)==null||i.onReconnected());break;case w.Failed:yield r(t);break;case w.Reconnecting:this.sdkState.isReconnecting=!0,(s=this.listener)==null||s.onReconnecting(t);break}this.transportState=e,o.d(this.TAG,\"Transport State Change\",this.transportState)})};this.handlePeerLeaveRequest=e=>{var i;let t=e.requested_by?this.store.getPeerById(e.requested_by):void 0,r={roomEnded:e.room_end,reason:e.reason,requestedBy:t};(i=this.listener)==null||i.onRemovedFromRoom(r),this.internalLeave(!1)};this.handleDeviceChange=e=>{var t,r,i,s,n,d;if(o.d(this.TAG,\"Device Change event\",e),(r=(t=this.deviceChangeListener)==null?void 0:t.onDeviceChange)==null||r.call(t,e),e.error&&e.type){let l=e.type.includes(\"audio\")?(i=this.localPeer)==null?void 0:i.audioTrack:(s=this.localPeer)==null?void 0:s.videoTrack;(n=this.errorListener)==null||n.onError(e.error),[f.TracksErrors.CANT_ACCESS_CAPTURE_DEVICE,f.TracksErrors.DEVICE_IN_USE,f.TracksErrors.DEVICE_NOT_AVAILABLE].includes(e.error.code)&&l&&(l.setEnabled(!1),(d=this.listener)==null||d.onTrackUpdate(N.TRACK_MUTED,l,this.localPeer))}};this.handleAudioPluginError=e=>{var t;o.e(this.TAG,\"Audio Plugin Error event\",e),(t=this.errorListener)==null||t.onError(e)};this.handleLocalRoleUpdate=r=>c(this,[r],function*({oldRole:e,newRole:t}){var i;yield this.transport.handleLocalRoleUpdate({oldRole:e,newRole:t}),yield(i=this.roleChangeManager)==null?void 0:i.handleLocalPeerRoleUpdate({oldRole:e,newRole:t})});this.sendAudioPresenceFailed=()=>{let e=m.TracksErrors.NoAudioDetected(p.PREVIEW);this.sendAnalyticsEvent(R.audioDetectionFail(e,this.deviceManager.getCurrentSelection().audioInput))};this.sendJoinAnalyticsEvent=(e=!1,t)=>{this.eventBus.analytics.publish(R.join(_(v({error:t},this.analyticsTimer.getTimes()),{time:this.analyticsTimer.getTimeTaken(M.JOIN),is_preview_called:e})))};this.sendPreviewAnalyticsEvent=e=>{this.eventBus.analytics.publish(R.preview(_(v({error:e},this.analyticsTimer.getTimes(M.ROOM_STATE)),{time:this.analyticsTimer.getTimeTaken(M.PREVIEW)})))};this.sendAnalyticsEvent=e=>{this.analyticsEventsService.queue(e).flush()}}initStoreAndManagers(){if(this.sdkState.isInitialised){this.notificationManager.setListener(this.listener),this.audioSinkManager.setListener(this.listener);return}this.sdkState.isInitialised=!0,this.store=new st,this.eventBus=new Nt,this.networkTestManager=new _t(this.eventBus,this.listener),this.playlistManager=new ut(this,this.eventBus),this.notificationManager=new ct(this.store,this.eventBus,this.listener,this.audioListener),this.deviceManager=new nt(this.store,this.eventBus),this.audioSinkManager=new at(this.store,this.deviceManager,this.eventBus),this.audioOutput=new ot(this.deviceManager,this.audioSinkManager),this.audioSinkManager.setListener(this.listener),this.eventBus.autoplayError.subscribe(this.handleAutoplayError),this.localTrackManager=new de(this.store,this.observer,this.deviceManager,this.eventBus,this.analyticsTimer),this.analyticsEventsService=new Dt(this.store),this.transport=new Et(this.observer,this.deviceManager,this.store,this.eventBus,this.analyticsEventsService,this.analyticsTimer),this.eventBus.analytics.subscribe(this.sendAnalyticsEvent),this.eventBus.deviceChange.subscribe(this.handleDeviceChange),this.eventBus.audioPluginFailed.subscribe(this.handleAudioPluginError)}validateJoined(e){if(!this.localPeer)throw m.GenericErrors.NotConnected(p.VALIDATION,`Not connected - ${e}`)}refreshDevices(){return c(this,null,function*(){this.validateJoined(\"refreshDevices\"),yield this.deviceManager.init(!0)})}getWebrtcInternals(){var e;return(e=this.transport)==null?void 0:e.getWebrtcInternals()}getPlaylistManager(){return this.playlistManager}getRecordingState(){var e;return(e=this.store.getRoom())==null?void 0:e.recording}getRTMPState(){var e;return(e=this.store.getRoom())==null?void 0:e.rtmp}getHLSState(){var e;return(e=this.store.getRoom())==null?void 0:e.hls}get localPeer(){var e;return(e=this.store)==null?void 0:e.getLocalPeer()}preview(e,t){return c(this,null,function*(){if(er(),Zt(),this.sdkState.isPreviewInProgress)return Promise.reject(m.GenericErrors.PreviewAlreadyInProgress(p.PREVIEW,\"Preview already called\"));this.analyticsTimer.start(M.PREVIEW),this.setUpPreview(e,t),e.alwaysRequestPermissions&&this.localTrackManager.requestPermissions().then(()=>c(this,null,function*(){yield this.initDeviceManagers()}));let r=!1,i=!1,s=setTimeout(()=>{var n,d;(!r||!i)&&((d=(n=this.listener)==null?void 0:n.onNetworkQuality)==null||d.call(n,-1))},3e3);return new Promise((n,d)=>{let l=()=>c(this,null,function*(){var g;let u=yield this.localTrackManager.getTracksToPublish(e.settings||Zr);u.forEach(S=>this.setLocalPeerTrack(S)),((g=this.localPeer)==null?void 0:g.audioTrack)&&this.initPreviewTrackAudioLevelMonitor(),yield this.initDeviceManagers(),this.sdkState.isPreviewInProgress=!1,this.analyticsTimer.end(M.PREVIEW),t.onPreview(this.store.getRoom(),u),this.sendPreviewAnalyticsEvent(),n()}),h=u=>{var g;this.analyticsTimer.end(M.PREVIEW),u&&((g=this.errorListener)==null||g.onError(u)),this.sendPreviewAnalyticsEvent(u),this.sdkState.isPreviewInProgress=!1,d(u)};this.eventBus.policyChange.subscribeOnce(l),this.eventBus.leave.subscribeOnce(h),this.transport.preview(e.authToken,e.initEndpoint,this.localPeer.peerId,{name:e.userName,metaData:e.metaData||\"\"},e.autoVideoSubscribe).then(u=>{var g;r=!0,clearTimeout(s),u&&e.captureNetworkQualityInPreview&&this.networkTestManager.start((g=u.config)==null?void 0:g.networkHealth).then(()=>{i=!0})}).catch(h)})})}join(e,t){return c(this,null,function*(){var d,l,h,u;if(er(),Zt(),this.sdkState.isPreviewInProgress)throw m.GenericErrors.NotReady(p.JOIN,\"Preview is in progress, can't join\");this.analyticsTimer.start(M.JOIN),this.sdkState.isJoinInProgress=!0;let r=this.transportState===w.Preview,{roomId:i,userId:s,role:n}=kt(e.authToken);(d=this.networkTestManager)==null||d.stop(),(h=(l=this.localPeer)==null?void 0:l.audioTrack)==null||h.destroyAudioLevelMonitor(),this.listener=t,this.commonSetup(e,i,t),this.removeDevicesFromConfig(e),this.store.setConfig(e),this.store.createAndSetUserAgent(this.frameworkInfo),Re.resumeContext(),this.localPeer?(this.localPeer.name=e.userName,this.localPeer.role=this.store.getPolicyForRole(n),this.localPeer.customerUserId=s,this.localPeer.metadata=e.metaData):this.createAndAddLocalPeerToStore(e,n,s),this.roleChangeManager=new it(this.store,this.transport,this.publish.bind(this),this.removeTrack.bind(this),this.listener),this.eventBus.localRoleUpdate.subscribe(this.handleLocalRoleUpdate),o.d(this.TAG,\"SDK Store\",this.store),o.d(this.TAG,`\\u23F3 Joining room ${i}`),o.time(`join-room-${i}`);try{yield this.transport.join(e.authToken,this.localPeer.peerId,{name:e.userName,metaData:e.metaData},e.initEndpoint,e.autoVideoSubscribe),o.d(this.TAG,`\\u2705 Joined room ${i}`),this.analyticsTimer.start(M.PEER_LIST),yield this.notifyJoin(),this.sdkState.isJoinInProgress=!1,this.sendJoinAnalyticsEvent(r),[this.store.getPublishParams(),!this.sdkState.published,!he].every(g=>!!g)&&(yield this.publish(e.settings||Zr).catch(g=>{var S;o.e(this.TAG,\"Error in publish\",g),(S=this.listener)==null||S.onError(g)}))}catch(g){throw this.analyticsTimer.end(M.JOIN),this.sdkState.isJoinInProgress=!1,(u=this.listener)==null||u.onError(g),this.sendJoinAnalyticsEvent(r,g),o.e(this.TAG,\"Unable to join room\",g),g}o.timeEnd(`join-room-${i}`)})}stringifyMetadata(e){e.metaData&&typeof e.metaData!=\"string\"?e.metaData=JSON.stringify(e.metaData):e.metaData||(e.metaData=\"\")}cleanUp(){var e,t;this.cleanDeviceManagers(),this.eventBus.analytics.unsubscribe(this.sendAnalyticsEvent),this.analyticsTimer.cleanUp(),Q.cleanup(),this.playlistManager.cleanup(),o.cleanUp(),this.sdkState=v({},ei),this.localPeer&&((e=this.localPeer.audioTrack)==null||e.cleanup(),this.localPeer.audioTrack=void 0,(t=this.localPeer.videoTrack)==null||t.cleanup(),this.localPeer.videoTrack=void 0),this.store.cleanUp(),this.listener=void 0,this.roleChangeManager&&this.eventBus.localRoleUpdate.unsubscribe(this.roleChangeManager.handleLocalPeerRoleUpdate)}leave(e){return this.internalLeave(e)}internalLeave(e=!0,t){return c(this,null,function*(){var i,s;let r=this.store.getRoom();if(r){let n=r.id;(i=this.networkTestManager)==null||i.stop(),this.eventBus.leave.publish(t),o.d(this.TAG,`\\u23F3 Leaving room ${n}`),yield(s=this.transport)==null?void 0:s.leave(e),this.cleanUp(),o.d(this.TAG,`\\u2705 Left room ${n}`)}})}getLocalPeer(){return this.store.getLocalPeer()}getPeers(){let e=this.store.getPeers();return e.length<50&&o.d(this.TAG,`Got peers(${e.length})`,e.toString()),e}getAudioOutput(){return this.audioOutput}sendMessage(e,t){this.sendMessageInternal({message:t,type:e})}sendBroadcastMessage(e,t){return c(this,null,function*(){return yield this.sendMessageInternal({message:e,type:t})})}sendGroupMessage(e,t,r){return c(this,null,function*(){let i=this.store.getKnownRoles();if((t.filter(n=>i[n.name])||[]).length===0)throw m.GenericErrors.ValidationFailed(\"No valid role is present\",t);return yield this.sendMessageInternal({message:e,recipientRoles:t,type:r})})}sendDirectMessage(e,t,r){return c(this,null,function*(){var s;if(!this.store.getPeerById(t.peerId))throw m.GenericErrors.ValidationFailed(\"Invalid peer - peer not present in the room\",t);if(((s=this.localPeer)==null?void 0:s.peerId)===t.peerId)throw m.GenericErrors.ValidationFailed(\"Cannot send message to self\");return yield this.sendMessageInternal({message:e,recipientPeer:t,type:r})})}sendMessageInternal(s){return c(this,arguments,function*({recipientRoles:e,recipientPeer:t,type:r=\"chat\",message:i}){if(i.replace(/\\u200b/g,\" \").trim()===\"\")throw o.w(this.TAG,\"sendMessage\",\"Ignoring empty message send\"),m.GenericErrors.ValidationFailed(\"Empty message not allowed\");let n=new fe({sender:this.localPeer,type:r,message:i,recipientPeer:t,recipientRoles:e,time:new Date});o.d(this.TAG,\"Sending Message: \",n);let d=yield this.transport.sendMessage(n);return n.time=new Date(d.timestamp),n})}startScreenShare(e,t){return c(this,null,function*(){var d,l,h;let r=this.store.getPublishParams();if(!r)return;let{allowed:i}=r;if(!(i&&i.includes(\"screen\"))){o.e(this.TAG,`Role ${(d=this.localPeer)==null?void 0:d.role} cannot share screen`);return}if((h=(l=this.localPeer)==null?void 0:l.auxiliaryTracks)==null?void 0:h.find(u=>u.source===\"screen\"))throw Error(\"Cannot share multiple screens\");let n=yield this.getScreenshareTracks(e,t);if(!this.localPeer){o.d(this.TAG,\"Screenshared when not connected\"),n.forEach(u=>{u.cleanup()});return}yield this.transport.publish(n),n.forEach(u=>{var g,S,y;u.peerId=(g=this.localPeer)==null?void 0:g.peerId,(S=this.localPeer)==null||S.auxiliaryTracks.push(u),(y=this.listener)==null||y.onTrackUpdate(N.TRACK_ADDED,u,this.localPeer)})})}stopEndedScreenshare(e){return c(this,null,function*(){o.d(this.TAG,\"\\u2705 Screenshare ended natively\"),yield this.stopScreenShare(),e()})}stopScreenShare(){return c(this,null,function*(){var t;o.d(this.TAG,\"\\u2705 Screenshare ended from app\");let e=(t=this.localPeer)==null?void 0:t.auxiliaryTracks.filter(r=>r.source===\"screen\");if(e)for(let r of e)yield this.removeTrack(r.trackId)})}addTrack(e,t=\"regular\"){return c(this,null,function*(){var h,u,g,S;if(!e){o.w(this.TAG,\"Please pass a valid MediaStreamTrack\");return}if(!this.localPeer)throw m.GenericErrors.NotConnected(p.VALIDATION,\"No local peer present, cannot addTrack\");if(this.localPeer.auxiliaryTracks.find(y=>y.trackId===e.id))return;let i=e.kind,s=new MediaStream([e]),n=new Se(s),d=i===\"audio\"?Pe:ce,l=new d(n,e,t,this.eventBus);this.setPlaylistSettings({track:e,hmsTrack:l,source:t}),yield(h=this.transport)==null?void 0:h.publish([l]),l.peerId=(u=this.localPeer)==null?void 0:u.peerId,(g=this.localPeer)==null||g.auxiliaryTracks.push(l),(S=this.listener)==null||S.onTrackUpdate(N.TRACK_ADDED,l,this.localPeer)})}removeTrack(e){return c(this,null,function*(){var r;if(!this.localPeer)throw m.GenericErrors.NotConnected(p.VALIDATION,\"No local peer present, cannot removeTrack\");let t=this.localPeer.auxiliaryTracks.findIndex(i=>i.trackId===e);if(t>-1){let i=this.localPeer.auxiliaryTracks[t];yield this.transport.unpublish([i]),i.source===\"audioplaylist\"?this.playlistManager.stop(b.audio):i.source===\"videoplaylist\"&&this.playlistManager.stop(b.video),this.localPeer.auxiliaryTracks.splice(t,1),(r=this.listener)==null||r.onTrackUpdate(N.TRACK_REMOVED,i,this.localPeer)}else o.w(this.TAG,`No track found for ${e}`)})}setAnalyticsLevel(e){this.analyticsEventsService.level=e}setLogLevel(e){o.level=e}addAudioListener(e){this.audioListener=e,this.notificationManager.setAudioListener(e)}addConnectionQualityListener(e){this.notificationManager.setConnectionQualityListener(e)}changeRole(e,t,r=!1){return c(this,null,function*(){var i;!e.role||e.role.name===t||(yield(i=this.transport)==null?void 0:i.changeRoleOfPeer(e,t,r))})}changeRoleOfPeer(e,t,r=!1){return c(this,null,function*(){var i;!e.role||e.role.name===t||(yield(i=this.transport)==null?void 0:i.changeRoleOfPeer(e,t,r))})}changeRoleOfPeersWithRoles(e,t){return c(this,null,function*(){var r;e.length<=0||!t||(yield(r=this.transport)==null?void 0:r.changeRoleOfPeersWithRoles(e,t))})}acceptChangeRole(e){return c(this,null,function*(){var t;yield(t=this.transport)==null?void 0:t.acceptRoleChange(e)})}endRoom(e,t){return c(this,null,function*(){var r;if(!this.localPeer)throw m.GenericErrors.NotConnected(p.VALIDATION,\"No local peer present, cannot end room\");yield(r=this.transport)==null?void 0:r.endRoom(e,t),yield this.leave()})}removePeer(e,t){return c(this,null,function*(){var r;if(!this.localPeer)throw m.GenericErrors.NotConnected(p.VALIDATION,\"No local peer present, cannot remove peer\");if(!this.store.getPeerById(e.peerId))throw m.GenericErrors.ValidationFailed(\"Invalid peer, given peer not present in room\",e);yield(r=this.transport)==null?void 0:r.removePeer(e.peerId,t)})}startRTMPOrRecording(e){return c(this,null,function*(){var t;if(!this.localPeer)throw m.GenericErrors.NotConnected(p.VALIDATION,\"No local peer present, cannot start streaming or recording\");yield(t=this.transport)==null?void 0:t.startRTMPOrRecording(e)})}stopRTMPAndRecording(){return c(this,null,function*(){var e;if(!this.localPeer)throw m.GenericErrors.NotConnected(p.VALIDATION,\"No local peer present, cannot stop streaming or recording\");yield(e=this.transport)==null?void 0:e.stopRTMPOrRecording()})}startHLSStreaming(e){return c(this,null,function*(){var t;if(!this.localPeer)throw m.GenericErrors.NotConnected(p.VALIDATION,\"No local peer present, cannot start HLS streaming\");yield(t=this.transport)==null?void 0:t.startHLSStreaming(e)})}stopHLSStreaming(e){return c(this,null,function*(){var t;if(!this.localPeer)throw m.GenericErrors.NotConnected(p.VALIDATION,\"No local peer present, cannot stop HLS streaming\");yield(t=this.transport)==null?void 0:t.stopHLSStreaming(e)})}sendHLSTimedMetadata(e){return c(this,null,function*(){var t;this.validateJoined(\"sendHLSTimedMetadata\"),yield(t=this.transport)==null?void 0:t.sendHLSTimedMetadata(e)})}changeName(e){return c(this,null,function*(){var t;this.validateJoined(\"changeName\"),yield(t=this.transport)==null?void 0:t.changeName(e),this.notificationManager.updateLocalPeer({name:e})})}changeMetadata(e){return c(this,null,function*(){var t;this.validateJoined(\"changeMetadata\"),yield(t=this.transport)==null?void 0:t.changeMetadata(e),this.notificationManager.updateLocalPeer({metadata:e})})}setSessionMetadata(e){return c(this,null,function*(){yield this.transport.setSessionMetadata(e)})}getSessionMetadata(){return c(this,null,function*(){return(yield this.transport.getSessionMetadata()).data})}getRoles(){return Object.values(this.store.getKnownRoles())}changeTrackState(e,t){return c(this,null,function*(){var i;if(e.type===L.VIDEO&&e.source!==\"regular\"){o.w(this.TAG,\"Muting non-regular video tracks is currently not supported\");return}if(e.enabled===t){o.w(this.TAG,`Aborting change track state, track already has enabled - ${t}`,e);return}if(!this.store.getTrackById(e.trackId))throw m.GenericErrors.ValidationFailed(\"No track found for change track state\",e);let r=this.store.getPeerByTrackId(e.trackId);if(!r)throw m.GenericErrors.ValidationFailed(\"No peer found for change track state\",e);yield(i=this.transport)==null?void 0:i.changeTrackState({requested_for:r.peerId,track_id:e.trackId,stream_id:e.stream.id,mute:!t})})}changeMultiTrackState(e){return c(this,null,function*(){var n;if(typeof e.enabled!=\"boolean\")throw m.GenericErrors.ValidationFailed(\"Pass a boolean for enabled\");let{enabled:t,roles:r,type:i,source:s}=e;yield(n=this.transport)==null?void 0:n.changeMultiTrackState({value:!t,type:i,source:s,roles:r==null?void 0:r.map(d=>d==null?void 0:d.name)})})}setFrameworkInfo(e){this.frameworkInfo=e}publish(e){return c(this,null,function*(){let t=yield this.localTrackManager.getTracksToPublish(e);yield this.setAndPublishTracks(t),this.sdkState.published=!0})}setAndPublishTracks(e){return c(this,null,function*(){var t;for(let r of e)yield this.transport.publish([r]),this.setLocalPeerTrack(r),(t=this.listener)==null||t.onTrackUpdate(N.TRACK_ADDED,r,this.localPeer);yield this.initDeviceManagers()})}setLocalPeerTrack(e){var t;switch(e.peerId=(t=this.localPeer)==null?void 0:t.peerId,e.type){case L.AUDIO:this.localPeer.audioTrack=e;break;case L.VIDEO:this.localPeer.videoTrack=e;break}}initDeviceManagers(){return c(this,null,function*(){var e,t,r,i,s;this.sdkState.deviceManagersInitialised||(this.sdkState.deviceManagersInitialised=!0,yield this.deviceManager.init(),(yield this.deviceManager.updateOutputDevice((t=(e=this.store.getConfig())==null?void 0:e.settings)==null?void 0:t.audioOutputDeviceId))||(yield this.deviceManager.updateOutputDevice((i=(r=Q.getSelection())==null?void 0:r.audioOutput)==null?void 0:i.deviceId)),this.audioSinkManager.init((s=this.store.getConfig())==null?void 0:s.audioSinkElementId))})}cleanDeviceManagers(){this.eventBus.deviceChange.unsubscribe(this.handleDeviceChange),this.eventBus.audioPluginFailed.unsubscribe(this.handleAudioPluginError),this.eventBus.autoplayError.unsubscribe(this.handleAutoplayError),this.deviceManager.cleanUp(),this.audioSinkManager.cleanUp()}initPreviewTrackAudioLevelMonitor(){var t;let e=(t=this.localPeer)==null?void 0:t.audioTrack;e==null||e.initAudioLevelMonitor(),this.eventBus.trackAudioLevelUpdate.subscribe(r=>{var s;let i=r&&r.track.trackId===(e==null?void 0:e.trackId)?[{audioLevel:r.audioLevel,peer:this.localPeer,track:e}]:[];this.store.updateSpeakers(i),(s=this.audioListener)==null||s.onAudioLevelUpdate(i)}),this.eventBus.localAudioSilence.subscribe(this.sendAudioPresenceFailed)}notifyJoin(){var r;let e=this.store.getLocalPeer(),t=this.store.getRoom();if(t.joinedAt=new Date,e&&(e.joinedAt=t.joinedAt),e==null?void 0:e.role){this.analyticsTimer.end(M.JOIN),(r=this.listener)==null||r.onJoin(t);return}return new Promise((i,s)=>{this.eventBus.policyChange.subscribeOnce(()=>{var n;this.analyticsTimer.end(M.JOIN),(n=this.listener)==null||n.onJoin(t),i()}),this.eventBus.leave.subscribeOnce(n=>{s(n)})})}setUpPreview(e,t){this.listener=t,this.sdkState.isPreviewInProgress=!0;let{roomId:r,userId:i,role:s}=kt(e.authToken);this.commonSetup(e,r,t),this.store.setConfig(e),this.store.createAndSetUserAgent(this.frameworkInfo),this.createAndAddLocalPeerToStore(e,s,i),o.d(this.TAG,\"SDK Store\",this.store)}setPlaylistSettings(i){return c(this,arguments,function*({track:e,hmsTrack:t,source:r}){if(r===\"videoplaylist\"){let s={};if(e.kind===\"audio\")s.maxBitrate=64;else{s.maxBitrate=1e3;let{width:n,height:d}=e.getSettings();s.width=n,s.height=d}yield t.setSettings(s)}else r===\"audioplaylist\"&&(yield t.setSettings({maxBitrate:64}))})}createAndAddLocalPeerToStore(e,t,r){let i=this.store.getPolicyForRole(t),s=new Ve({name:e.userName||\"\",customerUserId:r,metadata:e.metaData||\"\",role:i});this.store.addPeer(s)}commonSetup(e,t,r){this.stringifyMetadata(e),e.initEndpoint||(e.initEndpoint=\"https://prod-init.100ms.live\"),this.errorListener=r,this.deviceChangeListener=r,this.initStoreAndManagers(),this.store.setErrorListener(this.errorListener),this.store.getRoom()||this.store.setRoom(new Ge(t,this.store))}removeDevicesFromConfig(e){this.store.getConfig()&&e.settings&&(delete e.settings.audioOutputDeviceId,delete e.settings.videoDeviceId,delete e.settings.audioInputDeviceId)}getScreenshareTracks(e,t){return c(this,null,function*(){let[r,i]=yield this.localTrackManager.getLocalScreen(t),s=()=>{this.stopEndedScreenshare(e)},n=[];if(t==null?void 0:t.audioOnly){if(r.nativeTrack.stop(),!i)throw m.TracksErrors.NothingToReturn(p.TRACK,\"Select share audio when sharing screen\",\"No audio found\");n.push(i),i.nativeTrack.onended=s}else n.push(r),r.nativeTrack.onended=s,i&&n.push(i);return n})}};function zp(){return c(this,null,function*(){let a=new J().build(),e=new z().build();try{(yield Ye(e)).stop()}catch(r){if(Oi(r))throw(yield Fr({audio:!1,video:!0})).getTracks().forEach(s=>s.stop()),r}return(yield ze(a)).stop(),!1})}function Oi(a){return a instanceof T&&a.action===p.TRACK}o.i(\"adapter\",`${webrtc_adapter__WEBPACK_IMPORTED_MODULE_0__[\"default\"].browserDetails.browser} v${webrtc_adapter__WEBPACK_IMPORTED_MODULE_0__[\"default\"].browserDetails.version}`);\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9obXMtdmlkZW8vZGlzdC9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsd0RBQXdELHdDQUF3QyxvQ0FBb0MsZ0ZBQWdGLCtCQUErQixrREFBa0QsbUJBQW1CLHFCQUFxQiw2QkFBNkIsb0RBQW9ELFNBQVMsc0JBQXNCLGVBQWUsU0FBUyx5REFBeUQsNEVBQTRFLFVBQVUsNEJBQTRCLFdBQVcsd0JBQXdCLG1DQUFtQyxVQUFVLElBQUksYUFBYSxTQUFTLE1BQU0sT0FBTyxJQUFJLGNBQWMsU0FBUyxNQUFNLDJEQUEyRCwyQkFBMkIsRUFBRSxvQkFBb0IsWUFBWSxrS0FBa0ssWUFBWSxVQUFVLEtBQUssa0ZBQWtGLFVBQVUsZ2NBQWdjLDBEQUEwRCxrSUFBa0ksZUFBZSxpSEFBaUgscURBQXFELEVBQXFHLGFBQWEsZUFBZSxXQUFXLGtCQUFrQixhQUFhLDhFQUE4RSxNQUFNLE1BQU0sNkRBQTZELDhCQUE4QixPQUFPLE1BQU0sd0JBQXdCLG1EQUFtRCxRQUFRLE1BQU0sc0RBQXNELFdBQVcsa0RBQUUsa0pBQWtKLGFBQWEsb0NBQW9DLFVBQVUsR0FBRyxxRUFBcUUsbURBQW1ELGdCQUFnQix3Q0FBRSxlQUFlLDhEQUE4RCxNQUFNLGtFQUFrRSxhQUFhLGNBQWMsdUJBQXVCLFdBQVcsZ0VBQWdFLGFBQWEsd0JBQXdCLGNBQWMseUJBQXlCLFFBQVEsdUJBQXVCLE9BQU8sOEhBQThILDRDQUE0QyxhQUFhLDRCQUE0QixTQUFTLGdEQUFnRCxNQUFNLGFBQWEsd0tBQXdLLFVBQVUsR0FBRyw2RUFBNkUsaUJBQWlCLG1CQUFtQixpQkFBaUIsbUJBQW1CLGlCQUFpQixtQkFBbUIsaUJBQWlCLG1CQUFtQixpQkFBaUIsbUJBQW1CLGVBQWUsdUNBQXVDLGtCQUFrQix5Q0FBeUMsaUJBQWlCLHFEQUFxRCxxQkFBcUIsaURBQWlELFFB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QUErRCw2QkFBNkIsTUFBTSwrQkFBK0IsbUlBQW1JLGtDQUFrQyxvREFBb0QsU0FBUyxJQUFJLGNBQWMsK0JBQStCLHdDQUF3QyxJQUFJLHFCQUFxQixTQUFTLHlCQUF5QixrQkFBa0Isc0NBQXNDLDhCQUE4QixFQUFFLGVBQWUsMENBQTBDLGlCQUFpQiw2RUFBeUIsRUFBRSxHQUFHLDZFQUF5QixDQUFDLEdBQTAzQjtBQUNwa3BMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AMTAwbXNsaXZlL2htcy12aWRlby9kaXN0L2luZGV4LmpzP2MwMmUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHJpPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxpaT1PYmplY3QuZGVmaW5lUHJvcGVydGllczt2YXIgc2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7dmFyIFVlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7dmFyIGRyPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbHI9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTt2YXIgdXI9KGEsZSx0KT0+ZSBpbiBhP3JpKGEsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOmFbZV09dCx2PShhLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSlkci5jYWxsKGUsdCkmJnVyKGEsdCxlW3RdKTtpZihVZSlmb3IodmFyIHQgb2YgVWUoZSkpbHIuY2FsbChlLHQpJiZ1cihhLHQsZVt0XSk7cmV0dXJuIGF9LF89KGEsZSk9PmlpKGEsc2koZSkpO3ZhciB5dD0oYSxlKT0+e3ZhciB0PXt9O2Zvcih2YXIgciBpbiBhKWRyLmNhbGwoYSxyKSYmZS5pbmRleE9mKHIpPDAmJih0W3JdPWFbcl0pO2lmKGEhPW51bGwmJlVlKWZvcih2YXIgciBvZiBVZShhKSllLmluZGV4T2Yocik8MCYmbHIuY2FsbChhLHIpJiYodFtyXT1hW3JdKTtyZXR1cm4gdH07dmFyIGFpPShhLGUpPT4oKT0+KGV8fGEoKGU9e2V4cG9ydHM6e319KS5leHBvcnRzLGUpLGUuZXhwb3J0cyk7dmFyIGM9KGEsZSx0KT0+bmV3IFByb21pc2UoKHIsaSk9Pnt2YXIgcz1sPT57dHJ5e2QodC5uZXh0KGwpKX1jYXRjaChoKXtpKGgpfX0sbj1sPT57dHJ5e2QodC50aHJvdyhsKSl9Y2F0Y2goaCl7aShoKX19LGQ9bD0+bC5kb25lP3IobC52YWx1ZSk6UHJvbWlzZS5yZXNvbHZlKGwudmFsdWUpLnRoZW4ocyxuKTtkKCh0PXQuYXBwbHkoYSxlKSkubmV4dCgpKX0pO3ZhciBUcj1haSgoZ3MsaGkpPT57aGkuZXhwb3J0cz17bmFtZTpcIkAxMDBtc2xpdmUvaG1zLXZpZGVvXCIsdmVyc2lvbjpcIjAuNy4xXCIsbGljZW5zZTpcIk1JVFwiLG1haW46XCJkaXN0L2luZGV4LmNqcy5qc1wiLHR5cGluZ3M6XCJkaXN0L2luZGV4LmQudHNcIixtb2R1bGU6XCJkaXN0L2luZGV4LmpzXCIsZmlsZXM6W1wiZGlzdFwiLFwic3JjXCJdLGVuZ2luZXM6e25vZGU6XCI+PTEwXCJ9LGV4cG9ydHM6e1wiLlwiOntyZXF1aXJlOlwiLi9kaXN0L2luZGV4LmNqcy5qc1wiLGltcG9ydDpcIi4vZGlzdC9pbmRleC5qc1wiLGRlZmF1bHQ6XCIuL2Rpc3QvaW5kZXguanNcIn19LHNjcmlwdHM6e3ByZXN0YXJ0Olwicm0gLXJmIGRpc3QgJiYgeWFybiB0eXBlczpidWlsZFwiLHN0YXJ0Oidjb25jdXJyZW50bHkgXCJ5YXJuIGRldlwiIFwieWFybiB0eXBlc1wiJyxkZXY6XCJub2RlIC4uLy4uL3NjcmlwdHMvZGV2XCIsXCJidWlsZDpvbmx5XCI6XCJub2RlIC4uLy4uL3NjcmlwdHMvYnVpbGRcIixidWlsZDpcInlhcm4gYnVpbGQ6b25seSAmJiB5YXJuIHR5cGVzOmJ1aWxkXCIsdHlwZXM6XCJ0c2MgLXdcIixcInR5cGVzOmJ1aWxkXCI6XCJ0c2MgLXAgdHNjb25maWcuanNvblwiLHRlc3Q6XCJqZXN0IC0tbWF4V29ya2Vycz0xXCIsbGludDpcImVzbGludCAtYyAuLi8uLi8uZXNsaW50cmMgLlwiLFwibGludDpmaXhcIjpcInlhcm4gbGludCAtLWZpeFwiLHByZXBhcmU6XCJ5YXJuIGJ1aWxkXCIsc2l6ZTpcInNpemUtbGltaXRcIixhbmFseXplOlwic2l6ZS1saW1pdCAtLXdoeVwiLGZvcm1hdDpcInByZXR0aWVyIC0td3JpdGUgc3JjLyoqLyoudHNcIn0sYXV0aG9yOlwiMTAwbXMgPHRlY2gtY29tbW9uQDEwMG1zLmxpdmU+XCIsZGV2RGVwZW5kZW5jaWVzOntcIkB0eXBlcy9zZHAtdHJhbnNmb3JtXCI6XCJeMi40LjRcIixcIkB0eXBlcy91YS1wYXJzZXItanNcIjpcIl4wLjcuMzZcIixcIkB0eXBlcy91dWlkXCI6XCJeOC4zLjBcIixcImplc3QtY2FudmFzLW1vY2tcIjpcIl4yLjMuMVwiLHRzbGliOlwiXjIuMi4wXCJ9LGRlcGVuZGVuY2llczp7ZXZlbnRlbWl0dGVyMjpcIl42LjQuN1wiLFwic2RwLXRyYW5zZm9ybVwiOlwiXjIuMTQuMVwiLFwidWEtcGFyc2VyLWpzXCI6XCJeMS4wLjFcIix1dWlkOlwiXjguMy4yXCIsXCJ3ZWJydGMtYWRhcHRlclwiOlwiXjguMC4wXCJ9LGdpdEhlYWQ6XCI4Zjg5Y2ZkMmEyODk4ODQ4YmU1MzY4ZGE2MjExNTE5ZjZjMmMxY2VmXCJ9fSk7aW1wb3J0IHRpIGZyb21cIndlYnJ0Yy1hZGFwdGVyXCI7aW1wb3J0e1VBUGFyc2VyIGFzIG5pfWZyb21cInVhLXBhcnNlci1qc1wiO2ltcG9ydHt2NCBhcyBvaX1mcm9tXCJ1dWlkXCI7dmFyIHRlPWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMua2V5PWU7dGhpcy5zdG9yYWdlPW51bGx9Z2V0U3RvcmFnZSgpe3JldHVybiBYJiYhdGhpcy5zdG9yYWdlJiYoaHIoKSx0aGlzLnN0b3JhZ2U9d2luZG93LmxvY2FsU3RvcmFnZSksdGhpcy5zdG9yYWdlfWdldCgpe3ZhciByO2xldCBlPShyPXRoaXMuZ2V0U3RvcmFnZSgpKT09bnVsbD92b2lkIDA6ci5nZXRJdGVtKHRoaXMua2V5KTtyZXR1cm4gZT9KU09OLnBhcnNlKGUpOnZvaWQgMH1zZXQoZSl7dmFyIHI7bGV0IHQ9SlNPTi5zdHJpbmdpZnkoZSk7KHI9dGhpcy5nZXRTdG9yYWdlKCkpPT1udWxsfHxyLnNldEl0ZW0odGhpcy5rZXksdCl9Y2xlYXIoKXt2YXIgZTsoZT10aGlzLmdldFN0b3JhZ2UoKSk9PW51bGx8fGUucmVtb3ZlSXRlbSh0aGlzLmtleSl9fTt2YXIgdWU9bmV3IG5pLFNyLGhlPXR5cGVvZiB3aW5kb3c9PVwidW5kZWZpbmVkXCImJiEoKFNyPXVlLmdldEJyb3dzZXIoKS5uYW1lKT09bnVsbD92b2lkIDA6U3IudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImVsZWN0cm9uXCIpKSxYPXR5cGVvZiB3aW5kb3chPVwidW5kZWZpbmVkXCIsVjsoZnVuY3Rpb24ocil7ci5QUk9EPVwicHJvZFwiLHIuUUE9XCJxYVwiLHIuREVWPVwiZGV2XCJ9KShWfHwoVj17fSkpO3ZhciBjaT0oKT0+IWhlLFdpPWNpKCkscHI9KCk9PnVlLmdldERldmljZSgpLnR5cGU9PT1cIm1vYmlsZVwiLG1yPSgpPT57bGV0IGEsZT1uZXcgdGUoXCJobXMtYW5hbHl0aWNzLWRldmljZUlkXCIpLHQ9ZS5nZXQoKTtyZXR1cm4gdD9hPXQ6KGE9b2koKSxlLnNldChhKSksYX0sZ3I9KCk9PnR5cGVvZiBkb2N1bWVudCE9XCJ1bmRlZmluZWRcIiYmZG9jdW1lbnQuaGlkZGVuLE10PSgpPT57dmFyIGE7cmV0dXJuKChhPXVlLmdldE9TKCkubmFtZSk9PW51bGw/dm9pZCAwOmEudG9Mb3dlckNhc2UoKSk9PT1cImlvc1wifTt2YXIgdnI9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnZhbHVlc01hcD1uZXcgTWFwfWdldEl0ZW0oZSl7cmV0dXJuIHRoaXMudmFsdWVzTWFwLmhhcyhlKT9TdHJpbmcodGhpcy52YWx1ZXNNYXAuZ2V0KGUpKTpudWxsfXNldEl0ZW0oZSx0KXt0aGlzLnZhbHVlc01hcC5zZXQoZSx0KX1yZW1vdmVJdGVtKGUpe3RoaXMudmFsdWVzTWFwLmRlbGV0ZShlKX1jbGVhcigpe3RoaXMudmFsdWVzTWFwLmNsZWFyKCl9a2V5KGUpe2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAna2V5JyBvbiAnU3RvcmFnZSc6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cIik7cmV0dXJuIEFycmF5LmZyb20odGhpcy52YWx1ZXNNYXAua2V5cygpKVtlXX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMudmFsdWVzTWFwLnNpemV9fSxocj0oKT0+e1gmJiFsb2NhbFN0b3JhZ2UmJih3aW5kb3cubG9jYWxTdG9yYWdlPW5ldyB2cil9O3ZhciBGOyhmdW5jdGlvbihsKXtsW2wuVkVSQk9TRT0wXT1cIlZFUkJPU0VcIixsW2wuREVCVUc9MV09XCJERUJVR1wiLGxbbC5JTkZPPTJdPVwiSU5GT1wiLGxbbC5XQVJOPTNdPVwiV0FSTlwiLGxbbC5USU1FPTRdPVwiVElNRVwiLGxbbC5USU1FRU5EPTVdPVwiVElNRUVORFwiLGxbbC5FUlJPUj02XT1cIkVSUk9SXCIsbFtsLk5PTkU9N109XCJOT05FXCJ9KShGfHwoRj17fSkpO3ZhciBkaT10eXBlb2Ygd2luZG93IT1cInVuZGVmaW5lZFwiJiZ0eXBlb2Ygd2luZG93LmV4cGVjdCE9XCJ1bmRlZmluZWRcIixvPWNsYXNze3N0YXRpYyB2KGUsLi4udCl7dGhpcy5sb2coMCxlLC4uLnQpfXN0YXRpYyBkKGUsLi4udCl7dGhpcy5sb2coMSxlLC4uLnQpfXN0YXRpYyBpKGUsLi4udCl7dGhpcy5sb2coMixlLC4uLnQpfXN0YXRpYyB3KGUsLi4udCl7dGhpcy5sb2coMyxlLC4uLnQpfXN0YXRpYyBlKGUsLi4udCl7dGhpcy5sb2coNixlLC4uLnQpfXN0YXRpYyB0aW1lKGUpe3RoaXMubG9nKDQsXCJbSE1TUGVyZm9ybWFuY2VUaW1pbmddXCIsZSl9c3RhdGljIHRpbWVFbmQoZSl7dGhpcy5sb2coNSxcIltITVNQZXJmb3JtYW5jZVRpbWluZ11cIixlLGUpfXN0YXRpYyBjbGVhblVwKCl7cGVyZm9ybWFuY2UuY2xlYXJNYXJrcygpLHBlcmZvcm1hbmNlLmNsZWFyTWVhc3VyZXMoKX1zdGF0aWMgbG9nKGUsdCwuLi5yKXtpZighKHRoaXMubGV2ZWwudmFsdWVPZigpPmUudmFsdWVPZigpKSlzd2l0Y2goZSl7Y2FzZSAwOntjb25zb2xlLmxvZyh0LC4uLnIpO2JyZWFrfWNhc2UgMTp7Y29uc29sZS5kZWJ1Zyh0LC4uLnIpO2JyZWFrfWNhc2UgMjp7Y29uc29sZS5pbmZvKHQsLi4ucik7YnJlYWt9Y2FzZSAzOntjb25zb2xlLndhcm4odCwuLi5yKTticmVha31jYXNlIDY6e2NvbnNvbGUuZXJyb3IodCwuLi5yKTticmVha31jYXNlIDQ6e3BlcmZvcm1hbmNlLm1hcmsoclswXSk7YnJlYWt9Y2FzZSA1OntsZXQgaT1yWzBdO3RyeXtsZXQgcz1wZXJmb3JtYW5jZS5tZWFzdXJlKGksaSk7dGhpcy5sb2coMSx0LGkscz09bnVsbD92b2lkIDA6cy5kdXJhdGlvbikscGVyZm9ybWFuY2UuY2xlYXJNYXJrcyhpKSxwZXJmb3JtYW5jZS5jbGVhck1lYXN1cmVzKGkpfWNhdGNoKHMpe3RoaXMubG9nKDEsdCxpLHMpfWJyZWFrfX19fTtvLmxldmVsPWRpPzc6MDt2YXIgZmU9Y2xhc3N7Y29uc3RydWN0b3Ioe3NlbmRlcjplLG1lc3NhZ2U6dCx0eXBlOnI9XCJjaGF0XCIscmVjaXBpZW50UGVlcjppLHJlY2lwaWVudFJvbGVzOnMsdGltZTpufSl7dGhpcy5zZW5kZXI9ZSx0aGlzLm1lc3NhZ2U9dCx0aGlzLnR5cGU9cix0aGlzLnJlY2lwaWVudFBlZXI9aSx0aGlzLnJlY2lwaWVudFJvbGVzPXMsdGhpcy50aW1lPW59dG9TaWduYWxQYXJhbXMoKXt2YXIgaSxzO2xldCBlPShpPXRoaXMucmVjaXBpZW50Um9sZXMpPT1udWxsP3ZvaWQgMDppLm1hcChuPT5uLm5hbWUpLHQ9KHM9dGhpcy5yZWNpcGllbnRQZWVyKT09bnVsbD92b2lkIDA6cy5wZWVySWQscj17aW5mbzp7bWVzc2FnZTp0aGlzLm1lc3NhZ2UsdHlwZTp0aGlzLnR5cGV9fTtyZXR1cm4oZT09bnVsbD92b2lkIDA6ZS5sZW5ndGgpJiYoci5yb2xlcz1lKSx0JiYoci5wZWVyX2lkPXQpLHJ9dG9TdHJpbmcoKXt2YXIgZTtyZXR1cm5ge1xuICAgICAgc2VuZGVyOiAke3RoaXMuc2VuZGVyfTtcbiAgICAgIHJlY2lwaWVudFBlZXI6ICR7dGhpcy5yZWNpcGllbnRQZWVyfTtcbiAgICAgIHJlY2lwaWVudFJvbGVzOiAkeyhlPXRoaXMucmVjaXBpZW50Um9sZXMpPT1udWxsP3ZvaWQgMDplLm1hcCh0PT50Lm5hbWUpfTtcbiAgICAgIG1lc3NhZ2U6ICR7dGhpcy5tZXNzYWdlfTtcbiAgICAgIHRpbWU6ICR7dGhpcy50aW1lfTtcbiAgICAgIHR5cGU6ICR7dGhpcy50eXBlfTtcbiAgICB9YH19O3ZhciBHZT1jbGFzc3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMuaWQ9ZTt0aGlzLnN0b3JlPXQ7dGhpcy5yZWNvcmRpbmc9e3NlcnZlcjp7cnVubmluZzohMX0sYnJvd3Nlcjp7cnVubmluZzohMX0saGxzOntydW5uaW5nOiExfX07dGhpcy5ydG1wPXtydW5uaW5nOiExfTt0aGlzLmhscz17cnVubmluZzohMSx2YXJpYW50czpbXX19Z2V0IGxvY2FsUGVlcigpe3JldHVybiB0aGlzLnN0b3JlLmdldExvY2FsUGVlcigpfWdldCBwZWVycygpe3JldHVybiB0aGlzLnN0b3JlLmdldFBlZXJzKCl9fTt2YXIgYWU9Y2xhc3N7Y29uc3RydWN0b3Ioe3BlZXJJZDplLG5hbWU6dCxpc0xvY2FsOnIsY3VzdG9tZXJVc2VySWQ6aSxtZXRhZGF0YTpzLHJvbGU6bixqb2luZWRBdDpkfSl7dGhpcy5jdXN0b21lclVzZXJJZD1cIlwiO3RoaXMubWV0YWRhdGE9XCJcIjt0aGlzLmF1eGlsaWFyeVRyYWNrcz1bXTt0aGlzLm5hbWU9dCx0aGlzLnBlZXJJZD1lLHRoaXMuaXNMb2NhbD1yLHRoaXMuY3VzdG9tZXJVc2VySWQ9aSx0aGlzLm1ldGFkYXRhPXMsdGhpcy5qb2luZWRBdD1kLG4mJih0aGlzLnJvbGU9bil9dXBkYXRlUm9sZShlKXt0aGlzLnJvbGU9ZX11cGRhdGVOYW1lKGUpe3RoaXMubmFtZT1lfXVwZGF0ZU1ldGFkYXRhKGUpe3RoaXMubWV0YWRhdGE9ZX10b1N0cmluZygpe3ZhciBlO3JldHVybmB7XG4gICAgICBuYW1lOiAke3RoaXMubmFtZX07XG4gICAgICByb2xlOiAkeyhlPXRoaXMucm9sZSk9PW51bGw/dm9pZCAwOmUubmFtZX07XG4gICAgICBwZWVySWQ6ICR7dGhpcy5wZWVySWR9O1xuICAgICAgY3VzdG9tZXJVc2VySWQ6ICR7dGhpcy5jdXN0b21lclVzZXJJZH07XG4gICAgfWB9fTtpbXBvcnR7djQgYXMgbGl9ZnJvbVwidXVpZFwiO3ZhciBIZT1jbGFzc3t9O0hlLm1ha2VQZWVySWQ9KCk9PmxpKCk7dmFyIFZlPWNsYXNzIGV4dGVuZHMgYWV7Y29uc3RydWN0b3IoZSl7c3VwZXIoXyh2KHt9LGUpLHtwZWVySWQ6SGUubWFrZVBlZXJJZCgpLGlzTG9jYWw6ITB9KSk7dGhpcy5pc0xvY2FsPSEwO3RoaXMuYXV4aWxpYXJ5VHJhY2tzPVtdfX07dmFyICRlPWNsYXNzIGV4dGVuZHMgYWV7Y29uc3RydWN0b3IoZSl7c3VwZXIoXyh2KHt9LGUpLHtpc0xvY2FsOiExfSkpO3RoaXMuaXNMb2NhbD0hMTt0aGlzLmF1eGlsaWFyeVRyYWNrcz1bXTt0aGlzLmZyb21Sb29tU3RhdGU9ITE7dGhpcy5mcm9tUm9vbVN0YXRlPSEhZS5mcm9tUm9vbVN0YXRlfX07aW1wb3J0e3Y0IGFzIE1pfWZyb21cInV1aWRcIjtpbXBvcnR7djQgYXMgcGl9ZnJvbVwidXVpZFwiO3ZhciByZTsoZnVuY3Rpb24ocil7ci5DVVNUT009XCJDVVNUT01cIixyLkxPQ0FMPVwiTE9DQUxcIixyLkhNUz1cIkhNU1wifSkocmV8fChyZT17fSkpO2Z1bmN0aW9uIHVpKCl7aWYoWCYmd2luZG93KXtsZXQgYT13aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7cmV0dXJuIGE9PT1cImxvY2FsaG9zdFwifHxhPT09XCIxMjcuMC4wLjFcIj9yZS5MT0NBTDphLmluY2x1ZGVzKFwiYXBwLjEwMG1zLmxpdmVcIik/cmUuSE1TOnJlLkNVU1RPTX1yZXR1cm4gcmUuQ1VTVE9NfXZhciBFZT11aSgpO3ZhciBmcj1UcigpLnZlcnNpb247ZnVuY3Rpb24gX2UoYT1WLlBST0QsZSl7bGV0IHQ9XCJ3ZWJcIixyPUVlIT09cmUuTE9DQUwmJmE9PT1WLlBST0Q/XCJwcm9kXCI6XCJkZWJ1Z1wiO2lmKGhlKXJldHVybiBFcih7b3M6XCJ3ZWJfbm9kZWpzXCIsb3NfdmVyc2lvbjpwcm9jZXNzLnZlcnNpb24sc2RrOnQsc2RrX3ZlcnNpb246ZnIsZW52OnIsZG9tYWluOkVlLGZyYW1ld29yazpcIm5vZGVcIixmcmFtZXdvcmtfdmVyc2lvbjpwcm9jZXNzLnZlcnNpb24sZnJhbWV3b3JrX3Nka192ZXJzaW9uOmU9PW51bGw/dm9pZCAwOmUuc2RrVmVyc2lvbn0pO2xldCBpPXVlLmdldE9TKCkscz11ZS5nZXREZXZpY2UoKSxuPXVlLmdldEJyb3dzZXIoKSxkPUF0KGB3ZWJfJHtpLm5hbWV9YCksbD1pLnZlcnNpb258fFwiXCIsaD1BdChgJHtuLm5hbWV9XyR7bi52ZXJzaW9ufWApLHU9aDtyZXR1cm4gcy50eXBlJiYodT1gJHtBdChgJHtzLnZlbmRvcn1fJHtzLnR5cGV9YCl9LyR7aH1gKSxFcih7b3M6ZCxvc192ZXJzaW9uOmwsc2RrOnQsc2RrX3ZlcnNpb246ZnIsZGV2aWNlX21vZGVsOnUsZW52OnIsZG9tYWluOkVlLGZyYW1ld29yazplPT1udWxsP3ZvaWQgMDplLnR5cGUsZnJhbWV3b3JrX3ZlcnNpb246ZT09bnVsbD92b2lkIDA6ZS52ZXJzaW9uLGZyYW1ld29ya19zZGtfdmVyc2lvbjplPT1udWxsP3ZvaWQgMDplLnNka1ZlcnNpb259KX1mdW5jdGlvbiBBdChhKXtyZXR1cm4gYS5yZXBsYWNlKC8gL2csXCJfXCIpfXZhciBFcj0oYSxlPVwiLFwiKT0+T2JqZWN0LmtleXMoYSkuZmlsdGVyKHQ9PiEhYVt0XSkubWFwKHQ9PmAke3R9OiR7YVt0XX1gKS5qb2luKGUpO3ZhciBPPWNsYXNze2NvbnN0cnVjdG9yKHtuYW1lOmUsbGV2ZWw6dCxwcm9wZXJ0aWVzOnIsaW5jbHVkZXNQSUk6aSx0aW1lc3RhbXA6c30pe3RoaXMubWV0YWRhdGE9e3BlZXI6e30sdXNlckFnZW50Ol9lKCl9O3RoaXMubmFtZT1lLHRoaXMubGV2ZWw9dCx0aGlzLmluY2x1ZGVzUElJPWl8fCExLHRoaXMucHJvcGVydGllcz1yfHx7fSx0aGlzLnRpbWVzdGFtcD1zfHxuZXcgRGF0ZSgpLmdldFRpbWUoKSx0aGlzLmV2ZW50X2lkPXBpKCksdGhpcy5kZXZpY2VfaWQ9bXIoKX10b1NpZ25hbFBhcmFtcygpe3JldHVybntuYW1lOnRoaXMubmFtZSxpbmZvOl8odih7fSx0aGlzLnByb3BlcnRpZXMpLHt0aW1lc3RhbXA6dGhpcy50aW1lc3RhbXAsZG9tYWluOkVlfSksdGltZXN0YW1wOm5ldyBEYXRlKCkuZ2V0VGltZSgpfX19O3ZhciBXZTsoZnVuY3Rpb24oaSl7aVtpLlZFUkJPU0U9MF09XCJWRVJCT1NFXCIsaVtpLklORk89MV09XCJJTkZPXCIsaVtpLkVSUk9SPTJdPVwiRVJST1JcIixpW2kuT0ZGPTNdPVwiT0ZGXCJ9KShXZXx8KFdlPXt9KSk7dmFyIEQ7KGZ1bmN0aW9uKGkpe2lbaS5WRVJCT1NFPTBdPVwiVkVSQk9TRVwiLGlbaS5JTkZPPTFdPVwiSU5GT1wiLGlbaS5FUlJPUj0yXT1cIkVSUk9SXCIsaVtpLk9GRj0zXT1cIk9GRlwifSkoRHx8KEQ9e30pKTt2YXIgVD1jbGFzcyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsdCxyLGkscyxuPSExKXtzdXBlcihpKTt0aGlzLmNvZGU9ZTt0aGlzLm5hbWU9dDt0aGlzLm1lc3NhZ2U9aTt0aGlzLmRlc2NyaXB0aW9uPXM7dGhpcy5pc1Rlcm1pbmFsPW47T2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsVC5wcm90b3R5cGUpLHRoaXMuYWN0aW9uPXIudG9TdHJpbmcoKX10b0FuYWx5dGljc1Byb3BlcnRpZXMoKXtyZXR1cm57ZXJyb3JfbmFtZTp0aGlzLm5hbWUsZXJyb3JfY29kZTp0aGlzLmNvZGUsZXJyb3JfbWVzc2FnZTp0aGlzLm1lc3NhZ2UsZXJyb3JfZGVzY3JpcHRpb246dGhpcy5kZXNjcmlwdGlvbixhY3Rpb246dGhpcy5hY3Rpb24saXNfdGVybWluYWw6dGhpcy5pc1Rlcm1pbmFsfX1hZGROYXRpdmVFcnJvcihlKXt0aGlzLm5hdGl2ZUVycm9yPWV9dG9TdHJpbmcoKXt2YXIgZTtyZXR1cm5ge1xuICAgICAgY29kZTogJHt0aGlzLmNvZGV9O1xuICAgICAgbmFtZTogJHt0aGlzLm5hbWV9O1xuICAgICAgYWN0aW9uOiAke3RoaXMuYWN0aW9ufTtcbiAgICAgIG1lc3NhZ2U6ICR7dGhpcy5tZXNzYWdlfTtcbiAgICAgIGRlc2NyaXB0aW9uOiAke3RoaXMuZGVzY3JpcHRpb259O1xuICAgICAgaXNUZXJtaW5hbDogJHt0aGlzLmlzVGVybWluYWx9O1xuICAgICAgbmF0aXZlRXJyb3I6ICR7KGU9dGhpcy5uYXRpdmVFcnJvcik9PW51bGw/dm9pZCAwOmUubWVzc2FnZX07XG4gICAgfWB9fTt2YXIgUj1jbGFzc3tzdGF0aWMgY29ubmVjdChlLHQscj1uZXcgRGF0ZSxpPW5ldyBEYXRlLHMpe2xldCBuPXRoaXMuZXZlbnROYW1lRm9yKFwiY29ubmVjdFwiLGU9PT12b2lkIDApLGQ9ZT9ELkVSUk9SOkQuSU5GTyxsPXRoaXMuZ2V0UHJvcGVydGllc1dpdGhFcnJvcihfKHYoe30sdCkse1t0aGlzLktFWV9SRVFVRVNURURfQVRdOnI9PW51bGw/dm9pZCAwOnIuZ2V0VGltZSgpLFt0aGlzLktFWV9SRVNQT05ERURfQVRdOmk9PW51bGw/dm9pZCAwOmkuZ2V0VGltZSgpLGVuZHBvaW50OnN9KSxlKTtyZXR1cm4gbmV3IE8oe25hbWU6bixsZXZlbDpkLHByb3BlcnRpZXM6bH0pfXN0YXRpYyBkaXNjb25uZWN0KGUsdCl7bGV0IHI9XCJkaXNjb25uZWN0ZWRcIixpPWU/RC5FUlJPUjpELklORk8scz10aGlzLmdldFByb3BlcnRpZXNXaXRoRXJyb3IodCxlKTtyZXR1cm4gbmV3IE8oe25hbWU6cixsZXZlbDppLHByb3BlcnRpZXM6c30pfXN0YXRpYyBwcmV2aWV3KHIpe3ZhciBpPXIse2Vycm9yOmV9PWksdD15dChpLFtcImVycm9yXCJdKTtsZXQgcz10aGlzLmV2ZW50TmFtZUZvcihcInByZXZpZXdcIixlPT09dm9pZCAwKSxuPWU/RC5FUlJPUjpELklORk8sZD10aGlzLmdldFByb3BlcnRpZXNXaXRoRXJyb3IodCxlKTtyZXR1cm4gbmV3IE8oe25hbWU6cyxsZXZlbDpuLHByb3BlcnRpZXM6ZH0pfXN0YXRpYyBqb2luKHIpe3ZhciBpPXIse2Vycm9yOmV9PWksdD15dChpLFtcImVycm9yXCJdKTtsZXQgcz10aGlzLmV2ZW50TmFtZUZvcihcImpvaW5cIixlPT09dm9pZCAwKSxuPWU/RC5FUlJPUjpELklORk8sZD10aGlzLmdldFByb3BlcnRpZXNXaXRoRXJyb3IoXyh2KHt9LHQpLHtpc19wcmV2aWV3X2NhbGxlZDohIXQuaXNfcHJldmlld19jYWxsZWR9KSxlKTtyZXR1cm4gbmV3IE8oe25hbWU6cyxsZXZlbDpuLHByb3BlcnRpZXM6ZH0pfXN0YXRpYyBwdWJsaXNoKHtkZXZpY2VzOmUsc2V0dGluZ3M6dCxlcnJvcjpyfSl7bGV0IGk9dGhpcy5ldmVudE5hbWVGb3IoXCJwdWJsaXNoXCIscj09PXZvaWQgMCkscz1yP0QuRVJST1I6RC5JTkZPLG49dGhpcy5nZXRQcm9wZXJ0aWVzV2l0aEVycm9yKHtkZXZpY2VzOmUsYXVkaW86dD09bnVsbD92b2lkIDA6dC5hdWRpbyx2aWRlbzp0PT1udWxsP3ZvaWQgMDp0LnZpZGVvfSxyKTtyZXR1cm4gbmV3IE8oe25hbWU6aSxsZXZlbDpzLHByb3BlcnRpZXM6bn0pfXN0YXRpYyBzdWJzY3JpYmVGYWlsKGUpe2xldCB0PXRoaXMuZXZlbnROYW1lRm9yKFwic3Vic2NyaWJlXCIsITEpLHI9RC5FUlJPUixpPXRoaXMuZ2V0RXJyb3JQcm9wZXJ0aWVzKGUpO3JldHVybiBuZXcgTyh7bmFtZTp0LGxldmVsOnIscHJvcGVydGllczppfSl9c3RhdGljIGxlYXZlKCl7cmV0dXJuIG5ldyBPKHtuYW1lOlwibGVhdmVcIixsZXZlbDpELklORk99KX1zdGF0aWMgYXV0b3BsYXlFcnJvcigpe3JldHVybiBuZXcgTyh7bmFtZTpcImF1dG9wbGF5RXJyb3JcIixsZXZlbDpELkVSUk9SfSl9c3RhdGljIGRldmljZUNoYW5nZSh7c2VsZWN0aW9uOmUsdHlwZTp0LGRldmljZXM6cixlcnJvcjppfSl7bGV0IHM9dGhpcy5ldmVudE5hbWVGb3IoaT9cInB1Ymxpc2hcIjpgZGV2aWNlLiR7dH1gLGk9PT12b2lkIDApLG49aT9ELkVSUk9SOkQuSU5GTyxkPXRoaXMuZ2V0UHJvcGVydGllc1dpdGhFcnJvcih7c2VsZWN0aW9uOmUsZGV2aWNlczpyfSxpKTtyZXR1cm4gbmV3IE8oe25hbWU6cyxsZXZlbDpuLHByb3BlcnRpZXM6ZH0pfXN0YXRpYyBwZXJmb3JtYW5jZShlKXtsZXQgdD1cInBlcmYuc3RhdHNcIixyPUQuSU5GTyxpPWUudG9BbmFseXRpY3NQcm9wZXJ0aWVzKCk7cmV0dXJuIG5ldyBPKHtuYW1lOnQsbGV2ZWw6cixwcm9wZXJ0aWVzOml9KX1zdGF0aWMgcnRjU3RhdHMoZSl7bGV0IHQ9XCJydGMuc3RhdHNcIixyPUQuSU5GTyxpPWUudG9BbmFseXRpY3NQcm9wZXJ0aWVzKCk7cmV0dXJuIG5ldyBPKHtuYW1lOnQsbGV2ZWw6cixwcm9wZXJ0aWVzOml9KX1zdGF0aWMgZGVncmFkYXRpb25TdGF0cyhlLHQpe2xldCByPVwidmlkZW8uZGVncmFkYXRpb24uc3RhdHNcIixpPUQuSU5GTyxzPXtkZWdyYWRlZEF0OmUuZGVncmFkZWRBdCx0cmFja0lkOmUudHJhY2tJZH07aWYoIXQmJmUuZGVncmFkZWRBdCBpbnN0YW5jZW9mIERhdGUpe2xldCBuPW5ldyBEYXRlLGQ9bi52YWx1ZU9mKCktZS5kZWdyYWRlZEF0LnZhbHVlT2YoKTtzPV8odih7fSxzKSx7ZHVyYXRpb246ZCxyZXN0b3JlZEF0Om59KX1yZXR1cm4gbmV3IE8oe25hbWU6cixsZXZlbDppLHByb3BlcnRpZXM6c30pfXN0YXRpYyBhdWRpb0RldGVjdGlvbkZhaWwoZSx0KXtsZXQgcj10aGlzLmdldFByb3BlcnRpZXNXaXRoRXJyb3Ioe2RldmljZTp0fSxlKSxpPUQuRVJST1Iscz1cImF1ZGlvcHJlc2VuY2UuZmFpbGVkXCI7cmV0dXJuIG5ldyBPKHtuYW1lOnMsbGV2ZWw6aSxwcm9wZXJ0aWVzOnJ9KX1zdGF0aWMgcHJldmlld05ldHdvcmtRdWFsaXR5KGUpe3JldHVybiBuZXcgTyh7bmFtZTpcInBlcmYubmV0d29ya3F1YWxpdHkucHJldmlld1wiLGxldmVsOmUuZXJyb3I/RC5FUlJPUjpELklORk8scHJvcGVydGllczplfSl9c3RhdGljIGV2ZW50TmFtZUZvcihlLHQpe3JldHVybmAke2V9LiR7dD9cInN1Y2Nlc3NcIjpcImZhaWxlZFwifWB9c3RhdGljIGdldFByb3BlcnRpZXNXaXRoRXJyb3IoZSx0KXtsZXQgcj10aGlzLmdldEVycm9yUHJvcGVydGllcyh0KTtyZXR1cm4gZT12KHYoe30sciksZSksZX1zdGF0aWMgZ2V0RXJyb3JQcm9wZXJ0aWVzKGUpe3JldHVybiBlP2UgaW5zdGFuY2VvZiBUP2UudG9BbmFseXRpY3NQcm9wZXJ0aWVzKCk6e2Vycm9yX25hbWU6ZS5uYW1lLGVycm9yX21lc3NhZ2U6ZS5tZXNzYWdlLGVycm9yX2Rlc2NyaXB0aW9uOmUuY2F1c2V9Ont9fX07Ui5LRVlfUkVRVUVTVEVEX0FUPVwicmVxdWVzdGVkX2F0XCIsUi5LRVlfUkVTUE9OREVEX0FUPVwicmVzcG9uZGVkX2F0XCI7dmFyIE07KGZ1bmN0aW9uKHUpe3UuSU5JVD1cImluaXRfcmVzcG9uc2VfdGltZVwiLHUuV0VCU09DS0VUX0NPTk5FQ1Q9XCJ3c19jb25uZWN0X3RpbWVcIix1Lk9OX1BPTElDWV9DSEFOR0U9XCJvbl9wb2xpY3lfY2hhbmdlX3RpbWVcIix1LkxPQ0FMX0FVRElPX1RSQUNLPVwibG9jYWxfYXVkaW9fdHJhY2tfdGltZVwiLHUuTE9DQUxfVklERU9fVFJBQ0s9XCJsb2NhbF92aWRlb190cmFja190aW1lXCIsdS5KT0lOPVwiam9pbl90aW1lXCIsdS5QUkVWSUVXPVwicHJldmlld190aW1lXCIsdS5QRUVSX0xJU1Q9XCJwZWVyX2xpc3RfdGltZVwiLHUuUk9PTV9TVEFURT1cInJvb21fc3RhdGVfdGltZVwiLHUuSk9JTl9SRVNQT05TRT1cImpvaW5fcmVzcG9uc2VfdGltZVwifSkoTXx8KE09e30pKTt2YXIgbWk9W00uSU5JVCxNLldFQlNPQ0tFVF9DT05ORUNULE0uT05fUE9MSUNZX0NIQU5HRSxNLkxPQ0FMX0FVRElPX1RSQUNLLE0uTE9DQUxfVklERU9fVFJBQ0ssTS5QRUVSX0xJU1QsTS5ST09NX1NUQVRFXSxQdD1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuZXZlbnRQZXJmb3JtYW5jZU1lYXN1cmVzPXt9fXN0YXJ0KGUpe3BlcmZvcm1hbmNlLm1hcmsoZSl9ZW5kKGUpe3ZhciB0O3RyeXt0aGlzLmV2ZW50UGVyZm9ybWFuY2VNZWFzdXJlc1tlXT1wZXJmb3JtYW5jZS5tZWFzdXJlKGUsZSksby5kKFwiW0hNU1BlcmZvcm1hbmNlVGltaW5nXVwiLGUsKHQ9dGhpcy5ldmVudFBlcmZvcm1hbmNlTWVhc3VyZXNbZV0pPT1udWxsP3ZvaWQgMDp0LmR1cmF0aW9uKX1jYXRjaChyKXtvLncoXCJbQW5hbHl0aWNzVGltZXJdXCIsYEVycm9yIGluIG1lYXN1cmluZyBwZXJmb3JtYW5jZSBmb3IgZXZlbnQgJHtlfWAse2Vycm9yOnJ9KX19Z2V0VGltZVRha2VuKGUpe3ZhciB0O3JldHVybih0PXRoaXMuZXZlbnRQZXJmb3JtYW5jZU1lYXN1cmVzW2VdKT09bnVsbD92b2lkIDA6dC5kdXJhdGlvbn1nZXRUaW1lcyguLi5lKXtyZXR1cm5bLi4ubWksLi4uZV0ucmVkdWNlKCh0LHIpPT5fKHYoe30sdCkse1tyXTp0aGlzLmdldFRpbWVUYWtlbihyKX0pLHt9KX1jbGVhblVwKCl7dGhpcy5ldmVudFBlcmZvcm1hbmNlTWVhc3VyZXM9e319fTt2YXIgZj17V2ViU29ja2V0Q29ubmVjdGlvbkVycm9yczp7RkFJTEVEX1RPX0NPTk5FQ1Q6MWUzLFdFQlNPQ0tFVF9DT05ORUNUSU9OX0xPU1Q6MTAwMyxBQk5PUk1BTF9DTE9TRToxMDA2fSxJbml0QVBJRXJyb3JzOntTRVJWRVJfRVJST1JTOjJlMyxJTklUX0NPTkZJR19OT1RfQVZBSUxBQkxFOjIwMDIsRU5EUE9JTlRfVU5SRUFDSEFCTEU6MjAwMyxJTlZBTElEX1RPS0VOX0ZPUk1BVDoyMDA0fSxUcmFja3NFcnJvcnM6e0dFTkVSSUNfVFJBQ0s6M2UzLENBTlRfQUNDRVNTX0NBUFRVUkVfREVWSUNFOjMwMDEsREVWSUNFX05PVF9BVkFJTEFCTEU6MzAwMixERVZJQ0VfSU5fVVNFOjMwMDMsREVWSUNFX0xPU1RfTUlEV0FZOjMwMDgsTk9USElOR19UT19SRVRVUk46MzAwNSxJTlZBTElEX1ZJREVPX1NFVFRJTkdTOjMwMDYsQ09ERUNfQ0hBTkdFX05PVF9QRVJNSVRURUQ6MzAwNyxBVVRPUExBWV9FUlJPUjozMDA4LE9WRVJfQ09OU1RSQUlORUQ6MzAwOSxOT19BVURJT19ERVRFQ1RFRDozMDEwLFNZU1RFTV9ERU5JRURfUEVSTUlTU0lPTjozMDExLENVUlJFTlRfVEFCX05PVF9TSEFSRUQ6MzAxMn0sV2VicnRjRXJyb3JzOntDUkVBVEVfT0ZGRVJfRkFJTEVEOjQwMDEsQ1JFQVRFX0FOU1dFUl9GQUlMRUQ6NDAwMixTRVRfTE9DQUxfREVTQ1JJUFRJT05fRkFJTEVEOjQwMDMsU0VUX1JFTU9URV9ERVNDUklQVElPTl9GQUlMRUQ6NDAwNCxJQ0VfRkFJTFVSRTo0MDA1fSxXZWJzb2NrZXRNZXRob2RFcnJvcnM6e1NFUlZFUl9FUlJPUlM6NWUzLEFMUkVBRFlfSk9JTkVEOjUwMDEsQ0FOTk9UX0pPSU5fUFJFVklFV19JTl9QUk9HUkVTUzo1MDAyfSxHZW5lcmljRXJyb3JzOntOT1RfQ09OTkVDVEVEOjZlMyxTSUdOQUxMSU5HOjYwMDEsVU5LTk9XTjo2MDAyLE5PVF9SRUFEWTo2MDAzLEpTT05fUEFSU0lOR19GQUlMRUQ6NjAwNCxUUkFDS19NRVRBREFUQV9NSVNTSU5HOjYwMDUsUlRDX1RSQUNLX01JU1NJTkc6NjAwNixQRUVSX01FVEFEQVRBX01JU1NJTkc6NjAwNyxJTlZBTElEX1JPTEU6NjAwOCxQUkVWSUVXX0lOX1BST0dSRVNTOjYwMDksTUlTU0lOR19NRURJQURFVklDRVM6NjAxMCxNSVNTSU5HX1JUQ1BFRVJDT05ORUNUSU9OOjYwMTF9LFBsYXlsaXN0RXJyb3JzOntOT19FTlRSWV9UT19QTEFZOjgwMDEsTk9fRU5UUllfSVNfUExBWUlORzo4MDAyfX07dmFyIHA7KGZ1bmN0aW9uKEkpe0kuTk9ORT1cIk5PTkVcIixJLlRSQUNLPVwiVFJBQ0tcIixJLklOSVQ9XCJJTklUXCIsSS5QVUJMSVNIPVwiUFVCTElTSFwiLEkuVU5QVUJMSVNIPVwiVU5QVUJMSVNIXCIsSS5KT0lOPVwiSk9JTlwiLEkuU1VCU0NSSUJFPVwiU1VCU0NSSUJFXCIsSS5EQVRBX0NIQU5ORUxfU0VORD1cIkRBVEFfQ0hBTk5FTF9TRU5EXCIsSS5SRVNUQVJUX0lDRT1cIlJFU1RBUlRfSUNFXCIsSS5WSURFT19QTFVHSU5TPVwiVklERU9fUExVR0lOU1wiLEkuQVVESU9fUExVR0lOUz1cIkFVRElPX1BMVUdJTlNcIixJLkFVVE9QTEFZPVwiQVVUT1BMQVlcIixJLlJFQ09OTkVDVF9TSUdOQUw9XCJSRUNPTk5FQ1RfU0lHTkFMXCIsSS5WQUxJREFUSU9OPVwiVkFMSURBVElPTlwiLEkuUExBWUxJU1Q9XCJQTEFZTElTVFwiLEkuUFJFVklFVz1cIlBSRVZJRVdcIn0pKHB8fChwPXt9KSk7dmFyIG09e1dlYlNvY2tldENvbm5lY3Rpb25FcnJvcnM6e0ZhaWxlZFRvQ29ubmVjdChhLGU9XCJcIil7cmV0dXJuIG5ldyBUKGYuV2ViU29ja2V0Q29ubmVjdGlvbkVycm9ycy5GQUlMRURfVE9fQ09OTkVDVCxcIldlYnNvY2tldEZhaWxlZFRvQ29ubmVjdFwiLGEsYFtXU106ICR7ZX1gLGBbV1NdOiAke2V9YCl9LFdlYlNvY2tldENvbm5lY3Rpb25Mb3N0KGEsZT1cIlwiKXtyZXR1cm4gbmV3IFQoZi5XZWJTb2NrZXRDb25uZWN0aW9uRXJyb3JzLldFQlNPQ0tFVF9DT05ORUNUSU9OX0xPU1QsXCJXZWJTb2NrZXRDb25uZWN0aW9uTG9zdFwiLGEsXCJOZXR3b3JrIGNvbm5lY3Rpb24gbG9zdCBcIixlKX0sQWJub3JtYWxDbG9zZShhLGU9XCJcIil7cmV0dXJuIG5ldyBUKGYuV2ViU29ja2V0Q29ubmVjdGlvbkVycm9ycy5BQk5PUk1BTF9DTE9TRSxcIldlYlNvY2tldEFibm9ybWFsQ2xvc2VcIixhLFwiV2Vic29ja2V0IGNsb3NlZCBhYm5vcm1hbGx5XCIsZSl9fSxJbml0QVBJRXJyb3JzOntTZXJ2ZXJFcnJvcnMoYSxlLHQ9XCJcIil7cmV0dXJuIG5ldyBUKGEsXCJTZXJ2ZXJFcnJvcnNcIixlLGBbSU5JVF06IFNlcnZlciBlcnJvciAke3R9YCx0LCEwKX0sRW5kcG9pbnRVbnJlYWNoYWJsZShhLGU9XCJcIil7cmV0dXJuIG5ldyBUKGYuSW5pdEFQSUVycm9ycy5FTkRQT0lOVF9VTlJFQUNIQUJMRSxcIkVuZHBvaW50VW5yZWFjaGFibGVcIixhLGBFbmRwb2ludCBpcyBub3QgcmVhY2hhYmxlIC0gJHtlfWAsZSl9LEludmFsaWRUb2tlbkZvcm1hdChhLGU9XCJcIil7cmV0dXJuIG5ldyBUKGYuSW5pdEFQSUVycm9ycy5JTlZBTElEX1RPS0VOX0ZPUk1BVCxcIkludmFsaWRUb2tlbkZvcm1hdFwiLGEsYFRva2VuIGlzIG5vdCBpbiBwcm9wZXIgSldUIGZvcm1hdCAtICR7ZX1gLGUsITApfSxJbml0Q29uZmlnTm90QXZhaWxhYmxlKGEsZT1cIlwiKXtyZXR1cm4gbmV3IFQoZi5Jbml0QVBJRXJyb3JzLklOSVRfQ09ORklHX05PVF9BVkFJTEFCTEUsXCJJbml0RXJyb3JcIixhLGBbSU5JVF06ICR7ZX1gLGBbSU5JVF06ICR7ZX1gKX19LFRyYWNrc0Vycm9yczp7R2VuZXJpY1RyYWNrKGEsZT1cIlwiKXtyZXR1cm4gbmV3IFQoZi5UcmFja3NFcnJvcnMuR0VORVJJQ19UUkFDSyxcIkdlbmVyaWNUcmFja1wiLGEsYFtUUkFDS106ICR7ZX1gLGBbVFJBQ0tdOiAke2V9YCl9LENhbnRBY2Nlc3NDYXB0dXJlRGV2aWNlKGEsZSx0PVwiXCIpe3JldHVybiBuZXcgVChmLlRyYWNrc0Vycm9ycy5DQU5UX0FDQ0VTU19DQVBUVVJFX0RFVklDRSxcIkNhbnRBY2Nlc3NDYXB0dXJlRGV2aWNlXCIsYSxgVXNlciBkZW5pZWQgcGVybWlzc2lvbiB0byBhY2Nlc3MgY2FwdHVyZSBkZXZpY2UgLSAke2V9YCx0KX0sRGV2aWNlTm90QXZhaWxhYmxlKGEsZSx0PVwiXCIpe3JldHVybiBuZXcgVChmLlRyYWNrc0Vycm9ycy5ERVZJQ0VfTk9UX0FWQUlMQUJMRSxcIkRldmljZU5vdEF2YWlsYWJsZVwiLGEsYFtUUkFDS106IENhcHR1cmUgZGV2aWNlIGlzIG5vIGxvbmdlciBhdmFpbGFibGUgLSAke2V9YCx0KX0sRGV2aWNlSW5Vc2UoYSxlLHQ9XCJcIil7cmV0dXJuIG5ldyBUKGYuVHJhY2tzRXJyb3JzLkRFVklDRV9JTl9VU0UsXCJEZXZpY2VJblVzZVwiLGEsYFtUUkFDS106IENhcHR1cmUgZGV2aWNlIGlzIGluIHVzZSBieSBhbm90aGVyIGFwcGxpY2F0aW9uIC0gJHtlfWAsdCl9LERldmljZUxvc3RNaWR3YXkoYSxlLHQ9XCJcIil7cmV0dXJuIG5ldyBUKGYuVHJhY2tzRXJyb3JzLkRFVklDRV9MT1NUX01JRFdBWSxcIkRldmljZUxvc3RNaWR3YXlcIixhLGBMb3N0IGFjY2VzcyB0byBjYXB0dXJlIGRldmljZSBtaWR3YXkgLSAke2V9YCx0KX0sTm90aGluZ1RvUmV0dXJuKGEsZT1cIlwiLHQ9XCJUaGVyZSBpcyBubyBtZWRpYSB0byByZXR1cm4uIFBsZWFzZSBzZWxlY3QgZWl0aGVyIHZpZGVvIG9yIGF1ZGlvIG9yIGJvdGguXCIpe3JldHVybiBuZXcgVChmLlRyYWNrc0Vycm9ycy5OT1RISU5HX1RPX1JFVFVSTixcIk5vdGhpbmdUb1JldHVyblwiLGEsdCxlKX0sSW52YWxpZFZpZGVvU2V0dGluZ3MoYSxlPVwiXCIpe3JldHVybiBuZXcgVChmLlRyYWNrc0Vycm9ycy5JTlZBTElEX1ZJREVPX1NFVFRJTkdTLFwiSW52YWxpZFZpZGVvU2V0dGluZ3NcIixhLFwiQ2Fubm90IGVuYWJsZSBzaW11bGNhc3Qgd2hlbiBubyB2aWRlbyBzZXR0aW5ncyBhcmUgcHJvdmlkZWRcIixlKX0sQXV0b3BsYXlCbG9ja2VkKGEsZT1cIlwiKXtyZXR1cm4gbmV3IFQoZi5UcmFja3NFcnJvcnMuQVVUT1BMQVlfRVJST1IsXCJBdXRvcGxheUJsb2NrZWRcIixhLFwiQXV0b3BsYXkgYmxvY2tlZCBiZWNhdXNlIHRoZSB1c2VyIGRpZG4ndCBpbnRlcmFjdCB3aXRoIHRoZSBkb2N1bWVudCBmaXJzdFwiLGUpfSxDb2RlY0NoYW5nZU5vdFBlcm1pdHRlZChhLGU9XCJcIil7cmV0dXJuIG5ldyBUKGYuVHJhY2tzRXJyb3JzLkNPREVDX0NIQU5HRV9OT1RfUEVSTUlUVEVELFwiQ29kZWNDaGFuZ2VOb3RQZXJtaXR0ZWRcIixhLFwiQ29kZWMgY2FuJ3QgYmUgY2hhbmdlZCBtaWQgY2FsbC5cIixlKX0sT3ZlckNvbnN0cmFpbmVkKGEsZSx0PVwiXCIpe3JldHVybiBuZXcgVChmLlRyYWNrc0Vycm9ycy5PVkVSX0NPTlNUUkFJTkVELFwiT3ZlckNvbnN0cmFpbmVkXCIsYSxgW1RSQUNLXTogUmVxdWVzdGVkIGNvbnN0cmFpbnRzIGNhbm5vdCBiZSBzYXRpc2ZpZWQgd2l0aCB0aGUgZGV2aWNlIGhhcmR3YXJlIC0gJHtlfWAsdCl9LE5vQXVkaW9EZXRlY3RlZChhLGU9XCJQbGVhc2UgY2hlY2sgdGhlIG1pYyBvciB1c2UgYW5vdGhlciBhdWRpbyBpbnB1dFwiKXtyZXR1cm4gbmV3IFQoZi5UcmFja3NFcnJvcnMuTk9fQVVESU9fREVURUNURUQsXCJOb0F1ZGlvRGV0ZWN0ZWRcIixhLFwiTm8gYXVkaW8gaW5wdXQgZGV0ZWN0ZWQgZnJvbSBtaWNyb3Bob25lXCIsZSl9LFN5c3RlbURlbmllZFBlcm1pc3Npb24oYSxlLHQ9XCJcIil7cmV0dXJuIG5ldyBUKGYuVHJhY2tzRXJyb3JzLlNZU1RFTV9ERU5JRURfUEVSTUlTU0lPTixcIlN5c3RlbURlbmllZFBlcm1pc3Npb25cIixhLGBPcGVyYXRpbmcgU3lzdGVtIGRlbmllZCBwZXJtaXNzaW9uIHRvIGFjY2VzcyBjYXB0dXJlIGRldmljZSAtICR7ZX1gLHQpfSxDdXJyZW50VGFiTm90U2hhcmVkKCl7cmV0dXJuIG5ldyBUKGYuVHJhY2tzRXJyb3JzLkNVUlJFTlRfVEFCX05PVF9TSEFSRUQsXCJDdXJyZW50VGFiTm90U2hhcmVkXCIscC5UUkFDSyxcIlRoZSBhcHAgcmVxdWlyZXMgeW91IHRvIHNoYXJlIHRoZSBjdXJyZW50IHRhYlwiLFwiWW91IG11c3Qgc2NyZWVuIHNoYXJlIHRoZSBjdXJyZW50IHRhYiBpbiBvcmRlciB0byBwcm9jZWVkXCIpfX0sV2VicnRjRXJyb3JzOntDcmVhdGVPZmZlckZhaWxlZChhLGU9XCJcIil7cmV0dXJuIG5ldyBUKGYuV2VicnRjRXJyb3JzLkNSRUFURV9PRkZFUl9GQUlMRUQsXCJDcmVhdGVPZmZlckZhaWxlZFwiLGEsYFske2EudG9TdHJpbmcoKX1dOiBGYWlsZWQgdG8gY3JlYXRlIG9mZmVyLiBgLGUpfSxDcmVhdGVBbnN3ZXJGYWlsZWQoYSxlPVwiXCIpe3JldHVybiBuZXcgVChmLldlYnJ0Y0Vycm9ycy5DUkVBVEVfQU5TV0VSX0ZBSUxFRCxcIkNyZWF0ZUFuc3dlckZhaWxlZFwiLGEsYFske2EudG9TdHJpbmcoKX1dOiBGYWlsZWQgdG8gY3JlYXRlIGFuc3dlci4gYCxlKX0sU2V0TG9jYWxEZXNjcmlwdGlvbkZhaWxlZChhLGU9XCJcIil7cmV0dXJuIG5ldyBUKGYuV2VicnRjRXJyb3JzLlNFVF9MT0NBTF9ERVNDUklQVElPTl9GQUlMRUQsXCJTZXRMb2NhbERlc2NyaXB0aW9uRmFpbGVkXCIsYSxgWyR7YS50b1N0cmluZygpfV06IEZhaWxlZCB0byBzZXQgb2ZmZXIuIGAsZSl9LFNldFJlbW90ZURlc2NyaXB0aW9uRmFpbGVkKGEsZT1cIlwiKXtyZXR1cm4gbmV3IFQoZi5XZWJydGNFcnJvcnMuU0VUX1JFTU9URV9ERVNDUklQVElPTl9GQUlMRUQsXCJTZXRSZW1vdGVEZXNjcmlwdGlvbkZhaWxlZFwiLGEsYFske2EudG9TdHJpbmcoKX1dOiBGYWlsZWQgdG8gc2V0IGFuc3dlci4gYCxlKX0sSUNFRmFpbHVyZShhLGU9XCJcIil7cmV0dXJuIG5ldyBUKGYuV2VicnRjRXJyb3JzLklDRV9GQUlMVVJFLFwiSUNFRmFpbHVyZVwiLGEsYFske2EudG9TdHJpbmcoKX1dOiBJY2UgY29ubmVjdGlvbiBzdGF0ZSBGQUlMRURgLGUpfX0sV2Vic29ja2V0TWV0aG9kRXJyb3JzOntTZXJ2ZXJFcnJvcnMoYSxlLHQpe3JldHVybiBuZXcgVChhLFwiU2VydmVyRXJyb3JzXCIsZSx0LHQsITApfSxBbHJlYWR5Sm9pbmVkKGEsZT1cIlwiKXtyZXR1cm4gbmV3IFQoZi5XZWJzb2NrZXRNZXRob2RFcnJvcnMuQUxSRUFEWV9KT0lORUQsXCJBbHJlYWR5Sm9pbmVkXCIsYSxcIltKT0lOXTogWW91IGhhdmUgYWxyZWFkeSBqb2luZWQgdGhpcyByb29tLlwiLGUpfSxDYW5ub3RKb2luUHJldmlld0luUHJvZ3Jlc3MoYSxlPVwiXCIpe3JldHVybiBuZXcgVChmLldlYnNvY2tldE1ldGhvZEVycm9ycy5DQU5OT1RfSk9JTl9QUkVWSUVXX0lOX1BST0dSRVNTLFwiQ2Fubm90Sm9pblByZXZpZXdJblByb2dyZXNzXCIsYSxcIltKT0lOXTogQ2Fubm90IGpvaW4gaWYgcHJldmlldyBpcyBpbiBwcm9ncmVzc1wiLGUpfX0sR2VuZXJpY0Vycm9yczp7Tm90Q29ubmVjdGVkKGEsZT1cIlwiKXtyZXR1cm4gbmV3IFQoZi5HZW5lcmljRXJyb3JzLk5PVF9DT05ORUNURUQsXCJOb3RDb25uZWN0ZWRcIixhLFwiQ2xpZW50IGlzIG5vdCBjb25uZWN0ZWRcIixlKX0sU2lnbmFsbGluZyhhLGUpe3JldHVybiBuZXcgVChmLkdlbmVyaWNFcnJvcnMuU0lHTkFMTElORyxcIlNpZ25hbGxpbmdcIixhLGBVbmtub3duIHNpZ25hbGxpbmcgZXJyb3I6ICR7YS50b1N0cmluZygpfSAke2V9IGAsZSl9LFVua25vd24oYSxlKXtyZXR1cm4gbmV3IFQoZi5HZW5lcmljRXJyb3JzLlVOS05PV04sXCJVbmtub3duXCIsYSxgVW5rbm93biBleGNlcHRpb246ICR7ZX1gLGUpfSxOb3RSZWFkeShhLGU9XCJcIil7cmV0dXJuIG5ldyBUKGYuR2VuZXJpY0Vycm9ycy5OT1RfUkVBRFksXCJOb3RSZWFkeVwiLGEsZSxlKX0sSnNvblBhcnNpbmdGYWlsZWQoYSxlLHQ9XCJcIil7cmV0dXJuIG5ldyBUKGYuR2VuZXJpY0Vycm9ycy5KU09OX1BBUlNJTkdfRkFJTEVELFwiSnNvblBhcnNpbmdGYWlsZWRcIixhLGBGYWlsZWQgdG8gcGFyc2UgSlNPTiBtZXNzYWdlIC0gJHtlfWAsdCl9LFRyYWNrTWV0YWRhdGFNaXNzaW5nKGEsZT1cIlwiKXtyZXR1cm4gbmV3IFQoZi5HZW5lcmljRXJyb3JzLlRSQUNLX01FVEFEQVRBX01JU1NJTkcsXCJUcmFja01ldGFkYXRhTWlzc2luZ1wiLGEsXCJUcmFjayBNZXRhZGF0YSBNaXNzaW5nXCIsZSl9LFJUQ1RyYWNrTWlzc2luZyhhLGU9XCJcIil7cmV0dXJuIG5ldyBUKGYuR2VuZXJpY0Vycm9ycy5SVENfVFJBQ0tfTUlTU0lORyxcIlJUQ1RyYWNrTWlzc2luZ1wiLGEsXCJSVEMgVHJhY2sgbWlzc2luZ1wiLGUpfSxQZWVyTWV0YWRhdGFNaXNzaW5nKGEsZT1cIlwiKXtyZXR1cm4gbmV3IFQoZi5HZW5lcmljRXJyb3JzLlBFRVJfTUVUQURBVEFfTUlTU0lORyxcIlBlZXJNZXRhZGF0YU1pc3NpbmdcIixhLFwiUGVlciBNZXRhZGF0YSBNaXNzaW5nXCIsZSl9LFZhbGlkYXRpb25GYWlsZWQoYSxlKXtyZXR1cm4gbmV3IFQoZi5HZW5lcmljRXJyb3JzLklOVkFMSURfUk9MRSxcIlZhbGlkYXRpb25GYWlsZWRcIixwLlZBTElEQVRJT04sYSxlP0pTT04uc3RyaW5naWZ5KGUpOlwiXCIpfSxJbnZhbGlkUm9sZShhLGUpe3JldHVybiBuZXcgVChmLkdlbmVyaWNFcnJvcnMuSU5WQUxJRF9ST0xFLFwiSW52YWxpZFJvbGVcIixhLFwiSW52YWxpZCByb2xlLiBKb2luIHdpdGggdmFsaWQgcm9sZVwiLGUsITApfSxQcmV2aWV3QWxyZWFkeUluUHJvZ3Jlc3MoYSxlPVwiXCIpe3JldHVybiBuZXcgVChmLkdlbmVyaWNFcnJvcnMuUFJFVklFV19JTl9QUk9HUkVTUyxcIlByZXZpZXdBbHJlYWR5SW5Qcm9ncmVzc1wiLGEsXCJbUHJldmlld106IENhbm5vdCBqb2luIGlmIHByZXZpZXcgaXMgaW4gcHJvZ3Jlc3NcIixlKX0sTWlzc2luZ01lZGlhRGV2aWNlcygpe3JldHVybiBuZXcgVChmLkdlbmVyaWNFcnJvcnMuTUlTU0lOR19NRURJQURFVklDRVMsXCJNaXNzaW5nTWVkaWFEZXZpY2VzXCIscC5KT0lOLFwibmF2aWdhdG9yLm1lZGlhRGV2aWNlcyBpcyB1bmRlZmluZWQuIDEwMG1zIFNESyB3b24ndCB3b3JrIG9uIHRoaXMgd2Vic2l0ZSBhcyBXZWJSVEMgaXMgbm90IHN1cHBvcnRlZCBvbiBIVFRQIGVuZHBvaW50cyhtaXNzaW5nIG5hdmlnYXRvci5tZWRpYURldmljZXMpLiBQbGVhc2UgZW5zdXJlIHlvdSdyZSB1c2luZyB0aGUgU0RLIGVpdGhlciBvbiBsb2NhbGhvc3Qgb3IgYSB2YWxpZCBIVFRQUyBlbmRwb2ludC5cIixcIlwiLCEwKX0sTWlzc2luZ1JUQ1BlZXJDb25uZWN0aW9uKCl7cmV0dXJuIG5ldyBUKGYuR2VuZXJpY0Vycm9ycy5NSVNTSU5HX1JUQ1BFRVJDT05ORUNUSU9OLFwiTWlzc2luZ1JUQ1BlZXJDb25uZWN0aW9uXCIscC5KT0lOLFwiUlRDUGVlckNvbm5lY3Rpb24gd2hpY2ggaXMgYSBjb3JlIHJlcXVpcmVtZW50IGZvciBXZWJSVEMgY2FsbCB3YXMgbm90IGZvdW5kLCB0aGlzIGNvdWxkIGJlIGR1ZSB0byBhbiB1bnN1cHBvcnRlZCBicm93c2VyIG9yIGJyb3dzZXIgZXh0ZW5zaW9ucyBibG9ja2luZyBXZWJSVENcIixcIlwiLCEwKX19LE1lZGlhUGx1Z2luRXJyb3JzOntQbGF0Zm9ybU5vdFN1cHBvcnRlZChhLGU9XCJcIil7cmV0dXJuIG5ldyBUKDcwMDEsXCJQbGF0Zm9ybU5vdFN1cHBvcnRlZFwiLGEsXCJDaGVjayBITVMgRG9jcyB0byBzZWUgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIHBsYXRmb3Jtc1wiLGUpfSxJbml0RmFpbGVkKGEsZT1cIlwiKXtyZXR1cm4gbmV3IFQoNzAwMixcIkluaXRGYWlsZWRcIixhLFwiUGx1Z2luIGluaXQgZmFpbGVkXCIsZSl9LFByb2Nlc3NpbmdGYWlsZWQoYSxlPVwiXCIpe3JldHVybiBuZXcgVCg3MDAzLFwiUHJvY2Vzc2luZ0ZhaWxlZFwiLGEsXCJQbHVnaW4gcHJvY2Vzc2luZyBmYWlsZWRcIixlKX0sQWRkQWxyZWFkeUluUHJvZ3Jlc3MoYSxlPVwiXCIpe3JldHVybiBuZXcgVCg3MDA0LFwiQWRkQWxyZWFkeUluUHJvZ3Jlc3NcIixhLFwiUGx1Z2luIGFkZCBhbHJlYWR5IGluIHByb2dyZXNzXCIsZSl9LERldmljZU5vdFN1cHBvcnRlZChhLGU9XCJcIil7cmV0dXJuIG5ldyBUKDcwMDUsXCJEZXZpY2VOb3RTdXBwb3J0ZWRcIixhLFwiQ2hlY2sgSE1TIERvY3MgdG8gc2VlIHRoZSBsaXN0IG9mIHN1cHBvcnRlZCBkZXZpY2VzXCIsZSl9fSxQbGF5bGlzdEVycm9yczp7Tm9FbnRyeVRvUGxheShhLGUpe3JldHVybiBuZXcgVChmLlBsYXlsaXN0RXJyb3JzLk5PX0VOVFJZX1RPX1BMQVksXCJOb0VudHJ5VG9QbGF5XCIsYSxcIlJlYWNoZWQgZW5kIG9mIHBsYXlsaXN0XCIsZSl9LE5vRW50cnlQbGF5aW5nKGEsZSl7cmV0dXJuIG5ldyBUKGYuUGxheWxpc3RFcnJvcnMuTk9fRU5UUllfSVNfUExBWUlORyxcIk5vRW50cnlJc1BsYXlpbmdcIixhLFwiTm8gZW50cnkgaXMgcGxheWluZyBhdCB0aGlzIHRpbWVcIixlKX19fTtpbXBvcnQga3IgZnJvbVwid2VicnRjLWFkYXB0ZXJcIjt2YXIgVzsoZnVuY3Rpb24ocyl7cy5VTktOT1dOPVwidW5rbm93bih2aWRlbyBvciBhdWRpbylcIixzLkFVRElPPVwiYXVkaW9cIixzLlZJREVPPVwidmlkZW9cIixzLkFWPVwiYXVkaW8sIHZpZGVvXCIscy5TQ1JFRU49XCJzY3JlZW5cIn0pKFd8fChXPXt9KSk7ZnVuY3Rpb24gZ2koYSxlKXtsZXQgdD1hLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHQuaW5jbHVkZXMoXCJkZXZpY2Ugbm90IGZvdW5kXCIpP20uVHJhY2tzRXJyb3JzLkRldmljZU5vdEF2YWlsYWJsZShwLlRSQUNLLGUsYSk6dC5pbmNsdWRlcyhcInBlcm1pc3Npb24gZGVuaWVkXCIpP20uVHJhY2tzRXJyb3JzLkNhbnRBY2Nlc3NDYXB0dXJlRGV2aWNlKHAuVFJBQ0ssZSxhKTptLlRyYWNrc0Vycm9ycy5HZW5lcmljVHJhY2socC5UUkFDSyxhKX1mdW5jdGlvbiBTaShhLGU9XCJcIil7aWYoa3IuYnJvd3NlckRldGFpbHMuYnJvd3Nlcj09PVwiY2hyb21lXCImJmEubmFtZT09PVwiTm90QWxsb3dlZEVycm9yXCImJmEubWVzc2FnZS5pbmNsdWRlcyhcImRlbmllZCBieSBzeXN0ZW1cIikpcmV0dXJuIG0uVHJhY2tzRXJyb3JzLlN5c3RlbURlbmllZFBlcm1pc3Npb24ocC5UUkFDSyxlLGEubWVzc2FnZSk7aWYoa3IuYnJvd3NlckRldGFpbHMuYnJvd3Nlcj09PVwiZmlyZWZveFwiJiZhLm5hbWU9PT1cIk5vdEZvdW5kRXJyb3JcIil7bGV0IHI9bS5UcmFja3NFcnJvcnMuU3lzdGVtRGVuaWVkUGVybWlzc2lvbihwLlRSQUNLLGUsYS5tZXNzYWdlKTtyZXR1cm4gci5kZXNjcmlwdGlvbj1gQ2FwdHVyZSBkZXZpY2UgaXMgZWl0aGVyIGJsb2NrZWQgYXQgT3BlcmF0aW5nIFN5c3RlbSBsZXZlbCBvciBub3QgYXZhaWxhYmxlIC0gJHtlfWAscn1zd2l0Y2goYS5uYW1lKXtjYXNlXCJPdmVyY29uc3RyYWluZWRFcnJvclwiOnJldHVybiBtLlRyYWNrc0Vycm9ycy5PdmVyQ29uc3RyYWluZWQocC5UUkFDSyxlLGEuY29uc3RyYWludCk7Y2FzZVwiTm90QWxsb3dlZEVycm9yXCI6cmV0dXJuIG0uVHJhY2tzRXJyb3JzLkNhbnRBY2Nlc3NDYXB0dXJlRGV2aWNlKHAuVFJBQ0ssZSxhLm1lc3NhZ2UpO2Nhc2VcIk5vdEZvdW5kRXJyb3JcIjpyZXR1cm4gbS5UcmFja3NFcnJvcnMuRGV2aWNlTm90QXZhaWxhYmxlKHAuVFJBQ0ssZSxhLm1lc3NhZ2UpO2Nhc2VcIk5vdFJlYWRhYmxlRXJyb3JcIjpyZXR1cm4gbS5UcmFja3NFcnJvcnMuRGV2aWNlSW5Vc2UocC5UUkFDSyxlLGEubWVzc2FnZSk7Y2FzZVwiVHlwZUVycm9yXCI6cmV0dXJuIG0uVHJhY2tzRXJyb3JzLk5vdGhpbmdUb1JldHVybihwLlRSQUNLLGEubWVzc2FnZSk7ZGVmYXVsdDpyZXR1cm4gZ2koYS5tZXNzYWdlLGUpfX1mdW5jdGlvbiBaKGEsZSl7bGV0IHQ9U2koYSxlKTtyZXR1cm4gdC5hZGROYXRpdmVFcnJvcihhKSx0fXZhciBuZTsoZnVuY3Rpb24ocyl7cy5SRUNPUkRJTkdfU1RBVEVfVVBEQVRFRD1cIlJFQ09SRElOR19TVEFURV9VUERBVEVEXCIscy5CUk9XU0VSX1JFQ09SRElOR19TVEFURV9VUERBVEVEPVwiQlJPV1NFUl9SRUNPUkRJTkdfU1RBVEVfVVBEQVRFRFwiLHMuU0VSVkVSX1JFQ09SRElOR19TVEFURV9VUERBVEVEPVwiU0VSVkVSX1JFQ09SRElOR19TVEFURV9VUERBVEVEXCIscy5SVE1QX1NUUkVBTUlOR19TVEFURV9VUERBVEVEPVwiUlRNUF9TVFJFQU1JTkdfU1RBVEVfVVBEQVRFRFwiLHMuSExTX1NUUkVBTUlOR19TVEFURV9VUERBVEVEPVwiSExTX1NUUkVBTUlOR19TVEFURV9VUERBVEVEXCJ9KShuZXx8KG5lPXt9KSk7dmFyIEs7KGZ1bmN0aW9uKFMpe1NbUy5QRUVSX0pPSU5FRD0wXT1cIlBFRVJfSk9JTkVEXCIsU1tTLlBFRVJfTEVGVD0xXT1cIlBFRVJfTEVGVFwiLFNbUy5BVURJT19UT0dHTEVEPTJdPVwiQVVESU9fVE9HR0xFRFwiLFNbUy5WSURFT19UT0dHTEVEPTNdPVwiVklERU9fVE9HR0xFRFwiLFNbUy5CRUNBTUVfRE9NSU5BTlRfU1BFQUtFUj00XT1cIkJFQ0FNRV9ET01JTkFOVF9TUEVBS0VSXCIsU1tTLlJFU0lHTkVEX0RPTUlOQU5UX1NQRUFLRVI9NV09XCJSRVNJR05FRF9ET01JTkFOVF9TUEVBS0VSXCIsU1tTLlNUQVJURURfU1BFQUtJTkc9Nl09XCJTVEFSVEVEX1NQRUFLSU5HXCIsU1tTLlNUT1BQRURfU1BFQUtJTkc9N109XCJTVE9QUEVEX1NQRUFLSU5HXCIsU1tTLlJPTEVfVVBEQVRFRD04XT1cIlJPTEVfVVBEQVRFRFwiLFNbUy5QRUVSX0xJU1Q9OV09XCJQRUVSX0xJU1RcIixTW1MuTkFNRV9VUERBVEVEPTEwXT1cIk5BTUVfVVBEQVRFRFwiLFNbUy5NRVRBREFUQV9VUERBVEVEPTExXT1cIk1FVEFEQVRBX1VQREFURURcIn0pKEt8fChLPXt9KSk7dmFyIE47KGZ1bmN0aW9uKGQpe2RbZC5UUkFDS19BRERFRD0wXT1cIlRSQUNLX0FEREVEXCIsZFtkLlRSQUNLX1JFTU9WRUQ9MV09XCJUUkFDS19SRU1PVkVEXCIsZFtkLlRSQUNLX01VVEVEPTJdPVwiVFJBQ0tfTVVURURcIixkW2QuVFJBQ0tfVU5NVVRFRD0zXT1cIlRSQUNLX1VOTVVURURcIixkW2QuVFJBQ0tfREVTQ1JJUFRJT05fQ0hBTkdFRD00XT1cIlRSQUNLX0RFU0NSSVBUSU9OX0NIQU5HRURcIixkW2QuVFJBQ0tfREVHUkFERUQ9NV09XCJUUkFDS19ERUdSQURFRFwiLGRbZC5UUkFDS19SRVNUT1JFRD02XT1cIlRSQUNLX1JFU1RPUkVEXCJ9KShOfHwoTj17fSkpO3ZhciBxOyhmdW5jdGlvbihpKXtpLk5PTkU9XCJub25lXCIsaS5MT1c9XCJsb3dcIixpLk1FRElVTT1cIm1lZGl1bVwiLGkuSElHSD1cImhpZ2hcIn0pKHF8fChxPXt9KSk7dmFyIEl0PXtmOnEuSElHSCxoOnEuTUVESVVNLHE6cS5MT1d9O3ZhciBLZTsoZnVuY3Rpb24ocil7ci5WUDg9XCJ2cDhcIixyLlZQOT1cInZwOVwiLHIuSDI2ND1cImgyNjRcIn0pKEtlfHwoS2U9e30pKTt2YXIgcWU7KGZ1bmN0aW9uKGUpe2UuT1BVUz1cIm9wdXNcIn0pKHFlfHwocWU9e30pKTt2YXIgYjsoZnVuY3Rpb24odCl7dC5hdWRpbz1cImF1ZGlvXCIsdC52aWRlbz1cInZpZGVvXCJ9KShifHwoYj17fSkpO3ZhciB6PWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5fdm9sdW1lPTE7dGhpcy5fY29kZWM9cWUuT1BVUzt0aGlzLl9tYXhCaXRyYXRlPTMyO3RoaXMuX2RldmljZUlkPVwiZGVmYXVsdFwiO3RoaXMuX2FkdmFuY2VkPVt7Z29vZ0VjaG9DYW5jZWxsYXRpb246e2V4YWN0OiEwfX0se2dvb2dFeHBlcmltZW50YWxFY2hvQ2FuY2VsbGF0aW9uOntleGFjdDohMH19LHthdXRvR2FpbkNvbnRyb2w6e2V4YWN0OiEwfX0se25vaXNlU3VwcHJlc3Npb246e2V4YWN0OiEwfX0se2dvb2dIaWdocGFzc0ZpbHRlcjp7ZXhhY3Q6ITB9fSx7Z29vZ0F1ZGlvTWlycm9yaW5nOntleGFjdDohMH19XX12b2x1bWUoZSl7aWYoISgwPD1lJiZlPD0xKSl0aHJvdyBFcnJvcihcInZvbHVtZSBjYW4gb25seSBiZSBpbiByYW5nZSBbMC4wLCAxLjBdXCIpO3JldHVybiB0aGlzLl92b2x1bWU9ZSx0aGlzfWNvZGVjKGUpe3JldHVybiB0aGlzLl9jb2RlYz1lLHRoaXN9bWF4Qml0cmF0ZShlKXtpZihlJiZlPD0wKXRocm93IEVycm9yKFwibWF4Qml0cmF0ZSBzaG91bGQgYmUgPj0gMVwiKTtyZXR1cm4gdGhpcy5fbWF4Qml0cmF0ZT1lLHRoaXN9ZGV2aWNlSWQoZSl7cmV0dXJuIHRoaXMuX2RldmljZUlkPWUsdGhpc31hZHZhbmNlZChlKXtyZXR1cm4gdGhpcy5fYWR2YW5jZWQ9ZSx0aGlzfWJ1aWxkKCl7cmV0dXJuIG5ldyBrZSh0aGlzLl92b2x1bWUsdGhpcy5fY29kZWMsdGhpcy5fbWF4Qml0cmF0ZSx0aGlzLl9kZXZpY2VJZCx0aGlzLl9hZHZhbmNlZCl9fSxrZT1jbGFzc3tjb25zdHJ1Y3RvcihlLHQscixpLHMpe3RoaXMudm9sdW1lPWUsdGhpcy5jb2RlYz10LHRoaXMubWF4Qml0cmF0ZT1yLHRoaXMuZGV2aWNlSWQ9aSx0aGlzLmFkdmFuY2VkPXN9dG9Db25zdHJhaW50cygpe3JldHVybntkZXZpY2VJZDp0aGlzLmRldmljZUlkLGFkdmFuY2VkOnRoaXMuYWR2YW5jZWR9fXRvQW5hbHl0aWNzUHJvcGVydGllcygpe3JldHVybnthdWRpb19iaXRyYXRlOnRoaXMubWF4Qml0cmF0ZSxhdWRpb19jb2RlYzp0aGlzLmNvZGVjfX19O3ZhciBKPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5fd2lkdGg9MzIwO3RoaXMuX2hlaWdodD0xODA7dGhpcy5fY29kZWM9S2UuVlA4O3RoaXMuX21heEZyYW1lcmF0ZT0zMDt0aGlzLl9tYXhCaXRyYXRlPTE1MDt0aGlzLl9hZHZhbmNlZD1bXX1zZXRXaWR0aChlKXtyZXR1cm4gdGhpcy5fd2lkdGg9ZSx0aGlzfXNldEhlaWdodChlKXtyZXR1cm4gdGhpcy5faGVpZ2h0PWUsdGhpc31jb2RlYyhlKXtyZXR1cm4gdGhpcy5fY29kZWM9ZSx0aGlzfW1heEZyYW1lcmF0ZShlKXtpZihlJiZlPD0wKXRocm93IEVycm9yKFwibWF4RnJhbWVyYXRlIHNob3VsZCBiZSA+PSAxXCIpO3JldHVybiB0aGlzLl9tYXhGcmFtZXJhdGU9ZSx0aGlzfW1heEJpdHJhdGUoZSx0PSEwKXtpZih0eXBlb2YgZT09XCJudW1iZXJcIiYmZTw9MCl0aHJvdyBFcnJvcihcIm1heEJpdHJhdGUgc2hvdWxkIGJlID49IDFcIik7cmV0dXJuIHRoaXMuX21heEJpdHJhdGU9ZSwhdGhpcy5fbWF4Qml0cmF0ZSYmdCYmKHRoaXMuX21heEJpdHJhdGU9MTVlNCksdGhpc31kZXZpY2VJZChlKXtyZXR1cm4gdGhpcy5fZGV2aWNlSWQ9ZSx0aGlzfWFkdmFuY2VkKGUpe3JldHVybiB0aGlzLl9hZHZhbmNlZD1lLHRoaXN9YnVpbGQoKXtyZXR1cm4gbmV3IHllKHRoaXMuX3dpZHRoLHRoaXMuX2hlaWdodCx0aGlzLl9jb2RlYyx0aGlzLl9tYXhGcmFtZXJhdGUsdGhpcy5fZGV2aWNlSWQsdGhpcy5fYWR2YW5jZWQsdGhpcy5fbWF4Qml0cmF0ZSl9fSx5ZT1jbGFzc3tjb25zdHJ1Y3RvcihlLHQscixpLHMsbixkKXt0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzLmNvZGVjPXIsdGhpcy5tYXhGcmFtZXJhdGU9aSx0aGlzLm1heEJpdHJhdGU9ZCx0aGlzLmRldmljZUlkPXMsdGhpcy5hZHZhbmNlZD1ufXRvQ29uc3RyYWludHMoZSl7bGV0IHQ9XCJpZGVhbFwiO3JldHVybiBlJiYodD1cIm1heFwiKSx7d2lkdGg6e1t0XTp0aGlzLndpZHRofSxoZWlnaHQ6e1t0XTp0aGlzLmhlaWdodH0sZnJhbWVSYXRlOnRoaXMubWF4RnJhbWVyYXRlLGRldmljZUlkOnRoaXMuZGV2aWNlSWR9fXRvQW5hbHl0aWNzUHJvcGVydGllcygpe3JldHVybnt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodCx2aWRlb19iaXRyYXRlOnRoaXMubWF4Qml0cmF0ZSxmcmFtZXJhdGU6dGhpcy5tYXhGcmFtZXJhdGUsdmlkZW9fY29kZWM6dGhpcy5jb2RlY319fTt2YXIgamU9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLl92aWRlbz1uZXcgSigpLmJ1aWxkKCk7dGhpcy5fYXVkaW89bmV3IHooKS5idWlsZCgpO3RoaXMuX3NjcmVlbj1uZXcgSigpLmJ1aWxkKCk7dGhpcy5fc2ltdWxjYXN0PSExfXZpZGVvKGUpe3JldHVybiB0aGlzLl92aWRlbz1lLHRoaXN9YXVkaW8oZSl7cmV0dXJuIHRoaXMuX2F1ZGlvPWUsdGhpc31zY3JlZW4oZSl7cmV0dXJuIHRoaXMuX3NjcmVlbj1lLHRoaXN9c2ltdWxjYXN0KGUpe3JldHVybiB0aGlzLl9zaW11bGNhc3Q9ZSx0aGlzfWJ1aWxkKCl7aWYodGhpcy5fYXVkaW89PT1udWxsJiZ0aGlzLl92aWRlbz09PW51bGwpdGhyb3cgbS5UcmFja3NFcnJvcnMuTm90aGluZ1RvUmV0dXJuKHAuVFJBQ0spO2lmKHRoaXMuX3ZpZGVvPT09bnVsbCYmdGhpcy5fc2ltdWxjYXN0KXRocm93IG0uVHJhY2tzRXJyb3JzLkludmFsaWRWaWRlb1NldHRpbmdzKHAuVFJBQ0ssXCJDYW5ub3QgZW5hYmxlIHNpbXVsY2FzdCB3aGVuIG5vIHZpZGVvIHNldHRpbmdzIGFyZSBwcm92aWRlZFwiKTtyZXR1cm4gbmV3IExlKHRoaXMuX3ZpZGVvLHRoaXMuX2F1ZGlvLHRoaXMuX3NpbXVsY2FzdCx0aGlzLl9zY3JlZW58fHZvaWQgMCl9fSxMZT1jbGFzc3tjb25zdHJ1Y3RvcihlLHQscixpPW51bGwpe3RoaXMudmlkZW89ZSx0aGlzLmF1ZGlvPXQsdGhpcy5zaW11bGNhc3Q9cix0aGlzLnNjcmVlbj1pfXRvQW5hbHl0aWNzUHJvcGVydGllcygpe2xldCBlPXthdWRpb19lbmFibGVkOnRoaXMuYXVkaW8hPT1udWxsLHZpZGVvX2VuYWJsZWQ6dGhpcy52aWRlbyE9PW51bGx9O3JldHVybiB0aGlzLmF1ZGlvJiYoZT12KHYoe30sdGhpcy5hdWRpby50b0FuYWx5dGljc1Byb3BlcnRpZXMoKSksZSkpLHRoaXMudmlkZW8mJihlPXYodih7fSx0aGlzLnZpZGVvLnRvQW5hbHl0aWNzUHJvcGVydGllcygpKSxlKSksZX19O3ZhciBNZT1jbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLnRyYWNrcz1uZXcgQXJyYXk7dGhpcy5uYXRpdmVTdHJlYW09ZSx0aGlzLmlkPWUuaWR9fTt2YXIgSmU9YT0+YT9ge1xuICAgIHRyYWNrSWQ6ICR7YS5pZH07XG4gICAga2luZDogJHthLmtpbmR9O1xuICAgIGVuYWJsZWQ6ICR7YS5lbmFibGVkfTtcbiAgICBtdXRlZDogJHthLm11dGVkfTtcbiAgICByZWFkeVN0YXRlOiAke2EucmVhZHlTdGF0ZX07XG4gIH1gOlwiXCI7dmFyIHBlPWNsYXNze2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLmxvZ0lkZW50aWZpZXI9XCJcIjt0aGlzLnN0cmVhbT1lLHRoaXMubmF0aXZlVHJhY2s9dCx0aGlzLnNvdXJjZT1yfWdldCBlbmFibGVkKCl7cmV0dXJuIHRoaXMubmF0aXZlVHJhY2suZW5hYmxlZH1nZXQgdHJhY2tJZCgpe3JldHVybiB0aGlzLmZpcnN0VHJhY2tJZHx8dGhpcy5zZHBUcmFja0lkfHx0aGlzLm5hdGl2ZVRyYWNrLmlkfWdldE1lZGlhVHJhY2tTZXR0aW5ncygpe3JldHVybiB0aGlzLm5hdGl2ZVRyYWNrLmdldFNldHRpbmdzKCl9c2V0RW5hYmxlZChlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dGhpcy5uYXRpdmVUcmFjay5lbmFibGVkPWV9KX1zZXRTZHBUcmFja0lkKGUpe3RoaXMuc2RwVHJhY2tJZD1lfXNldEZpcnN0VHJhY2tJZChlKXt0aGlzLmZpcnN0VHJhY2tJZD1lfWNsZWFudXAoKXt2YXIgZTsoZT10aGlzLm5hdGl2ZVRyYWNrKT09bnVsbHx8ZS5zdG9wKCl9dG9TdHJpbmcoKXtyZXR1cm5ge1xuICAgICAgc3RyZWFtSWQ6ICR7dGhpcy5zdHJlYW0uaWR9O1xuICAgICAgcGVlcklkOiAke3RoaXMucGVlcklkfTtcbiAgICAgIHRyYWNrSWQ6ICR7dGhpcy50cmFja0lkfTtcbiAgICAgIGxvZ0lkZW50aWZpZXI6ICR7dGhpcy5sb2dJZGVudGlmaWVyfTtcbiAgICAgIHNvdXJjZTogJHt0aGlzLnNvdXJjZX07XG4gICAgICBlbmFibGVkOiAke3RoaXMuZW5hYmxlZH07XG4gICAgICBuYXRpdmVUcmFjazogJHtKZSh0aGlzLm5hdGl2ZVRyYWNrKX07XG4gICAgfWB9fTt2YXIgTDsoZnVuY3Rpb24odCl7dC5BVURJTz1cImF1ZGlvXCIsdC5WSURFTz1cInZpZGVvXCJ9KShMfHwoTD17fSkpO3ZhciBBZT1jbGFzcyBleHRlbmRzIE1le2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSk7dGhpcy5hdWRpbz0hMDt0aGlzLnZpZGVvPXEuTk9ORTt0aGlzLmNvbm5lY3Rpb249dH1zZXRBdWRpbyhlLHQscil7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3RoaXMuYXVkaW8hPT1lJiYodGhpcy5hdWRpbz1lLG8uZChgW1JlbW90ZSBzdHJlYW1dICR7cnx8XCJcIn0gJHt0aGlzLmlkfWAsYHN1YnNjcmliaW5nIGF1ZGlvIC0gJHt0aGlzLmF1ZGlvfWApLHlpZWxkIHRoaXMuY29ubmVjdGlvbi5zZW5kT3ZlckFwaURhdGFDaGFubmVsV2l0aFJlc3BvbnNlKHtwYXJhbXM6e3N1YnNjcmliZWQ6dGhpcy5hdWRpbyx0cmFja19pZDp0fSxtZXRob2Q6XCJwcmVmZXItYXVkaW8tdHJhY2stc3RhdGVcIn0pKX0pfXNldFZpZGVvTGF5ZXJMb2NhbGx5KGUsdCxyKXt0aGlzLnZpZGVvPWUsby5kKGBbUmVtb3RlIHN0cmVhbV0gJHt0fSAtICR7dGhpcy5pZH1gLGBzb3VyY2U6ICR7cn0gU2V0dGluZyBsYXllciBmaWVsZCB0byAtICR7ZX1gKX1zZXRWaWRlb0xheWVyKGUsdCxyLGkpe3JldHVybiB0aGlzLnNldFZpZGVvTGF5ZXJMb2NhbGx5KGUscixpKSxvLmQoYFtSZW1vdGUgc3RyZWFtXSAke3J9IC0gJHt0aGlzLmlkfWAsYHJlcXVlc3QgJHtlfSBsYXllcmApLHRoaXMuY29ubmVjdGlvbi5zZW5kT3ZlckFwaURhdGFDaGFubmVsV2l0aFJlc3BvbnNlKHtwYXJhbXM6e21heF9zcGF0aWFsX2xheWVyOnRoaXMudmlkZW8sdHJhY2tfaWQ6dH0sbWV0aG9kOlwicHJlZmVyLXZpZGVvLXRyYWNrLXN0YXRlXCJ9KX1nZXRTaW11bGNhc3RMYXllcigpe3JldHVybiB0aGlzLnZpZGVvfWdldFZpZGVvTGF5ZXIoKXtyZXR1cm4gdGhpcy52aWRlb31pc0F1ZGlvU3Vic2NyaWJlZCgpe3JldHVybiB0aGlzLmF1ZGlvfX07dmFyIERlPWNsYXNzIGV4dGVuZHMgcGV7Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKGUsdCxyKTt0aGlzLnR5cGU9TC5BVURJTzt0aGlzLmF1ZGlvRWxlbWVudD1udWxsO2lmKHQua2luZCE9PVwiYXVkaW9cIil0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCAndHJhY2snIGtpbmQgPSAnYXVkaW8nXCIpfWdldFZvbHVtZSgpe3JldHVybiB0aGlzLmF1ZGlvRWxlbWVudD90aGlzLmF1ZGlvRWxlbWVudC52b2x1bWUqMTAwOm51bGx9c2V0Vm9sdW1lKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZihlPDB8fGU+MTAwKXRocm93IEVycm9yKFwiUGxlYXNlIHBhc3MgYSB2YWxpZCBudW1iZXIgYmV0d2VlbiAwLTEwMFwiKTt5aWVsZCB0aGlzLnN1YnNjcmliZVRvQXVkaW8oZT09PTA/ITE6dGhpcy5lbmFibGVkKSx0aGlzLmF1ZGlvRWxlbWVudCYmKHRoaXMuYXVkaW9FbGVtZW50LnZvbHVtZT1lLzEwMCl9KX1zZXRBdWRpb0VsZW1lbnQoZSl7dGhpcy5hdWRpb0VsZW1lbnQ9ZX1nZXRBdWRpb0VsZW1lbnQoKXtyZXR1cm4gdGhpcy5hdWRpb0VsZW1lbnR9Z2V0T3V0cHV0RGV2aWNlKCl7cmV0dXJuIHRoaXMub3V0cHV0RGV2aWNlfWNsZWFudXAoKXtzdXBlci5jbGVhbnVwKCksdGhpcy5hdWRpb0VsZW1lbnQmJih0aGlzLmF1ZGlvRWxlbWVudC5zcmNPYmplY3Q9bnVsbCx0aGlzLmF1ZGlvRWxlbWVudC5yZW1vdmUoKSx0aGlzLmF1ZGlvRWxlbWVudD1udWxsKX1zZXRPdXRwdXREZXZpY2UoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciB0O2lmKCF0aGlzLmF1ZGlvRWxlbWVudCl7by5kKFwiYXVkaW8tdHJhY2tcIixcIm5vIGF1ZGlvIGVsZW1lbnQgdG8gc2V0IG91dHB1dFwiKTtyZXR1cm59dHJ5e3R5cGVvZiB0aGlzLmF1ZGlvRWxlbWVudC5zZXRTaW5rSWQ9PVwiZnVuY3Rpb25cIiYmKHlpZWxkKHQ9dGhpcy5hdWRpb0VsZW1lbnQpPT1udWxsP3ZvaWQgMDp0LnNldFNpbmtJZChlLmRldmljZUlkKSx0aGlzLm91dHB1dERldmljZT1lKX1jYXRjaChyKXtvLmQoXCJhdWRpby10cmFja1wiLHIpfX0pfXJlbW92ZVNpbmsoKXt2YXIgZTt0aGlzLmF1ZGlvRWxlbWVudCYmKChlPXdpbmRvdy5ITVMpPT1udWxsP3ZvaWQgMDplLkFVRElPX1NJTkspJiYodGhpcy5hdWRpb0VsZW1lbnQuc3JjT2JqZWN0PW51bGwsdGhpcy5zdWJzY3JpYmVUb0F1ZGlvKCExKSl9YWRkU2luaygpe3ZhciB0LHI7aWYoIXRoaXMubmF0aXZlVHJhY2t8fCF0aGlzLmF1ZGlvRWxlbWVudHx8ISgodD13aW5kb3cuSE1TKT09bnVsbD92b2lkIDA6dC5BVURJT19TSU5LKSlyZXR1cm47bGV0IGU9dGhpcy5hdWRpb0VsZW1lbnQuc3JjT2JqZWN0O2UgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbSYmKChyPWUuZ2V0QXVkaW9UcmFja3MoKVswXSk9PW51bGw/dm9pZCAwOnIuaWQpPT09dGhpcy5uYXRpdmVUcmFjay5pZHx8KHRoaXMuYXVkaW9FbGVtZW50LnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW3RoaXMubmF0aXZlVHJhY2tdKSx0aGlzLnN1YnNjcmliZVRvQXVkaW8oITApKX1zdWJzY3JpYmVUb0F1ZGlvKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0aGlzLnN0cmVhbSBpbnN0YW5jZW9mIEFlJiYoeWllbGQgdGhpcy5zdHJlYW0uc2V0QXVkaW8oZSx0aGlzLnRyYWNrSWQsdGhpcy5sb2dJZGVudGlmaWVyKSl9KX19O3ZhciB5cj1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuc3RvcmFnZT1uZXcgdGUoXCJobXMtZGV2aWNlLXNlbGVjdGlvblwiKTt0aGlzLnJlbWVtYmVyPSExO3RoaXMuVEFHPVwiW0hNU0RldmljZVN0b3JhZ2VdXCJ9c2V0RGV2aWNlcyhlKXt0aGlzLmRldmljZXM9ZX1yZW1lbWJlckRldmljZXMoZSl7dGhpcy5yZW1lbWJlcj1lfXVwZGF0ZVNlbGVjdGlvbihlLHtkZXZpY2VJZDp0LGdyb3VwSWQ6cn0pe2lmKCF0aGlzLmRldmljZXN8fCF0aGlzLnJlbWVtYmVyKXJldHVybjtsZXQgaT10aGlzLmRldmljZXNbZV0uZmluZChuPT50aGlzLmlzU2FtZSh7ZGV2aWNlSWQ6dCxncm91cElkOnJ9LG4pKTtpZighaSl7by53KHRoaXMuVEFHLGBDb3VsZCBub3QgZmluZCBkZXZpY2Ugd2l0aCBkZXZpY2VJZDogJHt0fSwgZ3JvdXBJZDogJHtyfWApO3JldHVybn1sZXQgcz10aGlzLnN0b3JhZ2UuZ2V0KCl8fHt9O3NbZV09aSx0aGlzLnN0b3JhZ2Uuc2V0KHMpfWdldFNlbGVjdGlvbigpe2lmKCEhdGhpcy5yZW1lbWJlcilyZXR1cm4gdGhpcy5zdG9yYWdlLmdldCgpfWNsZWFudXAoKXt0aGlzLnJlbWVtYmVyPSExLHRoaXMuZGV2aWNlcz12b2lkIDB9aXNTYW1lKGUsdCl7cmV0dXJuIGUuZGV2aWNlSWQ9PT10LmRldmljZUlkJiYoZS5ncm91cElkPT09dC5ncm91cElkfHwhZS5ncm91cElkKX19LFE9bmV3IHlyO3ZhciBidDsoZnVuY3Rpb24odCl7dC5UUkFOU0ZPUk09XCJUUkFOU0ZPUk1cIix0LkFOQUxZWkU9XCJBTkFMWVpFXCJ9KShidHx8KGJ0PXt9KSk7dmFyIGllOyhmdW5jdGlvbih0KXt0LlBMQVRGT1JNX05PVF9TVVBQT1JURUQ9XCJQTEFURk9STV9OT1RfU1VQUE9SVEVEXCIsdC5ERVZJQ0VfTk9UX1NVUFBPUlRFRD1cIkRFVklDRV9OT1RfU1VQUE9SVEVEXCJ9KShpZXx8KGllPXt9KSk7dmFyIG9lPWNsYXNze3N0YXRpYyBmYWlsdXJlKGUsdCl7bGV0IHI9XCJtZWRpYVBsdWdpbi5mYWlsZWRcIixpPUQuRVJST1Iscz12KHtwbHVnaW5fbmFtZTplfSx0LnRvQW5hbHl0aWNzUHJvcGVydGllcygpKTtyZXR1cm4gbmV3IE8oe25hbWU6cixsZXZlbDppLHByb3BlcnRpZXM6c30pfXN0YXRpYyBhdWRpb1BsdWdpbkZhaWx1cmUoZSx0LHIpe2xldCBpPVwibWVkaWFQbHVnaW4uZmFpbGVkXCIscz1ELkVSUk9SLG49dih7cGx1Z2luX25hbWU6ZSxzYW1wbGVSYXRlOnR9LHIudG9BbmFseXRpY3NQcm9wZXJ0aWVzKCkpO3JldHVybiBuZXcgTyh7bmFtZTppLGxldmVsOnMscHJvcGVydGllczpufSl9c3RhdGljIGF1ZGlvUGx1Z2luU3RhdHMoe3BsdWdpbk5hbWU6ZSxkdXJhdGlvbjp0LGxvYWRUaW1lOnIsc2FtcGxlUmF0ZTppfSl7bGV0IHM9XCJtZWRpYVBsdWdpbi5zdGF0c1wiLG49RC5JTkZPLGQ9e3BsdWdpbl9uYW1lOmUsZHVyYXRpb246dCxsb2FkX3RpbWU6cixzYW1wbGVSYXRlOml9O3JldHVybiBuZXcgTyh7bmFtZTpzLGxldmVsOm4scHJvcGVydGllczpkfSl9c3RhdGljIHN0YXRzKHtwbHVnaW5OYW1lOmUsZHVyYXRpb246dCxsb2FkVGltZTpyLGF2Z1ByZVByb2Nlc3NpbmdUaW1lOmksYXZnUHJvY2Vzc2luZ1RpbWU6cyxpbnB1dEZyYW1lUmF0ZTpuLHBsdWdpbkZyYW1lUmF0ZTpkfSl7bGV0IGw9XCJtZWRpYVBsdWdpbi5zdGF0c1wiLGg9RC5JTkZPLHU9e3BsdWdpbl9uYW1lOmUsZHVyYXRpb246dCxsb2FkX3RpbWU6cixhdmdfcHJlcHJvY2Vzc2luZ190aW1lOmksYXZnX3Byb2Nlc3NpbmdfdGltZTpzLGlucHV0X2ZyYW1lX3JhdGU6bixwbHVnaW5fZnJhbWVfcmF0ZTpkfTtyZXR1cm4gbmV3IE8oe25hbWU6bCxsZXZlbDpoLHByb3BlcnRpZXM6dX0pfX07dmFyIEN0PWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMuZXZlbnRCdXM9ZTt0aGlzLlRBRz1cIltBdWRpb1BsdWdpbnNBbmFseXRpY3NdXCI7dGhpcy5pbml0VGltZT17fSx0aGlzLmFkZGVkVGltZXN0YW1wcz17fSx0aGlzLnBsdWdpbkFkZGVkPXt9LHRoaXMucGx1Z2luU2FtcGxlUmF0ZT17fX1hZGRlZChlLHQpe3RoaXMucGx1Z2luQWRkZWRbZV09ITAsdGhpcy5hZGRlZFRpbWVzdGFtcHNbZV09RGF0ZS5ub3coKSx0aGlzLmluaXRUaW1lW2VdPTAsdGhpcy5wbHVnaW5TYW1wbGVSYXRlW2VdPXR9cmVtb3ZlZChlKXtpZih0aGlzLnBsdWdpbkFkZGVkW2VdKXtsZXQgdD17cGx1Z2luTmFtZTplLGR1cmF0aW9uOk1hdGguZmxvb3IoKERhdGUubm93KCktdGhpcy5hZGRlZFRpbWVzdGFtcHNbZV0pLzFlMyksbG9hZFRpbWU6dGhpcy5pbml0VGltZVtlXSxzYW1wbGVSYXRlOnRoaXMucGx1Z2luU2FtcGxlUmF0ZVtlXX07dGhpcy5ldmVudEJ1cy5hbmFseXRpY3MucHVibGlzaChvZS5hdWRpb1BsdWdpblN0YXRzKHQpKSx0aGlzLmNsZWFuKGUpfX1mYWlsdXJlKGUsdCl7dGhpcy5wbHVnaW5BZGRlZFtlXSYmKHRoaXMuZXZlbnRCdXMuYW5hbHl0aWNzLnB1Ymxpc2gob2UuYXVkaW9QbHVnaW5GYWlsdXJlKGUsdGhpcy5wbHVnaW5TYW1wbGVSYXRlW2VdLHQpKSx0aGlzLmNsZWFuKGUpKX1pbml0V2l0aFRpbWUoZSx0KXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYodGhpcy5pbml0VGltZVtlXSl7by5pKHRoaXMuVEFHLGBQbHVnaW4gQWxyZWFkeSBsb2FkZWQgJHtlfSwgdGltZSBpdCB0b29rOiAke3RoaXMuaW5pdFRpbWVbZV19YCk7cmV0dXJufWxldCByO3RyeXtyPXlpZWxkIHRoaXMudGltZUluTXModCksby5pKHRoaXMuVEFHLGBUaW1lIHRha2VuIGZvciBQbHVnaW4gJHtlfSBpbml0aWFsaXphdGlvbiA6ICR7cn1gKX1jYXRjaChpKXtsZXQgcz1tLk1lZGlhUGx1Z2luRXJyb3JzLkluaXRGYWlsZWQocC5BVURJT19QTFVHSU5TLGBmYWlsZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uIG9mIHBsdWdpbiR7aS5tZXNzYWdlfHxpfWApO3Rocm93IG8uZSh0aGlzLlRBRyxzKSx0aGlzLmZhaWx1cmUoZSxzKSxzfXImJih0aGlzLmluaXRUaW1lW2VdPXIpfSl9dGltZUluTXMoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCB0PURhdGUubm93KCk7cmV0dXJuIHlpZWxkIGUoKSxNYXRoLmZsb29yKERhdGUubm93KCktdCl9KX1jbGVhbihlKXtkZWxldGUgdGhpcy5hZGRlZFRpbWVzdGFtcHNbZV0sZGVsZXRlIHRoaXMuaW5pdFRpbWVbZV0sZGVsZXRlIHRoaXMucGx1Z2luQWRkZWRbZV0sZGVsZXRlIHRoaXMucGx1Z2luU2FtcGxlUmF0ZVtlXX19O3ZhciB2aT00OGUzLFRpPSgpPT5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJGaXJlZm94XCIpIT09LTEsUWU9Y2xhc3N7Y29uc3RydWN0b3IoZSx0KXt0aGlzLlRBRz1cIltBdWRpb1BsdWdpbnNNYW5hZ2VyXVwiO3RoaXMucGx1Z2luQWRkSW5Qcm9ncmVzcz0hMTt0aGlzLmhtc1RyYWNrPWUsdGhpcy5wbHVnaW5zTWFwPW5ldyBNYXAsdGhpcy5hbmFseXRpY3M9bmV3IEN0KHQpLHRoaXMuY3JlYXRlQXVkaW9Db250ZXh0KCl9Z2V0UGx1Z2lucygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMucGx1Z2luc01hcC5rZXlzKCkpfWFkZFBsdWdpbihlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIHI7bGV0IHQ9KHI9ZS5nZXROYW1lKT09bnVsbD92b2lkIDA6ci5jYWxsKGUpO2lmKCF0KXtvLncoXCJubyBuYW1lIHByb3ZpZGVkIGJ5IHRoZSBwbHVnaW5cIik7cmV0dXJufWlmKHRoaXMucGx1Z2luQWRkSW5Qcm9ncmVzcyl7bGV0IGk9bS5NZWRpYVBsdWdpbkVycm9ycy5BZGRBbHJlYWR5SW5Qcm9ncmVzcyhwLkFVRElPX1BMVUdJTlMsXCJBZGQgUGx1Z2luIGlzIGFscmVhZHkgaW4gUHJvZ3Jlc3NcIik7dGhyb3cgdGhpcy5hbmFseXRpY3MuYWRkZWQodCx0aGlzLmF1ZGlvQ29udGV4dC5zYW1wbGVSYXRlKSx0aGlzLmFuYWx5dGljcy5mYWlsdXJlKHQsaSksby53KFwiY2FuJ3QgYWRkIGFub3RoZXIgcGx1Z2luIHdoZW4gcHJldmlvdXMgYWRkIGlzIGluIHByb2dyZXNzXCIpLGl9dGhpcy5wbHVnaW5BZGRJblByb2dyZXNzPSEwO3RyeXt5aWVsZCB0aGlzLmFkZFBsdWdpbkludGVybmFsKGUpfWZpbmFsbHl7dGhpcy5wbHVnaW5BZGRJblByb2dyZXNzPSExfX0pfWFkZFBsdWdpbkludGVybmFsKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgcjtsZXQgdD0ocj1lLmdldE5hbWUpPT1udWxsP3ZvaWQgMDpyLmNhbGwoZSk7aWYodGhpcy5wbHVnaW5zTWFwLmdldCh0KSl7by53KHRoaXMuVEFHLGBwbHVnaW4gLSAke3R9IGFscmVhZHkgYWRkZWQuYCk7cmV0dXJufXlpZWxkIHRoaXMudmFsaWRhdGVBbmRUaHJvdyh0LGUpO3RyeXt0aGlzLnBsdWdpbnNNYXAuc2l6ZT09PTA/eWllbGQgdGhpcy5pbml0QXVkaW9Ob2RlcygpOnRoaXMucHJldkF1ZGlvTm9kZSYmdGhpcy5wcmV2QXVkaW9Ob2RlLmRpc2Nvbm5lY3QoKSx0aGlzLmFuYWx5dGljcy5hZGRlZCh0LHRoaXMuYXVkaW9Db250ZXh0LnNhbXBsZVJhdGUpLHlpZWxkIHRoaXMuYW5hbHl0aWNzLmluaXRXaXRoVGltZSh0LCgpPT5jKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gZS5pbml0KCl9KSksdGhpcy5wbHVnaW5zTWFwLnNldCh0LGUpLHlpZWxkIHRoaXMucHJvY2Vzc1BsdWdpbihlKSx5aWVsZCB0aGlzLmNvbm5lY3RUb0Rlc3RpbmF0aW9uKCl9Y2F0Y2goaSl7dGhyb3cgby5lKHRoaXMuVEFHLFwiZmFpbGVkIHRvIGFkZCBwbHVnaW5cIixpKSxpfX0pfXZhbGlkYXRlUGx1Z2luKGUpe3JldHVybiBlLmNoZWNrU3VwcG9ydCh0aGlzLmF1ZGlvQ29udGV4dCl9dmFsaWRhdGVBbmRUaHJvdyhlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgcj10aGlzLnZhbGlkYXRlUGx1Z2luKHQpO2lmKHIuaXNTdXBwb3J0ZWQpby5pKHRoaXMuVEFHLGBwbHVnaW4gaXMgc3VwcG9ydGVkLC0gJHt0LmdldE5hbWUoKX1gKTtlbHNlIGlmKHRoaXMuYW5hbHl0aWNzLmFkZGVkKGUsdGhpcy5hdWRpb0NvbnRleHQuc2FtcGxlUmF0ZSksci5lcnJUeXBlPT09aWUuUExBVEZPUk1fTk9UX1NVUFBPUlRFRCl7bGV0IGk9bS5NZWRpYVBsdWdpbkVycm9ycy5QbGF0Zm9ybU5vdFN1cHBvcnRlZChwLkFVRElPX1BMVUdJTlMsXCJwbGF0Zm9ybSBub3Qgc3VwcG9ydGVkLCBzZWUgZG9jc1wiKTt0aHJvdyB0aGlzLmFuYWx5dGljcy5mYWlsdXJlKGUsaSkseWllbGQgdGhpcy5jbGVhbnVwKCksaX1lbHNlIGlmKHIuZXJyVHlwZT09PWllLkRFVklDRV9OT1RfU1VQUE9SVEVEKXtsZXQgaT1tLk1lZGlhUGx1Z2luRXJyb3JzLkRldmljZU5vdFN1cHBvcnRlZChwLkFVRElPX1BMVUdJTlMsXCJhdWRpbyBkZXZpY2Ugbm90IHN1cHBvcnRlZCwgc2VlIGRvY3NcIik7dGhyb3cgdGhpcy5hbmFseXRpY3MuZmFpbHVyZShlLGkpLHlpZWxkIHRoaXMuY2xlYW51cCgpLGl9fSl9cmVtb3ZlUGx1Z2luKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLnJlbW92ZVBsdWdpbkludGVybmFsKGUpLHRoaXMucGx1Z2luc01hcC5zaXplPT09MD8oeWllbGQgdGhpcy5jbGVhbnVwKCksby5pKHRoaXMuVEFHLFwiTm8gcGx1Z2lucyBsZWZ0LCBzdG9wcGluZyBwbHVnaW5zIGxvb3BcIikseWllbGQgdGhpcy5obXNUcmFjay5zZXRQcm9jZXNzZWRUcmFjayh2b2lkIDApKTp5aWVsZCB0aGlzLnJlcHJvY2Vzc1BsdWdpbnMoKX0pfWNsZWFudXAoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIGUsdCxyO2ZvcihsZXQgaSBvZiB0aGlzLnBsdWdpbnNNYXAudmFsdWVzKCkpeWllbGQgdGhpcy5yZW1vdmVQbHVnaW5JbnRlcm5hbChpKTt5aWVsZCB0aGlzLmhtc1RyYWNrLnNldFByb2Nlc3NlZFRyYWNrKHZvaWQgMCksKGU9dGhpcy5zb3VyY2VOb2RlKT09bnVsbHx8ZS5kaXNjb25uZWN0KCksKHQ9dGhpcy5wcmV2QXVkaW9Ob2RlKT09bnVsbHx8dC5kaXNjb25uZWN0KCksKHI9dGhpcy5vdXRwdXRUcmFjayk9PW51bGx8fHIuc3RvcCgpLHRoaXMuc291cmNlTm9kZT12b2lkIDAsdGhpcy5kZXN0aW5hdGlvbk5vZGU9dm9pZCAwLHRoaXMucHJldkF1ZGlvTm9kZT12b2lkIDAsdGhpcy5vdXRwdXRUcmFjaz12b2lkIDB9KX1jbG9zZUNvbnRleHQoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIGU7KGU9dGhpcy5hdWRpb0NvbnRleHQpPT1udWxsfHxlLmNsb3NlKCksdGhpcy5hdWRpb0NvbnRleHQ9dm9pZCAwfSl9cmVwcm9jZXNzUGx1Z2lucygpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZih0aGlzLnBsdWdpbnNNYXAuc2l6ZT09PTB8fCF0aGlzLnNvdXJjZU5vZGUpcmV0dXJuO2xldCBlPUFycmF5LmZyb20odGhpcy5wbHVnaW5zTWFwLnZhbHVlcygpKTt5aWVsZCB0aGlzLmNsZWFudXAoKSx5aWVsZCB0aGlzLmluaXRBdWRpb05vZGVzKCk7Zm9yKGxldCB0IG9mIGUpeWllbGQgdGhpcy5hZGRQbHVnaW4odCl9KX1pbml0QXVkaW9Ob2Rlcygpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZih0aGlzLmF1ZGlvQ29udGV4dCl7aWYoIXRoaXMuc291cmNlTm9kZSl7bGV0IGU9bmV3IE1lZGlhU3RyZWFtKFt0aGlzLmhtc1RyYWNrLm5hdGl2ZVRyYWNrXSk7dGhpcy5zb3VyY2VOb2RlPXRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKGUpfWlmKCF0aGlzLmRlc3RpbmF0aW9uTm9kZSl7dGhpcy5kZXN0aW5hdGlvbk5vZGU9dGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpLHRoaXMub3V0cHV0VHJhY2s9dGhpcy5kZXN0aW5hdGlvbk5vZGUuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07dHJ5e3lpZWxkIHRoaXMuaG1zVHJhY2suc2V0UHJvY2Vzc2VkVHJhY2sodGhpcy5vdXRwdXRUcmFjayl9Y2F0Y2goZSl7dGhyb3cgby5lKHRoaXMuVEFHLFwiZXJyb3IgaW4gc2V0dGluZyBwcm9jZXNzZWQgdHJhY2tcIixlKSxlfX19fSl9cHJvY2Vzc1BsdWdpbihlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dHJ5e2xldCB0PXlpZWxkIGUucHJvY2Vzc0F1ZGlvVHJhY2sodGhpcy5hdWRpb0NvbnRleHQsdGhpcy5wcmV2QXVkaW9Ob2RlfHx0aGlzLnNvdXJjZU5vZGUpO3RoaXMucHJldkF1ZGlvTm9kZSYmdGhpcy5wcmV2QXVkaW9Ob2RlLmNvbm5lY3QodCksdGhpcy5wcmV2QXVkaW9Ob2RlPXR9Y2F0Y2godCl7bGV0IHI9ZS5nZXROYW1lKCk7by5lKHRoaXMuVEFHLGBlcnJvciBpbiBwcm9jZXNzaW5nIHBsdWdpbiAke3J9YCx0KSx5aWVsZCB0aGlzLnJlbW92ZVBsdWdpbkludGVybmFsKGUpfX0pfWNvbm5lY3RUb0Rlc3RpbmF0aW9uKCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3RyeXt0aGlzLnByZXZBdWRpb05vZGUmJnRoaXMuZGVzdGluYXRpb25Ob2RlJiZ0aGlzLnByZXZBdWRpb05vZGUuY29udGV4dD09PXRoaXMuZGVzdGluYXRpb25Ob2RlLmNvbnRleHQmJnRoaXMucHJldkF1ZGlvTm9kZS5jb25uZWN0KHRoaXMuZGVzdGluYXRpb25Ob2RlKX1jYXRjaChlKXtvLmUodGhpcy5UQUcsXCJlcnJvciBpbiBjb25uZWN0aW5nIHRvIGRlc3RpbmF0aW9uIG5vZGVcIixlKX19KX1yZW1vdmVQbHVnaW5JbnRlcm5hbChlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIHI7bGV0IHQ9KHI9ZS5nZXROYW1lKT09bnVsbD92b2lkIDA6ci5jYWxsKGUpO2lmKCF0aGlzLnBsdWdpbnNNYXAuZ2V0KHQpKXtvLncodGhpcy5UQUcsYHBsdWdpbiAtICR7dH0gbm90IGZvdW5kIHRvIHJlbW92ZS5gKTtyZXR1cm59by5pKHRoaXMuVEFHLGByZW1vdmluZyBwbHVnaW4gJHt0fWApLHRoaXMucGx1Z2luc01hcC5kZWxldGUodCksZS5zdG9wKCksdGhpcy5hbmFseXRpY3MucmVtb3ZlZCh0KX0pfWNyZWF0ZUF1ZGlvQ29udGV4dCgpe3RoaXMuYXVkaW9Db250ZXh0fHwoVGkoKT90aGlzLmF1ZGlvQ29udGV4dD1uZXcgQXVkaW9Db250ZXh0OnRoaXMuYXVkaW9Db250ZXh0PW5ldyBBdWRpb0NvbnRleHQoe3NhbXBsZVJhdGU6dml9KSl9fTtmdW5jdGlvbiBZZShhKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dHJ5e3JldHVybih5aWVsZCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7YXVkaW86YT9hLnRvQ29uc3RyYWludHMoKTohMX0pKS5nZXRBdWRpb1RyYWNrcygpWzBdfWNhdGNoKGUpe3Rocm93IFooZSxXLkFVRElPKX19KX1mdW5jdGlvbiB6ZShhKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dHJ5e3JldHVybih5aWVsZCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7dmlkZW86YT9hLnRvQ29uc3RyYWludHMoKTohMX0pKS5nZXRWaWRlb1RyYWNrcygpWzBdfWNhdGNoKGUpe3Rocm93IFooZSxXLlZJREVPKX19KX1mdW5jdGlvbiBYZShhKXtyZXR1cm5cImNhbnZhc1wiaW4gYXx8YS5sYWJlbD09PVwiTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZVwifHxhLmxhYmVsPT09XCJcIn12YXIgbWU9Y2xhc3N7Y29uc3RydWN0b3IoZT0xLzApe3RoaXMuY2FwYWNpdHk9ZTt0aGlzLnN0b3JhZ2U9W119c2l6ZSgpe3JldHVybiB0aGlzLnN0b3JhZ2UubGVuZ3RofXRvTGlzdCgpe3JldHVybiB0aGlzLnN0b3JhZ2Uuc2xpY2UoMCl9ZW5xdWV1ZShlKXt0aGlzLnNpemUoKT09PXRoaXMuY2FwYWNpdHkmJnRoaXMuZGVxdWV1ZSgpLHRoaXMuc3RvcmFnZS5wdXNoKGUpfWRlcXVldWUoKXtyZXR1cm4gdGhpcy5zdG9yYWdlLnNoaWZ0KCl9YWdncmVnYXRlKGUpe3JldHVybiBlKHRoaXMuc3RvcmFnZSl9fTtmdW5jdGlvbiBqKGEpe2lmKGE8MCl0aHJvdyBFcnJvcihcImBtc2Agc2hvdWxkIGJlIGEgcG9zaXRpdmUgaW50ZWdlclwiKTtyZXR1cm4gbmV3IFByb21pc2UoZT0+c2V0VGltZW91dChlLGEpKX1mdW5jdGlvbiBNcihhLGU9MzAwKXtsZXQgdDtyZXR1cm4gZnVuY3Rpb24oLi4ucil7Y2xlYXJUaW1lb3V0KHQpLHQ9dm9pZCAwO2xldCBpPXRoaXM7dD1zZXRUaW1lb3V0KCgpPT57YS5hcHBseShpLHIpfSxlKX19dmFyIGZpPTM1LEVpPTUsUnQ9Y2xhc3N7Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMudHJhY2s9ZTt0aGlzLmF1ZGlvTGV2ZWxFdmVudD10O3RoaXMuc2lsZW5jZUV2ZW50PXI7dGhpcy5UQUc9XCJbVHJhY2tBdWRpb0xldmVsTW9uaXRvcl1cIjt0aGlzLmF1ZGlvTGV2ZWw9MDt0aGlzLmlzTW9uaXRvcmVkPSExO3RoaXMuaW50ZXJ2YWw9MTAwO3RoaXMuaGlzdG9yeUludGVydmFsPTcwMDt0aGlzLmhpc3Rvcnk9bmV3IG1lKHRoaXMuaGlzdG9yeUludGVydmFsL3RoaXMuaW50ZXJ2YWwpO3RoaXMuZGV0ZWN0U2lsZW5jZT0oKT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IGU9MzAsdD0xMCxyPTA7Zm9yKDt0aGlzLmlzTW9uaXRvcmVkOyl7aWYodGhpcy50cmFjay5lbmFibGVkKWlmKHRoaXMuaXNTaWxlbnRUaGlzSW5zdGFudCgpKXtpZihyKysscj50KXt0aGlzLnNpbGVuY2VFdmVudC5wdWJsaXNoKHt0cmFjazp0aGlzLnRyYWNrfSk7YnJlYWt9fWVsc2UgYnJlYWs7eWllbGQgaihlKX19KTt0cnl7bGV0IGk9bmV3IE1lZGlhU3RyZWFtKFt0aGlzLnRyYWNrLm5hdGl2ZVRyYWNrXSk7dGhpcy5hbmFseXNlck5vZGU9dGhpcy5jcmVhdGVBbmFseXNlck5vZGVGb3JTdHJlYW0oaSl9Y2F0Y2goaSl7by53KHRoaXMuVEFHLFwiVW5hYmxlIHRvIGluaXRpYWxpemUgQXVkaW9Db250ZXh0XCIsaSl9fXN0YXJ0KCl7dGhpcy5zdG9wKCksdGhpcy5pc01vbml0b3JlZD0hMCxvLmQodGhpcy5UQUcsXCJTdGFydGluZyB0cmFjayBNb25pdG9yXCIsYCR7dGhpcy50cmFja31gKSx0aGlzLmxvb3AoKS50aGVuKCgpPT5vLmQodGhpcy5UQUcsXCJTdG9wcGluZyB0cmFjayBNb25pdG9yXCIsYCR7dGhpcy50cmFja31gKSl9c3RvcCgpe2lmKCF0aGlzLmFuYWx5c2VyTm9kZSl7by5kKHRoaXMuVEFHLFwiQXVkaW9Db250ZXh0IG5vdCBpbml0aWFsaXplZFwiKTtyZXR1cm59dGhpcy5zZW5kQXVkaW9MZXZlbCgwKSx0aGlzLmlzTW9uaXRvcmVkPSExfWxvb3AoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Zm9yKDt0aGlzLmlzTW9uaXRvcmVkOyl0aGlzLnNlbmRBdWRpb0xldmVsKHRoaXMuZ2V0TWF4QXVkaW9MZXZlbE92ZXJQZXJpb2QoKSkseWllbGQgaih0aGlzLmludGVydmFsKX0pfXNlbmRBdWRpb0xldmVsKGU9MCl7aWYoZT1lPmZpP2U6MCxNYXRoLmFicyh0aGlzLmF1ZGlvTGV2ZWwtZSk+RWkpe3RoaXMuYXVkaW9MZXZlbD1lO2xldCByPXt0cmFjazp0aGlzLnRyYWNrLGF1ZGlvTGV2ZWw6dGhpcy5hdWRpb0xldmVsfTt0aGlzLmF1ZGlvTGV2ZWxFdmVudC5wdWJsaXNoKHIpfX1nZXRNYXhBdWRpb0xldmVsT3ZlclBlcmlvZCgpe2lmKCF0aGlzLmFuYWx5c2VyTm9kZSl7by5kKHRoaXMuVEFHLFwiQXVkaW9Db250ZXh0IG5vdCBpbml0aWFsaXplZFwiKTtyZXR1cm59bGV0IGU9dGhpcy5jYWxjdWxhdGVBdWRpb0xldmVsKCk7cmV0dXJuIGUhPT12b2lkIDAmJnRoaXMuaGlzdG9yeS5lbnF1ZXVlKGUpLHRoaXMuaGlzdG9yeS5hZ2dyZWdhdGUodD0+TWF0aC5tYXgoLi4udCkpfWNhbGN1bGF0ZUF1ZGlvTGV2ZWwoKXtpZighdGhpcy5hbmFseXNlck5vZGUpe28uZCh0aGlzLlRBRyxcIkF1ZGlvQ29udGV4dCBub3QgaW5pdGlhbGl6ZWRcIik7cmV0dXJufWxldCBlPW5ldyBVaW50OEFycmF5KHRoaXMuYW5hbHlzZXJOb2RlLmZmdFNpemUpO3RoaXMuYW5hbHlzZXJOb2RlLmdldEJ5dGVUaW1lRG9tYWluRGF0YShlKTtsZXQgdD0uMDA5LHI9dDtmb3IobGV0IG4gb2YgZSlyPU1hdGgubWF4KHIsKG4tMTI4KS8xMjgpO2xldCBpPShNYXRoLmxvZyh0KS1NYXRoLmxvZyhyKSkvTWF0aC5sb2codCk7cmV0dXJuIE1hdGguY2VpbChNYXRoLm1pbihNYXRoLm1heChpKjEwMCwwKSwxMDApKX1pc1NpbGVudFRoaXNJbnN0YW50KCl7aWYoIXRoaXMuYW5hbHlzZXJOb2RlKXtvLmQodGhpcy5UQUcsXCJBdWRpb0NvbnRleHQgbm90IGluaXRpYWxpemVkXCIpO3JldHVybn1sZXQgZT1uZXcgVWludDhBcnJheSh0aGlzLmFuYWx5c2VyTm9kZS5mZnRTaXplKTtyZXR1cm4gdGhpcy5hbmFseXNlck5vZGUuZ2V0Qnl0ZVRpbWVEb21haW5EYXRhKGUpLCFlLnNvbWUodD0+dCE9PTEyOCYmdCE9PTApfWNyZWF0ZUFuYWx5c2VyTm9kZUZvclN0cmVhbShlKXtsZXQgdD1uZXcgQXVkaW9Db250ZXh0LHI9dC5jcmVhdGVBbmFseXNlcigpO3JldHVybiB0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKGUpLmNvbm5lY3Qocikscn19O2Z1bmN0aW9uIEFyKGEsZSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiByIGluIGEmJmFbcl0hPT1lW3JdfX12YXIgUGU9Y2xhc3MgZXh0ZW5kcyBEZXtjb25zdHJ1Y3RvcihlLHQscixpLHM9bmV3IHooKS5idWlsZCgpKXtzdXBlcihlLHQscik7dGhpcy5ldmVudEJ1cz1pO3RoaXMuVEFHPVwiW0hNU0xvY2FsQXVkaW9UcmFja11cIjt0aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2U9KCk9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe2RvY3VtZW50LnZpc2liaWxpdHlTdGF0ZT09PVwidmlzaWJsZVwiJiYoeWllbGQgdGhpcy5yZXBsYWNlVHJhY2tXaXRoKHRoaXMuc2V0dGluZ3MpKX0pO3RoaXMuaGFuZGxlU2V0dGluZ3NDaGFuZ2U9ZT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IHQ9dGhpcy5zdHJlYW0scj1BcihlLHRoaXMuc2V0dGluZ3MpO3IoXCJtYXhCaXRyYXRlXCIpJiZlLm1heEJpdHJhdGUmJih5aWVsZCB0LnNldE1heEJpdHJhdGUoZS5tYXhCaXRyYXRlLHRoaXMpKSxyKFwiYWR2YW5jZWRcIikmJih5aWVsZCB0aGlzLnJlcGxhY2VUcmFja1dpdGgoZSkpfSk7dGhpcy5oYW5kbGVEZXZpY2VDaGFuZ2U9KGUsdD0hMSk9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe0FyKGUsdGhpcy5zZXR0aW5ncykoXCJkZXZpY2VJZFwiKSYmKHlpZWxkIHRoaXMucmVwbGFjZVRyYWNrV2l0aChlKSx0fHxRLnVwZGF0ZVNlbGVjdGlvbihcImF1ZGlvSW5wdXRcIix7ZGV2aWNlSWQ6ZS5kZXZpY2VJZCxncm91cElkOnRoaXMubmF0aXZlVHJhY2suZ2V0U2V0dGluZ3MoKS5ncm91cElkfSkpfSk7ZS50cmFja3MucHVzaCh0aGlzKSx0aGlzLnNldHRpbmdzPXMscy5kZXZpY2VJZCE9PXQuZ2V0U2V0dGluZ3MoKS5kZXZpY2VJZCYmIVhlKHQpJiYodGhpcy5zZXR0aW5ncz10aGlzLmJ1aWxkTmV3U2V0dGluZ3Moe2RldmljZUlkOnQuZ2V0U2V0dGluZ3MoKS5kZXZpY2VJZH0pKSx0aGlzLnBsdWdpbnNNYW5hZ2VyPW5ldyBRZSh0aGlzLGkpLHRoaXMuc2V0Rmlyc3RUcmFja0lkKHQuaWQpLE10KCkmJlgmJmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy5oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKX1yZXBsYWNlVHJhY2tXaXRoKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgdD10aGlzLm5hdGl2ZVRyYWNrLHI9dGhpcy5lbmFibGVkLGk9Qm9vbGVhbih0aGlzLmF1ZGlvTGV2ZWxNb25pdG9yKTt0PT1udWxsfHx0LnN0b3AoKTtsZXQgcz15aWVsZCBZZShlKTtzLmVuYWJsZWQ9cjtsZXQgbj10aGlzLnN0cmVhbTt5aWVsZCBuLnJlcGxhY2VTZW5kZXJUcmFjayh0LHRoaXMucHJvY2Vzc2VkVHJhY2t8fHMpLHlpZWxkIG4ucmVwbGFjZVN0cmVhbVRyYWNrKHQscyksdGhpcy5uYXRpdmVUcmFjaz1zLGkmJnRoaXMuaW5pdEF1ZGlvTGV2ZWxNb25pdG9yKCk7dHJ5e3lpZWxkIHRoaXMucGx1Z2luc01hbmFnZXIucmVwcm9jZXNzUGx1Z2lucygpfWNhdGNoKGQpe3RoaXMuZXZlbnRCdXMuYXVkaW9QbHVnaW5GYWlsZWQucHVibGlzaChkKX19KX1zZXRFbmFibGVkKGUpe3ZhciB0PXI9PnN1cGVyW3JdO3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtlIT09dGhpcy5lbmFibGVkJiYoZSYmWGUodGhpcy5uYXRpdmVUcmFjaykmJih5aWVsZCB0aGlzLnJlcGxhY2VUcmFja1dpdGgodGhpcy5zZXR0aW5ncykpLHlpZWxkIHQoXCJzZXRFbmFibGVkXCIpLmNhbGwodGhpcyxlKSxlJiYodGhpcy5zZXR0aW5ncz10aGlzLmJ1aWxkTmV3U2V0dGluZ3Moe2RldmljZUlkOnRoaXMubmF0aXZlVHJhY2suZ2V0U2V0dGluZ3MoKS5kZXZpY2VJZH0pKSx0aGlzLmV2ZW50QnVzLmxvY2FsQXVkaW9FbmFibGVkLnB1Ymxpc2goe2VuYWJsZWQ6ZSx0cmFjazp0aGlzfSksdGhpcy5zdHJlYW0udHJhY2tVcGRhdGUodGhpcykpfSl9aXNQdWJsaXNoZWRUcmFja0lkKGUpe3JldHVybiB0aGlzLnB1Ymxpc2hlZFRyYWNrSWQ9PT1lfXNldFNldHRpbmdzKGUsdD0hMSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCByPXRoaXMuYnVpbGROZXdTZXR0aW5ncyhlKTtpZih5aWVsZCB0aGlzLmhhbmRsZURldmljZUNoYW5nZShyLHQpLFhlKHRoaXMubmF0aXZlVHJhY2spKXt0aGlzLnNldHRpbmdzPXI7cmV0dXJufXlpZWxkIHRoaXMuaGFuZGxlU2V0dGluZ3NDaGFuZ2UociksdGhpcy5zZXR0aW5ncz1yfSl9Z2V0UGx1Z2lucygpe3JldHVybiB0aGlzLnBsdWdpbnNNYW5hZ2VyLmdldFBsdWdpbnMoKX1hZGRQbHVnaW4oZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybiB0aGlzLnBsdWdpbnNNYW5hZ2VyLmFkZFBsdWdpbihlKX0pfXJlbW92ZVBsdWdpbihlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHRoaXMucGx1Z2luc01hbmFnZXIucmVtb3ZlUGx1Z2luKGUpfSl9dmFsaWRhdGVQbHVnaW4oZSl7cmV0dXJuIHRoaXMucGx1Z2luc01hbmFnZXIudmFsaWRhdGVQbHVnaW4oZSl9c2V0UHJvY2Vzc2VkVHJhY2soZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKCFlKXt0aGlzLnByb2Nlc3NlZFRyYWNrJiYoeWllbGQgdGhpcy5zdHJlYW0ucmVwbGFjZVNlbmRlclRyYWNrKHRoaXMucHJvY2Vzc2VkVHJhY2ssdGhpcy5uYXRpdmVUcmFjaykpLHRoaXMucHJvY2Vzc2VkVHJhY2s9dm9pZCAwO3JldHVybn1lIT09dGhpcy5wcm9jZXNzZWRUcmFjayYmKHRoaXMucHJvY2Vzc2VkVHJhY2s/eWllbGQgdGhpcy5zdHJlYW0ucmVwbGFjZVNlbmRlclRyYWNrKHRoaXMucHJvY2Vzc2VkVHJhY2ssZSk6eWllbGQgdGhpcy5zdHJlYW0ucmVwbGFjZVNlbmRlclRyYWNrKHRoaXMubmF0aXZlVHJhY2ssZSksdGhpcy5wcm9jZXNzZWRUcmFjaz1lKX0pfWluaXRBdWRpb0xldmVsTW9uaXRvcigpe3RoaXMuYXVkaW9MZXZlbE1vbml0b3ImJnRoaXMuZGVzdHJveUF1ZGlvTGV2ZWxNb25pdG9yKCksby5kKHRoaXMuVEFHLFwiTW9uaXRvciBBdWRpbyBMZXZlbCBmb3JcIix0aGlzLHRoaXMuZ2V0TWVkaWFUcmFja1NldHRpbmdzKCkuZGV2aWNlSWQpLHRoaXMuYXVkaW9MZXZlbE1vbml0b3I9bmV3IFJ0KHRoaXMsdGhpcy5ldmVudEJ1cy50cmFja0F1ZGlvTGV2ZWxVcGRhdGUsdGhpcy5ldmVudEJ1cy5sb2NhbEF1ZGlvU2lsZW5jZSksdGhpcy5hdWRpb0xldmVsTW9uaXRvci5zdGFydCgpLHRoaXMuYXVkaW9MZXZlbE1vbml0b3IuZGV0ZWN0U2lsZW5jZSgpfWRlc3Ryb3lBdWRpb0xldmVsTW9uaXRvcigpe3ZhciBlOyhlPXRoaXMuYXVkaW9MZXZlbE1vbml0b3IpPT1udWxsfHxlLnN0b3AoKSx0aGlzLmF1ZGlvTGV2ZWxNb25pdG9yPXZvaWQgMH1jbGVhbnVwKCl7dmFyIGU9dD0+c3VwZXJbdF07cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciByO2UoXCJjbGVhbnVwXCIpLmNhbGwodGhpcykseWllbGQgdGhpcy5wbHVnaW5zTWFuYWdlci5jbGVhbnVwKCkseWllbGQgdGhpcy5wbHVnaW5zTWFuYWdlci5jbG9zZUNvbnRleHQoKSwocj10aGlzLnByb2Nlc3NlZFRyYWNrKT09bnVsbHx8ci5zdG9wKCksdGhpcy5kZXN0cm95QXVkaW9MZXZlbE1vbml0b3IoKSxNdCgpJiZYJiZkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSl9KX1nZXRUcmFja0lEQmVpbmdTZW50KCl7cmV0dXJuIHRoaXMucHJvY2Vzc2VkVHJhY2s/dGhpcy5wcm9jZXNzZWRUcmFjay5pZDp0aGlzLm5hdGl2ZVRyYWNrLmlkfWdldFRyYWNrQmVpbmdTZW50KCl7cmV0dXJuIHRoaXMucHJvY2Vzc2VkVHJhY2t8fHRoaXMubmF0aXZlVHJhY2t9YnVpbGROZXdTZXR0aW5ncyhlKXtsZXR7dm9sdW1lOnQsY29kZWM6cixtYXhCaXRyYXRlOmksZGV2aWNlSWQ6cyxhZHZhbmNlZDpufT12KHYoe30sdGhpcy5zZXR0aW5ncyksZSk7cmV0dXJuIG5ldyBrZSh0LHIsaSxzLG4pfX07dmFyIHd0PWNsYXNzIGV4dGVuZHMgRGV7c2V0RW5hYmxlZChlKXt2YXIgdD1yPT5zdXBlcltyXTtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7ZSE9PXRoaXMuZW5hYmxlZCYmKHlpZWxkIHQoXCJzZXRFbmFibGVkXCIpLmNhbGwodGhpcyxlKSx5aWVsZCB0aGlzLnN1YnNjcmliZVRvQXVkaW8oZSkpfSl9fTt2YXIgTmU9Y2xhc3MgZXh0ZW5kcyBwZXtjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIoZSx0LHIpO3RoaXMudHlwZT1MLlZJREVPO3RoaXMuc2lua0NvdW50PTA7aWYodC5raW5kIT09XCJ2aWRlb1wiKXRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkICd0cmFjaycga2luZCA9ICd2aWRlbydcIil9aGFzU2lua3MoKXtyZXR1cm4gdGhpcy5zaW5rQ291bnQ+MH1hZGRTaW5rKGUpe3RoaXMuYWRkU2lua0ludGVybmFsKGUsdGhpcy5uYXRpdmVUcmFjayl9cmVtb3ZlU2luayhlKXtlLnNyY09iamVjdCE9PW51bGwmJihlLnNyY09iamVjdD1udWxsLHRoaXMuc2lua0NvdW50PjAmJnRoaXMuc2lua0NvdW50LS0pfWFkZFNpbmtJbnRlcm5hbChlLHQpe3ZhciBpO2xldCByPWUuc3JjT2JqZWN0O3IhPT1udWxsJiZyIGluc3RhbmNlb2YgTWVkaWFTdHJlYW0mJigoaT1yLmdldFZpZGVvVHJhY2tzKClbMF0pPT1udWxsP3ZvaWQgMDppLmlkKT09PXQuaWR8fChlLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW3RdKSx0aGlzLnNpbmtDb3VudCsrKX19O3ZhciBJZTsoZnVuY3Rpb24odCl7dC5UUkFOU0ZPUk09XCJUUkFOU0ZPUk1cIix0LkFOQUxZWkU9XCJBTkFMWVpFXCJ9KShJZXx8KEllPXt9KSk7dmFyIE9lOyhmdW5jdGlvbih0KXt0W1wiMkRcIl09XCIyZFwiLHQuV0VCR0w9XCJ3ZWJnbFwiLHQuV0VCR0wyPVwid2ViZ2wyXCJ9KShPZXx8KE9lPXt9KSk7dmFyIFplPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy50b3RhbD0wO3RoaXMuY291bnQ9MH1hZGQoZSl7dGhpcy5jb3VudCsrLHRoaXMudG90YWwrPWV9Z2V0QXZnKCl7cmV0dXJuIE1hdGguZmxvb3IodGhpcy50b3RhbC90aGlzLmNvdW50KX1yZXNldCgpe3RoaXMudG90YWw9MCx0aGlzLmNvdW50PTB9fTt2YXIgSHQ9Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5ldmVudEJ1cz1lO3RoaXMuVEFHPVwiW1ZpZGVvUGx1Z2luc0FuYWx5dGljc11cIjt0aGlzLmluaXRUaW1lPXt9LHRoaXMucHJlUHJvY2Vzc2luZ0F2Z3M9bmV3IFplLHRoaXMuYWRkZWRUaW1lc3RhbXBzPXt9LHRoaXMucHJvY2Vzc2luZ0F2Z3M9e30sdGhpcy5wbHVnaW5BZGRlZD17fSx0aGlzLnBsdWdpbklucHV0RnJhbWVSYXRlPXt9LHRoaXMucGx1Z2luRnJhbWVSYXRlPXt9fWFkZGVkKGUsdCxyKXt0aGlzLnBsdWdpbkFkZGVkW2VdPSEwLHRoaXMuYWRkZWRUaW1lc3RhbXBzW2VdPURhdGUubm93KCksdGhpcy5pbml0VGltZVtlXT0wLHRoaXMucHJvY2Vzc2luZ0F2Z3NbZV09bmV3IFplLHRoaXMucGx1Z2luSW5wdXRGcmFtZVJhdGVbZV09dCx0aGlzLnBsdWdpbkZyYW1lUmF0ZVtlXT1yfHx0fXJlbW92ZWQoZSl7dmFyIHQ7aWYodGhpcy5wbHVnaW5BZGRlZFtlXSl7bGV0IHI9e3BsdWdpbk5hbWU6ZSxkdXJhdGlvbjpNYXRoLmZsb29yKChEYXRlLm5vdygpLXRoaXMuYWRkZWRUaW1lc3RhbXBzW2VdKS8xZTMpLGxvYWRUaW1lOnRoaXMuaW5pdFRpbWVbZV0sYXZnUHJlUHJvY2Vzc2luZ1RpbWU6dGhpcy5wcmVQcm9jZXNzaW5nQXZncy5nZXRBdmcoKSxhdmdQcm9jZXNzaW5nVGltZToodD10aGlzLnByb2Nlc3NpbmdBdmdzW2VdKT09bnVsbD92b2lkIDA6dC5nZXRBdmcoKSxpbnB1dEZyYW1lUmF0ZTp0aGlzLnBsdWdpbklucHV0RnJhbWVSYXRlW2VdLHBsdWdpbkZyYW1lUmF0ZTp0aGlzLnBsdWdpbkZyYW1lUmF0ZVtlXX07dGhpcy5ldmVudEJ1cy5hbmFseXRpY3MucHVibGlzaChvZS5zdGF0cyhyKSksdGhpcy5jbGVhbihlKX19ZmFpbHVyZShlLHQpe3RoaXMucGx1Z2luQWRkZWRbZV0mJih0aGlzLmV2ZW50QnVzLmFuYWx5dGljcy5wdWJsaXNoKG9lLmZhaWx1cmUoZSx0KSksdGhpcy5jbGVhbihlKSl9aW5pdFdpdGhUaW1lKGUsdCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKHRoaXMuaW5pdFRpbWVbZV0pe28uaSh0aGlzLlRBRyxgUGx1Z2luIEFscmVhZHkgbG9hZGVkICR7ZX0sIHRpbWUgaXQgdG9vazogJHt0aGlzLmluaXRUaW1lW2VdfWApO3JldHVybn1sZXQgcjt0cnl7cj15aWVsZCB0aGlzLnRpbWVJbk1zKHQpLG8uaSh0aGlzLlRBRyxgVGltZSB0YWtlbiBmb3IgUGx1Z2luICR7ZX0gaW5pdGlhbGl6YXRpb24gOiAke3J9YCl9Y2F0Y2goaSl7bGV0IHM9bS5NZWRpYVBsdWdpbkVycm9ycy5Jbml0RmFpbGVkKHAuVklERU9fUExVR0lOUyxgZmFpbGVkIGR1cmluZyBpbml0aWFsaXphdGlvbiBvZiBwbHVnaW4ke2kubWVzc2FnZXx8aX1gKTt0aHJvdyBvLmUodGhpcy5UQUcscyksdGhpcy5mYWlsdXJlKGUscyksc31yJiYodGhpcy5pbml0VGltZVtlXT1yKX0pfXByZVByb2Nlc3NXaXRoVGltZShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IHQ9eWllbGQgdGhpcy50aW1lSW5NcyhlKTt0aGlzLnByZVByb2Nlc3NpbmdBdmdzLmFkZCh0KX0pfXByb2Nlc3NXaXRoVGltZShlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgaTtsZXQgcjt0cnl7cj15aWVsZCB0aGlzLnRpbWVJbk1zKHQpfWNhdGNoKHMpe2xldCBuPW0uTWVkaWFQbHVnaW5FcnJvcnMuUHJvY2Vzc2luZ0ZhaWxlZChwLlZJREVPX1BMVUdJTlMsYEZhaWxlZCBkdXJpbmcgcHJvY2Vzc2luZyBvZiBwbHVnaW4ke3MubWVzc2FnZXx8c31gKTt0aHJvdyBvLmUodGhpcy5UQUcsbiksdGhpcy5mYWlsdXJlKGUsbiksbn1yJiYoKGk9dGhpcy5wcm9jZXNzaW5nQXZnc1tlXSk9PW51bGx8fGkuYWRkKHIpKX0pfXRpbWVJbk1zKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgdD1EYXRlLm5vdygpO3JldHVybiB5aWVsZCBlKCksTWF0aC5mbG9vcihEYXRlLm5vdygpLXQpfSl9Y2xlYW4oZSl7ZGVsZXRlIHRoaXMuYWRkZWRUaW1lc3RhbXBzW2VdLGRlbGV0ZSB0aGlzLmluaXRUaW1lW2VdLGRlbGV0ZSB0aGlzLnByb2Nlc3NpbmdBdmdzW2VdLGRlbGV0ZSB0aGlzLnBsdWdpbkFkZGVkW2VdLGRlbGV0ZSB0aGlzLnBsdWdpbklucHV0RnJhbWVSYXRlW2VdLGRlbGV0ZSB0aGlzLnBsdWdpbkZyYW1lUmF0ZVtlXX19O3ZhciBQcj0yNCxraT0zMjAseWk9MjQwLGV0PWNsYXNze2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5UQUc9XCJbVmlkZW9QbHVnaW5zTWFuYWdlcl1cIjt0aGlzLnBsdWdpbnNMb29wUnVubmluZz0hMTt0aGlzLnBsdWdpbnNMb29wU3RhdGU9XCJwYXVzZWRcIjt0aGlzLnBsdWdpbkFkZEluUHJvZ3Jlc3M9ITE7dGhpcy5obXNUcmFjaz1lLHRoaXMucGx1Z2luc01hcD1uZXcgTWFwLHRoaXMucGx1Z2luTnVtRnJhbWVzVG9Ta2lwPXt9LHRoaXMucGx1Z2luTnVtRnJhbWVzU2tpcHBlZD17fSx0aGlzLmFuYWx5dGljcz1uZXcgSHQodCksdGhpcy5jYW52YXNlcz1uZXcgQXJyYXl9Z2V0UGx1Z2lucygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMucGx1Z2luc01hcC5rZXlzKCkpfWFkZFBsdWdpbihlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgcjtpZih0aGlzLnBsdWdpbkFkZEluUHJvZ3Jlc3Mpe2xldCBpPShyPWUuZ2V0TmFtZSk9PW51bGw/dm9pZCAwOnIuY2FsbChlKTtpZighaXx8aT09PVwiXCIpe28udyhcIm5vIG5hbWUgcHJvdmlkZWQgYnkgdGhlIHBsdWdpblwiKTtyZXR1cm59bGV0IHM9bS5NZWRpYVBsdWdpbkVycm9ycy5BZGRBbHJlYWR5SW5Qcm9ncmVzcyhwLlZJREVPX1BMVUdJTlMsXCJBZGQgUGx1Z2luIGlzIGFscmVhZHkgaW4gUHJvZ3Jlc3NcIik7dGhyb3cgdGhpcy5hbmFseXRpY3MuZmFpbHVyZShpLHMpLG8udyhcImNhbid0IGFkZCBhbm90aGVyIHBsdWdpbiB3aGVuIHByZXZpb3VzIGFkZCBpcyBpbiBwcm9ncmVzc1wiKSxzfXRoaXMucGx1Z2luQWRkSW5Qcm9ncmVzcz0hMDt0cnl7eWllbGQgdGhpcy5hZGRQbHVnaW5JbnRlcm5hbChlLHQpfWZpbmFsbHl7dGhpcy5wbHVnaW5BZGRJblByb2dyZXNzPSExfX0pfWFkZFBsdWdpbkludGVybmFsKGUsdCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciBuLGQ7bGV0IHI9KG49ZS5nZXROYW1lKT09bnVsbD92b2lkIDA6bi5jYWxsKGUpO2lmKCFyfHxyPT09XCJcIil7by53KFwibm8gbmFtZSBwcm92aWRlZCBieSB0aGUgcGx1Z2luXCIpO3JldHVybn1pZih0aGlzLnBsdWdpbnNNYXAuaGFzKHIpKXtvLncodGhpcy5UQUcsYHBsdWdpbiAtICR7ZS5nZXROYW1lKCl9IGFscmVhZHkgYWRkZWQuYCk7cmV0dXJufWxldCBpPXRoaXMuaG1zVHJhY2suZ2V0TWVkaWFUcmFja1NldHRpbmdzKCkuZnJhbWVSYXRlfHxQcixzPTA7dCYmdD4wPyhvLmkodGhpcy5UQUcsYGFkZGluZyBwbHVnaW4gJHtlLmdldE5hbWUoKX0gd2l0aCBmcmFtZXJhdGUgJHt0fWApLHQ8aSYmKHM9TWF0aC5jZWlsKGkvdCktMSksdGhpcy5hbmFseXRpY3MuYWRkZWQocixpLHQpKTooby5pKHRoaXMuVEFHLGBhZGRpbmcgcGx1Z2luICR7ZS5nZXROYW1lKCl9YCksdGhpcy5hbmFseXRpY3MuYWRkZWQocixpKSksby5pKHRoaXMuVEFHLFwibnVtRnJhbWVzIHRvIHNraXAgcHJvY2Vzc2luZ1wiLHMpLHRoaXMucGx1Z2luTnVtRnJhbWVzVG9Ta2lwW3JdPXMsdGhpcy5wbHVnaW5OdW1GcmFtZXNTa2lwcGVkW3JdPXMsdGhpcy52YWxpZGF0ZUFuZFRocm93KHIsZSk7dHJ5e2lmKHlpZWxkIHRoaXMuYW5hbHl0aWNzLmluaXRXaXRoVGltZShyLCgpPT5jKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4geWllbGQgZS5pbml0KCl9KSksdGhpcy5wbHVnaW5zTWFwLnNldChyLGUpLHRoaXMucGx1Z2luc01hcC5zaXplKzE+dGhpcy5jYW52YXNlcy5sZW5ndGgpZm9yKGxldCBsPXRoaXMuY2FudmFzZXMubGVuZ3RoO2w8PXRoaXMucGx1Z2luc01hcC5zaXplO2wrKyl0aGlzLmNhbnZhc2VzW2xdPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7eWllbGQgdGhpcy5zdGFydFBsdWdpbnNMb29wKChkPWUuZ2V0Q29udGV4dFR5cGUpPT1udWxsP3ZvaWQgMDpkLmNhbGwoZSkpfWNhdGNoKGwpe3Rocm93IG8uZSh0aGlzLlRBRyxcImZhaWxlZCB0byBhZGQgcGx1Z2luXCIsbCkseWllbGQgdGhpcy5yZW1vdmVQbHVnaW4oZSksbH19KX12YWxpZGF0ZVBsdWdpbihlKXtyZXR1cm4gZS5jaGVja1N1cHBvcnQoKX12YWxpZGF0ZUFuZFRocm93KGUsdCl7bGV0IHI9dGhpcy52YWxpZGF0ZVBsdWdpbih0KTtpZihyLmlzU3VwcG9ydGVkKW8uaSh0aGlzLlRBRyxgcGx1Z2luIGlzIHN1cHBvcnRlZCwtICR7dC5nZXROYW1lKCl9YCk7ZWxzZXtsZXQgaTtzd2l0Y2goci5lcnJUeXBlKXtjYXNlIGllLlBMQVRGT1JNX05PVF9TVVBQT1JURUQ6dGhyb3cgaT1tLk1lZGlhUGx1Z2luRXJyb3JzLlBsYXRmb3JtTm90U3VwcG9ydGVkKHAuVklERU9fUExVR0lOUyxcInBsYXRmb3JtIG5vdCBzdXBwb3J0ZWQsIHNlZSBkb2NzXCIpLHRoaXMuYW5hbHl0aWNzLmZhaWx1cmUoZSxpKSxpO2Nhc2UgaWUuREVWSUNFX05PVF9TVVBQT1JURUQ6dGhyb3cgaT1tLk1lZGlhUGx1Z2luRXJyb3JzLkRldmljZU5vdFN1cHBvcnRlZChwLlZJREVPX1BMVUdJTlMsXCJ2aWRlbyBkZXZpY2Ugbm90IHN1cHBvcnRlZCwgc2VlIGRvY3NcIiksdGhpcy5hbmFseXRpY3MuZmFpbHVyZShlLGkpLGl9fX1yZW1vdmVQbHVnaW4oZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCB0PWUuZ2V0TmFtZSgpO2lmKCF0aGlzLnBsdWdpbnNNYXAuZ2V0KHQpKXtvLncodGhpcy5UQUcsYHBsdWdpbiAtICR7dH0gbm90IGZvdW5kIHRvIHJlbW92ZS5gKTtyZXR1cm59by5pKHRoaXMuVEFHLGByZW1vdmluZyBwbHVnaW4gJHt0fWApLHRoaXMucmVtb3ZlUGx1Z2luRW50cnkodCksdGhpcy5wbHVnaW5zTWFwLnNpemU9PT0wJiYoby5pKHRoaXMuVEFHLFwiTm8gcGx1Z2lucyBsZWZ0LCBzdG9wcGluZyBwbHVnaW5zIGxvb3BcIikseWllbGQgdGhpcy5zdG9wUGx1Z2luc0xvb3AoKSksZS5zdG9wKCksdGhpcy5hbmFseXRpY3MucmVtb3ZlZCh0KX0pfXJlbW92ZVBsdWdpbkVudHJ5KGUpe3RoaXMucGx1Z2luc01hcC5kZWxldGUoZSksdGhpcy5wbHVnaW5OdW1GcmFtZXNUb1NraXBbZV0mJmRlbGV0ZSB0aGlzLnBsdWdpbk51bUZyYW1lc1RvU2tpcFtlXSx0aGlzLnBsdWdpbk51bUZyYW1lc1NraXBwZWRbZV0mJmRlbGV0ZSB0aGlzLnBsdWdpbk51bUZyYW1lc1NraXBwZWRbZV19d2FpdEZvclJlc3RhcnQoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYoISghdGhpcy5wbHVnaW5zTG9vcFJ1bm5pbmd8fHRoaXMucGx1Z2luc0xvb3BTdGF0ZT09PVwicnVubmluZ1wiKSlmb3IoO3RoaXMucGx1Z2luc0xvb3BTdGF0ZT09PVwicGF1c2VkXCI7KXlpZWxkIGooMTAwKX0pfWNsZWFudXAoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIGU7Zm9yKGxldCB0IG9mIHRoaXMucGx1Z2luc01hcC52YWx1ZXMoKSl5aWVsZCB0aGlzLnJlbW92ZVBsdWdpbih0KTsoZT10aGlzLm91dHB1dFRyYWNrKT09bnVsbHx8ZS5zdG9wKCl9KX1pbml0RWxlbWVudHNBbmRTdHJlYW0oZSl7dGhpcy5pbnB1dENhbnZhc3x8KHRoaXMuaW5wdXRDYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSksdGhpcy5vdXRwdXRDYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0aGlzLmlucHV0VmlkZW98fCh0aGlzLmlucHV0VmlkZW89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpKSx0aGlzLmlucHV0Q2FudmFzLmdldENvbnRleHQoXCIyZFwiKSx0aGlzLm91dHB1dENhbnZhcy5nZXRDb250ZXh0KGV8fE9lW1wiMkRcIl0pO2xldCB0PXRoaXMub3V0cHV0Q2FudmFzLmNhcHR1cmVTdHJlYW0oKTt0aGlzLm91dHB1dFRyYWNrPXQuZ2V0VmlkZW9UcmFja3MoKVswXX1zdGFydFBsdWdpbnNMb29wKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZighdGhpcy5wbHVnaW5zTG9vcFJ1bm5pbmcpe3RoaXMuaW5pdEVsZW1lbnRzQW5kU3RyZWFtKGUpLHRoaXMucGx1Z2luc0xvb3BSdW5uaW5nPSEwO3RyeXt5aWVsZCB0aGlzLmhtc1RyYWNrLnNldFByb2Nlc3NlZFRyYWNrKHRoaXMub3V0cHV0VHJhY2spfWNhdGNoKHQpe3Rocm93IHRoaXMucGx1Z2luc0xvb3BSdW5uaW5nPSExLG8uZSh0aGlzLlRBRyxcImVycm9yIGluIHNldHRpbmcgcHJvY2Vzc2VkIHRyYWNrXCIsdCksdH10aGlzLnBsdWdpbnNMb29wKCkudGhlbigoKT0+e28uZCh0aGlzLlRBRyxcInByb2Nlc3NMb29wIHN0b3BwZWRcIil9KX19KX1zdG9wUGx1Z2luc0xvb3AoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIGU7dGhpcy5wbHVnaW5zTG9vcFJ1bm5pbmc9ITEseWllbGQgdGhpcy5obXNUcmFjay5zZXRQcm9jZXNzZWRUcmFjayh2b2lkIDApLHRoaXMucmVzZXRDYW52YXNlcygpLChlPXRoaXMub3V0cHV0VHJhY2spPT1udWxsfHxlLnN0b3AoKSx0aGlzLmlucHV0VmlkZW8mJih0aGlzLmlucHV0VmlkZW8uc3JjT2JqZWN0PW51bGwsdGhpcy5pbnB1dFZpZGVvPXZvaWQgMCl9KX1wbHVnaW5zTG9vcCgpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtmb3IoO3RoaXMucGx1Z2luc0xvb3BSdW5uaW5nOyl7bGV0IGU9dGhpcy5obXNUcmFjay5nZXRNZWRpYVRyYWNrU2V0dGluZ3MoKS5mcmFtZVJhdGV8fFByLHQ9TWF0aC5mbG9vcigxZTMvZSk7aWYoIXRoaXMuaG1zVHJhY2suZW5hYmxlZHx8dGhpcy5obXNUcmFjay5uYXRpdmVUcmFjay5yZWFkeVN0YXRlPT09XCJlbmRlZFwiKXt0aGlzLnBsdWdpbnNMb29wU3RhdGU9PT1cInJ1bm5pbmdcIiYmdGhpcy5yZXNldENhbnZhc2VzKCksdGhpcy5wbHVnaW5zTG9vcFN0YXRlPVwicGF1c2VkXCIseWllbGQgaih0KTtjb250aW51ZX1sZXQgcj0wO3RyeXt5aWVsZCB0aGlzLmFuYWx5dGljcy5wcmVQcm9jZXNzV2l0aFRpbWUoKCk9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybiB5aWVsZCB0aGlzLmRvUHJlUHJvY2Vzc2luZygpfSkpO2xldCBpPURhdGUubm93KCk7eWllbGQgdGhpcy5wcm9jZXNzRnJhbWVzVGhyb3VnaFBsdWdpbnMoKSxyPU1hdGguZmxvb3IoRGF0ZS5ub3coKS1pKSxyPnQmJihyPXQpfWNhdGNoKGkpe28uZSh0aGlzLlRBRyxcImVycm9yIGluIHBsdWdpbnMgbG9vcFwiLGkpfXRoaXMucGx1Z2luc0xvb3BTdGF0ZT1cInJ1bm5pbmdcIix5aWVsZCBqKHQtcil9fSl9ZG9QcmVQcm9jZXNzaW5nKCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuYWRkVHJhY2tUb1ZpZGVvKCkseWllbGQgdGhpcy51cGRhdGVJbnB1dENhbnZhcygpfSl9cHJvY2Vzc0ZyYW1lc1Rocm91Z2hQbHVnaW5zKCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3RoaXMuY2FudmFzZXNbMF09dGhpcy5pbnB1dENhbnZhcztsZXQgZT0wO2ZvcihsZXQgdCBvZiB0aGlzLnBsdWdpbnNNYXAudmFsdWVzKCkpe2xldCByPXQuZ2V0TmFtZSgpO2lmKCEhdCl7dHJ5e2xldCBpPXRoaXMuY2hlY2tJZlNraXBSZXF1aXJlZChyKTtpZih0LmdldFBsdWdpblR5cGUoKT09PUllLlRSQU5TRk9STSl7bGV0IHM9KG4sZCk9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe3RyeXt5aWVsZCB0LnByb2Nlc3NWaWRlb0ZyYW1lKG4sZCxpKX1jYXRjaChsKXtvLmUodGhpcy5UQUcsYGVycm9yIGluIHByb2Nlc3NpbmcgcGx1Z2luICR7cn1gLGwpfX0pO2lmKGkpZT09PXRoaXMucGx1Z2luc01hcC5zaXplLTE/eWllbGQgcyh0aGlzLmNhbnZhc2VzW2VdLHRoaXMub3V0cHV0Q2FudmFzKTp5aWVsZCBzKHRoaXMuY2FudmFzZXNbZV0sdGhpcy5jYW52YXNlc1tlKzFdKTtlbHNle2xldCBuPXRoaXMuY2FudmFzZXNbZV0sZD10aGlzLmNhbnZhc2VzW2UrMV07ZT09PXRoaXMucGx1Z2luc01hcC5zaXplLTE/eWllbGQgdGhpcy5hbmFseXRpY3MucHJvY2Vzc1dpdGhUaW1lKHIsKCk9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybiBzKG4sdGhpcy5vdXRwdXRDYW52YXMpfSkpOnlpZWxkIHRoaXMuYW5hbHl0aWNzLnByb2Nlc3NXaXRoVGltZShyLCgpPT5jKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gcyhuLGQpfSkpfX1lbHNlIHQuZ2V0UGx1Z2luVHlwZSgpPT09SWUuQU5BTFlaRSYmIWkmJih5aWVsZCB0aGlzLmFuYWx5dGljcy5wcm9jZXNzV2l0aFRpbWUociwoKT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHlpZWxkIHQucHJvY2Vzc1ZpZGVvRnJhbWUodGhpcy5pbnB1dENhbnZhcyl9KSkpfWNhdGNoKGkpe28uZSh0aGlzLlRBRyxgZXJyb3IgaW4gcHJvY2Vzc2luZyBwbHVnaW4gJHtyfWAsaSkseWllbGQgdGhpcy5yZW1vdmVQbHVnaW4odCl9ZSsrfX19KX1hZGRUcmFja1RvVmlkZW8oKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIHQ7aWYoIXRoaXMuaW5wdXRWaWRlbylyZXR1cm47bGV0IGU9dGhpcy5pbnB1dFZpZGVvLnNyY09iamVjdDtlIT09bnVsbCYmZSBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtJiYoKHQ9ZS5nZXRWaWRlb1RyYWNrcygpWzBdKT09bnVsbD92b2lkIDA6dC5pZCk9PT10aGlzLmhtc1RyYWNrLm5hdGl2ZVRyYWNrLmlkfHwodGhpcy5pbnB1dFZpZGVvLnBhdXNlKCksdGhpcy5pbnB1dFZpZGVvLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW3RoaXMuaG1zVHJhY2submF0aXZlVHJhY2tdKSx0aGlzLmlucHV0VmlkZW8ubXV0ZWQ9ITAsdGhpcy5pbnB1dFZpZGVvLnBsYXlzSW5saW5lPSEwLHlpZWxkIHRoaXMuaW5wdXRWaWRlby5wbGF5KCkpfSl9dXBkYXRlSW5wdXRDYW52YXMoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYoIXRoaXMuaW5wdXRDYW52YXN8fCF0aGlzLmlucHV0VmlkZW8pcmV0dXJuO2xldHt3aWR0aDplPWtpLGhlaWdodDp0PXlpfT10aGlzLmhtc1RyYWNrLmdldE1lZGlhVHJhY2tTZXR0aW5ncygpO3RoaXMuaW5wdXRDYW52YXMuaGVpZ2h0IT09dCYmKHRoaXMuaW5wdXRDYW52YXMuaGVpZ2h0PXQpLHRoaXMuaW5wdXRDYW52YXMud2lkdGghPT1lJiYodGhpcy5pbnB1dENhbnZhcy53aWR0aD1lKSx0aGlzLmlucHV0Q2FudmFzLmdldENvbnRleHQoXCIyZFwiKS5kcmF3SW1hZ2UodGhpcy5pbnB1dFZpZGVvLDAsMCxlLHQpfSl9cmVzZXRDYW52YXNlcygpe2lmKCF0aGlzLm91dHB1dENhbnZhc3x8IXRoaXMuaW5wdXRDYW52YXMpcmV0dXJuO2xldCBlPXRoaXMuaW5wdXRDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO2UmJihlLmZpbGxTdHlsZT1cInJnYigwLCAwLCAwKVwiLGUuZmlsbFJlY3QoMCwwLHRoaXMub3V0cHV0Q2FudmFzLndpZHRoLHRoaXMub3V0cHV0Q2FudmFzLmhlaWdodCkpLHRoaXMuY2FudmFzZXM9W119Y2hlY2tJZlNraXBSZXF1aXJlZChlKXtsZXQgdD0hMTtyZXR1cm4gdGhpcy5wbHVnaW5OdW1GcmFtZXNTa2lwcGVkW2VdPHRoaXMucGx1Z2luTnVtRnJhbWVzVG9Ta2lwW2VdPyh0aGlzLnBsdWdpbk51bUZyYW1lc1NraXBwZWRbZV0rKyx0PSEwKToodD0hMSx0aGlzLnBsdWdpbk51bUZyYW1lc1NraXBwZWRbZV09MCksdH19O2Z1bmN0aW9uIElyKGEsZSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiByIGluIGEmJmFbcl0hPT1lW3JdfX12YXIgY2U9Y2xhc3MgZXh0ZW5kcyBOZXtjb25zdHJ1Y3RvcihlLHQscixpLHM9bmV3IEooKS5idWlsZCgpKXtzdXBlcihlLHQscik7dGhpcy5ldmVudEJ1cz1pO3RoaXMuX2xheWVyRGVmaW5pdGlvbnM9W107dGhpcy5UQUc9XCJbTG9jYWxWaWRlb1RyYWNrXVwiO3RoaXMuaXNDdXJyZW50VGFiPSExO3RoaXMuYnVpbGROZXdTZXR0aW5ncz1lPT57bGV0e3dpZHRoOnQsaGVpZ2h0OnIsY29kZWM6aSxtYXhGcmFtZXJhdGU6cyxtYXhCaXRyYXRlOm4sZGV2aWNlSWQ6ZCxhZHZhbmNlZDpsfT12KHYoe30sdGhpcy5zZXR0aW5ncyksZSk7cmV0dXJuIG5ldyB5ZSh0LHIsaSxzLGQsbCxuKX07dGhpcy5oYW5kbGVTZXR0aW5nc0NoYW5nZT1lPT5jKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgdD10aGlzLnN0cmVhbSxyPUlyKGUsdGhpcy5zZXR0aW5ncyk7cihcIm1heEJpdHJhdGVcIikmJmUubWF4Qml0cmF0ZSYmKHlpZWxkIHQuc2V0TWF4Qml0cmF0ZShlLm1heEJpdHJhdGUsdGhpcykpLChyKFwid2lkdGhcIil8fHIoXCJoZWlnaHRcIil8fHIoXCJhZHZhbmNlZFwiKSkmJih5aWVsZCB0aGlzLm5hdGl2ZVRyYWNrLmFwcGx5Q29uc3RyYWludHMoZS50b0NvbnN0cmFpbnRzKCkpKX0pO3RoaXMuaGFuZGxlRGV2aWNlQ2hhbmdlPShlLHQ9ITEpPT5jKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZihJcihlLHRoaXMuc2V0dGluZ3MpKFwiZGV2aWNlSWRcIikmJnRoaXMuc291cmNlPT09XCJyZWd1bGFyXCIpe2lmKHRoaXMuZW5hYmxlZCl7bGV0IGk9eWllbGQgdGhpcy5yZXBsYWNlVHJhY2tXaXRoKGUpO3lpZWxkIHRoaXMucmVwbGFjZVNlbmRlcihpLHRoaXMuZW5hYmxlZCksdGhpcy5uYXRpdmVUcmFjaz1pfXR8fFEudXBkYXRlU2VsZWN0aW9uKFwidmlkZW9JbnB1dFwiLHtkZXZpY2VJZDplLmRldmljZUlkLGdyb3VwSWQ6dGhpcy5uYXRpdmVUcmFjay5nZXRTZXR0aW5ncygpLmdyb3VwSWR9KX19KTtlLnRyYWNrcy5wdXNoKHRoaXMpLHRoaXMuc2V0dGluZ3M9cyxzLmRldmljZUlkIT09dC5nZXRTZXR0aW5ncygpLmRldmljZUlkJiZ0LmVuYWJsZWQmJih0aGlzLnNldHRpbmdzPXRoaXMuYnVpbGROZXdTZXR0aW5ncyh7ZGV2aWNlSWQ6dC5nZXRTZXR0aW5ncygpLmRldmljZUlkfSkpLHRoaXMucGx1Z2luc01hbmFnZXI9bmV3IGV0KHRoaXMsaSksdGhpcy5zZXRGaXJzdFRyYWNrSWQodGhpcy50cmFja0lkKX1zZXRTaW11bGNhc3REZWZpbml0b25zKGUpe3RoaXMuX2xheWVyRGVmaW5pdGlvbnM9ZX1nZXRTaW11bGNhc3REZWZpbml0aW9ucygpe3JldHVybiB0aGlzLl9sYXllckRlZmluaXRpb25zfXNldEVuYWJsZWQoZSl7dmFyIHQ9cj0+c3VwZXJbcl07cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKGUhPT10aGlzLmVuYWJsZWQpe2lmKHRoaXMuc291cmNlPT09XCJyZWd1bGFyXCIpe2xldCBpO2U/aT15aWVsZCB0aGlzLnJlcGxhY2VUcmFja1dpdGgodGhpcy5zZXR0aW5ncyk6aT15aWVsZCB0aGlzLnJlcGxhY2VUcmFja1dpdGhCbGFuaygpLHlpZWxkIHRoaXMucmVwbGFjZVNlbmRlcihpLGUpLHRoaXMubmF0aXZlVHJhY2s9aSxlJiYoeWllbGQgdGhpcy5wbHVnaW5zTWFuYWdlci53YWl0Rm9yUmVzdGFydCgpLHRoaXMuc2V0dGluZ3M9dGhpcy5idWlsZE5ld1NldHRpbmdzKHtkZXZpY2VJZDppLmdldFNldHRpbmdzKCkuZGV2aWNlSWR9KSl9eWllbGQgdChcInNldEVuYWJsZWRcIikuY2FsbCh0aGlzLGUpLHRoaXMuZXZlbnRCdXMubG9jYWxWaWRlb0VuYWJsZWQucHVibGlzaCh7ZW5hYmxlZDplLHRyYWNrOnRoaXN9KSx0aGlzLnN0cmVhbS50cmFja1VwZGF0ZSh0aGlzKX19KX1pc1B1Ymxpc2hlZFRyYWNrSWQoZSl7cmV0dXJuIHRoaXMucHVibGlzaGVkVHJhY2tJZD09PWV9YWRkU2luayhlKXt0aGlzLmFkZFNpbmtJbnRlcm5hbChlLHRoaXMucHJvY2Vzc2VkVHJhY2t8fHRoaXMubmF0aXZlVHJhY2spfXNldFNldHRpbmdzKGUsdD0hMSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCByPXRoaXMuYnVpbGROZXdTZXR0aW5ncyhlKTtpZih5aWVsZCB0aGlzLmhhbmRsZURldmljZUNoYW5nZShyLHQpLCF0aGlzLmVuYWJsZWQpe3RoaXMuc2V0dGluZ3M9cjtyZXR1cm59eWllbGQgdGhpcy5oYW5kbGVTZXR0aW5nc0NoYW5nZShyKSx0aGlzLnNldHRpbmdzPXJ9KX1nZXRQbHVnaW5zKCl7cmV0dXJuIHRoaXMucGx1Z2luc01hbmFnZXIuZ2V0UGx1Z2lucygpfWFkZFBsdWdpbihlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5wbHVnaW5zTWFuYWdlci5hZGRQbHVnaW4oZSx0KX0pfXJlbW92ZVBsdWdpbihlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHRoaXMucGx1Z2luc01hbmFnZXIucmVtb3ZlUGx1Z2luKGUpfSl9dmFsaWRhdGVQbHVnaW4oZSl7cmV0dXJuIHRoaXMucGx1Z2luc01hbmFnZXIudmFsaWRhdGVQbHVnaW4oZSl9Y2xlYW51cCgpe3ZhciBlPXQ9PnN1cGVyW3RdO3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgcjtlKFwiY2xlYW51cFwiKS5jYWxsKHRoaXMpLHlpZWxkIHRoaXMucGx1Z2luc01hbmFnZXIuY2xlYW51cCgpLChyPXRoaXMucHJvY2Vzc2VkVHJhY2spPT1udWxsfHxyLnN0b3AoKX0pfWNyb3BUbyhlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYoISFlJiZ0aGlzLnNvdXJjZT09PVwic2NyZWVuXCIpdHJ5e3RoaXMubmF0aXZlVHJhY2suY3JvcFRvJiYoeWllbGQgdGhpcy5uYXRpdmVUcmFjay5jcm9wVG8oZSkpfWNhdGNoKHQpe3Rocm93IG8uZSh0aGlzLlRBRyxcImZhaWxlZCB0byBjcm9wIHNjcmVlbnNoYXJlIGNhcHR1cmUgLSBcIix0KSxtLlRyYWNrc0Vycm9ycy5HZW5lcmljVHJhY2socC5UUkFDSyxcImZhaWxlZCB0byBjcm9wIHNjcmVlbnNoYXJlIGNhcHR1cmVcIil9fSl9Z2V0Q2FwdHVyZUhhbmRsZSgpe2lmKHRoaXMubmF0aXZlVHJhY2suZ2V0Q2FwdHVyZUhhbmRsZSlyZXR1cm4gdGhpcy5uYXRpdmVUcmFjay5nZXRDYXB0dXJlSGFuZGxlKCl9c2V0UHJvY2Vzc2VkVHJhY2soZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKCF0aGlzLm5hdGl2ZVRyYWNrLmVuYWJsZWQpe3RoaXMucHJvY2Vzc2VkVHJhY2s9ZTtyZXR1cm59aWYoIWUpe3RoaXMucHJvY2Vzc2VkVHJhY2smJih5aWVsZCB0aGlzLnN0cmVhbS5yZXBsYWNlU2VuZGVyVHJhY2sodGhpcy5wcm9jZXNzZWRUcmFjayx0aGlzLm5hdGl2ZVRyYWNrKSksdGhpcy5wcm9jZXNzZWRUcmFjaz12b2lkIDA7cmV0dXJufWUhPT10aGlzLnByb2Nlc3NlZFRyYWNrJiYodGhpcy5wcm9jZXNzZWRUcmFjaz95aWVsZCB0aGlzLnN0cmVhbS5yZXBsYWNlU2VuZGVyVHJhY2sodGhpcy5wcm9jZXNzZWRUcmFjayxlKTp5aWVsZCB0aGlzLnN0cmVhbS5yZXBsYWNlU2VuZGVyVHJhY2sodGhpcy5uYXRpdmVUcmFjayxlKSx0aGlzLnByb2Nlc3NlZFRyYWNrPWUpfSl9Z2V0VHJhY2tJREJlaW5nU2VudCgpe3JldHVybiB0aGlzLmdldFRyYWNrQmVpbmdTZW50KCkuaWR9Z2V0VHJhY2tCZWluZ1NlbnQoKXtyZXR1cm4gdGhpcy5lbmFibGVkP3RoaXMucHJvY2Vzc2VkVHJhY2t8fHRoaXMubmF0aXZlVHJhY2s6dGhpcy5uYXRpdmVUcmFja31yZXBsYWNlVHJhY2tXaXRoKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgdD10aGlzLm5hdGl2ZVRyYWNrO3Q9PW51bGx8fHQuc3RvcCgpO2xldCByPXlpZWxkIHplKGUpO3JldHVybiB0aGlzLnNldHRpbmdzLmRldmljZUlkPT09XCJkZWZhdWx0XCImJih0aGlzLnNldHRpbmdzPXRoaXMuYnVpbGROZXdTZXR0aW5ncyh7ZGV2aWNlSWQ6dGhpcy5uYXRpdmVUcmFjay5nZXRTZXR0aW5ncygpLmRldmljZUlkfSkpLHJ9KX1yZXBsYWNlVHJhY2tXaXRoQmxhbmsoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IGU9dGhpcy5uYXRpdmVUcmFjaztyZXR1cm4gZT09bnVsbHx8ZS5zdG9wKCksZGUuZ2V0RW1wdHlWaWRlb1RyYWNrKGUpfSl9cmVwbGFjZVNlbmRlcihlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgcj10aGlzLnN0cmVhbTt0P3lpZWxkIHIucmVwbGFjZVNlbmRlclRyYWNrKHRoaXMubmF0aXZlVHJhY2ssdGhpcy5wcm9jZXNzZWRUcmFja3x8ZSk6eWllbGQgci5yZXBsYWNlU2VuZGVyVHJhY2sodGhpcy5wcm9jZXNzZWRUcmFja3x8dGhpcy5uYXRpdmVUcmFjayxlKSx5aWVsZCByLnJlcGxhY2VTdHJlYW1UcmFjayh0aGlzLm5hdGl2ZVRyYWNrLGUpfSl9fTt2YXIgYmU9XCJyZW5lZ290aWF0aW9uLWNhbGxiYWNrLWlkXCIsdHQ9XCJpb24tc2Z1XCIscnQ9MTAwLHhlPTUsYnI9NjAsQ3I9MTJlMyxScj0xZTMsd3I9NSxDZT1cIlNVQlNDUklCRV9JQ0VfQ09OTkVDVElPTl9DQUxMQkFDS19JRFwiLEhyPTZlNCxfcj0xZTMsTHI9ITEsRHI9XCJodHRwczovL2V2ZW50LjEwMG1zLmxpdmUvdjIvY2xpZW50L3JlcG9ydFwiLE5yPVwiaHR0cHM6Ly9ldmVudC1ub25wcm9kLjEwMG1zLmxpdmUvdjIvY2xpZW50L3JlcG9ydFwiLE9yPTEwMCxHPXtERVZJQ0VfQ0hBTkdFOlwiZGV2aWNlLWNoYW5nZVwiLExPQ0FMX0FVRElPX0VOQUJMRUQ6XCJsb2NhbC1hdWRpby1lbmFibGVkXCIsTE9DQUxfVklERU9fRU5BQkxFRDpcImxvY2FsLXZpZGVvLWVuYWJsZWRcIixTVEFUU19VUERBVEU6XCJzdGF0cy11cGRhdGVcIixSVENfU1RBVFNfVVBEQVRFOlwicnRjLXN0YXRzLXVwZGF0ZVwiLFRSQUNLX0RFR1JBREVEOlwidHJhY2stZGVncmFkZWRcIixUUkFDS19SRVNUT1JFRDpcInRyYWNrLXJlc3RvcmVkXCIsVFJBQ0tfQVVESU9fTEVWRUxfVVBEQVRFOlwidHJhY2stYXVkaW8tbGV2ZWwtdXBkYXRlXCIsTE9DQUxfQVVESU9fU0lMRU5DRTpcImxvY2FsLWF1ZGlvLXNpbGVuY2VcIixBTkFMWVRJQ1M6XCJhbmFseXRpY3NcIixBVURJT19QTFVHSU5fRkFJTEVEOlwiYXVkaW8tcGx1Z2luLWZhaWxlZFwiLFBPTElDWV9DSEFOR0U6XCJwb2xpY3ktY2hhbmdlXCIsTE9DQUxfUk9MRV9VUERBVEU6XCJsb2NhbC1yb2xlLXVwZGF0ZVwiLEFVRElPX1RSQUNLX1VQREFURTpcImF1ZGlvLXRyYWNrLXVwZGF0ZVwiLEFVRElPX1RSQUNLX0FEREVEOlwiYXVkaW8tdHJhY2stYWRkZWRcIixBVURJT19UUkFDS19SRU1PVkVEOlwiYXVkaW8tdHJhY2stcmVtb3ZlZFwiLEFVVE9QTEFZX0VSUk9SOlwiYXV0b3BsYXktZXJyb3JcIixMRUFWRTpcImxlYXZlXCJ9O3ZhciBnZT1jbGFzcyBleHRlbmRzIE5le2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKTt0aGlzLl9kZWdyYWRlZD0hMTt0aGlzLl9kZWdyYWRlZEF0PW51bGw7dGhpcy5fbGF5ZXJEZWZpbml0aW9ucz1bXTt0aGlzLmhpc3Rvcnk9bmV3IHhyO3RoaXMucHJlZmVycmVkTGF5ZXI9cS5ISUdIfWdldCBkZWdyYWRlZCgpe3JldHVybiB0aGlzLl9kZWdyYWRlZH1nZXQgZGVncmFkZWRBdCgpe3JldHVybiB0aGlzLl9kZWdyYWRlZEF0fXNldEVuYWJsZWQoZSl7dmFyIHQ9cj0+c3VwZXJbcl07cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2UhPT10aGlzLmVuYWJsZWQmJih5aWVsZCB0KFwic2V0RW5hYmxlZFwiKS5jYWxsKHRoaXMsZSkpfSl9c2V0UHJlZmVycmVkTGF5ZXIoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKGU9PT1xLk5PTkUpe28udyhgbGF5ZXIgJHtxLk5PTkV9IHdpbGwgYmUgaWdub3JlZGApO3JldHVybn1pZih0aGlzLnByZWZlcnJlZExheWVyPWUsISF0aGlzLnNob3VsZFNlbmRWaWRlb0xheWVyKGUsXCJwcmVmZXJMYXllclwiKSl7aWYoIXRoaXMuaGFzU2lua3MoKSl7by5kKGBbUmVtb3RlIFRyYWNrXSAke3RoaXMubG9nSWRlbnRpZmllcn1gLGBUcmFjayBkb2VzIG5vdCBoYXZlIGFueSBzaW5rLCBzYXZpbmcgJHtlfSwgc291cmNlPSR7dGhpcy5zb3VyY2V9YCk7cmV0dXJufXlpZWxkIHRoaXMucmVxdWVzdExheWVyKGUsXCJwcmVmZXJMYXllclwiKSx0aGlzLnB1c2hJbkhpc3RvcnkoYHVpUHJlZmVyTGF5ZXItJHtlfWApfX0pfWdldFNpbXVsY2FzdExheWVyKCl7cmV0dXJuIHRoaXMuc3RyZWFtLmdldFNpbXVsY2FzdExheWVyKCl9Z2V0TGF5ZXIoKXtyZXR1cm4gdGhpcy5zdHJlYW0uZ2V0VmlkZW9MYXllcigpfWdldFByZWZlcnJlZExheWVyKCl7cmV0dXJuIHRoaXMucHJlZmVycmVkTGF5ZXJ9YWRkU2luayhlKXt2YXIgdD1yPT5zdXBlcltyXTtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dChcImFkZFNpbmtcIikuY2FsbCh0aGlzLGUpLHlpZWxkIHRoaXMudXBkYXRlTGF5ZXIoXCJhZGRTaW5rXCIpLHRoaXMucHVzaEluSGlzdG9yeShcInVpU2V0TGF5ZXItaGlnaFwiKX0pfXJlbW92ZVNpbmsoZSl7dmFyIHQ9cj0+c3VwZXJbcl07cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3QoXCJyZW1vdmVTaW5rXCIpLmNhbGwodGhpcyxlKSx5aWVsZCB0aGlzLnVwZGF0ZUxheWVyKFwicmVtb3ZlU2lua1wiKSx0aGlzLl9kZWdyYWRlZD0hMSx0aGlzLnB1c2hJbkhpc3RvcnkoXCJ1aVNldExheWVyLW5vbmVcIil9KX1nZXRTaW11bGNhc3REZWZpbml0aW9ucygpe3JldHVyblsuLi50aGlzLl9sYXllckRlZmluaXRpb25zXX1zZXRTaW11bGNhc3REZWZpbml0b25zKGUpe3RoaXMuX2xheWVyRGVmaW5pdGlvbnM9ZX1zZXRMYXllckZyb21TZXJ2ZXIoZSl7bGV0IHQ9ZS5zdWJzY3JpYmVyX2RlZ3JhZGVkO3RoaXMuX2RlZ3JhZGVkPXQmJmUuY3VycmVudF9sYXllcj09PXEuTk9ORSx0aGlzLl9kZWdyYWRlZEF0PXQ/bmV3IERhdGU6dGhpcy5fZGVncmFkZWRBdDtsZXQgcj1lLmN1cnJlbnRfbGF5ZXI7cmV0dXJuIG8uZChgW1JlbW90ZSBUcmFja10gJHt0aGlzLmxvZ0lkZW50aWZpZXJ9ICR7dGhpcy5zdHJlYW0uaWR9IC0gbGF5ZXIgdXBkYXRlIGZyb20gc2Z1YCxgY3VyckxheWVyPSR7ZS5jdXJyZW50X2xheWVyfSwgcHJlZmVycmVkTGF5ZXI9JHtlLmV4cGVjdGVkX2xheWVyfWAsYHN1Yl9kZWdyYWRlZD0ke2Uuc3Vic2NyaWJlcl9kZWdyYWRlZH1gLGBwdWJfZGVncmFkZWQ9JHtlLnB1Ymxpc2hlcl9kZWdyYWRlZH1gLGBpc0RlZ3JhZGVkPSR7dH1gKSx0aGlzLnN0cmVhbS5zZXRWaWRlb0xheWVyTG9jYWxseShyLHRoaXMubG9nSWRlbnRpZmllcixcInNldExheWVyRnJvbVNlcnZlclwiKSx0aGlzLnB1c2hJbkhpc3RvcnkoYHNmdUxheWVyVXBkYXRlLSR7cn1gKSx0fXNldERlZ3JhZGVkRnJvbVNkayhlKXt0aGlzLl9kZWdyYWRlZD1lLHRoaXMuX2RlZ3JhZGVkQXQ9ZT9uZXcgRGF0ZTp0aGlzLl9kZWdyYWRlZEF0LHRoaXMudXBkYXRlTGF5ZXIoXCJzZGtEZWdyYWRhdGlvblwiKSx0aGlzLnB1c2hJbkhpc3RvcnkoZT9cInNka0RlZ3JhZGVkLW5vbmVcIjpcInNka1JlY292ZXJlZC1oaWdoXCIpfXVwZGF0ZUxheWVyKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgdD10aGlzLmRlZ3JhZGVkfHwhdGhpcy5oYXNTaW5rcygpP3EuTk9ORTp0aGlzLnByZWZlcnJlZExheWVyOyF0aGlzLnNob3VsZFNlbmRWaWRlb0xheWVyKHQsZSl8fCh5aWVsZCB0aGlzLnJlcXVlc3RMYXllcih0LGUpKX0pfXB1c2hJbkhpc3RvcnkoZSl7THImJnRoaXMuaGlzdG9yeS5wdXNoKHtuYW1lOmUsbGF5ZXI6dGhpcy5nZXRMYXllcigpLGRlZ3JhZGVkOnRoaXMuZGVncmFkZWR9KX1yZXF1ZXN0TGF5ZXIoZSx0KXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dHJ5e2xldCByPXlpZWxkIHRoaXMuc3RyZWFtLnNldFZpZGVvTGF5ZXIoZSx0aGlzLnRyYWNrSWQsdGhpcy5sb2dJZGVudGlmaWVyLHQpO3JldHVybiBvLmQoYFtSZW1vdGUgVHJhY2tdICR7dGhpcy5sb2dJZGVudGlmaWVyfWAsYFJlcXVlc3RlZCBsYXllciAke2V9LCBzb3VyY2U9JHt0aGlzLnNvdXJjZX1gKSxyfWNhdGNoKHIpe3Rocm93IG8uZChgW1JlbW90ZSBUcmFja10gJHt0aGlzLmxvZ0lkZW50aWZpZXJ9YCxgRmFpbGVkIHRvIHNldCBsYXllciAke2V9LCBzb3VyY2U9JHt0aGlzLnNvdXJjZX0sICR7ci5tZXNzYWdlfWApLHJ9fSl9c2hvdWxkU2VuZFZpZGVvTGF5ZXIoZSx0KXtsZXQgcj10aGlzLmdldExheWVyKCk7cmV0dXJuIHRoaXMuZGVncmFkZWQmJmU9PT1xLk5PTkU/ITA6cj09PWU/KG8uZChgW1JlbW90ZSBUcmFja10gJHt0aGlzLmxvZ0lkZW50aWZpZXJ9YCxgTm90IHNlbmRpbmcgdXBkYXRlLCBhbHJlYWR5IG9uIGxheWVyICR7ZX0sIHNvdXJjZT0ke3R9YCksITEpOiEwfX0seHI9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLmhpc3Rvcnk9W119cHVzaChlKXtlLnRpbWU9bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVsxXSx0aGlzLmhpc3RvcnkucHVzaChlKX19O3ZhciBTZT1jbGFzcyBleHRlbmRzIE1le2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKTt0aGlzLlRBRz1cIltITVNMb2NhbFN0cmVhbV1cIjt0aGlzLmNvbm5lY3Rpb249bnVsbH1zZXRDb25uZWN0aW9uKGUpe3RoaXMuY29ubmVjdGlvbj1lfWFkZFRyYW5zY2VpdmVyKGUsdCl7bGV0IHI9W107aWYoZSBpbnN0YW5jZW9mIGNlKWlmKHQubGVuZ3RoPjApby52KHRoaXMuVEFHLFwiU2ltdWxjYXN0IGVuYWJsZWQgd2l0aCBsYXllcnNcIix0KSxyLnB1c2goLi4udCk7ZWxzZXtsZXQgcz17YWN0aXZlOnRoaXMubmF0aXZlU3RyZWFtLmFjdGl2ZX07ZS5zZXR0aW5ncy5tYXhCaXRyYXRlJiYhaGUmJihzLm1heEJpdHJhdGU9ZS5zZXR0aW5ncy5tYXhCaXRyYXRlKSxyLnB1c2gocyl9bGV0IGk9dGhpcy5jb25uZWN0aW9uLmFkZFRyYW5zY2VpdmVyKGUuZ2V0VHJhY2tCZWluZ1NlbnQoKSx7c3RyZWFtczpbdGhpcy5uYXRpdmVTdHJlYW1dLGRpcmVjdGlvbjpcInNlbmRvbmx5XCIsc2VuZEVuY29kaW5nczpyfSk7cmV0dXJuIHRoaXMuc2V0UHJlZmVycmVkQ29kZWMoaSxlLm5hdGl2ZVRyYWNrLmtpbmQpLGl9c2V0TWF4Qml0cmF0ZShlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgcjt5aWVsZChyPXRoaXMuY29ubmVjdGlvbik9PW51bGw/dm9pZCAwOnIuc2V0TWF4Qml0cmF0ZShlLHQpfSl9c2V0UHJlZmVycmVkQ29kZWMoZSx0KXt9cmVwbGFjZVRyYWNrKGUsdCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMucmVwbGFjZVNlbmRlclRyYWNrKGUsdCksZS5zdG9wKCksdGhpcy5yZXBsYWNlU3RyZWFtVHJhY2soZSx0KX0pfXJlcGxhY2VTdHJlYW1UcmFjayhlLHQpe3RoaXMubmF0aXZlU3RyZWFtLmFkZFRyYWNrKHQpLHRoaXMubmF0aXZlU3RyZWFtLnJlbW92ZVRyYWNrKGUpfXJlcGxhY2VTZW5kZXJUcmFjayhlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgaTtsZXQgcj0oaT10aGlzLmNvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDppLmdldFNlbmRlcnMoKS5maW5kKHM9PnMudHJhY2smJnMudHJhY2suaWQ9PT1lLmlkKTtpZihyPT09dm9pZCAwKXtvLncodGhpcy5UQUcsYE5vIHNlbmRlciBmb3VuZCBmb3IgdHJhY2tJZD0ke2UuaWR9YCk7cmV0dXJufXlpZWxkIHIucmVwbGFjZVRyYWNrKHQpfSl9cmVtb3ZlU2VuZGVyKGUpe2xldCB0PTA7dGhpcy5jb25uZWN0aW9uLmdldFNlbmRlcnMoKS5mb3JFYWNoKHI9Pnt2YXIgaSxzO2lmKCgoaT1yLnRyYWNrKT09bnVsbD92b2lkIDA6aS5pZCk9PT1lLnRyYWNrSWR8fCgocz1yLnRyYWNrKT09bnVsbD92b2lkIDA6cy5pZCk9PT1lLmdldFRyYWNrSURCZWluZ1NlbnQoKSl7dGhpcy5jb25uZWN0aW9uLnJlbW92ZVRyYWNrKHIpLHQrPTE7bGV0IG49dGhpcy50cmFja3MuaW5kZXhPZihlKTtuIT09LTE/dGhpcy50cmFja3Muc3BsaWNlKG4sMSk6by5lKHRoaXMuVEFHLGBDYW5ub3QgZmluZCAke2UudHJhY2tJZH0gaW4gbG9jYWxseSBzdG9yZWQgdHJhY2tzYCl9fSksdCE9PTEmJm8uZSh0aGlzLlRBRyxgUmVtb3ZlZCAke3R9IHNlbmRlcidzLCBleHBlY3RlZCB0byByZW1vdmUgMWApfXRyYWNrVXBkYXRlKGUpe3ZhciB0Oyh0PXRoaXMuY29ubmVjdGlvbik9PW51bGx8fHQudHJhY2tVcGRhdGUoZSl9fTtmdW5jdGlvbiBGcihhKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dHJ5e3JldHVybiB5aWVsZCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShhKX1jYXRjaChlKXt0aHJvdyBaKGUsVy5BVil9fSl9ZnVuY3Rpb24gd28oYSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3RyeXtyZXR1cm4geWllbGQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEoe3ZpZGVvOmEsYXVkaW86ITF9KX1jYXRjaChlKXt0aHJvdyBaKGUsVy5TQ1JFRU4pfX0pfWZ1bmN0aW9uIEhvKCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3RyeXtsZXQgYT15aWVsZCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKSxlPXthdWRpb2lucHV0OltdLGF1ZGlvb3V0cHV0OltdLHZpZGVvaW5wdXQ6W119O3JldHVybiBhLmZvckVhY2godD0+ZVt0LmtpbmRdLnB1c2godCkpLGV9Y2F0Y2goYSl7dGhyb3cgWihhLFcuQVYpfX0pfXZhciBSZT17YXVkaW9Db250ZXh0Om51bGwsZ2V0QXVkaW9Db250ZXh0KCl7cmV0dXJuIHRoaXMuYXVkaW9Db250ZXh0fHwodGhpcy5hdWRpb0NvbnRleHQ9bmV3IEF1ZGlvQ29udGV4dCksdGhpcy5hdWRpb0NvbnRleHR9LHJlc3VtZUNvbnRleHQoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dHJ5e3JldHVybiB5aWVsZCB0aGlzLmdldEF1ZGlvQ29udGV4dCgpLnJlc3VtZSgpfWNhdGNoKGEpe28uZShcIkF1ZGlvQ29udGV4dFwiLGEpfX0pfX07dmFyIEJyPXtpc0F1ZGlvTXV0ZWQ6ITEsaXNWaWRlb011dGVkOiExLGF1ZGlvSW5wdXREZXZpY2VJZDpcImRlZmF1bHRcIixhdWRpb091dHB1dERldmljZUlkOlwiZGVmYXVsdFwiLHZpZGVvRGV2aWNlSWQ6XCJkZWZhdWx0XCJ9LEZlLGRlPWNsYXNze2NvbnN0cnVjdG9yKGUsdCxyLGkscyl7dGhpcy5zdG9yZT1lO3RoaXMub2JzZXJ2ZXI9dDt0aGlzLmRldmljZU1hbmFnZXI9cjt0aGlzLmV2ZW50QnVzPWk7dGhpcy5hbmFseXRpY3NUaW1lcj1zO3RoaXMuVEFHPVwiW0xvY2FsVHJhY2tNYW5hZ2VyXVwiO3RoaXMuc2V0U2NyZWVuQ2FwdHVyZUhhbmRsZUNvbmZpZygpfWdldFRyYWNrc1RvUHVibGlzaChlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IHQ9dGhpcy5nZXRBVlRyYWNrU2V0dGluZ3MoZSk7aWYoIXQpcmV0dXJuW107bGV0IHI9ISF0LmF1ZGlvLGk9ISF0LnZpZGVvLHM9W10se3ZpZGVvVHJhY2s6bixhdWRpb1RyYWNrOmR9PXlpZWxkIHRoaXMudXBkYXRlQ3VycmVudExvY2FsVHJhY2tTZXR0aW5ncyh0KSxsPShuPT1udWxsP3ZvaWQgMDpuLnN0cmVhbSl8fChkPT1udWxsP3ZvaWQgMDpkLnN0cmVhbSksaD1Cb29sZWFuKG4mJnRoaXMuc3RvcmUuZ2V0VHJhY2tCeUlkKG4udHJhY2tJZCkpLHU9Qm9vbGVhbihkJiZ0aGlzLnN0b3JlLmdldFRyYWNrQnlJZChkLnRyYWNrSWQpKTtpZihoJiZ1KXJldHVybltdO2xldCBnPXthdWRpbzpyJiYhZCYmKGUuaXNBdWRpb011dGVkP1wiZW1wdHlcIjohMCksdmlkZW86aSYmIW4mJihlLmlzVmlkZW9NdXRlZD9cImVtcHR5XCI6ITApfTt0aGlzLmFuYWx5dGljc1RpbWVyLnN0YXJ0KE0uTE9DQUxfQVVESU9fVFJBQ0spLHRoaXMuYW5hbHl0aWNzVGltZXIuc3RhcnQoTS5MT0NBTF9WSURFT19UUkFDSyk7dHJ5e28uZCh0aGlzLlRBRyxcIkluaXQgTG9jYWwgVHJhY2tzXCIse2ZldGNoVHJhY2tPcHRpb25zOmd9KSxzPXlpZWxkIHRoaXMuZ2V0TG9jYWxUcmFja3MoZyx0LGwpfWNhdGNoKFMpe3M9eWllbGQgdGhpcy5yZXRyeUdldExvY2FsVHJhY2tzKFMsdCxnLGwpfXJldHVybiB0aGlzLmFuYWx5dGljc1RpbWVyLmVuZChNLkxPQ0FMX0FVRElPX1RSQUNLKSx0aGlzLmFuYWx5dGljc1RpbWVyLmVuZChNLkxPQ0FMX1ZJREVPX1RSQUNLKSxuJiZpJiYhaCYmcy5wdXNoKG4pLGQmJnImJiF1JiZzLnB1c2goZCksc30pfWdldExvY2FsVHJhY2tzKCl7cmV0dXJuIGModGhpcyxhcmd1bWVudHMsZnVuY3Rpb24qKGU9e2F1ZGlvOiEwLHZpZGVvOiEwfSx0LHIpe3RyeXtsZXQgaT15aWVsZCB0aGlzLmdldE5hdGl2ZUxvY2FsVHJhY2tzKGUsdCk7cmV0dXJuIHRoaXMuY3JlYXRlSE1TTG9jYWxUcmFja3MoaSx0LHIpfWNhdGNoKGkpe3Rocm93IHRoaXMuZXZlbnRCdXMuYW5hbHl0aWNzLnB1Ymxpc2goUi5wdWJsaXNoKHtkZXZpY2VzOnRoaXMuZGV2aWNlTWFuYWdlci5nZXREZXZpY2VzKCksZXJyb3I6aSxzZXR0aW5nczp0fSkpLGl9fSl9Z2V0TmF0aXZlTG9jYWxUcmFja3MoKXtyZXR1cm4gYyh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbiooZT17YXVkaW86ITEsdmlkZW86ITF9LHQpe2xldCByPW5ldyBMZShlLnZpZGVvPT09ITA/dC52aWRlbzpudWxsLGUuYXVkaW89PT0hMD90LmF1ZGlvOm51bGwsdC5zaW11bGNhc3QpLGk9W107cmV0dXJuKHIuYXVkaW98fHIudmlkZW8pJiZpLnB1c2goLi4ueWllbGQgdGhpcy5nZXRBVlRyYWNrcyhyKSksaS5wdXNoKC4uLnRoaXMuZ2V0RW1wdHlUcmFja3MoZSkpLGl9KX1nZXRMb2NhbFNjcmVlbihlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIGc7bGV0IHQ9eWllbGQgdGhpcy5nZXRPckRlZmF1bHRTY3JlZW5zaGFyZUNvbmZpZyhlKSxyPXRoaXMuZ2V0U2NyZWVuc2hhcmVTZXR0aW5ncyh0LnZpZGVvT25seSksaT17dmlkZW86Xyh2KHt9LHI9PW51bGw/dm9pZCAwOnIudmlkZW8udG9Db25zdHJhaW50cyghMCkpLHtkaXNwbGF5U3VyZmFjZTp0LmRpc3BsYXlTdXJmYWNlfSkscHJlZmVyQ3VycmVudFRhYjp0LnByZWZlckN1cnJlbnRUYWIsc2VsZkJyb3dzZXJTdXJmYWNlOnQuc2VsZkJyb3dzZXJTdXJmYWNlLHN1cmZhY2VTd2l0Y2hpbmc6dC5zdXJmYWNlU3dpdGNoaW5nLHN5c3RlbUF1ZGlvOnQuc3lzdGVtQXVkaW99O2lmKHI9PW51bGw/dm9pZCAwOnIuYXVkaW8pe2xldCBTPShnPXI9PW51bGw/dm9pZCAwOnIuYXVkaW8pPT1udWxsP3ZvaWQgMDpnLnRvQ29uc3RyYWludHMoKTtkZWxldGUgUy5hZHZhbmNlZCxpLmF1ZGlvPV8odih7fSxTKSx7YXV0b0dhaW5Db250cm9sOiExLG5vaXNlU3VwcHJlc3Npb246ITEsZ29vZ0F1dG9HYWluQ29udHJvbDohMSxlY2hvQ2FuY2VsbGF0aW9uOiExfSl9bGV0IHM7dHJ5e28uZChcInJldHJpZXZpbmcgc2NyZWVuc2hhcmUgd2l0aCBcIix7Y29uZmlnOnR9LHtjb25zdHJhaW50czppfSkscz15aWVsZCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYShpKX1jYXRjaChTKXtvLncodGhpcy5UQUcsXCJlcnJvciBpbiBnZXR0aW5nIHNjcmVlbnNoYXJlIC0gXCIsUyk7bGV0IHk9WihTLFcuU0NSRUVOKTt0aHJvdyB0aGlzLmV2ZW50QnVzLmFuYWx5dGljcy5wdWJsaXNoKFIucHVibGlzaCh7ZXJyb3I6eSxkZXZpY2VzOnRoaXMuZGV2aWNlTWFuYWdlci5nZXREZXZpY2VzKCksc2V0dGluZ3M6bmV3IExlKHI9PW51bGw/dm9pZCAwOnIudmlkZW8scj09bnVsbD92b2lkIDA6ci5hdWRpbywhMSl9KSkseX1sZXQgbj1bXSxkPW5ldyBTZShzKSxsPXMuZ2V0VmlkZW9UcmFja3MoKVswXSxoPW5ldyBjZShkLGwsXCJzY3JlZW5cIix0aGlzLmV2ZW50QnVzLHI9PW51bGw/dm9pZCAwOnIudmlkZW8pO2guc2V0U2ltdWxjYXN0RGVmaW5pdG9ucyh0aGlzLnN0b3JlLmdldFNpbXVsY2FzdERlZmluaXRpb25zRm9yUGVlcih0aGlzLnN0b3JlLmdldExvY2FsUGVlcigpLFwic2NyZWVuXCIpKTt0cnl7bGV0IFM9dGhpcy52YWxpZGF0ZUN1cnJlbnRUYWJDYXB0dXJlKGgsdC5mb3JjZUN1cnJlbnRUYWIpO2guaXNDdXJyZW50VGFiPVMseWllbGQgaC5jcm9wVG8odC5jcm9wVGFyZ2V0KX1jYXRjaChTKXt0aHJvdyBzLmdldFRyYWNrcygpLmZvckVhY2goeT0+eS5zdG9wKCkpLFN9bi5wdXNoKGgpO2xldCB1PXMuZ2V0QXVkaW9UcmFja3MoKVswXTtpZih1KXtsZXQgUz1uZXcgUGUoZCx1LFwic2NyZWVuXCIsdGhpcy5ldmVudEJ1cyxyPT1udWxsP3ZvaWQgMDpyLmF1ZGlvKTtuLnB1c2goUyl9cmV0dXJuIG8udih0aGlzLlRBRyxcImdldExvY2FsU2NyZWVuXCIsbiksbn0pfXNldFNjcmVlbkNhcHR1cmVIYW5kbGVDb25maWcoZSl7dmFyIHQ7ISgodD1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzKT09bnVsbD92b2lkIDA6dC5zZXRDYXB0dXJlSGFuZGxlQ29uZmlnKXx8dGhpcy5pc0luSWZyYW1lKCl8fChlPWV8fHt9LE9iamVjdC5hc3NpZ24oZSx7aGFuZGxlOk1pKCksZXhwb3NlT3JpZ2luOiExLHBlcm1pdHRlZE9yaWdpbnM6W3dpbmRvdy5sb2NhdGlvbi5vcmlnaW5dfSksby5kKFwic2V0dGluZyBjYXB0dXJlIGhhbmRsZSAtIFwiLGUuaGFuZGxlKSxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLnNldENhcHR1cmVIYW5kbGVDb25maWcoZSksdGhpcy5jYXB0dXJlSGFuZGxlSWRlbnRpZmllcj1lLmhhbmRsZSl9dmFsaWRhdGVDdXJyZW50VGFiQ2FwdHVyZShlLHQpe2xldCByPWUuZ2V0Q2FwdHVyZUhhbmRsZSgpLGk9ISEodGhpcy5jYXB0dXJlSGFuZGxlSWRlbnRpZmllciYmKHI9PW51bGw/dm9pZCAwOnIuaGFuZGxlKT09PXRoaXMuY2FwdHVyZUhhbmRsZUlkZW50aWZpZXIpO2lmKHQmJiFpKXRocm93IG8uZSh0aGlzLlRBRyxcImN1cnJlbnQgdGFiIHdhcyBub3Qgc2hhcmVkIHdpdGggZm9yY2VDdXJyZW50VGFiIGFzIHRydWVcIiksbS5UcmFja3NFcnJvcnMuQ3VycmVudFRhYk5vdFNoYXJlZCgpO3JldHVybiBpfXJlcXVlc3RQZXJtaXNzaW9ucygpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0cnl7KHlpZWxkIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHthdWRpbzohMCx2aWRlbzohMH0pKS5nZXRUcmFja3MoKS5mb3JFYWNoKHQ9PnQuc3RvcCgpKX1jYXRjaChlKXtvLmUodGhpcy5UQUcsZSl9fSl9c3RhdGljIGdldEVtcHR5VmlkZW9UcmFjayhlKXt2YXIgbCxoLHU7bGV0IHQ9KChsPWU9PW51bGw/dm9pZCAwOmUuZ2V0U2V0dGluZ3MoKSk9PW51bGw/dm9pZCAwOmwud2lkdGgpfHwzMjAscj0oKGg9ZT09bnVsbD92b2lkIDA6ZS5nZXRTZXR0aW5ncygpKT09bnVsbD92b2lkIDA6aC5oZWlnaHQpfHwyNDAsaT0xMDtGZXx8KEZlPU9iamVjdC5hc3NpZ24oZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx7d2lkdGg6dCxoZWlnaHQ6cn0pLCh1PUZlLmdldENvbnRleHQoXCIyZFwiKSk9PW51bGx8fHUuZmlsbFJlY3QoMCwwLHQscikpO2xldCBuPUZlLmNhcHR1cmVTdHJlYW0oaSkuZ2V0VmlkZW9UcmFja3MoKVswXSxkPXNldEludGVydmFsKCgpPT57aWYobi5yZWFkeVN0YXRlPT09XCJlbmRlZFwiKXtjbGVhckludGVydmFsKGQpO3JldHVybn1sZXQgZz1GZS5nZXRDb250ZXh0KFwiMmRcIik7aWYoZyl7bGV0IHk9Zy5nZXRJbWFnZURhdGEoMCwwLDEsMSkuZGF0YVswXT09PTA/MTowO2cuZmlsbFN0eWxlPWByZ2IoJHt5fSwgMCwgMClgLGcuZmlsbFJlY3QoMCwwLDEsMSl9fSwxZTMvaSk7cmV0dXJuIG4ub25lbmRlZD0oKT0+e2NsZWFySW50ZXJ2YWwoZCl9LG4uZW5hYmxlZD0hMSxufXN0YXRpYyBnZXRFbXB0eUF1ZGlvVHJhY2soKXtsZXQgZT1SZS5nZXRBdWRpb0NvbnRleHQoKSx0PWUuY3JlYXRlT3NjaWxsYXRvcigpLHI9ZS5jcmVhdGVNZWRpYVN0cmVhbURlc3RpbmF0aW9uKCk7dC5jb25uZWN0KHIpLHQuc3RhcnQoKTtsZXQgaT1yLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdO3JldHVybiBpLmVuYWJsZWQ9ITEsaX1nZXRBVlRyYWNrcyhlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dHJ5e2xldCB0PXlpZWxkIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHthdWRpbzplLmF1ZGlvP2UuYXVkaW8udG9Db25zdHJhaW50cygpOiExLHZpZGVvOmUudmlkZW8/ZS52aWRlby50b0NvbnN0cmFpbnRzKCk6ITF9KTtyZXR1cm4gdC5nZXRWaWRlb1RyYWNrcygpLmNvbmNhdCh0LmdldEF1ZGlvVHJhY2tzKCkpfWNhdGNoKHQpe3lpZWxkIHRoaXMuZGV2aWNlTWFuYWdlci5pbml0KCk7bGV0IHI9ISEoIXRoaXMuZGV2aWNlTWFuYWdlci5oYXNXZWJjYW1QZXJtaXNzaW9uJiZlLnZpZGVvKSxpPSEhKCF0aGlzLmRldmljZU1hbmFnZXIuaGFzTWljcm9waG9uZVBlcm1pc3Npb24mJmUuYXVkaW8pLHM9dGhpcy5nZXRFcnJvclR5cGUocixpKTt0aHJvdyBaKHQscyl9fSl9Z2V0QVZUcmFja1NldHRpbmdzKGUpe2xldCB0PXRoaXMuZ2V0QXVkaW9TZXR0aW5ncyhlKSxyPXRoaXMuZ2V0VmlkZW9TZXR0aW5ncyhlKTtyZXR1cm4hdCYmIXI/bnVsbDpuZXcgamUoKS52aWRlbyhyKS5hdWRpbyh0KS5idWlsZCgpfWlzSW5JZnJhbWUoKXt0cnl7cmV0dXJuIHdpbmRvdy5zZWxmIT09d2luZG93LnRvcH1jYXRjaChlKXtyZXR1cm4hMH19cmV0cnlHZXRMb2NhbFRyYWNrcyhlLHQscixpKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYoZSBpbnN0YW5jZW9mIFQmJmUuYWN0aW9uPT09cC5UUkFDSyl7dGhpcy5vYnNlcnZlci5vbkZhaWx1cmUoZSk7bGV0IHM9ZS5jb2RlPT09Zi5UcmFja3NFcnJvcnMuT1ZFUl9DT05TVFJBSU5FRCxuPWUubWVzc2FnZS5pbmNsdWRlcyhcImF1ZGlvXCIpLGQ9ZS5tZXNzYWdlLmluY2x1ZGVzKFwidmlkZW9cIik7aWYocyl7bGV0IGw9bmV3IGplKCkudmlkZW8obmV3IHllKS5hdWRpbyhuZXcga2UpLmJ1aWxkKCk7by53KHRoaXMuVEFHLFwiRmV0Y2ggQVYgVHJhY2tzIGZhaWxlZCB3aXRoIG92ZXJjb25zdHJhaW5lZCBlcnJvclwiLHtmZXRjaFRyYWNrT3B0aW9uczpyfSx7ZXJyb3I6ZX0pO3RyeXtyZXR1cm4geWllbGQgdGhpcy5nZXRMb2NhbFRyYWNrcyhyLGwsaSl9Y2F0Y2goaCl7bGV0IHU9aCBpbnN0YW5jZW9mIFQ/aC5uYXRpdmVFcnJvcjpoLGc9aDtpZigodT09bnVsbD92b2lkIDA6dS5uYW1lKT09PVwiT3ZlcmNvbnN0cmFpbmVkRXJyb3JcIil7bGV0IFM9bS5UcmFja3NFcnJvcnMuR2VuZXJpY1RyYWNrKHAuVFJBQ0ssXCJPdmVyY29uc3RyYWluZWQgZXJyb3IgYWZ0ZXIgZHJvcHBpbmcgYWxsIGNvbnN0cmFpbnRzXCIpO1MuYWRkTmF0aXZlRXJyb3IodSksZz1TfXJldHVybiB5aWVsZCB0aGlzLnJldHJ5R2V0TG9jYWxUcmFja3MoZyx0LHIsaSl9fXIuYXVkaW89bj9cImVtcHR5XCI6ci5hdWRpbyxyLnZpZGVvPWQ/XCJlbXB0eVwiOnIudmlkZW8sby53KHRoaXMuVEFHLFwiRmV0Y2ggQVYgVHJhY2tzIGZhaWxlZFwiLHtmZXRjaFRyYWNrT3B0aW9uczpyfSxlKTt0cnl7cmV0dXJuIHlpZWxkIHRoaXMuZ2V0TG9jYWxUcmFja3Mocix0LGkpfWNhdGNoKGwpe3JldHVybiBvLncodGhpcy5UQUcsXCJGZXRjaCBlbXB0eSB0YWNrcyBmYWlsZWRcIixsKSxyLmF1ZGlvPXIuYXVkaW8mJlwiZW1wdHlcIixyLnZpZGVvPXIudmlkZW8mJlwiZW1wdHlcIix0aGlzLm9ic2VydmVyLm9uRmFpbHVyZShsKSx5aWVsZCB0aGlzLmdldExvY2FsVHJhY2tzKHIsdCxpKX19ZWxzZSByZXR1cm4gby53KHRoaXMuVEFHLFwiRmV0Y2ggQVYgVHJhY2tzIGZhaWxlZCAtIHVua25vd24gZXhjZXB0aW9uXCIsZSksdGhpcy5vYnNlcnZlci5vbkZhaWx1cmUoZSksW119KX1nZXRFcnJvclR5cGUoZSx0KXtyZXR1cm4gZSYmdD9XLkFWOmU/Vy5WSURFTzp0P1cuQVVESU86Vy5VTktOT1dOfWdldEVtcHR5VHJhY2tzKGUpe2xldCB0PVtdO3JldHVybiBlLmF1ZGlvPT09XCJlbXB0eVwiJiZ0LnB1c2goZGUuZ2V0RW1wdHlBdWRpb1RyYWNrKCkpLGUudmlkZW89PT1cImVtcHR5XCImJnQucHVzaChkZS5nZXRFbXB0eVZpZGVvVHJhY2soKSksdH11cGRhdGVDdXJyZW50TG9jYWxUcmFja1NldHRpbmdzKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgdD10aGlzLnN0b3JlLmdldExvY2FsUGVlclRyYWNrcygpLHI9dC5maW5kKG49Pm4udHlwZT09PUwuVklERU8mJm4uc291cmNlPT09XCJyZWd1bGFyXCIpLGk9dC5maW5kKG49Pm4udHlwZT09PUwuQVVESU8mJm4uc291cmNlPT09XCJyZWd1bGFyXCIpLHM9dC5maW5kKG49Pm4udHlwZT09PUwuVklERU8mJm4uc291cmNlPT09XCJzY3JlZW5cIik7cmV0dXJuKGU9PW51bGw/dm9pZCAwOmUudmlkZW8pJiYoeWllbGQgcj09bnVsbD92b2lkIDA6ci5zZXRTZXR0aW5ncyhlLnZpZGVvKSksKGU9PW51bGw/dm9pZCAwOmUuYXVkaW8pJiYoeWllbGQgaT09bnVsbD92b2lkIDA6aS5zZXRTZXR0aW5ncyhlLmF1ZGlvKSksKGU9PW51bGw/dm9pZCAwOmUuc2NyZWVuKSYmKHlpZWxkIHM9PW51bGw/dm9pZCAwOnMuc2V0U2V0dGluZ3MoZS5zY3JlZW4pKSx7dmlkZW9UcmFjazpyLGF1ZGlvVHJhY2s6aX19KX1nZXRBdWRpb1NldHRpbmdzKGUpe3ZhciBuO2xldCB0PXRoaXMuc3RvcmUuZ2V0UHVibGlzaFBhcmFtcygpO2lmKCF0fHwhKChuPXQuYWxsb3dlZCk9PW51bGw/dm9pZCAwOm4uaW5jbHVkZXMoXCJhdWRpb1wiKSkpcmV0dXJuIG51bGw7bGV0IHI9dGhpcy5zdG9yZS5nZXRMb2NhbFBlZXIoKSxpPXI9PW51bGw/dm9pZCAwOnIuYXVkaW9UcmFjayxzPShpPT1udWxsP3ZvaWQgMDppLnNldHRpbmdzLmRldmljZUlkKXx8ZS5hdWRpb0lucHV0RGV2aWNlSWQ7cmV0dXJuIG5ldyB6KCkuY29kZWModC5hdWRpby5jb2RlYykubWF4Qml0cmF0ZSh0LmF1ZGlvLmJpdFJhdGUpLmRldmljZUlkKHN8fEJyLmF1ZGlvSW5wdXREZXZpY2VJZCkuYnVpbGQoKX1nZXRWaWRlb1NldHRpbmdzKGUpe3ZhciBkO2xldCB0PXRoaXMuc3RvcmUuZ2V0UHVibGlzaFBhcmFtcygpO2lmKCF0fHwhKChkPXQuYWxsb3dlZCk9PW51bGw/dm9pZCAwOmQuaW5jbHVkZXMoXCJ2aWRlb1wiKSkpcmV0dXJuIG51bGw7bGV0IHI9dGhpcy5zdG9yZS5nZXRMb2NhbFBlZXIoKSxpPXI9PW51bGw/dm9pZCAwOnIudmlkZW9UcmFjayxzPShpPT1udWxsP3ZvaWQgMDppLnNldHRpbmdzLmRldmljZUlkKXx8ZS52aWRlb0RldmljZUlkLG49dC52aWRlbztyZXR1cm4gbmV3IEooKS5jb2RlYyhuLmNvZGVjKS5tYXhCaXRyYXRlKG4uYml0UmF0ZSkubWF4RnJhbWVyYXRlKG4uZnJhbWVSYXRlKS5zZXRXaWR0aChuLndpZHRoKS5zZXRIZWlnaHQobi5oZWlnaHQpLmRldmljZUlkKHN8fEJyLnZpZGVvRGV2aWNlSWQpLmJ1aWxkKCl9Z2V0U2NyZWVuc2hhcmVTZXR0aW5ncyhlPSExKXt2YXIgaTtsZXQgdD10aGlzLnN0b3JlLmdldFB1Ymxpc2hQYXJhbXMoKTtpZighdHx8ISgoaT10LmFsbG93ZWQpPT1udWxsP3ZvaWQgMDppLmluY2x1ZGVzKFwic2NyZWVuXCIpKSlyZXR1cm4gbnVsbDtsZXQgcj10LnNjcmVlbjtyZXR1cm57dmlkZW86bmV3IEooKS5tYXhCaXRyYXRlKHIuYml0UmF0ZSwhMSkuY29kZWMoci5jb2RlYykubWF4RnJhbWVyYXRlKHIuZnJhbWVSYXRlKS5zZXRXaWR0aChyLndpZHRoKS5zZXRIZWlnaHQoci5oZWlnaHQpLmJ1aWxkKCksYXVkaW86ZT92b2lkIDA6bmV3IHooKS5idWlsZCgpfX1nZXRPckRlZmF1bHRTY3JlZW5zaGFyZUNvbmZpZyhlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIHI7bGV0IHQ9T2JqZWN0LmFzc2lnbih7dmlkZW9Pbmx5OiExLGF1ZGlvT25seTohMSxmb3JjZUN1cnJlbnRUYWI6ITEscHJlZmVyQ3VycmVudFRhYjohMSxzZWxmQnJvd3NlclN1cmZhY2U6XCJleGNsdWRlXCIsc3VyZmFjZVN3aXRjaGluZzpcImluY2x1ZGVcIixzeXN0ZW1BdWRpbzpcImV4Y2x1ZGVcIixkaXNwbGF5U3VyZmFjZTpcIm1vbml0b3JcIn0sZXx8e30pO3JldHVybiB0LmZvcmNlQ3VycmVudFRhYiYmKHQudmlkZW9Pbmx5PSEwLHQucHJlZmVyQ3VycmVudFRhYj0hMCx0LnNlbGZCcm93c2VyU3VyZmFjZT1cImluY2x1ZGVcIix0LnN1cmZhY2VTd2l0Y2hpbmc9XCJleGNsdWRlXCIpLHQucHJlZmVyQ3VycmVudFRhYiYmKHQuc2VsZkJyb3dzZXJTdXJmYWNlPVwiaW5jbHVkZVwiLHQuZGlzcGxheVN1cmZhY2U9dm9pZCAwKSx0LmNyb3BFbGVtZW50JiYoKHI9d2luZG93LkNyb3BUYXJnZXQpPT1udWxsP3ZvaWQgMDpyLmZyb21FbGVtZW50KSYmKHQuY3JvcFRhcmdldD15aWVsZCB3aW5kb3cuQ3JvcFRhcmdldC5mcm9tRWxlbWVudCh0LmNyb3BFbGVtZW50KSksdH0pfWNyZWF0ZUhNU0xvY2FsVHJhY2tzKGUsdCxyKXtsZXQgaT1lLmZpbmQoZD0+ZC5raW5kPT09XCJ2aWRlb1wiKSxzPWUuZmluZChkPT5kLmtpbmQ9PT1cImF1ZGlvXCIpO3I/ZS5mb3JFYWNoKGQ9PnI9PW51bGw/dm9pZCAwOnIubmF0aXZlU3RyZWFtLmFkZFRyYWNrKGQpKTpyPW5ldyBTZShuZXcgTWVkaWFTdHJlYW0oZSkpO2xldCBuPVtdO2lmKHMmJih0PT1udWxsP3ZvaWQgMDp0LmF1ZGlvKSl7bGV0IGQ9bmV3IFBlKHIscyxcInJlZ3VsYXJcIix0aGlzLmV2ZW50QnVzLHQuYXVkaW8pO24ucHVzaChkKX1pZihpJiYodD09bnVsbD92b2lkIDA6dC52aWRlbykpe2xldCBkPW5ldyBjZShyLGksXCJyZWd1bGFyXCIsdGhpcy5ldmVudEJ1cyx0LnZpZGVvKTtkLnNldFNpbXVsY2FzdERlZmluaXRvbnModGhpcy5zdG9yZS5nZXRTaW11bGNhc3REZWZpbml0aW9uc0ZvclBlZXIodGhpcy5zdG9yZS5nZXRMb2NhbFBlZXIoKSxcInJlZ3VsYXJcIikpLG4ucHVzaChkKX1yZXR1cm4gbn19O3ZhciBfdD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMuZXZlbnRCdXM9ZTt0aGlzLmxpc3RlbmVyPXQ7dGhpcy5UQUc9XCJbTmV0d29ya1Rlc3RNYW5hZ2VyXVwiO3RoaXMuY29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyO3RoaXMuc3RhcnQ9ZT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIGg7aWYoIWUpcmV0dXJuO2xldHt1cmw6dCx0aW1lb3V0OnIsc2NvcmVNYXA6aX09ZSxzPXRoaXMuY29udHJvbGxlci5zaWduYWwsbj1EYXRlLm5vdygpLGQ9MCxsPWoocikudGhlbigoKT0+e3RoaXMuY29udHJvbGxlci5hYm9ydCgpfSk7dHJ5e2xldCBnPShoPSh5aWVsZCBmZXRjaChgJHt0fT8ke0RhdGUubm93KCl9YCx7c2lnbmFsOnN9KSkuYm9keSk9PW51bGw/dm9pZCAwOmguZ2V0UmVhZGVyKCk7aWYoIWcpdGhyb3cgRXJyb3IoXCJ1bmFibGUgdG8gcHJvY2VzcyByZXF1ZXN0XCIpO2xldCBTPSgpPT5jKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZighIWcpdHJ5e2xldCB5PSExO2Zvcig7IXk7KXtsZXR7dmFsdWU6eCxkb25lOkJ9PXlpZWxkIGcucmVhZCgpO3k9Qix4JiYoZCs9eC5ieXRlTGVuZ3RoLHRoaXMuc2VuZFNjb3JlKHtzY29yZU1hcDppLGRvd25sb2FkZWRTaXplOmQsc3RhcnRUaW1lOm59KSl9fWNhdGNoKHkpe28uZSh0aGlzLlRBRyx5KX19KTtyZXR1cm4gUHJvbWlzZS5yYWNlKFtTKCksbF0pLnRoZW4oKCk9Pnt0aGlzLnNlbmRTY29yZSh7c2NvcmVNYXA6aSxkb3dubG9hZGVkU2l6ZTpkLHN0YXJ0VGltZTpuLGZpbmlzaGVkOiEwfSl9KS5jYXRjaCh5PT57by5lKHRoaXMuVEFHLHkpLHRoaXMudXBkYXRlU2NvcmVUb0xpc3RlbmVyKDApLHRoaXMuZXZlbnRCdXMuYW5hbHl0aWNzLnB1Ymxpc2goUi5wcmV2aWV3TmV0d29ya1F1YWxpdHkoe2Vycm9yOnkubWVzc2FnZX0pKX0pfWNhdGNoKHUpe28uZSh0aGlzLlRBRyx1KSx1Lm5hbWUhPT1cIkFib3J0RXJyb3JcIiYmKHRoaXMudXBkYXRlU2NvcmVUb0xpc3RlbmVyKDApLHRoaXMuZXZlbnRCdXMuYW5hbHl0aWNzLnB1Ymxpc2goUi5wcmV2aWV3TmV0d29ya1F1YWxpdHkoe2Vycm9yOnUubWVzc2FnZX0pKSl9fSk7dGhpcy5zdG9wPSgpPT57dGhpcy5jb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkfHx0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKX07dGhpcy5zZW5kU2NvcmU9KHtzY29yZU1hcDplLGRvd25sb2FkZWRTaXplOnQsc3RhcnRUaW1lOnIsZmluaXNoZWQ6aT0hMX0pPT57bGV0IHM9KERhdGUubm93KCktcikvMWUzLGQ9dC8xMDI0L3MqOCxsPS0xO2ZvcihsZXQgaCBpbiBlKXtsZXQgdT1lW2hdO2Q+PXUubG93JiYoIXUuaGlnaHx8ZDw9dS5oaWdoKSYmKGw9TnVtYmVyKGgpKX10aGlzLnVwZGF0ZVNjb3JlVG9MaXN0ZW5lcihsKSxpJiZ0aGlzLmV2ZW50QnVzLmFuYWx5dGljcy5wdWJsaXNoKFIucHJldmlld05ldHdvcmtRdWFsaXR5KHtzY29yZTpsLGRvd25MaW5rOmQudG9GaXhlZCgyKX0pKX19dXBkYXRlU2NvcmVUb0xpc3RlbmVyKGUpe3ZhciB0LHI7ZSE9PXRoaXMuc2NvcmUmJih0aGlzLnNjb3JlPWUsKHI9KHQ9dGhpcy5saXN0ZW5lcik9PW51bGw/dm9pZCAwOnQub25OZXR3b3JrUXVhbGl0eSk9PW51bGx8fHIuY2FsbCh0LGUpKX19O3ZhciBpdD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQscixpLHMpe3RoaXMuc3RvcmU9ZTt0aGlzLnRyYW5zcG9ydD10O3RoaXMucHVibGlzaD1yO3RoaXMucmVtb3ZlQXV4aWxpYXJ5VHJhY2s9aTt0aGlzLmxpc3RlbmVyPXM7dGhpcy5oYW5kbGVMb2NhbFBlZXJSb2xlVXBkYXRlPXI9PmModGhpcyxbcl0sZnVuY3Rpb24qKHtvbGRSb2xlOmUsbmV3Um9sZTp0fSl7dmFyIHkseCxCLEksb3IsY3I7bGV0IGk9dGhpcy5zdG9yZS5nZXRMb2NhbFBlZXIoKTtpZighaSlyZXR1cm47bGV0IHM9bmV3IFNldChlLnB1Ymxpc2hQYXJhbXMuYWxsb3dlZCksbj1uZXcgU2V0KHQucHVibGlzaFBhcmFtcy5hbGxvd2VkKSxkPXRoaXMucmVtb3ZlVHJhY2socyxuLFwidmlkZW9cIiksbD10aGlzLmhhc1NpbXVsY2FzdERpZmZlcmVuY2UoKHk9ZS5wdWJsaXNoUGFyYW1zLnNpbXVsY2FzdCk9PW51bGw/dm9pZCAwOnkudmlkZW8sKHg9dC5wdWJsaXNoUGFyYW1zLnNpbXVsY2FzdCk9PW51bGw/dm9pZCAwOngudmlkZW8pLGg9dGhpcy5yZW1vdmVUcmFjayhzLG4sXCJhdWRpb1wiKSx1PXRoaXMucmVtb3ZlVHJhY2socyxuLFwic2NyZWVuXCIpLGc9dGhpcy5oYXNTaW11bGNhc3REaWZmZXJlbmNlKChCPWUucHVibGlzaFBhcmFtcy5zaW11bGNhc3QpPT1udWxsP3ZvaWQgMDpCLnNjcmVlbiwoST10LnB1Ymxpc2hQYXJhbXMuc2ltdWxjYXN0KT09bnVsbD92b2lkIDA6SS5zY3JlZW4pO3lpZWxkIHRoaXMucmVtb3ZlQXVkaW9UcmFjayhoKSx5aWVsZCB0aGlzLnJlbW92ZVZpZGVvVHJhY2tzKGR8fGwpLHlpZWxkIHRoaXMucmVtb3ZlU2NyZWVuVHJhY2tzKHV8fGcpLHRoaXMuc3RvcmUuc2V0UHVibGlzaFBhcmFtcyh0LnB1Ymxpc2hQYXJhbXMpO2xldCBTPSgob3I9dGhpcy5zdG9yZS5nZXRDb25maWcoKSk9PW51bGw/dm9pZCAwOm9yLnNldHRpbmdzKXx8e2lzQXVkaW9NdXRlZDohMCxpc1ZpZGVvTXV0ZWQ6ITAsYXVkaW9JbnB1dERldmljZUlkOlwiZGVmYXVsdFwiLHZpZGVvRGV2aWNlSWQ6XCJkZWZhdWx0XCIsYXVkaW9PdXRwdXREZXZpY2VJZDpcImRlZmF1bHRcIn07eWllbGQgdGhpcy5wdWJsaXNoKF8odih7fSxTKSx7aXNBdWRpb011dGVkOiEwLGlzVmlkZW9NdXRlZDohMH0pKSwoY3I9dGhpcy5saXN0ZW5lcik9PW51bGx8fGNyLm9uUGVlclVwZGF0ZShLLlJPTEVfVVBEQVRFRCxpKX0pfXJlbW92ZVZpZGVvVHJhY2tzKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgcjtpZighZSlyZXR1cm47bGV0IHQ9dGhpcy5zdG9yZS5nZXRMb2NhbFBlZXIoKTsodD09bnVsbD92b2lkIDA6dC52aWRlb1RyYWNrKSYmKHlpZWxkIHRoaXMudHJhbnNwb3J0LnVucHVibGlzaChbdC52aWRlb1RyYWNrXSksKHI9dGhpcy5saXN0ZW5lcik9PW51bGx8fHIub25UcmFja1VwZGF0ZShOLlRSQUNLX1JFTU9WRUQsdC52aWRlb1RyYWNrLHQpLHQudmlkZW9UcmFjaz12b2lkIDApLHlpZWxkIHRoaXMucmVtb3ZlQXV4VHJhY2tzKGk9Pmkuc291cmNlIT09XCJzY3JlZW5cIiYmaS50eXBlPT09XCJ2aWRlb1wiKX0pfXJlbW92ZUF1ZGlvVHJhY2soZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciByO2lmKCFlKXJldHVybjtsZXQgdD10aGlzLnN0b3JlLmdldExvY2FsUGVlcigpOyh0PT1udWxsP3ZvaWQgMDp0LmF1ZGlvVHJhY2spJiYoeWllbGQgdGhpcy50cmFuc3BvcnQudW5wdWJsaXNoKFt0LmF1ZGlvVHJhY2tdKSwocj10aGlzLmxpc3RlbmVyKT09bnVsbHx8ci5vblRyYWNrVXBkYXRlKE4uVFJBQ0tfUkVNT1ZFRCx0LmF1ZGlvVHJhY2ssdCksdC5hdWRpb1RyYWNrPXZvaWQgMCkseWllbGQgdGhpcy5yZW1vdmVBdXhUcmFja3MoaT0+aS5zb3VyY2UhPT1cInNjcmVlblwiJiZpLnR5cGU9PT1cImF1ZGlvXCIpfSl9cmVtb3ZlU2NyZWVuVHJhY2tzKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXshZXx8KHlpZWxkIHRoaXMucmVtb3ZlQXV4VHJhY2tzKHQ9PnQuc291cmNlPT09XCJzY3JlZW5cIikpfSl9cmVtb3ZlQXV4VHJhY2tzKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgdD10aGlzLnN0b3JlLmdldExvY2FsUGVlcigpO2lmKHQ9PW51bGw/dm9pZCAwOnQuYXV4aWxpYXJ5VHJhY2tzKXtsZXQgcj1bLi4udC5hdXhpbGlhcnlUcmFja3NdO2ZvcihsZXQgaSBvZiByKWUoaSkmJih5aWVsZCB0aGlzLnJlbW92ZUF1eGlsaWFyeVRyYWNrKGkudHJhY2tJZCkpfX0pfXJlbW92ZVRyYWNrKGUsdCxyKXtyZXR1cm4gZS5oYXMocikmJiF0LmhhcyhyKX1oYXNTaW11bGNhc3REaWZmZXJlbmNlKGUsdCl7dmFyIHIsaTtyZXR1cm4hZSYmIXQ/ITE6KChyPWU9PW51bGw/dm9pZCAwOmUubGF5ZXJzKT09bnVsbD92b2lkIDA6ci5sZW5ndGgpIT09KChpPXQ9PW51bGw/dm9pZCAwOnQubGF5ZXJzKT09bnVsbD92b2lkIDA6aS5sZW5ndGgpfX07dmFyIEx0PWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMuc3RvcmU9ZTt0aGlzLnByaW1pdGl2ZUNvbXBhcmF0b3I9KGUsdCk9PmU9PT10PzA6TnVtYmVyKGUpLU51bWJlcih0KTt0aGlzLnN0cmluZ0NvbXBhcmF0b3I9KGUsdCk9PmU9PT10PzA6ZTx0Py0xOjF9Z2V0UGVlckNvbXBhcmF0b3JzKCl7cmV0dXJue3ZpZGVvRW5hYmxlZDooZSx0KT0+e3ZhciByLGk7cmV0dXJuIHRoaXMucHJpbWl0aXZlQ29tcGFyYXRvcihCb29sZWFuKChyPWUudmlkZW9UcmFjayk9PW51bGw/dm9pZCAwOnIuZW5hYmxlZCksQm9vbGVhbigoaT10LnZpZGVvVHJhY2spPT1udWxsP3ZvaWQgMDppLmVuYWJsZWQpKX0sYXVkaW9FbmFibGVkOihlLHQpPT57dmFyIHIsaTtyZXR1cm4gdGhpcy5wcmltaXRpdmVDb21wYXJhdG9yKEJvb2xlYW4oKHI9ZS5hdWRpb1RyYWNrKT09bnVsbD92b2lkIDA6ci5lbmFibGVkKSxCb29sZWFuKChpPXQuYXVkaW9UcmFjayk9PW51bGw/dm9pZCAwOmkuZW5hYmxlZCkpfSxzY3JlZW5TaGFyZTooZSx0KT0+dGhpcy5wcmltaXRpdmVDb21wYXJhdG9yKGUuYXV4aWxpYXJ5VHJhY2tzLnNvbWUocj0+ci5zb3VyY2U9PT1cInNjcmVlblwiKSx0LmF1eGlsaWFyeVRyYWNrcy5zb21lKHI9PnIuc291cmNlPT09XCJzY3JlZW5cIikpLGF1ZGlvTGV2ZWw6KGUsdCk9Pnt2YXIgcixpO3JldHVybiB0aGlzLnByaW1pdGl2ZUNvbXBhcmF0b3IoKChyPXRoaXMuc3RvcmUuZ2V0U3BlYWtlcnMoKS5maW5kKHM9PnMucGVlciYmcy5wZWVyLnBlZXJJZD09PShlPT1udWxsP3ZvaWQgMDplLnBlZXJJZCkpKT09bnVsbD92b2lkIDA6ci5hdWRpb0xldmVsKXx8LTEsKChpPXRoaXMuc3RvcmUuZ2V0U3BlYWtlcnMoKS5maW5kKHM9PnMucGVlciYmcy5wZWVyLnBlZXJJZD09PSh0PT1udWxsP3ZvaWQgMDp0LnBlZXJJZCkpKT09bnVsbD92b2lkIDA6aS5hdWRpb0xldmVsKXx8LTEpfSxyb2xlUHJpb3JpdHk6KGUsdCk9Pnt2YXIgcixpO3JldHVybiB0aGlzLnByaW1pdGl2ZUNvbXBhcmF0b3IoKChyPXQucm9sZSk9PW51bGw/dm9pZCAwOnIucHJpb3JpdHkpfHwwLCgoaT1lLnJvbGUpPT1udWxsP3ZvaWQgMDppLnByaW9yaXR5KXx8MCl9fX1nZXRUcmFja0NvbXBhcmF0b3JzKCl7cmV0dXJue3ZpZGVvOihlLHQpPT50aGlzLnByaW1pdGl2ZUNvbXBhcmF0b3IoZS50eXBlPT09TC5WSURFTyx0LnR5cGU9PT1MLlZJREVPKSxhdWRpbzooZSx0KT0+dGhpcy5wcmltaXRpdmVDb21wYXJhdG9yKGUudHlwZT09PUwuQVVESU8sdC50eXBlPT09TC5BVURJTyksZW5hYmxlZDooZSx0KT0+dGhpcy5wcmltaXRpdmVDb21wYXJhdG9yKEJvb2xlYW4oZS5lbmFibGVkKSxCb29sZWFuKHQuZW5hYmxlZCkpLHBlZXJBdWRpb0xldmVsOihlLHQpPT57bGV0IHI9dGhpcy5zdG9yZS5nZXRQZWVyQnlUcmFja0lkKGUudHJhY2tJZCksaT10aGlzLnN0b3JlLmdldFBlZXJCeVRyYWNrSWQodC50cmFja0lkKTtyZXR1cm4gdGhpcy5nZXRQZWVyQ29tcGFyYXRvcnMoKS5hdWRpb0xldmVsKHIsaSl9LGF1ZGlvTGV2ZWw6KGUsdCk9Pnt2YXIgcixpO3JldHVybiB0aGlzLnByaW1pdGl2ZUNvbXBhcmF0b3IoKChyPXRoaXMuc3RvcmUuZ2V0U3BlYWtlcnMoKS5maW5kKHM9PnMudHJhY2sudHJhY2tJZD09PWUudHJhY2tJZCkpPT1udWxsP3ZvaWQgMDpyLmF1ZGlvTGV2ZWwpfHwwLCgoaT10aGlzLnN0b3JlLmdldFNwZWFrZXJzKCkuZmluZChzPT5zLnRyYWNrLnRyYWNrSWQ9PT10LnRyYWNrSWQpKT09bnVsbD92b2lkIDA6aS5hdWRpb0xldmVsKXx8MCl9LHNjcmVlblNoYXJlOihlLHQpPT50aGlzLnByaW1pdGl2ZUNvbXBhcmF0b3IoZS5zb3VyY2U9PT1cInNjcmVlblwiLHQuc291cmNlPT09XCJzY3JlZW5cIikscm9sZVByaW9yaXR5OihlLHQpPT57dmFyIHIsaSxzLG47cmV0dXJuIHRoaXMucHJpbWl0aXZlQ29tcGFyYXRvcigoKGk9KHI9dGhpcy5zdG9yZS5nZXRQZWVyQnlUcmFja0lkKHQudHJhY2tJZCkpPT1udWxsP3ZvaWQgMDpyLnJvbGUpPT1udWxsP3ZvaWQgMDppLnByaW9yaXR5KXx8MCwoKG49KHM9dGhpcy5zdG9yZS5nZXRQZWVyQnlUcmFja0lkKGUudHJhY2tJZCkpPT1udWxsP3ZvaWQgMDpzLnJvbGUpPT1udWxsP3ZvaWQgMDpuLnByaW9yaXR5KXx8MCl9fX19O3ZhciBVcj1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuVEFHPVwiW0hUVFBBbmFseXRpY3NUcmFuc3BvcnRdXCI7dGhpcy5mYWlsZWRFdmVudHM9bmV3IHRlKFwiY2xpZW50LWV2ZW50c1wiKTt0aGlzLmlzQ29ubmVjdGVkPSEwO3RoaXMuZW52PW51bGx9c2V0RW52KGUpe3RoaXMuZW52PWUsdGhpcy5mbHVzaEZhaWxlZEV2ZW50cygpfXNlbmRFdmVudChlKXtpZighdGhpcy5lbnYpe3RoaXMuYWRkRXZlbnRUb1N0b3JhZ2UoZSk7cmV0dXJufWxldCB0PXtldmVudDplLm5hbWUscGF5bG9hZDplLnByb3BlcnRpZXMsZXZlbnRfaWQ6U3RyaW5nKGUudGltZXN0YW1wKSxwZWVyOmUubWV0YWRhdGEucGVlcix0aW1lc3RhbXA6ZS50aW1lc3RhbXAsZGV2aWNlX2lkOmUuZGV2aWNlX2lkfSxyPXRoaXMuZW52PT09Vi5QUk9EP0RyOk5yO2ZldGNoKHIse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwiLEF1dGhvcml6YXRpb246YEJlYXJlciAke2UubWV0YWRhdGEudG9rZW59YCx1c2VyX2FnZW50X3YyOmUubWV0YWRhdGEudXNlckFnZW50fSxib2R5OkpTT04uc3RyaW5naWZ5KHQpfSkudGhlbihpPT57aWYoaS5zdGF0dXM9PT00MDEpe3RoaXMucmVtb3ZlRnJvbVN0b3JhZ2UoZSk7cmV0dXJufWlmKGkuc3RhdHVzIT09MjAwKXRocm93IEVycm9yKGkuc3RhdHVzVGV4dCk7dGhpcy5yZW1vdmVGcm9tU3RvcmFnZShlKX0pLmNhdGNoKGk9PntvLnYodGhpcy5UQUcsXCJGYWlsZWQgdG8gc2VuZCBldmVudFwiLGksZSksdGhpcy5hZGRFdmVudFRvU3RvcmFnZShlKX0pfWZsdXNoRmFpbGVkRXZlbnRzKCl7bGV0IGU9dGhpcy5mYWlsZWRFdmVudHMuZ2V0KCk7ZT09bnVsbHx8ZS5mb3JFYWNoKHQ9PnRoaXMuc2VuZEV2ZW50KHQpKX1hZGRFdmVudFRvU3RvcmFnZShlKXtsZXQgdD10aGlzLmZhaWxlZEV2ZW50cy5nZXQoKXx8W107dC5maW5kKHI9PnIudGltZXN0YW1wPT09ZS50aW1lc3RhbXApfHwodC5sZW5ndGg9PT1PciYmdC5zaGlmdCgpLHQucHVzaChlKSx0aGlzLmZhaWxlZEV2ZW50cy5zZXQodCkpfXJlbW92ZUZyb21TdG9yYWdlKGUpe2xldCB0PXRoaXMuZmFpbGVkRXZlbnRzLmdldCgpfHxbXSxyPXQuZmluZEluZGV4KGk9PmkudGltZXN0YW1wPT09ZS50aW1lc3RhbXApO3I+LTEmJih0LnNwbGljZShyLDEpLHRoaXMuZmFpbGVkRXZlbnRzLnNldCh0KSl9fSx2ZT1uZXcgVXI7dmFyIHN0PWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5jb21wYXJhdG9yPW5ldyBMdCh0aGlzKTt0aGlzLmtub3duUm9sZXM9e307dGhpcy5wZWVycz17fTt0aGlzLnRyYWNrcz17fTt0aGlzLnBlZXJUcmFja1N0YXRlcz17fTt0aGlzLnNwZWFrZXJzPVtdO3RoaXMucm9sZURldGFpbHNBcnJpdmVkPSExO3RoaXMuZW52PVYuUFJPRDt0aGlzLnNpbXVsY2FzdEVuYWJsZWQ9ITE7dGhpcy51c2VyQWdlbnQ9X2UodGhpcy5lbnYpfWdldENvbmZpZygpe3JldHVybiB0aGlzLmNvbmZpZ31zZXRTaW11bGNhc3RFbmFibGVkKGUpe3RoaXMuc2ltdWxjYXN0RW5hYmxlZD1lfWdldEVudigpe3JldHVybiB0aGlzLmVudn1nZXRQdWJsaXNoUGFyYW1zKCl7cmV0dXJuIHRoaXMucHVibGlzaFBhcmFtc31nZXRDb21wYXJhdG9yKCl7cmV0dXJuIHRoaXMuY29tcGFyYXRvcn1nZXRSb29tKCl7cmV0dXJuIHRoaXMucm9vbX1nZXRQb2xpY3lGb3JSb2xlKGUpe3JldHVybiB0aGlzLmtub3duUm9sZXNbZV19Z2V0S25vd25Sb2xlcygpe3JldHVybiB0aGlzLmtub3duUm9sZXN9Z2V0TG9jYWxQZWVyKCl7aWYodGhpcy5sb2NhbFBlZXJJZCYmdGhpcy5wZWVyc1t0aGlzLmxvY2FsUGVlcklkXSlyZXR1cm4gdGhpcy5wZWVyc1t0aGlzLmxvY2FsUGVlcklkXX1nZXRSZW1vdGVQZWVycygpe3JldHVybiBPYmplY3QudmFsdWVzKHRoaXMucGVlcnMpLmZpbHRlcihlPT4hZS5pc0xvY2FsKX1nZXRQZWVycygpe3JldHVybiBPYmplY3QudmFsdWVzKHRoaXMucGVlcnMpfWdldFBlZXJCeUlkKGUpe2lmKHRoaXMucGVlcnNbZV0pcmV0dXJuIHRoaXMucGVlcnNbZV19Z2V0VHJhY2tzTWFwKCl7cmV0dXJuIHRoaXMudHJhY2tzfWdldFRyYWNrcygpe3JldHVybiBPYmplY3QudmFsdWVzKHRoaXMudHJhY2tzKX1nZXRWaWRlb1RyYWNrcygpe3JldHVybiB0aGlzLmdldFRyYWNrcygpLmZpbHRlcihlPT5lLnR5cGU9PT1MLlZJREVPKX1nZXRSZW1vdGVWaWRlb1RyYWNrcygpe3JldHVybiB0aGlzLmdldFRyYWNrcygpLmZpbHRlcihlPT5lIGluc3RhbmNlb2YgZ2UpfWdldEF1ZGlvVHJhY2tzKCl7cmV0dXJuIHRoaXMuZ2V0VHJhY2tzKCkuZmlsdGVyKGU9PmUudHlwZT09PUwuQVVESU8pfWdldFBlZXJUcmFja3MoZSl7bGV0IHQ9ZT90aGlzLnBlZXJzW2VdOnZvaWQgMCxyPVtdO3JldHVybih0PT1udWxsP3ZvaWQgMDp0LnZpZGVvVHJhY2spJiZyLnB1c2godC52aWRlb1RyYWNrKSwodD09bnVsbD92b2lkIDA6dC5hdWRpb1RyYWNrKSYmci5wdXNoKHQuYXVkaW9UcmFjayksci5jb25jYXQoKHQ9PW51bGw/dm9pZCAwOnQuYXV4aWxpYXJ5VHJhY2tzKXx8W10pfWdldExvY2FsUGVlclRyYWNrcygpe3JldHVybiB0aGlzLmdldFBlZXJUcmFja3ModGhpcy5sb2NhbFBlZXJJZCl9Z2V0VHJhY2tCeUlkKGUpe3ZhciBpLHM7bGV0IHQ9dGhpcy50cmFja3NbZV07aWYodClyZXR1cm4gdDtsZXQgcj10aGlzLmdldExvY2FsUGVlcigpO2lmKHIpe2lmKChpPXIuYXVkaW9UcmFjayk9PW51bGw/dm9pZCAwOmkuaXNQdWJsaXNoZWRUcmFja0lkKGUpKXJldHVybiByLmF1ZGlvVHJhY2s7aWYoKHM9ci52aWRlb1RyYWNrKT09bnVsbD92b2lkIDA6cy5pc1B1Ymxpc2hlZFRyYWNrSWQoZSkpcmV0dXJuIHIudmlkZW9UcmFja319Z2V0UGVlckJ5VHJhY2tJZChlKXtsZXQgdD10aGlzLnRyYWNrc1tlXTtyZXR1cm4gdC5wZWVySWQ/dGhpcy5wZWVyc1t0LnBlZXJJZF06dm9pZCAwfWdldFNwZWFrZXJzKCl7cmV0dXJuIHRoaXMuc3BlYWtlcnN9Z2V0U3BlYWtlclBlZXJzKCl7cmV0dXJuIHRoaXMuc3BlYWtlcnMubWFwKGU9PmUucGVlcil9Z2V0VXNlckFnZW50KCl7cmV0dXJuIHRoaXMudXNlckFnZW50fWNyZWF0ZUFuZFNldFVzZXJBZ2VudChlKXt0aGlzLnVzZXJBZ2VudD1fZSh0aGlzLmVudixlKX1zZXRSb29tKGUpe3RoaXMucm9vbT1lfXNldEtub3duUm9sZXMoZSl7dGhpcy5rbm93blJvbGVzPWUsdGhpcy5yb2xlRGV0YWlsc0Fycml2ZWQ9ITAsdGhpcy51cGRhdGVQZWVyc1BvbGljeSgpfWhhc1JvbGVEZXRhaWxzQXJyaXZlZCgpe3JldHVybiB0aGlzLnJvbGVEZXRhaWxzQXJyaXZlZH1zZXRDb25maWcoZSl7dmFyIHQscixpO2lmKFEucmVtZW1iZXJEZXZpY2VzKEJvb2xlYW4oZS5yZW1lbWJlckRldmljZVNlbGVjdGlvbikpLGUucmVtZW1iZXJEZXZpY2VTZWxlY3Rpb24pe2xldCBzPVEuZ2V0U2VsZWN0aW9uKCk7cyYmKGUuc2V0dGluZ3N8fChlLnNldHRpbmdzPXt9KSwoKHQ9cy5hdWRpb0lucHV0KT09bnVsbD92b2lkIDA6dC5kZXZpY2VJZCkmJihlLnNldHRpbmdzLmF1ZGlvSW5wdXREZXZpY2VJZD1lLnNldHRpbmdzLmF1ZGlvSW5wdXREZXZpY2VJZHx8cy5hdWRpb0lucHV0LmRldmljZUlkKSwoKHI9cy5hdWRpb091dHB1dCk9PW51bGw/dm9pZCAwOnIuZGV2aWNlSWQpJiYoZS5zZXR0aW5ncy5hdWRpb091dHB1dERldmljZUlkPWUuc2V0dGluZ3MuYXVkaW9PdXRwdXREZXZpY2VJZHx8cy5hdWRpb091dHB1dC5kZXZpY2VJZCksKChpPXMudmlkZW9JbnB1dCk9PW51bGw/dm9pZCAwOmkuZGV2aWNlSWQpJiYoZS5zZXR0aW5ncy52aWRlb0RldmljZUlkPWUuc2V0dGluZ3MudmlkZW9EZXZpY2VJZHx8cy52aWRlb0lucHV0LmRldmljZUlkKSl9dGhpcy5jb25maWc9ZSx0aGlzLnNldEVudigpfXNldFB1Ymxpc2hQYXJhbXMoZSl7dmFyIHQ7dGhpcy5wdWJsaXNoUGFyYW1zPWUsISF0aGlzLnNpbXVsY2FzdEVuYWJsZWQmJih0aGlzLnZpZGVvTGF5ZXJzPXRoaXMuY29udmVydFNpbXVsY2FzdExheWVycygodD1lLnNpbXVsY2FzdCk9PW51bGw/dm9pZCAwOnQudmlkZW8pKX1hZGRQZWVyKGUpe3RoaXMucGVlcnNbZS5wZWVySWRdPWUsZS5pc0xvY2FsJiYodGhpcy5sb2NhbFBlZXJJZD1lLnBlZXJJZCl9YWRkVHJhY2soZSl7dGhpcy50cmFja3NbZS50cmFja0lkXT1lfWdldFRyYWNrU3RhdGUoZSl7cmV0dXJuIHRoaXMucGVlclRyYWNrU3RhdGVzW2VdfXNldFRyYWNrU3RhdGUoZSl7dGhpcy5wZWVyVHJhY2tTdGF0ZXNbZS50cmFja0luZm8udHJhY2tfaWRdPWV9cmVtb3ZlUGVlcihlKXt0aGlzLmxvY2FsUGVlcklkPT09ZSYmKHRoaXMubG9jYWxQZWVySWQ9dm9pZCAwKSxkZWxldGUgdGhpcy5wZWVyc1tlXX1yZW1vdmVUcmFjayhlKXtkZWxldGUgdGhpcy50cmFja3NbZV19dXBkYXRlU3BlYWtlcnMoZSl7dGhpcy5zcGVha2Vycz1lfXVwZGF0ZUF1ZGlvT3V0cHV0Vm9sdW1lKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtmb3IobGV0IHQgb2YgdGhpcy5nZXRBdWRpb1RyYWNrcygpKXlpZWxkIHQuc2V0Vm9sdW1lKGUpfSl9dXBkYXRlQXVkaW9PdXRwdXREZXZpY2UoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCB0PVtdO3RoaXMuZ2V0QXVkaW9UcmFja3MoKS5mb3JFYWNoKHI9Pnt0LnB1c2goci5zZXRPdXRwdXREZXZpY2UoZSkpfSkseWllbGQgUHJvbWlzZS5hbGwodCl9KX1nZXRTdWJzY3JpYmVEZWdyYWRhdGlvblBhcmFtcygpe3ZhciB0LHI7bGV0IGU9KHI9KHQ9dGhpcy5nZXRMb2NhbFBlZXIoKSk9PW51bGw/dm9pZCAwOnQucm9sZSk9PW51bGw/dm9pZCAwOnIuc3Vic2NyaWJlUGFyYW1zLnN1YnNjcmliZURlZ3JhZGF0aW9uO2lmKGUmJk9iamVjdC5rZXlzKGUpLmxlbmd0aD4wKXJldHVybiBlfWdldFNpbXVsY2FzdExheWVycyhlKXt2YXIgdDtyZXR1cm4gdGhpcy5zaW11bGNhc3RFbmFibGVkP2U9PT1cInNjcmVlblwiP1tdOigodD10aGlzLnZpZGVvTGF5ZXJzKT09bnVsbD92b2lkIDA6dC5sYXllcnMpfHxbXTpbXX1jb252ZXJ0U2ltdWxjYXN0TGF5ZXJzKGUpe2lmKCEhZSlyZXR1cm4gXyh2KHt9LGUpLHtsYXllcnM6KGUubGF5ZXJzfHxbXSkubWFwKHQ9Pl8odih7fSx0KSx7bWF4Qml0cmF0ZTp0Lm1heEJpdHJhdGUqMWUzfSkpfSl9Z2V0U2ltdWxjYXN0RGVmaW5pdGlvbnNGb3JQZWVyKGUsdCl7dmFyIGQsbCxoO2lmKFshZXx8IWUucm9sZSx0PT09XCJzY3JlZW5cIiwhdGhpcy5zaW11bGNhc3RFbmFibGVkXS5zb21lKHU9PiEhdSkpcmV0dXJuW107bGV0IHI9dGhpcy5nZXRQb2xpY3lGb3JSb2xlKGUucm9sZS5uYW1lKS5wdWJsaXNoUGFyYW1zLGkscyxuO3JldHVybiB0PT09XCJyZWd1bGFyXCI/KGk9KGQ9ci5zaW11bGNhc3QpPT1udWxsP3ZvaWQgMDpkLnZpZGVvLHM9ci52aWRlby53aWR0aCxuPXIudmlkZW8uaGVpZ2h0KTp0PT09XCJzY3JlZW5cIiYmKGk9KGw9ci5zaW11bGNhc3QpPT1udWxsP3ZvaWQgMDpsLnNjcmVlbixzPXIuc2NyZWVuLndpZHRoLG49ci5zY3JlZW4uaGVpZ2h0KSwoKGg9aT09bnVsbD92b2lkIDA6aS5sYXllcnMpPT1udWxsP3ZvaWQgMDpoLm1hcCh1PT57bGV0IGc9SXRbdS5yaWRdLFM9e3dpZHRoOnMvdS5zY2FsZVJlc29sdXRpb25Eb3duQnksaGVpZ2h0Om4vdS5zY2FsZVJlc29sdXRpb25Eb3duQnl9O3JldHVybntsYXllcjpnLHJlc29sdXRpb246U319KSl8fFtdfWNsZWFuVXAoKXtsZXQgZT10aGlzLmdldFRyYWNrcygpO2ZvcihsZXQgdCBvZiBlKXQuY2xlYW51cCgpO3RoaXMucm9vbT12b2lkIDAsdGhpcy5jb25maWc9dm9pZCAwLHRoaXMubG9jYWxQZWVySWQ9dm9pZCAwLHRoaXMucm9sZURldGFpbHNBcnJpdmVkPSExfXNldEVycm9yTGlzdGVuZXIoZSl7dGhpcy5lcnJvckxpc3RlbmVyPWV9dXBkYXRlUGVlcnNQb2xpY3koKXt0aGlzLmdldFBlZXJzKCkuZm9yRWFjaChlPT57dmFyIHQ7aWYoIWUucm9sZSl7KHQ9dGhpcy5lcnJvckxpc3RlbmVyKT09bnVsbHx8dC5vbkVycm9yKG0uR2VuZXJpY0Vycm9ycy5JbnZhbGlkUm9sZShwLlZBTElEQVRJT04sXCJcIikpO3JldHVybn1lLnJvbGU9dGhpcy5nZXRQb2xpY3lGb3JSb2xlKGUucm9sZS5uYW1lKX0pfXNldEVudigpe3ZhciBpO2xldCB0PSgoaT10aGlzLmNvbmZpZyk9PW51bGw/dm9pZCAwOmkuaW5pdEVuZHBvaW50KS5zcGxpdChcImh0dHBzOi8vXCIpWzFdLHI9Vi5QUk9EO3Quc3RhcnRzV2l0aChWLlBST0QpP3I9Vi5QUk9EOnQuc3RhcnRzV2l0aChWLlFBKT9yPVYuUUE6dC5zdGFydHNXaXRoKFYuREVWKSYmKHI9Vi5ERVYpLHRoaXMuZW52PXIsdmUuc2V0RW52KHIpfX07dmFyIER0PWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMuc3RvcmU9ZTt0aGlzLmJ1ZmZlclNpemU9cnQ7dGhpcy5UQUc9XCJbQW5hbHl0aWNzRXZlbnRzU2VydmljZV1cIjt0aGlzLnRyYW5zcG9ydD1udWxsO3RoaXMucGVuZGluZ0V2ZW50cz1bXTt0aGlzLmxldmVsPVdlLklORk99c2V0VHJhbnNwb3J0KGUpe3RoaXMudHJhbnNwb3J0PWV9cmVzZXQoKXt0aGlzLnRyYW5zcG9ydD1udWxsLHRoaXMucGVuZGluZ0V2ZW50cz1bXX1xdWV1ZShlKXtpZihlLmxldmVsPj10aGlzLmxldmVsJiYodGhpcy5wZW5kaW5nRXZlbnRzLnB1c2goZSksdGhpcy5wZW5kaW5nRXZlbnRzLmxlbmd0aD50aGlzLmJ1ZmZlclNpemUpKXtsZXQgdD10aGlzLnBlbmRpbmdFdmVudHMuc2hpZnQoKTtvLmQodGhpcy5UQUcsXCJNYXggYnVmZmVyIHNpemUgcmVhY2hlZFwiLFwiUmVtb3ZlZCBldmVudCB0byBhY2NvbW1vZGF0ZSBuZXcgZXZlbnRzXCIsdCl9cmV0dXJuIHRoaXN9Zmx1c2hGYWlsZWRDbGllbnRFdmVudHMoKXt2ZS5mbHVzaEZhaWxlZEV2ZW50cygpfWZsdXNoKCl7dmFyIGU7dHJ5e2Zvcig7dGhpcy5wZW5kaW5nRXZlbnRzLmxlbmd0aD4wOyl7bGV0IHQ9dGhpcy5wZW5kaW5nRXZlbnRzLnNoaWZ0KCk7dCYmKHQubWV0YWRhdGEucGVlci5wZWVyX2lkPShlPXRoaXMuc3RvcmUuZ2V0TG9jYWxQZWVyKCkpPT1udWxsP3ZvaWQgMDplLnBlZXJJZCx0Lm1ldGFkYXRhLnVzZXJBZ2VudD10aGlzLnN0b3JlLmdldFVzZXJBZ2VudCgpLHRoaXMudHJhbnNwb3J0JiZ0aGlzLnRyYW5zcG9ydC50cmFuc3BvcnRQcm92aWRlci5pc0Nvbm5lY3RlZD90aGlzLnRyYW5zcG9ydC5zZW5kRXZlbnQodCk6dGhpcy5zZW5kQ2xpZW50RXZlbnRPbkhUVFAodCkpfX1jYXRjaCh0KXtvLncodGhpcy5UQUcsXCJGbHVzaCBGYWlsZWRcIix0KX19c2VuZENsaWVudEV2ZW50T25IVFRQKGUpe3ZhciBpLHMsbixkO2xldCB0PXRoaXMuc3RvcmUuZ2V0Um9vbSgpLHI9dGhpcy5zdG9yZS5nZXRMb2NhbFBlZXIoKTtlLm1ldGFkYXRhLnRva2VuPShpPXRoaXMuc3RvcmUuZ2V0Q29uZmlnKCkpPT1udWxsP3ZvaWQgMDppLmF1dGhUb2tlbixlLm1ldGFkYXRhLnBlZXI9e3Nlc3Npb25faWQ6dC5zZXNzaW9uSWQscm9vbV9pZDp0LmlkLHJvb21fbmFtZTp0Lm5hbWUsdGVtcGxhdGVfaWQ6dC50ZW1wbGF0ZUlkLGpvaW5lZF9hdDoocz10LmpvaW5lZEF0KT09bnVsbD92b2lkIDA6cy5nZXRUaW1lKCksc2Vzc2lvbl9zdGFydGVkX2F0OihuPXQuc3RhcnRlZEF0KT09bnVsbD92b2lkIDA6bi5nZXRUaW1lKCkscm9sZTooZD1yPT1udWxsP3ZvaWQgMDpyLnJvbGUpPT1udWxsP3ZvaWQgMDpkLm5hbWUsdXNlcl9uYW1lOnI9PW51bGw/dm9pZCAwOnIubmFtZSx1c2VyX2RhdGE6cj09bnVsbD92b2lkIDA6ci5tZXRhZGF0YX0sdmUuc2VuZEV2ZW50KGUpfX07aW1wb3J0e3Y0IGFzIEFpfWZyb21cInV1aWRcIjt2YXIgR3I9e2F1dG9wbGF5RmFpbGVkOnZvaWQgMCxpbml0aWFsaXplZDohMSxhdXRvcGxheUNoZWNrUHJvbWlzZTp2b2lkIDB9LGF0PWNsYXNze2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLnN0b3JlPWU7dGhpcy5kZXZpY2VNYW5hZ2VyPXQ7dGhpcy5ldmVudEJ1cz1yO3RoaXMuYXV0b1BhdXNlZFRyYWNrcz1uZXcgU2V0O3RoaXMuVEFHPVwiW0F1ZGlvU2lua01hbmFnZXJdOlwiO3RoaXMudm9sdW1lPTEwMDt0aGlzLnN0YXRlPXYoe30sR3IpO3RoaXMuaGFuZGxlQXVkaW9QYXVzZWQ9ZT0+e3ZhciBzO2xldCByPShzPWUudGFyZ2V0LnNyY09iamVjdCk9PW51bGw/dm9pZCAwOnMuZ2V0QXVkaW9UcmFja3MoKVswXTtpZighKHI9PW51bGw/dm9pZCAwOnIuZW5hYmxlZCkpcmV0dXJuO28uZCh0aGlzLlRBRyxcIkF1ZGlvIFBhdXNlZFwiLGUudGFyZ2V0LmlkKTtsZXQgaT10aGlzLnN0b3JlLmdldFRyYWNrQnlJZChlLnRhcmdldC5pZCk7aSYmKHByKCk/c2V0VGltZW91dCgoKT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aSYmKHlpZWxkIHRoaXMucGxheUF1ZGlvRm9yKGkpKX0pLDUwMCk6dGhpcy5hdXRvUGF1c2VkVHJhY2tzLmFkZChpKSl9O3RoaXMuaGFuZGxlVHJhY2tVcGRhdGU9KHt0cmFjazplLGVuYWJsZWQ6dH0pPT57dmFyIHI7KChyPXdpbmRvdy5ITVMpPT1udWxsP3ZvaWQgMDpyLkFVRElPX1NJTkspJiYodD8oZS5hZGRTaW5rKCksdGhpcy5wbGF5QXVkaW9Gb3IoZSkpOmUucmVtb3ZlU2luaygpKSxvLmQodGhpcy5UQUcsXCJUcmFjayB1cGRhdGVkXCIsYCR7ZX1gKX07dGhpcy5oYW5kbGVUcmFja0FkZD1yPT5jKHRoaXMsW3JdLGZ1bmN0aW9uKih7dHJhY2s6ZSxwZWVyOnR9KXt2YXIgcyxuLGQ7bGV0IGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpO2kuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixpLmlkPWUudHJhY2tJZCxpLmFkZEV2ZW50TGlzdGVuZXIoXCJwYXVzZVwiLHRoaXMuaGFuZGxlQXVkaW9QYXVzZWQpLGUuc2V0QXVkaW9FbGVtZW50KGkpLGUuc2V0Vm9sdW1lKHRoaXMudm9sdW1lKSxvLmQodGhpcy5UQUcsXCJBdWRpbyB0cmFjayBhZGRlZFwiLGAke2V9YCksKHM9dGhpcy5hdWRpb1NpbmspPT1udWxsfHxzLmFwcGVuZChpKSx0aGlzLm91dHB1dERldmljZSYmKHlpZWxkIGUuc2V0T3V0cHV0RGV2aWNlKHRoaXMub3V0cHV0RGV2aWNlKSksKChuPXdpbmRvdy5ITVMpPT1udWxsP3ZvaWQgMDpuLkFVRElPX1NJTkspP2UuZW5hYmxlZD9lLmFkZFNpbmsoKTplLnJlbW92ZVNpbmsoKTppLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW2UubmF0aXZlVHJhY2tdKSwoZD10aGlzLmxpc3RlbmVyKT09bnVsbHx8ZC5vblRyYWNrVXBkYXRlKE4uVFJBQ0tfQURERUQsZSx0KSx5aWVsZCB0aGlzLmhhbmRsZUF1dG9wbGF5RXJyb3IoZSl9KTt0aGlzLmhhbmRsZUF1dG9wbGF5RXJyb3I9ZT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYodGhpcy5zdGF0ZS5hdXRvcGxheUZhaWxlZD09PXZvaWQgMCYmKHRoaXMuc3RhdGUuYXV0b3BsYXlDaGVja1Byb21pc2V8fCh0aGlzLnN0YXRlLmF1dG9wbGF5Q2hlY2tQcm9taXNlPW5ldyBQcm9taXNlKHQ9Pnt0aGlzLnBsYXlBdWRpb0ZvcihlKS50aGVuKHQpfSkpLHlpZWxkIHRoaXMuc3RhdGUuYXV0b3BsYXlDaGVja1Byb21pc2UpLHRoaXMuc3RhdGUuYXV0b3BsYXlGYWlsZWQpe3RoaXMuYXV0b1BhdXNlZFRyYWNrcy5hZGQoZSk7cmV0dXJufXlpZWxkIHRoaXMucGxheUF1ZGlvRm9yKGUpfSk7dGhpcy5oYW5kbGVBdWRpb0RldmljZUNoYW5nZT1lPT57ZS5lcnJvcnx8IWUuc2VsZWN0aW9ufHxlLnR5cGU9PT1cInZpZGVvXCJ8fHRoaXMudW5wYXVzZUF1ZGlvVHJhY2tzKCl9O3RoaXMuaGFuZGxlVHJhY2tSZW1vdmU9ZT0+e3RoaXMuYXV0b1BhdXNlZFRyYWNrcy5kZWxldGUoZSk7bGV0IHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS50cmFja0lkKTt0JiYodC5yZW1vdmVFdmVudExpc3RlbmVyKFwicGF1c2VcIix0aGlzLmhhbmRsZUF1ZGlvUGF1c2VkKSx0LnNyY09iamVjdD1udWxsLHQucmVtb3ZlKCksZS5zZXRBdWRpb0VsZW1lbnQobnVsbCkpLHRoaXMuYXVkaW9TaW5rJiZ0aGlzLmF1ZGlvU2luay5jaGlsZEVsZW1lbnRDb3VudD09PTAmJih0aGlzLnN0YXRlLmF1dG9wbGF5Q2hlY2tQcm9taXNlPXZvaWQgMCx0aGlzLnN0YXRlLmF1dG9wbGF5RmFpbGVkPXZvaWQgMCksby5kKHRoaXMuVEFHLFwiQXVkaW8gdHJhY2sgcmVtb3ZlZFwiLGAke2V9YCl9O3RoaXMudW5wYXVzZUF1ZGlvVHJhY2tzPSgpPT5jKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgZT1bXTt0aGlzLmF1dG9QYXVzZWRUcmFja3MuZm9yRWFjaCh0PT57ZS5wdXNoKHRoaXMucGxheUF1ZGlvRm9yKHQpKX0pLHlpZWxkIFByb21pc2UuYWxsKGUpfSk7dGhpcy5ldmVudEJ1cy5hdWRpb1RyYWNrQWRkZWQuc3Vic2NyaWJlKHRoaXMuaGFuZGxlVHJhY2tBZGQpLHRoaXMuZXZlbnRCdXMuYXVkaW9UcmFja1JlbW92ZWQuc3Vic2NyaWJlKHRoaXMuaGFuZGxlVHJhY2tSZW1vdmUpLHRoaXMuZXZlbnRCdXMuYXVkaW9UcmFja1VwZGF0ZS5zdWJzY3JpYmUodGhpcy5oYW5kbGVUcmFja1VwZGF0ZSksdGhpcy5ldmVudEJ1cy5kZXZpY2VDaGFuZ2Uuc3Vic2NyaWJlKHRoaXMuaGFuZGxlQXVkaW9EZXZpY2VDaGFuZ2UpfXNldExpc3RlbmVyKGUpe3RoaXMubGlzdGVuZXI9ZX1nZXQgb3V0cHV0RGV2aWNlKCl7cmV0dXJuIHRoaXMuZGV2aWNlTWFuYWdlci5vdXRwdXREZXZpY2V9Z2V0Vm9sdW1lKCl7cmV0dXJuIHRoaXMudm9sdW1lfXNldFZvbHVtZShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5zdG9yZS51cGRhdGVBdWRpb091dHB1dFZvbHVtZShlKSx0aGlzLnZvbHVtZT1lfSl9dW5ibG9ja0F1dG9wbGF5KCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3RoaXMuYXV0b1BhdXNlZFRyYWNrcy5zaXplPjAmJnRoaXMudW5wYXVzZUF1ZGlvVHJhY2tzKCl9KX1pbml0KGUpe2lmKHRoaXMuc3RhdGUuaW5pdGlhbGl6ZWQpcmV0dXJuO3RoaXMuc3RhdGUuaW5pdGlhbGl6ZWQ9ITA7bGV0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LmlkPWBITVMtU0RLLWF1ZGlvLXNpbmstJHtBaSgpfWAsKGUmJmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpfHxkb2N1bWVudC5ib2R5KS5hcHBlbmQodCksdGhpcy5hdWRpb1Npbms9dH1jbGVhblVwKCl7dmFyIGU7KGU9dGhpcy5hdWRpb1NpbmspPT1udWxsfHxlLnJlbW92ZSgpLHRoaXMuYXVkaW9TaW5rPXZvaWQgMCx0aGlzLmV2ZW50QnVzLmF1ZGlvVHJhY2tBZGRlZC51bnN1YnNjcmliZSh0aGlzLmhhbmRsZVRyYWNrQWRkKSx0aGlzLmV2ZW50QnVzLmF1ZGlvVHJhY2tSZW1vdmVkLnVuc3Vic2NyaWJlKHRoaXMuaGFuZGxlVHJhY2tSZW1vdmUpLHRoaXMuZXZlbnRCdXMuYXVkaW9UcmFja1VwZGF0ZS51bnN1YnNjcmliZSh0aGlzLmhhbmRsZVRyYWNrVXBkYXRlKSx0aGlzLmV2ZW50QnVzLmRldmljZUNoYW5nZS51bnN1YnNjcmliZSh0aGlzLmhhbmRsZUF1ZGlvRGV2aWNlQ2hhbmdlKSx0aGlzLmF1dG9QYXVzZWRUcmFja3M9bmV3IFNldCx0aGlzLnN0YXRlPXYoe30sR3IpfXBsYXlBdWRpb0ZvcihlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IHQ9ZS5nZXRBdWRpb0VsZW1lbnQoKTtpZighdCl7by53KHRoaXMuVEFHLFwiTm8gYXVkaW8gZWxlbWVudCBmb3VuZCBvbiB0cmFja1wiLGUudHJhY2tJZCk7cmV0dXJufXRyeXt5aWVsZCB0LnBsYXkoKSx0aGlzLnN0YXRlLmF1dG9wbGF5RmFpbGVkPSExLHRoaXMuYXV0b1BhdXNlZFRyYWNrcy5kZWxldGUoZSksby5kKHRoaXMuVEFHLFwiUGxheWVkIHRyYWNrXCIsYCR7ZX1gKX1jYXRjaChyKXt0aGlzLmF1dG9QYXVzZWRUcmFja3MuYWRkKGUpLG8uZSh0aGlzLlRBRyxcIkZhaWxlZCB0byBwbGF5IHRyYWNrXCIsYCR7ZX1gLHIpO2xldCBpPXI7aWYoIXRoaXMuc3RhdGUuYXV0b3BsYXlGYWlsZWQmJmkubmFtZT09PVwiTm90QWxsb3dlZEVycm9yXCIpe3RoaXMuc3RhdGUuYXV0b3BsYXlGYWlsZWQ9ITA7bGV0IHM9bS5UcmFja3NFcnJvcnMuQXV0b3BsYXlCbG9ja2VkKHAuQVVUT1BMQVksXCJcIik7cy5hZGROYXRpdmVFcnJvcihpKSx0aGlzLmV2ZW50QnVzLmFuYWx5dGljcy5wdWJsaXNoKFIuYXV0b3BsYXlFcnJvcigpKSx0aGlzLmV2ZW50QnVzLmF1dG9wbGF5RXJyb3IucHVibGlzaChzKX19fSl9fTt2YXIgbnQ9Y2xhc3N7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnN0b3JlPWU7dGhpcy5ldmVudEJ1cz10O3RoaXMuYXVkaW9JbnB1dD1bXTt0aGlzLmF1ZGlvT3V0cHV0PVtdO3RoaXMudmlkZW9JbnB1dD1bXTt0aGlzLmhhc1dlYmNhbVBlcm1pc3Npb249ITE7dGhpcy5oYXNNaWNyb3Bob25lUGVybWlzc2lvbj0hMTt0aGlzLlRBRz1cIltEZXZpY2UgTWFuYWdlcl06XCI7dGhpcy5pbml0aWFsaXplZD0hMTt0aGlzLnZpZGVvSW5wdXRDaGFuZ2VkPSExO3RoaXMuYXVkaW9JbnB1dENoYW5nZWQ9ITE7dGhpcy51cGRhdGVPdXRwdXREZXZpY2U9ZT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IHQ9dGhpcy5hdWRpb091dHB1dC5maW5kKHI9PnIuZGV2aWNlSWQ9PT1lKTtyZXR1cm4gdCYmKHRoaXMub3V0cHV0RGV2aWNlPXQseWllbGQgdGhpcy5zdG9yZS51cGRhdGVBdWRpb091dHB1dERldmljZSh0KSxRLnVwZGF0ZVNlbGVjdGlvbihcImF1ZGlvT3V0cHV0XCIse2RldmljZUlkOnQuZGV2aWNlSWQsZ3JvdXBJZDp0Lmdyb3VwSWR9KSksdH0pO3RoaXMuZ2V0Q3VycmVudFNlbGVjdGlvbj0oKT0+e3ZhciBuLGQ7bGV0IGU9dGhpcy5zdG9yZS5nZXRMb2NhbFBlZXIoKSx0PXRoaXMuY3JlYXRlSWRlbnRpZmllcigobj1lPT1udWxsP3ZvaWQgMDplLmF1ZGlvVHJhY2spPT1udWxsP3ZvaWQgMDpuLmdldE1lZGlhVHJhY2tTZXR0aW5ncygpKSxyPXRoaXMuY3JlYXRlSWRlbnRpZmllcigoZD1lPT1udWxsP3ZvaWQgMDplLnZpZGVvVHJhY2spPT1udWxsP3ZvaWQgMDpkLmdldE1lZGlhVHJhY2tTZXR0aW5ncygpKSxpPXRoaXMuYXVkaW9JbnB1dC5maW5kKGw9PnRoaXMuY3JlYXRlSWRlbnRpZmllcihsKT09PXQpLHM9dGhpcy52aWRlb0lucHV0LmZpbmQobD0+dGhpcy5jcmVhdGVJZGVudGlmaWVyKGwpPT09cik7cmV0dXJue2F1ZGlvSW5wdXQ6aSx2aWRlb0lucHV0OnMsYXVkaW9PdXRwdXQ6dGhpcy5vdXRwdXREZXZpY2V9fTt0aGlzLmNvbXB1dGVDaGFuZ2U9KGUsdCk9PmUubGVuZ3RoIT09dC5sZW5ndGg/ITA6dC5zb21lKHI9PiFlLmluY2x1ZGVzKHRoaXMuY3JlYXRlSWRlbnRpZmllcihyKSkpO3RoaXMuZW51bWVyYXRlRGV2aWNlcz0oKT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dHJ5e2xldCBlPXlpZWxkIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLHQ9dGhpcy52aWRlb0lucHV0Lm1hcCh0aGlzLmNyZWF0ZUlkZW50aWZpZXIpLHI9dGhpcy5hdWRpb0lucHV0Lm1hcCh0aGlzLmNyZWF0ZUlkZW50aWZpZXIpO3RoaXMuYXVkaW9JbnB1dD1bXSx0aGlzLmF1ZGlvT3V0cHV0PVtdLHRoaXMudmlkZW9JbnB1dD1bXSxlLmZvckVhY2goaT0+e2kua2luZD09PVwiYXVkaW9pbnB1dFwiJiZpLmxhYmVsPyh0aGlzLmhhc01pY3JvcGhvbmVQZXJtaXNzaW9uPSEwLHRoaXMuYXVkaW9JbnB1dC5wdXNoKGkpKTppLmtpbmQ9PT1cImF1ZGlvb3V0cHV0XCI/dGhpcy5hdWRpb091dHB1dC5wdXNoKGkpOmkua2luZD09PVwidmlkZW9pbnB1dFwiJiZpLmxhYmVsJiYodGhpcy5oYXNXZWJjYW1QZXJtaXNzaW9uPSEwLHRoaXMudmlkZW9JbnB1dC5wdXNoKGkpKX0pLHRoaXMudmlkZW9JbnB1dENoYW5nZWQ9dGhpcy5jb21wdXRlQ2hhbmdlKHQsdGhpcy52aWRlb0lucHV0KSx0aGlzLmF1ZGlvSW5wdXRDaGFuZ2VkPXRoaXMuY29tcHV0ZUNoYW5nZShyLHRoaXMuYXVkaW9JbnB1dCksUS5zZXREZXZpY2VzKHt2aWRlb0lucHV0OlsuLi50aGlzLnZpZGVvSW5wdXRdLGF1ZGlvSW5wdXQ6Wy4uLnRoaXMuYXVkaW9JbnB1dF0sYXVkaW9PdXRwdXQ6Wy4uLnRoaXMuYXVkaW9PdXRwdXRdfSksdGhpcy5sb2dEZXZpY2VzKFwiRW51bWVyYXRlIERldmljZXNcIil9Y2F0Y2goZSl7by5lKHRoaXMuVEFHLFwiRmFpbGVkIGVudW1lcmF0aW5nIGRldmljZXNcIixlKX19KTt0aGlzLmhhbmRsZURldmljZUNoYW5nZT1NcigoKT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5lbnVtZXJhdGVEZXZpY2VzKCksdGhpcy5sb2dEZXZpY2VzKFwiQWZ0ZXIgRGV2aWNlIENoYW5nZVwiKTtsZXQgZT10aGlzLnN0b3JlLmdldExvY2FsUGVlcigpO3lpZWxkIHRoaXMuc2V0T3V0cHV0RGV2aWNlKCEwKSx5aWVsZCB0aGlzLmhhbmRsZUF1ZGlvSW5wdXREZXZpY2VDaGFuZ2UoZT09bnVsbD92b2lkIDA6ZS5hdWRpb1RyYWNrKSx5aWVsZCB0aGlzLmhhbmRsZVZpZGVvSW5wdXREZXZpY2VDaGFuZ2UoZT09bnVsbD92b2lkIDA6ZS52aWRlb1RyYWNrKSx0aGlzLmV2ZW50QnVzLmFuYWx5dGljcy5wdWJsaXNoKFIuZGV2aWNlQ2hhbmdlKHtzZWxlY3Rpb246dGhpcy5nZXRDdXJyZW50U2VsZWN0aW9uKCksdHlwZTpcImNoYW5nZVwiLGRldmljZXM6dGhpcy5nZXREZXZpY2VzKCl9KSl9KSw1MDApLmJpbmQodGhpcyk7dGhpcy5oYW5kbGVBdWRpb0lucHV0RGV2aWNlQ2hhbmdlPWU9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKCFlKXtvLmQodGhpcy5UQUcsXCJObyBBdWRpbyB0cmFjayBvbiBsb2NhbCBwZWVyXCIpO3JldHVybn1pZighdGhpcy5hdWRpb0lucHV0Q2hhbmdlZCl7by5kKHRoaXMuVEFHLFwiTm8gQ2hhbmdlIGluIEF1ZGlvSW5wdXQgRGV2aWNlXCIpO3JldHVybn1sZXQgdD10aGlzLmdldE5ld0F1ZGlvSW5wdXREZXZpY2UoKTtpZighdHx8IXQuZGV2aWNlSWQpe3RoaXMuZXZlbnRCdXMuYW5hbHl0aWNzLnB1Ymxpc2goUi5kZXZpY2VDaGFuZ2Uoe3NlbGVjdGlvbjp7YXVkaW9JbnB1dDp0fSxlcnJvcjpuZXcgRXJyb3IoXCJBdWRpbyBkZXZpY2Ugbm90IGZvdW5kXCIpLGRldmljZXM6dGhpcy5nZXREZXZpY2VzKCksdHlwZTpcImF1ZGlvSW5wdXRcIn0pKSxvLncodGhpcy5UQUcsXCJBdWRpbyBkZXZpY2Ugbm90IGZvdW5kXCIpO3JldHVybn1sZXR7c2V0dGluZ3M6cn09ZSxpPW5ldyB6KCkuY29kZWMoci5jb2RlYykubWF4Qml0cmF0ZShyLm1heEJpdHJhdGUpLmRldmljZUlkKHQuZGV2aWNlSWQpLmJ1aWxkKCk7dHJ5e3lpZWxkIGUuc2V0U2V0dGluZ3MoaSwhMCksdGhpcy5ldmVudEJ1cy5kZXZpY2VDaGFuZ2UucHVibGlzaCh7ZGV2aWNlczp0aGlzLmdldERldmljZXMoKSxzZWxlY3Rpb246dCx0eXBlOlwiYXVkaW9JbnB1dFwifSksdGhpcy5sb2dEZXZpY2VzKFwiQXVkaW8gRGV2aWNlIENoYW5nZSBTdWNjZXNzXCIpfWNhdGNoKHMpe28uZSh0aGlzLlRBRyxcIltBdWRpbyBEZXZpY2UgQ2hhbmdlXVwiLHMpLHRoaXMuZXZlbnRCdXMuYW5hbHl0aWNzLnB1Ymxpc2goUi5kZXZpY2VDaGFuZ2Uoe3NlbGVjdGlvbjp7YXVkaW9JbnB1dDp0fSxkZXZpY2VzOnRoaXMuZ2V0RGV2aWNlcygpLHR5cGU6XCJhdWRpb0lucHV0XCIsZXJyb3I6c30pKSx0aGlzLmV2ZW50QnVzLmRldmljZUNoYW5nZS5wdWJsaXNoKHtlcnJvcjpzLHNlbGVjdGlvbjp0LHR5cGU6XCJhdWRpb0lucHV0XCIsZGV2aWNlczp0aGlzLmdldERldmljZXMoKX0pfX0pO3RoaXMuaGFuZGxlVmlkZW9JbnB1dERldmljZUNoYW5nZT1lPT5jKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZighZSl7by5kKHRoaXMuVEFHLFwiTm8gdmlkZW8gdHJhY2sgb24gbG9jYWwgcGVlclwiKTtyZXR1cm59aWYoIXRoaXMudmlkZW9JbnB1dENoYW5nZWQpe28uZCh0aGlzLlRBRyxcIk5vIENoYW5nZSBpbiBWaWRlb0lucHV0IERldmljZVwiKTtyZXR1cm59bGV0IHQ9dGhpcy52aWRlb0lucHV0WzBdO2lmKCF0fHwhdC5kZXZpY2VJZCl7dGhpcy5ldmVudEJ1cy5hbmFseXRpY3MucHVibGlzaChSLmRldmljZUNoYW5nZSh7c2VsZWN0aW9uOnt2aWRlb0lucHV0OnR9LGVycm9yOm5ldyBFcnJvcihcIlZpZGVvIGRldmljZSBub3QgZm91bmRcIiksZGV2aWNlczp0aGlzLmdldERldmljZXMoKSx0eXBlOlwidmlkZW9cIn0pKSxvLncodGhpcy5UQUcsXCJWaWRlbyBkZXZpY2Ugbm90IGZvdW5kXCIpO3JldHVybn1sZXR7c2V0dGluZ3M6cn09ZSxpPW5ldyBKKCkuY29kZWMoci5jb2RlYykubWF4Qml0cmF0ZShyLm1heEJpdHJhdGUpLm1heEZyYW1lcmF0ZShyLm1heEZyYW1lcmF0ZSkuc2V0V2lkdGgoci53aWR0aCkuc2V0SGVpZ2h0KHIuaGVpZ2h0KS5kZXZpY2VJZCh0LmRldmljZUlkKS5idWlsZCgpO3RyeXt5aWVsZCBlLnNldFNldHRpbmdzKGksITApLHRoaXMuZXZlbnRCdXMuZGV2aWNlQ2hhbmdlLnB1Ymxpc2goe2RldmljZXM6dGhpcy5nZXREZXZpY2VzKCksc2VsZWN0aW9uOnQsdHlwZTpcInZpZGVvXCJ9KSx0aGlzLmxvZ0RldmljZXMoXCJWaWRlbyBEZXZpY2UgQ2hhbmdlIFN1Y2Nlc3NcIil9Y2F0Y2gocyl7by5lKHRoaXMuVEFHLFwiW1ZpZGVvIERldmljZSBDaGFuZ2VdXCIscyksdGhpcy5ldmVudEJ1cy5hbmFseXRpY3MucHVibGlzaChSLmRldmljZUNoYW5nZSh7c2VsZWN0aW9uOnt2aWRlb0lucHV0OnR9LGRldmljZXM6dGhpcy5nZXREZXZpY2VzKCksdHlwZTpcInZpZGVvXCIsZXJyb3I6c30pKSx0aGlzLmV2ZW50QnVzLmRldmljZUNoYW5nZS5wdWJsaXNoKHtlcnJvcjpzLHR5cGU6XCJ2aWRlb1wiLHNlbGVjdGlvbjp0LGRldmljZXM6dGhpcy5nZXREZXZpY2VzKCl9KX19KTtsZXQgcj0oe2VuYWJsZWQ6aSx0cmFjazpzfSk9PmkmJnMuc291cmNlPT09XCJyZWd1bGFyXCI7dGhpcy5ldmVudEJ1cy5sb2NhbFZpZGVvRW5hYmxlZC53YWl0Rm9yKHIpLnRoZW4oKCk9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuZW51bWVyYXRlRGV2aWNlcygpLHRoaXMudmlkZW9JbnB1dENoYW5nZWQmJnRoaXMuZXZlbnRCdXMuZGV2aWNlQ2hhbmdlLnB1Ymxpc2goe2RldmljZXM6dGhpcy5nZXREZXZpY2VzKCl9KX0pKSx0aGlzLmV2ZW50QnVzLmxvY2FsQXVkaW9FbmFibGVkLndhaXRGb3IocikudGhlbigoKT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5lbnVtZXJhdGVEZXZpY2VzKCksdGhpcy5hdWRpb0lucHV0Q2hhbmdlZCYmdGhpcy5ldmVudEJ1cy5kZXZpY2VDaGFuZ2UucHVibGlzaCh7ZGV2aWNlczp0aGlzLmdldERldmljZXMoKX0pfSkpfWluaXQoZT0hMSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3RoaXMuaW5pdGlhbGl6ZWQmJiFlfHwoIXRoaXMuaW5pdGlhbGl6ZWQmJm5hdmlnYXRvci5tZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZWNoYW5nZVwiLHRoaXMuaGFuZGxlRGV2aWNlQ2hhbmdlKSx0aGlzLmluaXRpYWxpemVkPSEwLHlpZWxkIHRoaXMuZW51bWVyYXRlRGV2aWNlcygpLHRoaXMubG9nRGV2aWNlcyhcIkluaXRcIikseWllbGQgdGhpcy5zZXRPdXRwdXREZXZpY2UoKSx0aGlzLmV2ZW50QnVzLmRldmljZUNoYW5nZS5wdWJsaXNoKHtkZXZpY2VzOnRoaXMuZ2V0RGV2aWNlcygpfSksdGhpcy5ldmVudEJ1cy5hbmFseXRpY3MucHVibGlzaChSLmRldmljZUNoYW5nZSh7c2VsZWN0aW9uOnRoaXMuZ2V0Q3VycmVudFNlbGVjdGlvbigpLHR5cGU6XCJsaXN0XCIsZGV2aWNlczp0aGlzLmdldERldmljZXMoKX0pKSl9KX1nZXREZXZpY2VzKCl7cmV0dXJue2F1ZGlvSW5wdXQ6dGhpcy5hdWRpb0lucHV0LGF1ZGlvT3V0cHV0OnRoaXMuYXVkaW9PdXRwdXQsdmlkZW9JbnB1dDp0aGlzLnZpZGVvSW5wdXR9fWNsZWFuVXAoKXt0aGlzLmluaXRpYWxpemVkPSExLHRoaXMuYXVkaW9JbnB1dD1bXSx0aGlzLmF1ZGlvT3V0cHV0PVtdLHRoaXMudmlkZW9JbnB1dD1bXSx0aGlzLm91dHB1dERldmljZT12b2lkIDAsbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlY2hhbmdlXCIsdGhpcy5oYW5kbGVEZXZpY2VDaGFuZ2UpfWNyZWF0ZUlkZW50aWZpZXIoZSl7cmV0dXJuIGU/YCR7ZS5kZXZpY2VJZH0ke2UuZ3JvdXBJZH1gOlwiXCJ9Z2V0TmV3QXVkaW9JbnB1dERldmljZSgpe2xldCBlPXRoaXMuYXVkaW9JbnB1dC5maW5kKHQ9PnQuZGV2aWNlSWQ9PT1cImRlZmF1bHRcIik7cmV0dXJuIGU/dGhpcy5hdWRpb0lucHV0LmZpbmQocj0+ci5sYWJlbCE9PWUubGFiZWwmJmUubGFiZWwuaW5jbHVkZXMoci5sYWJlbCkpOnRoaXMuYXVkaW9JbnB1dFswXX1zZXRPdXRwdXREZXZpY2UoZT0hMSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCB0PXRoaXMuZ2V0TmV3QXVkaW9JbnB1dERldmljZSgpLHI9dGhpcy5jcmVhdGVJZGVudGlmaWVyKHRoaXMub3V0cHV0RGV2aWNlKTt0aGlzLm91dHB1dERldmljZT10aGlzLmdldEF1ZGlvT3V0cHV0RGV2aWNlTWF0Y2hpbmdJbnB1dCh0KSx0aGlzLm91dHB1dERldmljZXx8KHRoaXMub3V0cHV0RGV2aWNlPXRoaXMuYXVkaW9PdXRwdXQuZmluZChpPT50aGlzLmNyZWF0ZUlkZW50aWZpZXIoaSk9PT1yKSx0aGlzLm91dHB1dERldmljZXx8KHRoaXMub3V0cHV0RGV2aWNlPXRoaXMuYXVkaW9PdXRwdXQuZmluZChpPT5pLmRldmljZUlkPT09XCJkZWZhdWx0XCIpfHx0aGlzLmF1ZGlvT3V0cHV0WzBdKSkseWllbGQgdGhpcy5zdG9yZS51cGRhdGVBdWRpb091dHB1dERldmljZSh0aGlzLm91dHB1dERldmljZSksZSYmciE9PXRoaXMuY3JlYXRlSWRlbnRpZmllcih0aGlzLm91dHB1dERldmljZSkmJih0aGlzLmV2ZW50QnVzLmFuYWx5dGljcy5wdWJsaXNoKFIuZGV2aWNlQ2hhbmdlKHtzZWxlY3Rpb246e2F1ZGlvT3V0cHV0OnRoaXMub3V0cHV0RGV2aWNlfSxkZXZpY2VzOnRoaXMuZ2V0RGV2aWNlcygpLHR5cGU6XCJhdWRpb091dHB1dFwifSkpLHRoaXMuZXZlbnRCdXMuZGV2aWNlQ2hhbmdlLnB1Ymxpc2goe3NlbGVjdGlvbjp0aGlzLm91dHB1dERldmljZSx0eXBlOlwiYXVkaW9PdXRwdXRcIixkZXZpY2VzOnRoaXMuZ2V0RGV2aWNlcygpfSkpfSl9Z2V0QXVkaW9PdXRwdXREZXZpY2VNYXRjaGluZ0lucHV0KGUpe3ZhciBpLHM7bGV0IHQ9KChzPShpPXRoaXMuc3RvcmUuZ2V0Q29uZmlnKCkpPT1udWxsP3ZvaWQgMDppLnNldHRpbmdzKT09bnVsbD92b2lkIDA6cy5zcGVha2VyQXV0b1NlbGVjdGlvbkJsYWNrbGlzdCl8fFtdO2lmKHQ9PT1cImFsbFwiKXJldHVybjtsZXQgcj0oZT09bnVsbD92b2lkIDA6ZS5sYWJlbC50b0xvd2VyQ2FzZSgpKXx8XCJcIjtpZighdC5zb21lKG49PnIuaW5jbHVkZXMobi50b0xvd2VyQ2FzZSgpKSkmJihlPT1udWxsP3ZvaWQgMDplLmdyb3VwSWQpKXJldHVybiB0aGlzLmF1ZGlvT3V0cHV0LmZpbmQobj0+ZS5kZXZpY2VJZCE9PVwiZGVmYXVsdFwiJiZuLmxhYmVsPT09ZS5sYWJlbCl9bG9nRGV2aWNlcyhlPVwiXCIpe28uZCh0aGlzLlRBRyxlLEpTT04uc3RyaW5naWZ5KHt2aWRlb0lucHV0OlsuLi50aGlzLnZpZGVvSW5wdXRdLGF1ZGlvSW5wdXQ6Wy4uLnRoaXMuYXVkaW9JbnB1dF0sYXVkaW9PdXRwdXQ6Wy4uLnRoaXMuYXVkaW9PdXRwdXRdLHNlbGVjdGVkOnRoaXMuZ2V0Q3VycmVudFNlbGVjdGlvbigpfSxudWxsLDQpKX19O3ZhciBvdD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMuZGV2aWNlTWFuYWdlcj1lO3RoaXMuYXVkaW9TaW5rTWFuYWdlcj10fWdldFZvbHVtZSgpe3JldHVybiB0aGlzLmF1ZGlvU2lua01hbmFnZXIuZ2V0Vm9sdW1lKCl9c2V0Vm9sdW1lKGUpe2lmKGU8MHx8ZT4xMDApdGhyb3cgRXJyb3IoXCJQbGVhc2UgcGFzcyBhIHZhbGlkIG51bWJlciBiZXR3ZWVuIDAtMTAwXCIpO3RoaXMuYXVkaW9TaW5rTWFuYWdlci5zZXRWb2x1bWUoZSl9Z2V0RGV2aWNlKCl7cmV0dXJuIHRoaXMuZGV2aWNlTWFuYWdlci5vdXRwdXREZXZpY2V9c2V0RGV2aWNlKGUpe3JldHVybiB0aGlzLmRldmljZU1hbmFnZXIudXBkYXRlT3V0cHV0RGV2aWNlKGUpfXVuYmxvY2tBdXRvcGxheSgpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLmF1ZGlvU2lua01hbmFnZXIudW5ibG9ja0F1dG9wbGF5KCkseWllbGQgUmUucmVzdW1lQ29udGV4dCgpfSl9fTtpbXBvcnR7RXZlbnRFbWl0dGVyMiBhcyBQaX1mcm9tXCJldmVudGVtaXR0ZXIyXCI7dmFyIFU9Y2xhc3N7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmV2ZW50TmFtZT1lO3RoaXMuZXZlbnRFbWl0dGVyPXQ7dGhpcy5wdWJsaXNoPWU9Pnt0aGlzLmV2ZW50RW1pdHRlci5lbWl0KHRoaXMuZXZlbnROYW1lLGUpfTt0aGlzLnN1YnNjcmliZT1lPT57dGhpcy5ldmVudEVtaXR0ZXIub24odGhpcy5ldmVudE5hbWUsZSl9O3RoaXMuc3Vic2NyaWJlT25jZT1lPT57dGhpcy5ldmVudEVtaXR0ZXIub25jZSh0aGlzLmV2ZW50TmFtZSxlKX07dGhpcy51bnN1YnNjcmliZT1lPT57dGhpcy5ldmVudEVtaXR0ZXIub2ZmKHRoaXMuZXZlbnROYW1lLGUpfTt0aGlzLndhaXRGb3I9ZT0+dGhpcy5ldmVudEVtaXR0ZXIud2FpdEZvcih0aGlzLmV2ZW50TmFtZSx7ZmlsdGVyOmV9KTt0aGlzLnJlbW92ZUFsbExpc3RlbmVycz0oKT0+e3RoaXMuZXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyh0aGlzLmV2ZW50TmFtZSl9fX07dmFyIE50PWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5ldmVudEVtaXR0ZXI9bmV3IFBpO3RoaXMuZGV2aWNlQ2hhbmdlPW5ldyBVKEcuREVWSUNFX0NIQU5HRSx0aGlzLmV2ZW50RW1pdHRlcik7dGhpcy5sb2NhbEF1ZGlvRW5hYmxlZD1uZXcgVShHLkxPQ0FMX0FVRElPX0VOQUJMRUQsdGhpcy5ldmVudEVtaXR0ZXIpO3RoaXMubG9jYWxWaWRlb0VuYWJsZWQ9bmV3IFUoRy5MT0NBTF9WSURFT19FTkFCTEVELHRoaXMuZXZlbnRFbWl0dGVyKTt0aGlzLnN0YXRzVXBkYXRlPW5ldyBVKEcuU1RBVFNfVVBEQVRFLHRoaXMuZXZlbnRFbWl0dGVyKTt0aGlzLnRyYWNrRGVncmFkZWQ9bmV3IFUoRy5UUkFDS19ERUdSQURFRCx0aGlzLmV2ZW50RW1pdHRlcik7dGhpcy50cmFja1Jlc3RvcmVkPW5ldyBVKEcuVFJBQ0tfUkVTVE9SRUQsdGhpcy5ldmVudEVtaXR0ZXIpO3RoaXMudHJhY2tBdWRpb0xldmVsVXBkYXRlPW5ldyBVKEcuVFJBQ0tfQVVESU9fTEVWRUxfVVBEQVRFLHRoaXMuZXZlbnRFbWl0dGVyKTt0aGlzLmF1ZGlvUGx1Z2luRmFpbGVkPW5ldyBVKEcuQVVESU9fUExVR0lOX0ZBSUxFRCx0aGlzLmV2ZW50RW1pdHRlcik7dGhpcy5sb2NhbEF1ZGlvU2lsZW5jZT1uZXcgVShHLkxPQ0FMX0FVRElPX1NJTEVOQ0UsdGhpcy5ldmVudEVtaXR0ZXIpO3RoaXMuYW5hbHl0aWNzPW5ldyBVKEcuQU5BTFlUSUNTLHRoaXMuZXZlbnRFbWl0dGVyKTt0aGlzLnBvbGljeUNoYW5nZT1uZXcgVShHLlBPTElDWV9DSEFOR0UsdGhpcy5ldmVudEVtaXR0ZXIpO3RoaXMubG9jYWxSb2xlVXBkYXRlPW5ldyBVKEcuTE9DQUxfUk9MRV9VUERBVEUsdGhpcy5ldmVudEVtaXR0ZXIpO3RoaXMuYXVkaW9UcmFja1VwZGF0ZT1uZXcgVShHLkFVRElPX1RSQUNLX1VQREFURSx0aGlzLmV2ZW50RW1pdHRlcik7dGhpcy5hdWRpb1RyYWNrQWRkZWQ9bmV3IFUoRy5BVURJT19UUkFDS19BRERFRCx0aGlzLmV2ZW50RW1pdHRlcik7dGhpcy5hdWRpb1RyYWNrUmVtb3ZlZD1uZXcgVShHLkFVRElPX1RSQUNLX1JFTU9WRUQsdGhpcy5ldmVudEVtaXR0ZXIpO3RoaXMuYXV0b3BsYXlFcnJvcj1uZXcgVShHLkFVVE9QTEFZX0VSUk9SLHRoaXMuZXZlbnRFbWl0dGVyKTt0aGlzLmxlYXZlPW5ldyBVKEcuTEVBVkUsdGhpcy5ldmVudEVtaXR0ZXIpfX07dmFyIE90PWNsYXNze2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLnN0b3JlPWU7dGhpcy5saXN0ZW5lcj10O3RoaXMuYXVkaW9MaXN0ZW5lcj1yfWhhbmRsZUFjdGl2ZVNwZWFrZXJzKGUpe3ZhciBzLG4sZDtsZXQgdD1lW1wic3BlYWtlci1saXN0XCJdLHI9dC5tYXAobD0+KHthdWRpb0xldmVsOmwubGV2ZWwscGVlcjp0aGlzLnN0b3JlLmdldFBlZXJCeUlkKGwucGVlcl9pZCksdHJhY2s6dGhpcy5zdG9yZS5nZXRUcmFja0J5SWQobC50cmFja19pZCl9KSk7KHM9dGhpcy5hdWRpb0xpc3RlbmVyKT09bnVsbHx8cy5vbkF1ZGlvTGV2ZWxVcGRhdGUociksdGhpcy5zdG9yZS51cGRhdGVTcGVha2VycyhyKTtsZXQgaT10WzBdO2lmKGkpe2xldCBsPXRoaXMuc3RvcmUuZ2V0UGVlckJ5SWQoaS5wZWVyX2lkKTsobj10aGlzLmxpc3RlbmVyKT09bnVsbHx8bi5vblBlZXJVcGRhdGUoSy5CRUNBTUVfRE9NSU5BTlRfU1BFQUtFUixsKX1lbHNlKGQ9dGhpcy5saXN0ZW5lcik9PW51bGx8fGQub25QZWVyVXBkYXRlKEsuUkVTSUdORURfRE9NSU5BTlRfU1BFQUtFUixudWxsKX19O3ZhciBBOyhmdW5jdGlvbihrKXtrLlJPT01fU1RBVEU9XCJyb29tLXN0YXRlXCIsay5QRUVSX0pPSU49XCJvbi1wZWVyLWpvaW5cIixrLlBFRVJfTEVBVkU9XCJvbi1wZWVyLWxlYXZlXCIsay5QRUVSX0xJU1Q9XCJwZWVyLWxpc3RcIixrLlRSQUNLX01FVEFEQVRBX0FERD1cIm9uLXRyYWNrLWFkZFwiLGsuVFJBQ0tfVVBEQVRFPVwib24tdHJhY2stdXBkYXRlXCIsay5DSEFOR0VfVFJBQ0tfTVVURV9TVEFURV9VUERBVEU9XCJvbi1jaGFuZ2UtdHJhY2stbXV0ZS1zdGF0ZS1yZXF1ZXN0XCIsay5BQ1RJVkVfU1BFQUtFUlM9XCJhY3RpdmUtc3BlYWtlcnNcIixrLkNPTk5FQ1RJT05fUVVBTElUWT1cIm9uLWNvbm5lY3Rpb24tcXVhbGl0eS11cGRhdGVcIixrLlNGVV9TVEFUUz1cInNmdS1zdGF0c1wiLGsuT05fU0ZVX1RSQUNLX0xBWUVSX1VQREFURT1cIm9uLXRyYWNrLWxheWVyLXVwZGF0ZVwiLGsuQlJPQURDQVNUPVwib24tYnJvYWRjYXN0XCIsay5ST0xFX0NIQU5HRT1cIm9uLXJvbGUtY2hhbmdlXCIsay5QT0xJQ1lfQ0hBTkdFPVwib24tcG9saWN5LWNoYW5nZVwiLGsuUk9MRV9DSEFOR0VfUkVRVUVTVD1cIm9uLXJvbGUtY2hhbmdlLXJlcXVlc3RcIixrLlRSQUNLX1VQREFURV9SRVFVRVNUPVwib24tdHJhY2stdXBkYXRlLXJlcXVlc3RcIixrLlBFRVJfVVBEQVRFPVwib24tcGVlci11cGRhdGVcIixrLlBFRVJfTEVBVkVfUkVRVUVTVD1cIm9uLXBlZXItbGVhdmUtcmVxdWVzdFwiLGsuVU5TVVBQT1JURUQ9XCJ1bnN1cHBvcnRlZFwiLGsuUlRNUF9TVEFSVD1cIm9uLXJ0bXAtc3RhcnRcIixrLlJUTVBfU1RPUD1cIm9uLXJ0bXAtc3RvcFwiLGsuUkVDT1JESU5HX1NUQVJUPVwib24tcmVjb3JkLXN0YXJ0XCIsay5SRUNPUkRJTkdfU1RPUD1cIm9uLXJlY29yZC1zdG9wXCIsay5ITFNfU1RBUlQ9XCJvbi1obHMtc3RhcnRcIixrLkhMU19TVE9QPVwib24taGxzLXN0b3BcIn0pKEF8fChBPXt9KSk7dmFyIHh0PWNsYXNze2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5zdG9yZT1lO3RoaXMubGlzdGVuZXI9dDt0aGlzLlRBRz1cIltCcm9hZGNhc3RNYW5hZ2VyXVwifWhhbmRsZU5vdGlmaWNhdGlvbihlLHQpe2U9PT1BLkJST0FEQ0FTVCYmdGhpcy5oYW5kbGVCcm9hZGNhc3QodCl9aGFuZGxlQnJvYWRjYXN0KGUpe3ZhciBoO2xldCB0PWUucGVlcixyPWUuaW5mbyxpPWUucm9sZXMscz10aGlzLmdldFNlbmRlcih0KSxuPWUucHJpdmF0ZT90aGlzLnN0b3JlLmdldExvY2FsUGVlcigpOnZvaWQgMCxkPVtdO2lmKGk9PW51bGw/dm9pZCAwOmkubGVuZ3RoKXtsZXQgdT10aGlzLnN0b3JlLmdldEtub3duUm9sZXMoKTtmb3IobGV0IGcgb2YgaSl1W2ddJiZkLnB1c2godVtnXSl9bGV0IGw9bmV3IGZlKF8odih7fSxyKSx7c2VuZGVyOnMscmVjaXBpZW50Um9sZXM6ZCxyZWNpcGllbnRQZWVyOm4sdGltZTpuZXcgRGF0ZShlLnRpbWVzdGFtcCl9KSk7by5kKHRoaXMuVEFHLGBSZWNlaXZlZCBNZXNzYWdlIGZyb20gc2VuZGVyPSR7dD09bnVsbD92b2lkIDA6dC5wZWVyX2lkfTogJHtsfWApLChoPXRoaXMubGlzdGVuZXIpPT1udWxsfHxoLm9uTWVzc2FnZVJlY2VpdmVkKGwpfWdldFNlbmRlcihlKXtsZXQgdD1lP3RoaXMuc3RvcmUuZ2V0UGVlckJ5SWQoZS5wZWVyX2lkKTp2b2lkIDA7cmV0dXJuIXQmJmUmJih0PW5ldyBhZSh7cGVlcklkOmUucGVlcl9pZCxuYW1lOmUuaW5mby5uYW1lLGlzTG9jYWw6ITEsY3VzdG9tZXJVc2VySWQ6ZS5pbmZvLnVzZXJfaWQsbWV0YWRhdGE6ZS5pbmZvLmRhdGF9KSksdH19O3ZhciBGdD1jbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLmxpc3RlbmVyPWV9aGFuZGxlUXVhbGl0eVVwZGF0ZShlKXt2YXIgaTtsZXQgcj1lLnBlZXJzLm1hcChzPT4oe3BlZXJJRDpzLnBlZXJfaWQsZG93bmxpbmtRdWFsaXR5OnMuZG93bmxpbmtfc2NvcmV9KSk7KGk9dGhpcy5saXN0ZW5lcik9PW51bGx8fGkub25Db25uZWN0aW9uUXVhbGl0eVVwZGF0ZShyKX19O3ZhciBCdD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQscixpKXt0aGlzLnN0b3JlPWU7dGhpcy5wZWVyTWFuYWdlcj10O3RoaXMudHJhY2tNYW5hZ2VyPXI7dGhpcy5saXN0ZW5lcj1pO3RoaXMuVEFHPVwiW1BlZXJMaXN0TWFuYWdlcl1cIjt0aGlzLmhhbmRsZUluaXRpYWxQZWVyTGlzdD1lPT57bGV0IHQ9T2JqZWN0LnZhbHVlcyhlLnBlZXJzKTt0aGlzLnBlZXJNYW5hZ2VyLmhhbmRsZVBlZXJMaXN0KHQpfTt0aGlzLmhhbmRsZVJlY29ubmVjdFBlZXJMaXN0PWU9Pnt0aGlzLmhhbmRsZVJlcGVhdGVkUGVlckxpc3QoZS5wZWVycyl9O3RoaXMuaGFuZGxlUHJldmlld1Jvb21TdGF0ZT1lPT57aWYoIXRoaXMuc3RvcmUuaGFzUm9sZURldGFpbHNBcnJpdmVkKCkpcmV0dXJuO2xldCB0PWUucGVlcnM7aWYodD09bnVsbCl7ZS5wZWVyX2NvdW50PT09MCYmdGhpcy5oYW5kbGVSZXBlYXRlZFBlZXJMaXN0KHt9KTtyZXR1cm59T2JqZWN0LmtleXModCkuZm9yRWFjaChyPT57dFtyXS50cmFja3M9e30sdFtyXS5pc19mcm9tX3Jvb21fc3RhdGU9ITB9KSx0aGlzLmhhbmRsZVJlcGVhdGVkUGVlckxpc3QodCl9O3RoaXMuaGFuZGxlUmVwZWF0ZWRQZWVyTGlzdD1lPT57bGV0IHQ9dGhpcy5zdG9yZS5nZXRSZW1vdGVQZWVycygpLHI9T2JqZWN0LnZhbHVlcyhlKSxpPXQuZmlsdGVyKHM9PiFlW3MucGVlcklkXSk7by5kKHRoaXMuVEFHLGAke2l9YCksaS5mb3JFYWNoKHM9Pnt2YXIgZDtsZXQgbj17cGVlcl9pZDpzLnBlZXJJZCxyb2xlOigoZD1zLnJvbGUpPT1udWxsP3ZvaWQgMDpkLm5hbWUpfHxcIlwiLGluZm86e25hbWU6cy5uYW1lLGRhdGE6cy5tZXRhZGF0YXx8XCJcIix1c2VyX2lkOnMuY3VzdG9tZXJVc2VySWR8fFwiXCJ9LHRyYWNrczp7fX07dGhpcy5wZWVyTWFuYWdlci5oYW5kbGVQZWVyTGVhdmUobil9KSxyLmZvckVhY2gocz0+e2xldCBuPXRoaXMuc3RvcmUuZ2V0UGVlckJ5SWQocy5wZWVyX2lkKSxkPU9iamVjdC52YWx1ZXMocy50cmFja3MpO24/KHRoaXMuc3RvcmUuZ2V0UGVlclRyYWNrcyhuLnBlZXJJZCkuZm9yRWFjaChoPT57dmFyIHU7cy50cmFja3NbaC50cmFja0lkXXx8KHRoaXMucmVtb3ZlUGVlclRyYWNrKG4saC50cmFja0lkKSwodT10aGlzLmxpc3RlbmVyKT09bnVsbHx8dS5vblRyYWNrVXBkYXRlKE4uVFJBQ0tfUkVNT1ZFRCxoLG4pKX0pLGQuZm9yRWFjaChoPT57dGhpcy5zdG9yZS5nZXRUcmFja0J5SWQoaC50cmFja19pZCl8fHRoaXMuc3RvcmUuc2V0VHJhY2tTdGF0ZSh7cGVlcklkOm4ucGVlcklkLHRyYWNrSW5mbzpofSl9KSx0aGlzLnRyYWNrTWFuYWdlci5oYW5kbGVUcmFja1VwZGF0ZSh7cGVlcjp7aW5mbzpzLmluZm8scGVlcl9pZDpzLnBlZXJfaWR9LHRyYWNrczpzLnRyYWNrc30pLHRoaXMucGVlck1hbmFnZXIuaGFuZGxlUGVlclVwZGF0ZShzKSk6dGhpcy5wZWVyTWFuYWdlci5oYW5kbGVQZWVySm9pbihzKX0pfX1oYW5kbGVOb3RpZmljYXRpb24oZSx0LHIpe2lmKGU9PT1BLlBFRVJfTElTVCl7bGV0IGk9dDtyPyhvLmQodGhpcy5UQUcsXCJSRUNPTk5FQ1RfUEVFUl9MSVNUIGV2ZW50XCIsSlNPTi5zdHJpbmdpZnkoaSxudWxsLDIpKSx0aGlzLmhhbmRsZVJlY29ubmVjdFBlZXJMaXN0KGkpKTooby5kKHRoaXMuVEFHLFwiUEVFUl9MSVNUIGV2ZW50XCIsSlNPTi5zdHJpbmdpZnkoaSxudWxsLDIpKSx0aGlzLmhhbmRsZUluaXRpYWxQZWVyTGlzdChpKSl9ZWxzZSBpZihlPT09QS5ST09NX1NUQVRFKXtsZXQgaT10O3RoaXMuaGFuZGxlUHJldmlld1Jvb21TdGF0ZShpKX19cmVtb3ZlUGVlclRyYWNrKGUsdCl7dmFyIHIsaTtpZigoKHI9ZS5hdWRpb1RyYWNrKT09bnVsbD92b2lkIDA6ci50cmFja0lkKT09PXQpZS5hdWRpb1RyYWNrPXZvaWQgMDtlbHNlIGlmKCgoaT1lLnZpZGVvVHJhY2spPT1udWxsP3ZvaWQgMDppLnRyYWNrSWQpPT09dCllLnZpZGVvVHJhY2s9dm9pZCAwO2Vsc2V7bGV0IHM9ZS5hdXhpbGlhcnlUcmFja3MuZmluZEluZGV4KG49Pm4udHJhY2tJZD09PXQpO3M+PTAmJmUuYXV4aWxpYXJ5VHJhY2tzLnNwbGljZShzLDEpfX19O3ZhciBZPWE9PmE/bmV3IERhdGUoYSk6dm9pZCAwO3ZhciBVdD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQscil7dGhpcy5zdG9yZT1lO3RoaXMudHJhY2tNYW5hZ2VyPXQ7dGhpcy5saXN0ZW5lcj1yO3RoaXMuVEFHPVwiW1BlZXJNYW5hZ2VyXVwiO3RoaXMuaGFuZGxlUGVlckxpc3Q9ZT0+e3ZhciBpLHM7aWYoZS5sZW5ndGg9PT0wKXsoaT10aGlzLmxpc3RlbmVyKT09bnVsbHx8aS5vblBlZXJVcGRhdGUoSy5QRUVSX0xJU1QsW10pO3JldHVybn1sZXQgdD1bXSxyPW5ldyBTZXQoZS5tYXAobj0+bi5wZWVyX2lkKSk7dGhpcy5zdG9yZS5nZXRSZW1vdGVQZWVycygpLmZvckVhY2goKHtwZWVySWQ6bixmcm9tUm9vbVN0YXRlOmR9KT0+eyFyLmhhcyhuKSYmZCYmdGhpcy5zdG9yZS5yZW1vdmVQZWVyKG4pfSk7Zm9yKGxldCBuIG9mIGUpdC5wdXNoKHRoaXMubWFrZVBlZXIobikpOyhzPXRoaXMubGlzdGVuZXIpPT1udWxsfHxzLm9uUGVlclVwZGF0ZShLLlBFRVJfTElTVCx0KSx0aGlzLnRyYWNrTWFuYWdlci5wcm9jZXNzUGVuZGluZ1RyYWNrcygpfTt0aGlzLmhhbmRsZVBlZXJKb2luPWU9Pnt2YXIgcjtsZXQgdD10aGlzLm1ha2VQZWVyKGUpOyhyPXRoaXMubGlzdGVuZXIpPT1udWxsfHxyLm9uUGVlclVwZGF0ZShLLlBFRVJfSk9JTkVELHQpLHRoaXMudHJhY2tNYW5hZ2VyLnByb2Nlc3NQZW5kaW5nVHJhY2tzKCl9O3RoaXMuaGFuZGxlUGVlckxlYXZlPWU9Pnt2YXIgcixpLHMsbjtsZXQgdD10aGlzLnN0b3JlLmdldFBlZXJCeUlkKGUucGVlcl9pZCk7dGhpcy5zdG9yZS5yZW1vdmVQZWVyKGUucGVlcl9pZCksby5kKHRoaXMuVEFHLFwiUEVFUl9MRUFWRVwiLGUucGVlcl9pZCxgcmVtYWluaW5nUGVlcnM9JHt0aGlzLnN0b3JlLmdldFBlZXJzKCkubGVuZ3RofWApLCEhdCYmKHQuYXVkaW9UcmFjayYmKChyPXRoaXMubGlzdGVuZXIpPT1udWxsfHxyLm9uVHJhY2tVcGRhdGUoTi5UUkFDS19SRU1PVkVELHQuYXVkaW9UcmFjayx0KSksdC52aWRlb1RyYWNrJiYoKGk9dGhpcy5saXN0ZW5lcik9PW51bGx8fGkub25UcmFja1VwZGF0ZShOLlRSQUNLX1JFTU9WRUQsdC52aWRlb1RyYWNrLHQpKSwocz10LmF1eGlsaWFyeVRyYWNrcyk9PW51bGx8fHMuZm9yRWFjaChkPT57dmFyIGw7KGw9dGhpcy5saXN0ZW5lcik9PW51bGx8fGwub25UcmFja1VwZGF0ZShOLlRSQUNLX1JFTU9WRUQsZCx0KX0pLChuPXRoaXMubGlzdGVuZXIpPT1udWxsfHxuLm9uUGVlclVwZGF0ZShLLlBFRVJfTEVGVCx0KSl9fWhhbmRsZU5vdGlmaWNhdGlvbihlLHQpe3N3aXRjaChlKXtjYXNlIEEuUEVFUl9KT0lOOntsZXQgcj10O3RoaXMuaGFuZGxlUGVlckpvaW4ocik7YnJlYWt9Y2FzZSBBLlBFRVJfTEVBVkU6e2xldCByPXQ7dGhpcy5oYW5kbGVQZWVyTGVhdmUocik7YnJlYWt9Y2FzZSBBLlBFRVJfVVBEQVRFOnRoaXMuaGFuZGxlUGVlclVwZGF0ZSh0KTticmVhaztkZWZhdWx0OmJyZWFrfX1oYW5kbGVQZWVyVXBkYXRlKGUpe3ZhciByO2xldCB0PXRoaXMuc3RvcmUuZ2V0UGVlckJ5SWQoZS5wZWVyX2lkKTtpZighIXQpe2lmKHQucm9sZSYmdC5yb2xlLm5hbWUhPT1lLnJvbGUpe2xldCBpPXRoaXMuc3RvcmUuZ2V0UG9saWN5Rm9yUm9sZShlLnJvbGUpO3QudXBkYXRlUm9sZShpKSwocj10aGlzLmxpc3RlbmVyKT09bnVsbHx8ci5vblBlZXJVcGRhdGUoSy5ST0xFX1VQREFURUQsdCl9dGhpcy5oYW5kbGVQZWVySW5mb1VwZGF0ZSh2KHtwZWVyOnR9LGUuaW5mbykpfX1oYW5kbGVQZWVySW5mb1VwZGF0ZSh7cGVlcjplLG5hbWU6dCxkYXRhOnJ9KXt2YXIgaSxzOyFlfHwodCYmZS5uYW1lIT09dCYmKGUudXBkYXRlTmFtZSh0KSwoaT10aGlzLmxpc3RlbmVyKT09bnVsbHx8aS5vblBlZXJVcGRhdGUoSy5OQU1FX1VQREFURUQsZSkpLHImJmUubWV0YWRhdGEhPT1yJiYoZS51cGRhdGVNZXRhZGF0YShyKSwocz10aGlzLmxpc3RlbmVyKT09bnVsbHx8cy5vblBlZXJVcGRhdGUoSy5NRVRBREFUQV9VUERBVEVELGUpKSl9bWFrZVBlZXIoZSl7bGV0IHQ9bmV3ICRlKHtwZWVySWQ6ZS5wZWVyX2lkLG5hbWU6ZS5pbmZvLm5hbWUsY3VzdG9tZXJVc2VySWQ6ZS5pbmZvLnVzZXJfaWQsbWV0YWRhdGE6ZS5pbmZvLmRhdGEscm9sZTp0aGlzLnN0b3JlLmdldFBvbGljeUZvclJvbGUoZS5yb2xlKSxqb2luZWRBdDpZKGUuam9pbmVkX2F0KSxmcm9tUm9vbVN0YXRlOiEhZS5pc19mcm9tX3Jvb21fc3RhdGV9KTt0aGlzLnN0b3JlLmFkZFBlZXIodCksby5kKHRoaXMuVEFHLFwiYWRkaW5nIHRvIHRoZSBwZWVyTGlzdFwiLHQudG9TdHJpbmcoKSk7Zm9yKGxldCByIGluIGUudHJhY2tzKXRoaXMuc3RvcmUuc2V0VHJhY2tTdGF0ZSh7cGVlcklkOmUucGVlcl9pZCx0cmFja0luZm86ZS50cmFja3Nbcl19KTtyZXR1cm4gdH19O3ZhciBHdD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMuc3RvcmU9ZTt0aGlzLmV2ZW50QnVzPXR9aGFuZGxlUG9saWN5Q2hhbmdlKGUpe3ZhciBpO2xldCB0PXRoaXMuc3RvcmUuZ2V0TG9jYWxQZWVyKCk7aWYodCYmIXQucm9sZSl7bGV0IHM9ZS5rbm93bl9yb2xlc1tlLm5hbWVdO3QudXBkYXRlUm9sZShzKX10aGlzLnN0b3JlLnNldEtub3duUm9sZXMoZS5rbm93bl9yb2xlcyksdGhpcy5zdG9yZS5nZXRSb29tKCkudGVtcGxhdGVJZD1lLnRlbXBsYXRlX2lkO2xldCByPShpPWUua25vd25fcm9sZXNbZS5uYW1lXSk9PW51bGw/dm9pZCAwOmkucHVibGlzaFBhcmFtcztpZih0aGlzLnN0b3JlLnNldFB1Ymxpc2hQYXJhbXMociksKHQ9PW51bGw/dm9pZCAwOnQucm9sZSkmJnQucm9sZS5uYW1lIT09ZS5uYW1lKXtsZXQgcz10aGlzLnN0b3JlLmdldFBvbGljeUZvclJvbGUoZS5uYW1lKSxuPXQucm9sZTt0LnVwZGF0ZVJvbGUocyksdGhpcy5ldmVudEJ1cy5sb2NhbFJvbGVVcGRhdGUucHVibGlzaCh7b2xkUm9sZTpuLG5ld1JvbGU6c30pfXRoaXMuZXZlbnRCdXMucG9saWN5Q2hhbmdlLnB1Ymxpc2goZSl9fTt2YXIgVnQ9Y2xhc3N7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnN0b3JlPWU7dGhpcy5saXN0ZW5lcj10fWhhbmRsZU5vdGlmaWNhdGlvbihlLHQpe3N3aXRjaChlKXtjYXNlIEEuUk9MRV9DSEFOR0VfUkVRVUVTVDp0aGlzLmhhbmRsZVJvbGVDaGFuZ2VSZXF1ZXN0KHQpO2JyZWFrO2Nhc2UgQS5UUkFDS19VUERBVEVfUkVRVUVTVDp0aGlzLmhhbmRsZVRyYWNrVXBkYXRlUmVxdWVzdCh0KTticmVhaztjYXNlIEEuQ0hBTkdFX1RSQUNLX01VVEVfU1RBVEVfVVBEQVRFOnRoaXMuaGFuZGxlQ2hhbmdlVHJhY2tTdGF0ZVJlcXVlc3QodCk7YnJlYWs7ZGVmYXVsdDpyZXR1cm59fWhhbmRsZVJvbGVDaGFuZ2VSZXF1ZXN0KGUpe3ZhciByO2xldCB0PXtyZXF1ZXN0ZWRCeTplLnJlcXVlc3RlZF9ieT90aGlzLnN0b3JlLmdldFBlZXJCeUlkKGUucmVxdWVzdGVkX2J5KTp2b2lkIDAscm9sZTp0aGlzLnN0b3JlLmdldFBvbGljeUZvclJvbGUoZS5yb2xlKSx0b2tlbjplLnRva2VufTsocj10aGlzLmxpc3RlbmVyKT09bnVsbHx8ci5vblJvbGVDaGFuZ2VSZXF1ZXN0KHQpfWhhbmRsZVRyYWNrVXBkYXRlUmVxdWVzdChlKXtsZXR7cmVxdWVzdGVkX2J5OnQsdHJhY2tfaWQ6cixtdXRlOml9PWUscz10P3RoaXMuc3RvcmUuZ2V0UGVlckJ5SWQodCk6dm9pZCAwLG49dGhpcy5zdG9yZS5nZXRMb2NhbFBlZXJUcmFja3MoKS5maW5kKGw9PmwucHVibGlzaGVkVHJhY2tJZD09PXIpO2lmKCFuKXJldHVybjtsZXQgZD0oKT0+e3ZhciBsOyhsPXRoaXMubGlzdGVuZXIpPT1udWxsfHxsLm9uQ2hhbmdlVHJhY2tTdGF0ZVJlcXVlc3Qoe3JlcXVlc3RlZEJ5OnMsdHJhY2s6bixlbmFibGVkOiFpfSl9O2lmKGkpe2lmKG4uZW5hYmxlZD09PSFpKXJldHVybjtuLnNldEVuYWJsZWQoIWkpLnRoZW4oZCl9ZWxzZSBkKCl9aGFuZGxlQ2hhbmdlVHJhY2tTdGF0ZVJlcXVlc3QoZSl7dmFyIGg7bGV0e3R5cGU6dCxzb3VyY2U6cix2YWx1ZTppLHJlcXVlc3RlZF9ieTpzfT1lLG49cz90aGlzLnN0b3JlLmdldFBlZXJCeUlkKHMpOnZvaWQgMCxkPSFpLGw9dGhpcy5nZXRUcmFja3NUb0JlVXBkYXRlZCh7dHlwZTp0LHNvdXJjZTpyLGVuYWJsZWQ6ZH0pO2lmKGwubGVuZ3RoIT09MClpZihkKShoPXRoaXMubGlzdGVuZXIpPT1udWxsfHxoLm9uQ2hhbmdlTXVsdGlUcmFja1N0YXRlUmVxdWVzdCh7cmVxdWVzdGVkQnk6bix0cmFja3M6bCx0eXBlOnQsc291cmNlOnIsZW5hYmxlZDohMH0pO2Vsc2V7bGV0IHU9W107Zm9yKGxldCBnIG9mIGwpdS5wdXNoKGcuc2V0RW5hYmxlZCghMSkpO1Byb21pc2UuYWxsKHUpLnRoZW4oKCk9Pnt2YXIgZzsoZz10aGlzLmxpc3RlbmVyKT09bnVsbHx8Zy5vbkNoYW5nZU11bHRpVHJhY2tTdGF0ZVJlcXVlc3Qoe3JlcXVlc3RlZEJ5Om4sdHJhY2tzOmwsZW5hYmxlZDohMX0pfSl9fWdldFRyYWNrc1RvQmVVcGRhdGVkKHt0eXBlOmUsc291cmNlOnQsZW5hYmxlZDpyfSl7bGV0IHM9dGhpcy5zdG9yZS5nZXRMb2NhbFBlZXJUcmFja3MoKTtyZXR1cm4gZSYmKHM9cy5maWx0ZXIobj0+bi50eXBlPT09ZSkpLHQmJihzPXMuZmlsdGVyKG49Pm4uc291cmNlPT09dCkpLHMuZmlsdGVyKG49Pm4uZW5hYmxlZCE9PXIpfX07dmFyICR0PWNsYXNze2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5zdG9yZT1lO3RoaXMubGlzdGVuZXI9dDt0aGlzLlRBRz1cIltSb29tVXBkYXRlTWFuYWdlcl1cIn1oYW5kbGVOb3RpZmljYXRpb24oZSx0KXtzd2l0Y2goZSl7Y2FzZSBBLlBFRVJfTElTVDp0aGlzLm9uUm9vbVN0YXRlKHQucm9vbSk7YnJlYWs7Y2FzZSBBLlJUTVBfU1RBUlQ6dGhpcy5vblJUTVBTdGFydCh0KTticmVhaztjYXNlIEEuUlRNUF9TVE9QOnRoaXMub25SVE1QU3RvcCh0KTticmVhaztjYXNlIEEuUkVDT1JESU5HX1NUQVJUOnRoaXMub25SZWNvcmRpbmdTdGFydCh0KTticmVhaztjYXNlIEEuUkVDT1JESU5HX1NUT1A6dGhpcy5vblJlY29yZGluZ1N0b3AodCk7YnJlYWs7Y2FzZSBBLlJPT01fU1RBVEU6dGhpcy5oYW5kbGVQcmV2aWV3Um9vbVN0YXRlKHQpO2JyZWFrO2RlZmF1bHQ6dGhpcy5vbkhMUyhlLHQpO2JyZWFrfX1oYW5kbGVQcmV2aWV3Um9vbVN0YXRlKGUpe2xldHtyb29tOnR9PWU7dGhpcy5vblJvb21TdGF0ZSh0LGUucGVlcl9jb3VudCl9b25Sb29tU3RhdGUoZSx0KXt2YXIgaCx1LGc7bGV0e3JlY29yZGluZzpyLHN0cmVhbWluZzppLHNlc3Npb25faWQ6cyxzdGFydGVkX2F0Om4sbmFtZTpkfT1lLGw9dGhpcy5zdG9yZS5nZXRSb29tKCk7bC5wZWVyQ291bnQ9dCxsLm5hbWU9ZCxsLnJlY29yZGluZy5zZXJ2ZXIucnVubmluZz0hIShyPT1udWxsP3ZvaWQgMDpyLnNmdS5lbmFibGVkKSxsLnJlY29yZGluZy5icm93c2VyLnJ1bm5pbmc9ISEocj09bnVsbD92b2lkIDA6ci5icm93c2VyLmVuYWJsZWQpLGwucnRtcC5ydW5uaW5nPSEhKChoPWk9PW51bGw/dm9pZCAwOmkucnRtcCk9PW51bGw/dm9pZCAwOmguZW5hYmxlZCksbC5ydG1wLnN0YXJ0ZWRBdD1ZKCh1PWk9PW51bGw/dm9pZCAwOmkucnRtcCk9PW51bGw/dm9pZCAwOnUuc3RhcnRlZF9hdCksbC5yZWNvcmRpbmcuc2VydmVyLnN0YXJ0ZWRBdD1ZKHI9PW51bGw/dm9pZCAwOnIuc2Z1LnN0YXJ0ZWRfYXQpLGwucmVjb3JkaW5nLmJyb3dzZXIuc3RhcnRlZEF0PVkocj09bnVsbD92b2lkIDA6ci5icm93c2VyLnN0YXJ0ZWRfYXQpLGwucmVjb3JkaW5nLmhscz10aGlzLmdldFBlZXJMaXN0SExTUmVjb3JkaW5nKHIpLGwuaGxzPXRoaXMuY29udmVydEhscyhpPT1udWxsP3ZvaWQgMDppLmhscyksbC5zZXNzaW9uSWQ9cyxsLnN0YXJ0ZWRBdD1ZKG4pLChnPXRoaXMubGlzdGVuZXIpPT1udWxsfHxnLm9uUm9vbVVwZGF0ZShuZS5SRUNPUkRJTkdfU1RBVEVfVVBEQVRFRCxsKX1vblJUTVBTdGFydChlKXt2YXIgdDt0aGlzLnNldFJUTVBTdGF0dXMoISgodD1lLmVycm9yKT09bnVsbD92b2lkIDA6dC5jb2RlKSxlKX1vblJUTVBTdG9wKGUpe3RoaXMuc2V0UlRNUFN0YXR1cyghMSxlKX1vblJlY29yZGluZ1N0YXJ0KGUpe3ZhciB0O3RoaXMuc2V0UmVjb3JkaW5nU3RhdHVzKCEoKHQ9ZS5lcnJvcik9PW51bGw/dm9pZCAwOnQuY29kZSksZSl9b25SZWNvcmRpbmdTdG9wKGUpe3RoaXMuc2V0UmVjb3JkaW5nU3RhdHVzKCExLGUpfW9uSExTKGUsdCl7dmFyIGkscztpZighW0EuSExTX1NUQVJULEEuSExTX1NUT1BdLmluY2x1ZGVzKGUpKXJldHVybjtsZXQgcj10aGlzLnN0b3JlLmdldFJvb20oKTt0LmVuYWJsZWQ9ZT09PUEuSExTX1NUQVJUJiYhKChpPXQuZXJyb3IpPT1udWxsP3ZvaWQgMDppLmNvZGUpLHIuaGxzPXRoaXMuY29udmVydEhscyh0KSxyLnJlY29yZGluZy5obHM9dGhpcy5nZXRITFNSZWNvcmRpbmcodCksKHM9dGhpcy5saXN0ZW5lcik9PW51bGx8fHMub25Sb29tVXBkYXRlKG5lLkhMU19TVFJFQU1JTkdfU1RBVEVfVVBEQVRFRCxyKX1jb252ZXJ0SGxzKGUpe3ZhciByO2xldCB0PXtydW5uaW5nOiEhKGU9PW51bGw/dm9pZCAwOmUuZW5hYmxlZCksdmFyaWFudHM6W10sZXJyb3I6dGhpcy50b1Nka0Vycm9yKGU9PW51bGw/dm9pZCAwOmUuZXJyb3IpfTtyZXR1cm4ocj1lPT1udWxsP3ZvaWQgMDplLnZhcmlhbnRzKT09bnVsbHx8ci5mb3JFYWNoKGk9Pnt0LnZhcmlhbnRzLnB1c2goe21lZXRpbmdVUkw6aS5tZWV0aW5nX3VybCx1cmw6aS51cmwsbWV0YWRhdGE6aS5tZXRhZGF0YSxzdGFydGVkQXQ6WShpLnN0YXJ0ZWRfYXQpfSl9KSx0fWdldEhMU1JlY29yZGluZyhlKXt2YXIgcixpLHM7bGV0IHQ9e3J1bm5pbmc6ITF9O3JldHVybihlPT1udWxsP3ZvaWQgMDplLmhsc19yZWNvcmRpbmcpJiYodD17cnVubmluZzohIShlPT1udWxsP3ZvaWQgMDplLmVuYWJsZWQpLHNpbmdsZUZpbGVQZXJMYXllcjohISgocj1lLmhsc19yZWNvcmRpbmcpPT1udWxsP3ZvaWQgMDpyLnNpbmdsZV9maWxlX3Blcl9sYXllciksaGxzVm9kOiEhKChpPWUuaGxzX3JlY29yZGluZyk9PW51bGw/dm9pZCAwOmkuaGxzX3ZvZCksc3RhcnRlZEF0OlkoKHM9ZT09bnVsbD92b2lkIDA6ZS52YXJpYW50cyk9PW51bGw/dm9pZCAwOnNbMF0uc3RhcnRlZF9hdCksZXJyb3I6dGhpcy50b1Nka0Vycm9yKGUuZXJyb3IpfSksdH1nZXRQZWVyTGlzdEhMU1JlY29yZGluZyhlKXt2YXIgcixpO2xldCB0PWU9PW51bGw/dm9pZCAwOmUuaGxzO3JldHVybntydW5uaW5nOiEhKHQ9PW51bGw/dm9pZCAwOnQuZW5hYmxlZCksc3RhcnRlZEF0OlkodD09bnVsbD92b2lkIDA6dC5zdGFydGVkX2F0KSxzaW5nbGVGaWxlUGVyTGF5ZXI6ISEoKHI9dD09bnVsbD92b2lkIDA6dC5jb25maWcpPT1udWxsP3ZvaWQgMDpyLnNpbmdsZV9maWxlX3Blcl9sYXllciksaGxzVm9kOiEhKChpPXQ9PW51bGw/dm9pZCAwOnQuY29uZmlnKT09bnVsbD92b2lkIDA6aS5obHNfdm9kKX19c2V0UmVjb3JkaW5nU3RhdHVzKGUsdCl7dmFyIHM7bGV0IHI9dGhpcy5zdG9yZS5nZXRSb29tKCksaTt0LnR5cGU9PT1cInNmdVwiPyhyLnJlY29yZGluZy5zZXJ2ZXI9e3J1bm5pbmc6ZSxzdGFydGVkQXQ6ZT9ZKHQuc3RhcnRlZF9hdCk6dm9pZCAwLGVycm9yOnRoaXMudG9TZGtFcnJvcih0LmVycm9yKX0saT1uZS5TRVJWRVJfUkVDT1JESU5HX1NUQVRFX1VQREFURUQpOihyLnJlY29yZGluZy5icm93c2VyPXtydW5uaW5nOmUsc3RhcnRlZEF0OmU/WSh0LnN0YXJ0ZWRfYXQpOnZvaWQgMCxlcnJvcjp0aGlzLnRvU2RrRXJyb3IodC5lcnJvcil9LGk9bmUuQlJPV1NFUl9SRUNPUkRJTkdfU1RBVEVfVVBEQVRFRCksKHM9dGhpcy5saXN0ZW5lcik9PW51bGx8fHMub25Sb29tVXBkYXRlKGkscil9c2V0UlRNUFN0YXR1cyhlLHQpe3ZhciBpO2xldCByPXRoaXMuc3RvcmUuZ2V0Um9vbSgpO3IucnRtcD17cnVubmluZzplLHN0YXJ0ZWRBdDplP1kodC5zdGFydGVkX2F0KTp2b2lkIDAsZXJyb3I6dGhpcy50b1Nka0Vycm9yKHQuZXJyb3IpfSwoaT10aGlzLmxpc3RlbmVyKT09bnVsbHx8aS5vblJvb21VcGRhdGUobmUuUlRNUF9TVFJFQU1JTkdfU1RBVEVfVVBEQVRFRCxyKX10b1Nka0Vycm9yKGUpe2lmKCEoZT09bnVsbD92b2lkIDA6ZS5jb2RlKSlyZXR1cm47bGV0IHQ9ZS5tZXNzYWdlfHxcImVycm9yIGluIHN0cmVhbWluZy9yZWNvcmRpbmdcIixyPW5ldyBUKGUuY29kZSxcIlNlcnZlckVycm9yc1wiLHAuTk9ORSx0LHQpO3JldHVybiBvLmUodGhpcy5UQUcsXCJlcnJvciBpbiBzdHJlYW1pbmcvcmVjb3JkaW5nXCIscikscn19O3ZhciBXdD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQscil7dGhpcy5zdG9yZT1lO3RoaXMuZXZlbnRCdXM9dDt0aGlzLmxpc3RlbmVyPXI7dGhpcy5UQUc9XCJbVHJhY2tNYW5hZ2VyXVwiO3RoaXMudHJhY2tzVG9Qcm9jZXNzPW5ldyBNYXA7dGhpcy5oYW5kbGVUcmFja0FkZD1lPT57by5kKHRoaXMuVEFHLFwiT05UUkFDS0FERFwiLGAke2V9YCksdGhpcy5zdG9yZS5hZGRUcmFjayhlKSx0aGlzLnRyYWNrc1RvUHJvY2Vzcy5zZXQoZS50cmFja0lkLGUpLHRoaXMucHJvY2Vzc1BlbmRpbmdUcmFja3MoKX07dGhpcy5oYW5kbGVUcmFja1JlbW92ZT1lPT57dmFyIGk7by5kKHRoaXMuVEFHLFwiT05UUkFDS1JFTU9WRVwiLGAke2V9YCk7bGV0IHQ9dGhpcy5zdG9yZS5nZXRUcmFja1N0YXRlKGUudHJhY2tJZCk7aWYoIXQpcmV0dXJuO2UudHlwZT09PUwuQVVESU8mJnRoaXMuZXZlbnRCdXMuYXVkaW9UcmFja1JlbW92ZWQucHVibGlzaChlKTtsZXQgcj10aGlzLnN0b3JlLmdldFBlZXJCeUlkKHQucGVlcklkKTshcnx8KHRoaXMucmVtb3ZlUGVlclRyYWNrcyhyLGUpLHRoaXMuc3RvcmUucmVtb3ZlVHJhY2soZS50cmFja0lkKSwoaT10aGlzLmxpc3RlbmVyKT09bnVsbHx8aS5vblRyYWNrVXBkYXRlKE4uVFJBQ0tfUkVNT1ZFRCxlLHIpKX07dGhpcy5oYW5kbGVUcmFja0xheWVyVXBkYXRlPWU9Pntmb3IobGV0IHQgaW4gZS50cmFja3Mpe2xldCByPWUudHJhY2tzW3RdLGk9dGhpcy5zdG9yZS5nZXRUcmFja0J5SWQodCk7IWl8fCF0aGlzLnN0b3JlLmdldFBlZXJCeVRyYWNrSWQodCl8fGkgaW5zdGFuY2VvZiBnZSYmdGhpcy5zZXRMYXllcihpLHIpfX07dGhpcy5oYW5kbGVUcmFja1VwZGF0ZT1lPT57dmFyIHIsaTtsZXQgdD10aGlzLnN0b3JlLmdldFBlZXJCeUlkKGUucGVlci5wZWVyX2lkKTtpZighIXQpZm9yKGxldCBzIGluIGUudHJhY2tzKXtsZXQgbj1PYmplY3QuYXNzaWduKHt9LChyPXRoaXMuc3RvcmUuZ2V0VHJhY2tTdGF0ZShzKSk9PW51bGw/dm9pZCAwOnIudHJhY2tJbmZvKSxkPWUudHJhY2tzW3NdLGw9dGhpcy5zdG9yZS5nZXRUcmFja0J5SWQocyk7aWYodGhpcy5zdG9yZS5zZXRUcmFja1N0YXRlKHtwZWVySWQ6ZS5wZWVyLnBlZXJfaWQsdHJhY2tJbmZvOnYodih7fSxuKSxkKX0pLCFsfHx0aGlzLnRyYWNrc1RvUHJvY2Vzcy5oYXMocykpdGhpcy5wcm9jZXNzUGVuZGluZ1RyYWNrcygpO2Vsc2V7bC5zZXRFbmFibGVkKCFkLm11dGUpO2xldCBoPXRoaXMucHJvY2Vzc1RyYWNrVXBkYXRlKGwsbixkKTtoJiYoKGk9dGhpcy5saXN0ZW5lcik9PW51bGx8fGkub25UcmFja1VwZGF0ZShoLGwsdCkpfX19fWhhbmRsZVRyYWNrTWV0YWRhdGFBZGQoZSl7by5kKHRoaXMuVEFHLFwiVFJBQ0tfTUVUQURBVEFfQUREXCIsSlNPTi5zdHJpbmdpZnkoZSxudWxsLDIpKTtmb3IobGV0IHQgaW4gZS50cmFja3MpdGhpcy5zdG9yZS5zZXRUcmFja1N0YXRlKHtwZWVySWQ6ZS5wZWVyLnBlZXJfaWQsdHJhY2tJbmZvOmUudHJhY2tzW3RdfSk7dGhpcy5wcm9jZXNzUGVuZGluZ1RyYWNrcygpfXByb2Nlc3NQZW5kaW5nVHJhY2tzKCl7bmV3IE1hcCh0aGlzLnRyYWNrc1RvUHJvY2VzcykuZm9yRWFjaCh0PT57dmFyIHM7bGV0IHI9dGhpcy5zdG9yZS5nZXRUcmFja1N0YXRlKHQudHJhY2tJZCk7aWYoIXIpcmV0dXJuO2xldCBpPXRoaXMuc3RvcmUuZ2V0UGVlckJ5SWQoci5wZWVySWQpOyFpfHwodC5zb3VyY2U9ci50cmFja0luZm8uc291cmNlLHQucGVlcklkPWkucGVlcklkLHQubG9nSWRlbnRpZmllcj1pLm5hbWUsdC5zZXRFbmFibGVkKCFyLnRyYWNrSW5mby5tdXRlKSx0aGlzLmFkZEF1ZGlvVHJhY2soaSx0KSx0aGlzLmFkZFZpZGVvVHJhY2soaSx0KSx0LnR5cGU9PT1MLkFVRElPP3RoaXMuZXZlbnRCdXMuYXVkaW9UcmFja0FkZGVkLnB1Ymxpc2goe3RyYWNrOnQscGVlcjppfSk6KHM9dGhpcy5saXN0ZW5lcik9PW51bGx8fHMub25UcmFja1VwZGF0ZShOLlRSQUNLX0FEREVELHQsaSksdGhpcy50cmFja3NUb1Byb2Nlc3MuZGVsZXRlKHQudHJhY2tJZCkpfSl9c2V0TGF5ZXIoZSx0KXt2YXIgcyxuO2xldCByPXRoaXMuc3RvcmUuZ2V0UGVlckJ5VHJhY2tJZChlLnRyYWNrSWQpO2lmKCFyKXJldHVybjtlLnNldExheWVyRnJvbVNlcnZlcih0KT8ocz10aGlzLmxpc3RlbmVyKT09bnVsbHx8cy5vblRyYWNrVXBkYXRlKE4uVFJBQ0tfREVHUkFERUQsZSxyKToobj10aGlzLmxpc3RlbmVyKT09bnVsbHx8bi5vblRyYWNrVXBkYXRlKE4uVFJBQ0tfUkVTVE9SRUQsZSxyKX1yZW1vdmVQZWVyVHJhY2tzKGUsdCl7dmFyIGkscztsZXQgcj1lLmF1eGlsaWFyeVRyYWNrcy5pbmRleE9mKHQpO3I+LTE/ZS5hdXhpbGlhcnlUcmFja3Muc3BsaWNlKHIsMSk6dC50eXBlPT09TC5BVURJTyYmKChpPWUuYXVkaW9UcmFjayk9PW51bGw/dm9pZCAwOmkudHJhY2tJZCk9PT10LnRyYWNrSWQ/ZS5hdWRpb1RyYWNrPXZvaWQgMDp0LnR5cGU9PT1MLlZJREVPJiYoKHM9ZS52aWRlb1RyYWNrKT09bnVsbD92b2lkIDA6cy50cmFja0lkKT09PXQudHJhY2tJZCYmKGUudmlkZW9UcmFjaz12b2lkIDApfWFkZEF1ZGlvVHJhY2soZSx0KXt0LnR5cGU9PT1MLkFVRElPJiYoIWUuYXVkaW9UcmFjayYmdC5zb3VyY2U9PT1cInJlZ3VsYXJcIj9lLmF1ZGlvVHJhY2s9dDplLmF1eGlsaWFyeVRyYWNrcy5wdXNoKHQpKX1hZGRWaWRlb1RyYWNrKGUsdCl7aWYodC50eXBlIT09TC5WSURFTylyZXR1cm47bGV0IHI9dCxpPXRoaXMuc3RvcmUuZ2V0U2ltdWxjYXN0RGVmaW5pdGlvbnNGb3JQZWVyKGUsci5zb3VyY2UpO3Iuc2V0U2ltdWxjYXN0RGVmaW5pdG9ucyhpKSwhZS52aWRlb1RyYWNrJiZ0LnNvdXJjZT09PVwicmVndWxhclwiP2UudmlkZW9UcmFjaz1yOmUuYXV4aWxpYXJ5VHJhY2tzLnB1c2gocil9cHJvY2Vzc1RyYWNrVXBkYXRlKGUsdCxyKXtsZXQgaTtyZXR1cm4gZS5zZXRFbmFibGVkKCFyLm11dGUpLHQubXV0ZSE9PXIubXV0ZT8oaT1yLm11dGU/Ti5UUkFDS19NVVRFRDpOLlRSQUNLX1VOTVVURUQsZS50eXBlPT09TC5BVURJTyYmdGhpcy5ldmVudEJ1cy5hdWRpb1RyYWNrVXBkYXRlLnB1Ymxpc2goe3RyYWNrOmUsZW5hYmxlZDohci5tdXRlfSkpOnQuZGVzY3JpcHRpb24hPT1yLmRlc2NyaXB0aW9uJiYoaT1OLlRSQUNLX0RFU0NSSVBUSU9OX0NIQU5HRUQpLGl9fTt2YXIgY3Q9Y2xhc3N7Y29uc3RydWN0b3IoZSx0LHIsaSxzKXt0aGlzLnN0b3JlPWU7dGhpcy5saXN0ZW5lcj1yO3RoaXMuYXVkaW9MaXN0ZW5lcj1pO3RoaXMuY29ubmVjdGlvblF1YWxpdHlMaXN0ZW5lcj1zO3RoaXMuVEFHPVwiW0hNU05vdGlmaWNhdGlvbk1hbmFnZXJdXCI7dGhpcy5oYXNDb25zaXN0ZW50Um9vbVN0YXRlQXJyaXZlZD0hMTt0aGlzLmlnbm9yZU5vdGlmaWNhdGlvbj1lPT57aWYoZT09PUEuUEVFUl9MSVNUKXRoaXMuaGFzQ29uc2lzdGVudFJvb21TdGF0ZUFycml2ZWQ9ITA7ZWxzZSBpZihlPT09QS5ST09NX1NUQVRFKXJldHVybiB0aGlzLmhhc0NvbnNpc3RlbnRSb29tU3RhdGVBcnJpdmVkO3JldHVybiExfTt0aGlzLmhhbmRsZVRyYWNrQWRkPWU9Pnt0aGlzLnRyYWNrTWFuYWdlci5oYW5kbGVUcmFja0FkZChlKX07dGhpcy5oYW5kbGVUcmFja1JlbW92ZT1lPT57dGhpcy50cmFja01hbmFnZXIuaGFuZGxlVHJhY2tSZW1vdmUoZSl9O3RoaXMudXBkYXRlTG9jYWxQZWVyPSh7bmFtZTplLG1ldGFkYXRhOnR9KT0+e2xldCByPXRoaXMuc3RvcmUuZ2V0TG9jYWxQZWVyKCk7dGhpcy5wZWVyTWFuYWdlci5oYW5kbGVQZWVySW5mb1VwZGF0ZSh7cGVlcjpyLG5hbWU6ZSxkYXRhOnR9KX07dGhpcy50cmFja01hbmFnZXI9bmV3IFd0KHRoaXMuc3RvcmUsdCx0aGlzLmxpc3RlbmVyKSx0aGlzLnBlZXJNYW5hZ2VyPW5ldyBVdCh0aGlzLnN0b3JlLHRoaXMudHJhY2tNYW5hZ2VyLHRoaXMubGlzdGVuZXIpLHRoaXMucGVlckxpc3RNYW5hZ2VyPW5ldyBCdCh0aGlzLnN0b3JlLHRoaXMucGVlck1hbmFnZXIsdGhpcy50cmFja01hbmFnZXIsdGhpcy5saXN0ZW5lciksdGhpcy5icm9hZGNhc3RNYW5hZ2VyPW5ldyB4dCh0aGlzLnN0b3JlLHRoaXMubGlzdGVuZXIpLHRoaXMucG9saWN5Q2hhbmdlTWFuYWdlcj1uZXcgR3QodGhpcy5zdG9yZSx0KSx0aGlzLnJlcXVlc3RNYW5hZ2VyPW5ldyBWdCh0aGlzLnN0b3JlLHRoaXMubGlzdGVuZXIpLHRoaXMuYWN0aXZlU3BlYWtlck1hbmFnZXI9bmV3IE90KHRoaXMuc3RvcmUsdGhpcy5saXN0ZW5lcix0aGlzLmF1ZGlvTGlzdGVuZXIpLHRoaXMuY29ubmVjdGlvblF1YWxpdHlNYW5hZ2VyPW5ldyBGdCh0aGlzLmNvbm5lY3Rpb25RdWFsaXR5TGlzdGVuZXIpLHRoaXMucm9vbVVwZGF0ZU1hbmFnZXI9bmV3ICR0KHRoaXMuc3RvcmUsdGhpcy5saXN0ZW5lcil9c2V0TGlzdGVuZXIoZSl7dGhpcy5saXN0ZW5lcj1lLHRoaXMudHJhY2tNYW5hZ2VyLmxpc3RlbmVyPWUsdGhpcy5wZWVyTWFuYWdlci5saXN0ZW5lcj1lLHRoaXMucGVlckxpc3RNYW5hZ2VyLmxpc3RlbmVyPWUsdGhpcy5icm9hZGNhc3RNYW5hZ2VyLmxpc3RlbmVyPWUsdGhpcy5yZXF1ZXN0TWFuYWdlci5saXN0ZW5lcj1lLHRoaXMuYWN0aXZlU3BlYWtlck1hbmFnZXIubGlzdGVuZXI9ZSx0aGlzLnJvb21VcGRhdGVNYW5hZ2VyLmxpc3RlbmVyPWV9c2V0QXVkaW9MaXN0ZW5lcihlKXt0aGlzLmF1ZGlvTGlzdGVuZXI9ZSx0aGlzLmFjdGl2ZVNwZWFrZXJNYW5hZ2VyLmF1ZGlvTGlzdGVuZXI9ZX1zZXRDb25uZWN0aW9uUXVhbGl0eUxpc3RlbmVyKGUpe3RoaXMuY29ubmVjdGlvblF1YWxpdHlMaXN0ZW5lcj1lLHRoaXMuY29ubmVjdGlvblF1YWxpdHlNYW5hZ2VyLmxpc3RlbmVyPWV9aGFuZGxlTm90aWZpY2F0aW9uKGUsdD0hMSl7dmFyIHMsbjtsZXQgcj1lLm1ldGhvZCxpPWUucGFyYW1zO1tBLkFDVElWRV9TUEVBS0VSUyxBLlNGVV9TVEFUUyxBLkNPTk5FQ1RJT05fUVVBTElUWSx2b2lkIDBdLmluY2x1ZGVzKHIpfHxvLmQodGhpcy5UQUcsYFJlY2VpdmVkIG5vdGlmaWNhdGlvbiAtICR7cn1gLHtub3RpZmljYXRpb246aX0pLHI9PT1BLlNGVV9TVEFUUyYmKChzPXdpbmRvdy5ITVMpPT1udWxsP3ZvaWQgMDpzLk9OX1NGVV9TVEFUUykmJnR5cGVvZigobj13aW5kb3cuSE1TKT09bnVsbD92b2lkIDA6bi5PTl9TRlVfU1RBVFMpPT1cImZ1bmN0aW9uXCImJndpbmRvdy5ITVMuT05fU0ZVX1NUQVRTKGUucGFyYW1zKSwhdGhpcy5pZ25vcmVOb3RpZmljYXRpb24ocikmJih0aGlzLnJvb21VcGRhdGVNYW5hZ2VyLmhhbmRsZU5vdGlmaWNhdGlvbihyLGkpLHRoaXMucGVlck1hbmFnZXIuaGFuZGxlTm90aWZpY2F0aW9uKHIsaSksdGhpcy5yZXF1ZXN0TWFuYWdlci5oYW5kbGVOb3RpZmljYXRpb24ocixpKSx0aGlzLnBlZXJMaXN0TWFuYWdlci5oYW5kbGVOb3RpZmljYXRpb24ocixpLHQpLHRoaXMuYnJvYWRjYXN0TWFuYWdlci5oYW5kbGVOb3RpZmljYXRpb24ocixpKSx0aGlzLmhhbmRsZUlzb2xhdGVkTWV0aG9kcyhyLGkpKX1oYW5kbGVJc29sYXRlZE1ldGhvZHMoZSx0KXtzd2l0Y2goZSl7Y2FzZSBBLlRSQUNLX01FVEFEQVRBX0FERDp7dGhpcy50cmFja01hbmFnZXIuaGFuZGxlVHJhY2tNZXRhZGF0YUFkZCh0KTticmVha31jYXNlIEEuVFJBQ0tfVVBEQVRFOnt0aGlzLnRyYWNrTWFuYWdlci5oYW5kbGVUcmFja1VwZGF0ZSh0KTticmVha31jYXNlIEEuT05fU0ZVX1RSQUNLX0xBWUVSX1VQREFURTp7dGhpcy50cmFja01hbmFnZXIuaGFuZGxlVHJhY2tMYXllclVwZGF0ZSh0KTticmVha31jYXNlIEEuQUNUSVZFX1NQRUFLRVJTOnRoaXMuYWN0aXZlU3BlYWtlck1hbmFnZXIuaGFuZGxlQWN0aXZlU3BlYWtlcnModCk7YnJlYWs7Y2FzZSBBLkNPTk5FQ1RJT05fUVVBTElUWTp0aGlzLmNvbm5lY3Rpb25RdWFsaXR5TWFuYWdlci5oYW5kbGVRdWFsaXR5VXBkYXRlKHQpO2JyZWFrO2Nhc2UgQS5QT0xJQ1lfQ0hBTkdFOnRoaXMucG9saWN5Q2hhbmdlTWFuYWdlci5oYW5kbGVQb2xpY3lDaGFuZ2UodCk7YnJlYWs7ZGVmYXVsdDpicmVha319fTt2YXIgZHQ9Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy50eXBlPWUudHlwZSx0aGlzLnNvdXJjZT1lLnNvdXJjZXx8XCJyZWd1bGFyXCIsdGhpcy5kZXNjcmlwdGlvbj1cIlwiLGUgaW5zdGFuY2VvZiBwZT8odGhpcy5tdXRlPSFlLmVuYWJsZWQsdGhpcy50cmFja19pZD1lLnB1Ymxpc2hlZFRyYWNrSWQsdGhpcy5zdHJlYW1faWQ9ZS5zdHJlYW0uaWQpOih0aGlzLm11dGU9ZS5tdXRlLHRoaXMudHJhY2tfaWQ9ZS50cmFja19pZCx0aGlzLnN0cmVhbV9pZD1lLnN0cmVhbV9pZCl9fTt2YXIgQmU9Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5UQUc9XCJbQXVkaW9Db250ZXh0TWFuYWdlcl1cIjt0aGlzLmF1ZGlvQ29udGV4dD1uZXcgQXVkaW9Db250ZXh0LHRoaXMuc291cmNlPXRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZShlKSx0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMuYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKX1yZXN1bWVDb250ZXh0KCl7dGhpcy5hdWRpb0NvbnRleHQuc3RhdGU9PT1cInN1c3BlbmRlZFwiJiYoby5kKHRoaXMuVEFHLFwiQXVkaW9Db250ZXh0IGlzIHJlc3VtZWRcIiksdGhpcy5hdWRpb0NvbnRleHQucmVzdW1lKCkpfWdldEF1ZGlvVHJhY2soKXtyZXR1cm4gdGhpcy5kZXN0aW5hdGlvbk5vZGUmJnRoaXMuc291cmNlLmRpc2Nvbm5lY3QodGhpcy5kZXN0aW5hdGlvbk5vZGUpLHRoaXMuZGVzdGluYXRpb25Ob2RlPXRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKSx0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMuZGVzdGluYXRpb25Ob2RlKSx0aGlzLmRlc3RpbmF0aW9uTm9kZS5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXX1jbGVhbnVwKCl7dGhpcy5hdWRpb0NvbnRleHQuc3RhdGUhPT1cImNsb3NlZFwiJiZ0aGlzLmF1ZGlvQ29udGV4dC5jbG9zZSgpfX07aW1wb3J0e0V2ZW50RW1pdHRlcjIgYXMgSWl9ZnJvbVwiZXZlbnRlbWl0dGVyMlwiO3ZhciBUZT1jbGFzcyBleHRlbmRzIElpe29uKGUsdCl7cmV0dXJuIHN1cGVyLm9uKGUsdCl9b2ZmKGUsdCl7cmV0dXJuIHN1cGVyLm9mZihlLHQpfWVtaXQoZSx0KXtyZXR1cm4gc3VwZXIuZW1pdChlLHQpfWxpc3RlbmVycyhlKXtyZXR1cm4gc3VwZXIubGlzdGVuZXJzKGUpfX07dmFyIEt0PWNsYXNzIGV4dGVuZHMgVGV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpO3RoaXMuYXVkaW9FbGVtZW50PW51bGw7dGhpcy5UQUc9XCJbUGxheWxpc3RBdWRpb01hbmFnZXJdXCI7dGhpcy5zZWVrZWQ9ITF9cGxheShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHRoaXMuYXVkaW9FbGVtZW50PXRoaXMuZ2V0QXVkaW9FbGVtZW50KCksbmV3IFByb21pc2UoKHQscik9Pnt0aGlzLmF1ZGlvRWxlbWVudD10aGlzLmdldEF1ZGlvRWxlbWVudCgpLHRoaXMuYXVkaW9FbGVtZW50LnNyYz1lLHRoaXMuc2Vla2VkPSExLHRoaXMuYXVkaW9FbGVtZW50Lm9uZXJyb3I9KCk9PntsZXQgaT1gRXJyb3IgbG9hZGluZyAke2V9YDtvLmUodGhpcy5UQUcsaSksdGhpcy5zdG9wKCkscihpKX0sdGhpcy5hdWRpb0VsZW1lbnQub25jYW5wbGF5dGhyb3VnaD0oKT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dHJ5e2lmKCF0aGlzLmF1ZGlvRWxlbWVudClyZXR1cm47aWYodGhpcy5hdWRpb0NvbnRleHRNYW5hZ2VyLnJlc3VtZUNvbnRleHQoKSx0aGlzLnRyYWNrKXRoaXMuc2Vla2VkP3RoaXMuc2Vla2VkPSExOih5aWVsZCB0aGlzLmF1ZGlvRWxlbWVudC5wbGF5KCksdChbdGhpcy50cmFja10pKTtlbHNle3lpZWxkIHRoaXMuYXVkaW9FbGVtZW50LnBsYXkoKTtsZXQgaT10aGlzLmF1ZGlvQ29udGV4dE1hbmFnZXIuZ2V0QXVkaW9UcmFjaygpO3RoaXMudHJhY2s9aSx0KFtpXSl9fWNhdGNoKGkpe28uZSh0aGlzLlRBRyxcIkVycm9yIHBsYXlpbmcgYXVkaW9cIixlLGkubWVzc2FnZSkscihpKX19KSx0aGlzLmF1ZGlvRWxlbWVudC5vbnNlZWtlZD0oKT0+e3RoaXMuc2Vla2VkPSEwfX0pfSl9Z2V0VHJhY2tzKCl7cmV0dXJuIHRoaXMudHJhY2s/W3RoaXMudHJhY2suaWRdOltdfWdldEVsZW1lbnQoKXtyZXR1cm4gdGhpcy5hdWRpb0VsZW1lbnR9c3RvcCgpe3ZhciBlLHQscjsoZT10aGlzLmF1ZGlvRWxlbWVudCk9PW51bGx8fGUucGF1c2UoKSwodD10aGlzLmF1ZGlvRWxlbWVudCk9PW51bGx8fHQucmVtb3ZlQXR0cmlidXRlKFwic3JjXCIpLHRoaXMuYXVkaW9FbGVtZW50PW51bGwsKHI9dGhpcy5hdWRpb0NvbnRleHRNYW5hZ2VyKT09bnVsbHx8ci5jbGVhbnVwKCksdGhpcy50cmFjaz12b2lkIDB9Z2V0QXVkaW9FbGVtZW50KCl7aWYodGhpcy5hdWRpb0VsZW1lbnQpcmV0dXJuIHRoaXMuYXVkaW9FbGVtZW50O2xldCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKTtyZXR1cm4gZS5jcm9zc09yaWdpbj1cImFub255bW91c1wiLGUuYWRkRXZlbnRMaXN0ZW5lcihcInRpbWV1cGRhdGVcIix0PT50aGlzLmVtaXQoXCJwcm9ncmVzc1wiLHQpKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCgpPT57dGhpcy5lbWl0KFwiZW5kZWRcIixudWxsKX0pLHRoaXMuYXVkaW9Db250ZXh0TWFuYWdlcj1uZXcgQmUoZSksZX19O3ZhciBxdD1jbGFzcyBleHRlbmRzIFRle2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKTt0aGlzLlRBRz1cIltQbGF5bGlzdFZpZGVvTWFuYWdlcl1cIjt0aGlzLnZpZGVvRWxlbWVudD1udWxsO3RoaXMuY2FudmFzQ29udGV4dD1udWxsO3RoaXMudHJhY2tzPVtdO3RoaXMuREVGQVVMX0ZQUz0yNDt0aGlzLnNlZWtlZD0hMTt0aGlzLmRyYXdJbWFnZT0oKT0+e3ZhciBlLHQscjt0aGlzLnZpZGVvRWxlbWVudCYmIXRoaXMudmlkZW9FbGVtZW50LnBhdXNlZCYmIXRoaXMudmlkZW9FbGVtZW50LmVuZGVkJiYoKHI9dGhpcy5jYW52YXNDb250ZXh0KT09bnVsbHx8ci5kcmF3SW1hZ2UodGhpcy52aWRlb0VsZW1lbnQsMCwwLChlPXRoaXMuY2FudmFzKT09bnVsbD92b2lkIDA6ZS53aWR0aCwodD10aGlzLmNhbnZhcyk9PW51bGw/dm9pZCAwOnQuaGVpZ2h0KSx0aGlzLnRpbWVyPXNldFRpbWVvdXQoKCk9Pnt0aGlzLmRyYXdJbWFnZSgpfSwxZTMvdGhpcy5ERUZBVUxfRlBTKSl9fXBsYXkoZSl7cmV0dXJuIHRoaXMudmlkZW9FbGVtZW50PXRoaXMuZ2V0VmlkZW9FbGVtZW50KCksdGhpcy5jcmVhdGVDYW52YXMoKSxuZXcgUHJvbWlzZSgodCxyKT0+e3RoaXMudmlkZW9FbGVtZW50PXRoaXMuZ2V0VmlkZW9FbGVtZW50KCksdGhpcy52aWRlb0VsZW1lbnQuc3JjPWUsdGhpcy5zZWVrZWQ9ITEsdGhpcy52aWRlb0VsZW1lbnQub25lcnJvcj0oKT0+e2xldCBpPWBFcnJvciBsb2FkaW5nICR7ZX1gO28uZSh0aGlzLlRBRyxpKSx0aGlzLnN0b3AoKSxyKGkpfSx0aGlzLnZpZGVvRWxlbWVudC5vbmNhbnBsYXl0aHJvdWdoPSgpPT5jKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgaSxzLG47dHJ5e2lmKCF0aGlzLnZpZGVvRWxlbWVudClyZXR1cm47aWYodGhpcy5jYW52YXMud2lkdGg9dGhpcy52aWRlb0VsZW1lbnQudmlkZW9XaWR0aCx0aGlzLmNhbnZhcy5oZWlnaHQ9dGhpcy52aWRlb0VsZW1lbnQudmlkZW9IZWlnaHQsdGhpcy50cmFja3MubGVuZ3RoPT09MCl7dGhpcy5jbGVhckNhbnZhc0FuZFRyYWNrcygpO2xldCBkPXRoaXMuY2FudmFzLmNhcHR1cmVTdHJlYW0oKTtpZighZCl7by5lKHRoaXMuVEFHLFwiQnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGNhcHR1cmVTdHJlYW1cIik7cmV0dXJufXRoaXMudmlkZW9FbGVtZW50Lm9ucGxheT10aGlzLmRyYXdJbWFnZSx0aGlzLmF1ZGlvQ29udGV4dE1hbmFnZXIucmVzdW1lQ29udGV4dCgpLHlpZWxkIHRoaXMudmlkZW9FbGVtZW50LnBsYXkoKTtsZXQgbD10aGlzLmF1ZGlvQ29udGV4dE1hbmFnZXIuZ2V0QXVkaW9UcmFjaygpO2QuYWRkVHJhY2sobCksZC5nZXRUcmFja3MoKS5mb3JFYWNoKGg9Pnt0aGlzLnRyYWNrcy5wdXNoKGgpfSksdCh0aGlzLnRyYWNrcyl9ZWxzZSB0aGlzLnNlZWtlZD8odGhpcy5zZWVrZWQ9ITEsKG49dGhpcy5jYW52YXNDb250ZXh0KT09bnVsbHx8bi5kcmF3SW1hZ2UodGhpcy52aWRlb0VsZW1lbnQsMCwwLChpPXRoaXMuY2FudmFzKT09bnVsbD92b2lkIDA6aS53aWR0aCwocz10aGlzLmNhbnZhcyk9PW51bGw/dm9pZCAwOnMuaGVpZ2h0KSk6KHlpZWxkIHRoaXMudmlkZW9FbGVtZW50LnBsYXkoKSx0KHRoaXMudHJhY2tzKSl9Y2F0Y2goZCl7by5lKHRoaXMuVEFHLFwiRXJyb3IgcGxheWluZyB2aWRlb1wiLGUsZC5tZXNzYWdlKSxyKGQpfX0pLHRoaXMudmlkZW9FbGVtZW50Lm9uc2Vla2VkPSgpPT57dGhpcy5zZWVrZWQ9ITB9fSl9Z2V0VHJhY2tzKCl7cmV0dXJuIHRoaXMudHJhY2tzLm1hcChlPT5lLmlkKX1nZXRFbGVtZW50KCl7cmV0dXJuIHRoaXMudmlkZW9FbGVtZW50fXN0b3AoKXt2YXIgZSx0LHI7KGU9dGhpcy52aWRlb0VsZW1lbnQpPT1udWxsfHxlLnBhdXNlKCksKHQ9dGhpcy52aWRlb0VsZW1lbnQpPT1udWxsfHx0LnJlbW92ZUF0dHJpYnV0ZShcInNyY1wiKSx0aGlzLnZpZGVvRWxlbWVudD1udWxsLChyPXRoaXMuYXVkaW9Db250ZXh0TWFuYWdlcik9PW51bGx8fHIuY2xlYW51cCgpLHRoaXMuY2xlYXJDYW52YXNBbmRUcmFja3MoKX1jbGVhckNhbnZhc0FuZFRyYWNrcygpe3ZhciBlO3RoaXMudHJhY2tzPVtdLChlPXRoaXMuY2FudmFzQ29udGV4dCk9PW51bGx8fGUuY2xlYXJSZWN0KDAsMCx0aGlzLmNhbnZhcy53aWR0aCx0aGlzLmNhbnZhcy5oZWlnaHQpLGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKX1nZXRWaWRlb0VsZW1lbnQoKXtpZih0aGlzLnZpZGVvRWxlbWVudClyZXR1cm4gdGhpcy52aWRlb0VsZW1lbnQ7bGV0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO3JldHVybiBlLmNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCIsZS5hZGRFdmVudExpc3RlbmVyKFwidGltZXVwZGF0ZVwiLHQ9PnRoaXMuZW1pdChcInByb2dyZXNzXCIsdCkpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsKCk9Pnt0aGlzLmVtaXQoXCJlbmRlZFwiLG51bGwpfSksdGhpcy5hdWRpb0NvbnRleHRNYW5hZ2VyPW5ldyBCZShlKSxlfWNyZWF0ZUNhbnZhcygpe3RoaXMuY2FudmFzfHwodGhpcy5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0aGlzLmNhbnZhc0NvbnRleHQ9dGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpKX19O3ZhciBsdD17YXVkaW86e2xpc3Q6W10sY3VycmVudEluZGV4Oi0xLGlzQXV0b3BsYXlPbjohMH0sdmlkZW86e2xpc3Q6W10sY3VycmVudEluZGV4Oi0xLGlzQXV0b3BsYXlPbjohMH19LHV0PWNsYXNzIGV4dGVuZHMgVGV7Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpO3RoaXMuc2RrPWU7dGhpcy5ldmVudEJ1cz10O3RoaXMuc3RhdGU9e2F1ZGlvOnYoe30sbHQuYXVkaW8pLHZpZGVvOnYoe30sbHQudmlkZW8pfTt0aGlzLlRBRz1cIltQbGF5bGlzdE1hbmFnZXJdXCI7dGhpcy5oYW5kbGVQYXVzZVBsYXlsaXN0PXI9PmModGhpcyxbcl0sZnVuY3Rpb24qKHtlbmFibGVkOmUsdHJhY2s6dH0pe3ZhciBzO2lmKGUpcmV0dXJuO2xldCBpO3Quc291cmNlPT09XCJhdWRpb3BsYXlsaXN0XCImJihpPWIuYXVkaW8pLHQuc291cmNlPT09XCJ2aWRlb3BsYXlsaXN0XCImJihpPWIudmlkZW8pLCEhaSYmKChzPXRoaXMuZ2V0RWxlbWVudChpKSk9PW51bGx8fHMucGF1c2UoKSl9KTt0aGlzLmFkZFRyYWNrPShlLHQpPT5jKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLnNkay5hZGRUcmFjayhlLHQpLG8uZCh0aGlzLlRBRyxcIlBsYXlsaXN0IHRyYWNrIGFkZGVkXCIsSmUoZSkpfSk7dGhpcy5yZW1vdmVUcmFjaz1lPT5jKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLnNkay5yZW1vdmVUcmFjayhlKSxvLmQodGhpcy5UQUcsXCJQbGF5bGlzdCB0cmFjayByZW1vdmVkXCIsZSl9KTt0aGlzLmF1ZGlvTWFuYWdlcj1uZXcgS3QsdGhpcy52aWRlb01hbmFnZXI9bmV3IHF0LHRoaXMuYWRkTGlzdGVuZXJzKCl9Z2V0TGlzdChlPWIuYXVkaW8pe3JldHVybiB0aGlzLnN0YXRlW2VdLmxpc3R9c2V0TGlzdChlKXtpZighZXx8ZS5sZW5ndGg9PT0wKXtvLncodGhpcy5UQUcsXCJQbGVhc2UgcGFzcyBpbiBhIGxpc3Qgb2YgSE1TUGxheWxpc3RJdGVtJ3NcIik7cmV0dXJufWUuZm9yRWFjaCh0PT57dGhpcy5zdGF0ZVt0LnR5cGVdLmxpc3QuaW5jbHVkZXModCl8fHRoaXMuc3RhdGVbdC50eXBlXS5saXN0LnB1c2godCl9KX1jbGVhckxpc3QoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3RoaXMuaXNQbGF5aW5nKGUpJiYoeWllbGQgdGhpcy5zdG9wKGUpKSx0aGlzLnN0YXRlW2VdLmxpc3Q9W119KX1yZW1vdmVJdGVtKGUsdCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldHtsaXN0OnIsY3VycmVudEluZGV4Oml9PXRoaXMuc3RhdGVbdF0scz1yLmZpbmRJbmRleChuPT5lPT09bi5pZCk7cmV0dXJuIHM+LTE/KGk9PT1zJiZ0aGlzLmlzUGxheWluZyh0KSYmKHlpZWxkIHRoaXMuc3RvcCh0KSksci5zcGxpY2UocywxKSwhMCk6ITF9KX1zZWVrKGUsdD1iLmF1ZGlvKXtsZXR7Y3VycmVudEluZGV4OnJ9PXRoaXMuc3RhdGVbdF07aWYocj09PS0xKXRocm93IG0uUGxheWxpc3RFcnJvcnMuTm9FbnRyeVRvUGxheShwLlBMQVlMSVNULFwiTm8gaXRlbSBpcyBjdXJyZW50bHkgcGxheWluZ1wiKTtsZXQgaT10aGlzLmdldEVsZW1lbnQodCk7aWYoaSl7bGV0IHM9TWF0aC5tYXgoaS5jdXJyZW50VGltZStlLDApO2kuY3VycmVudFRpbWU9TWF0aC5taW4ocyxpLmR1cmF0aW9uKX19c2Vla1RvKGUsdD1iLmF1ZGlvKXtsZXR7Y3VycmVudEluZGV4OnJ9PXRoaXMuc3RhdGVbdF07aWYocj09PS0xKXRocm93IG0uUGxheWxpc3RFcnJvcnMuTm9FbnRyeVRvUGxheShwLlBMQVlMSVNULFwiTm8gaXRlbSBpcyBjdXJyZW50bHkgcGxheWluZ1wiKTtpZihlPDApdGhyb3cgRXJyb3IoXCJ2YWx1ZSBjYW5ub3QgYmUgbmVnYXRpdmVcIik7bGV0IGk9dGhpcy5nZXRFbGVtZW50KHQpO2kmJihpLmN1cnJlbnRUaW1lPU1hdGgubWluKGUsaS5kdXJhdGlvbikpfXNldFZvbHVtZShlLHQ9Yi5hdWRpbyl7aWYoZTwwfHxlPjEwMCl0aHJvdyBFcnJvcihcIlBsZWFzZSBwYXNzIGEgdmFsaWQgbnVtYmVyIGJldHdlZW4gMC0xMDBcIik7bGV0IHI9dGhpcy5nZXRFbGVtZW50KHQpO3ImJihyLnZvbHVtZT1lKi4wMSl9Z2V0Vm9sdW1lKGU9Yi5hdWRpbyl7bGV0IHQ9dGhpcy5nZXRFbGVtZW50KGUpO3JldHVybiB0P3Qudm9sdW1lKjEwMDowfWdldEN1cnJlbnRUaW1lKGU9Yi5hdWRpbyl7bGV0IHQ9dGhpcy5nZXRFbGVtZW50KGUpO3JldHVybih0PT1udWxsP3ZvaWQgMDp0LmN1cnJlbnRUaW1lKXx8MH1nZXRDdXJyZW50SW5kZXgoZT1iLmF1ZGlvKXtyZXR1cm4gdGhpcy5zdGF0ZVtlXS5jdXJyZW50SW5kZXh9Z2V0Q3VycmVudFByb2dyZXNzKGU9Yi5hdWRpbyl7dmFyIG47bGV0e2xpc3Q6dCxjdXJyZW50SW5kZXg6cn09dGhpcy5zdGF0ZVtlXSxpPShuPXRbcl0pPT1udWxsP3ZvaWQgMDpuLnVybCxzPXRoaXMuZ2V0RWxlbWVudChlKTtyZXR1cm4haXx8IXM/MDpNYXRoLmZsb29yKDEwMCoocy5jdXJyZW50VGltZS9zLmR1cmF0aW9uKSl9Z2V0Q3VycmVudFNlbGVjdGlvbihlPWIuYXVkaW8pe2xldHtsaXN0OnQsY3VycmVudEluZGV4OnJ9PXRoaXMuc3RhdGVbZV07aWYociE9PS0xKXJldHVybiB0W3JdfWlzUGxheWluZyhlPWIuYXVkaW8pe2xldCB0PXRoaXMuZ2V0RWxlbWVudChlKTtyZXR1cm4hIXQmJiF0LnBhdXNlZH1zZXRJc0F1dG9wbGF5T24oZT1iLmF1ZGlvLHQpe3RoaXMuc3RhdGVbZV0uaXNBdXRvcGxheU9uPXR9Z2V0UGxheWJhY2tSYXRlKGU9Yi5hdWRpbyl7bGV0IHQ9dGhpcy5nZXRFbGVtZW50KGUpO3JldHVybiB0P3QucGxheWJhY2tSYXRlOjF9c2V0UGxheWJhY2tSYXRlKGU9Yi5hdWRpbyx0KXtpZih0PC4yNXx8dD4yKXRocm93IEVycm9yKFwiUGxlYXNlIHBhc3MgYSB2YWx1ZSBiZXR3ZWVuIDAuMjUgYW5kIDIuMFwiKTtsZXQgcj10aGlzLmdldEVsZW1lbnQoZSk7ciYmKHIucGxheWJhY2tSYXRlPXQpfXNldEVuYWJsZWQoaSxzKXtyZXR1cm4gYyh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbiooZSx7aWQ6dCx0eXBlOnI9Yi5hdWRpb30pe2xldCBkPXRoaXMuc3RhdGVbcl0ubGlzdC5maW5kSW5kZXgoaD0+aC5pZD09PXQpO2lmKCF0fHxkPT09LTEpe28udyh0aGlzLlRBRyxcIlBhc3MgYSB2YWxpZCBpZFwiKTtyZXR1cm59bGV0IGw9dGhpcy5zdGF0ZVtyXS5saXN0W2RdLnVybDtlP3lpZWxkIHRoaXMucGxheShsLHIpOnlpZWxkIHRoaXMucGF1c2UobCxyKSx0aGlzLnN0YXRlW3JdLmN1cnJlbnRJbmRleD1kLHRoaXMuc2V0RHVyYXRpb24ocil9KX1wbGF5TmV4dCgpe3JldHVybiBjKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKihlPWIuYXVkaW8pe2xldHtsaXN0OnQsY3VycmVudEluZGV4OnJ9PXRoaXMuc3RhdGVbZV07aWYocj49dC5sZW5ndGgtMSl0aHJvdyBtLlBsYXlsaXN0RXJyb3JzLk5vRW50cnlUb1BsYXkocC5QTEFZTElTVCxcIlJlYWNoZWQgZW5kIG9mIHBsYXlsaXN0XCIpO3lpZWxkIHRoaXMucGxheSh0W3IrMV0udXJsLGUpLHRoaXMuc3RhdGVbZV0uY3VycmVudEluZGV4PXIrMSx0aGlzLnNldER1cmF0aW9uKGUpfSl9cGxheVByZXZpb3VzKCl7cmV0dXJuIGModGhpcyxhcmd1bWVudHMsZnVuY3Rpb24qKGU9Yi5hdWRpbyl7bGV0e2xpc3Q6dCxjdXJyZW50SW5kZXg6cn09dGhpcy5zdGF0ZVtlXTtpZihyPD0wKXRocm93IG0uUGxheWxpc3RFcnJvcnMuTm9FbnRyeVRvUGxheShwLlBMQVlMSVNULFwiUmVhY2hlZCBzdGFydCBvZiBwbGF5bGlzdFwiKTt5aWVsZCB0aGlzLnBsYXkodFtyLTFdLnVybCxlKSx0aGlzLnN0YXRlW2VdLmN1cnJlbnRJbmRleD1yLTEsdGhpcy5zZXREdXJhdGlvbihlKX0pfXN0b3AoKXtyZXR1cm4gYyh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbiooZT1iLmF1ZGlvKXt2YXIgcjtsZXQgdD1lPT09Yi5hdWRpbz90aGlzLmF1ZGlvTWFuYWdlcjp0aGlzLnZpZGVvTWFuYWdlcjsocj10LmdldEVsZW1lbnQoKSk9PW51bGx8fHIucGF1c2UoKSx5aWVsZCB0aGlzLnJlbW92ZVRyYWNrcyhlKSx0LnN0b3AoKSx0aGlzLnN0YXRlW2VdLmN1cnJlbnRJbmRleD0tMX0pfWNsZWFudXAoKXt0aGlzLnN0YXRlPXthdWRpbzp2KHt9LGx0LmF1ZGlvKSx2aWRlbzp2KHt9LGx0LnZpZGVvKX0sdGhpcy5ldmVudEJ1cy5sb2NhbEF1ZGlvRW5hYmxlZC51bnN1YnNjcmliZSh0aGlzLmhhbmRsZVBhdXNlUGxheWxpc3QpLHRoaXMuZXZlbnRCdXMubG9jYWxWaWRlb0VuYWJsZWQudW5zdWJzY3JpYmUodGhpcy5oYW5kbGVQYXVzZVBsYXlsaXN0KSx0aGlzLmF1ZGlvTWFuYWdlci5zdG9wKCksdGhpcy52aWRlb01hbmFnZXIuc3RvcCgpfW9uUHJvZ3Jlc3MoZSl7dGhpcy52aWRlb01hbmFnZXIub24oXCJwcm9ncmVzc1wiLCgpPT57dHJ5e2Uoe3R5cGU6Yi52aWRlbyxwcm9ncmVzczp0aGlzLmdldEN1cnJlbnRQcm9ncmVzcyhiLnZpZGVvKX0pfWNhdGNoKHQpe28uZSh0aGlzLlRBRyxcIkVycm9yIGluIG9uUHJvZ3Jlc3MgY2FsbGJhY2tcIil9fSksdGhpcy5hdWRpb01hbmFnZXIub24oXCJwcm9ncmVzc1wiLCgpPT57dHJ5e2Uoe3R5cGU6Yi5hdWRpbyxwcm9ncmVzczp0aGlzLmdldEN1cnJlbnRQcm9ncmVzcyhiLmF1ZGlvKX0pfWNhdGNoKHQpe28uZSh0aGlzLlRBRyxcIkVycm9yIGluIG9uUHJvZ3Jlc3MgY2FsbGJhY2tcIil9fSl9b25OZXdUcmFja1N0YXJ0KGUpe3RoaXMub24oXCJuZXdUcmFja1N0YXJ0XCIsZSl9b25QbGF5bGlzdEVuZGVkKGUpe3RoaXMub24oXCJwbGF5bGlzdEVuZGVkXCIsZSl9b25DdXJyZW50VHJhY2tFbmRlZChlKXt0aGlzLm9uKFwiY3VycmVudFRyYWNrRW5kZWRcIixlKX1nZXRFbGVtZW50KGU9Yi5hdWRpbyl7cmV0dXJuIGU9PT1iLmF1ZGlvP3RoaXMuYXVkaW9NYW5hZ2VyLmdldEVsZW1lbnQoKTp0aGlzLnZpZGVvTWFuYWdlci5nZXRFbGVtZW50KCl9cmVtb3ZlVHJhY2tzKCl7cmV0dXJuIGModGhpcyxhcmd1bWVudHMsZnVuY3Rpb24qKGU9Yi5hdWRpbyl7bGV0IHI9KGU9PT1iLmF1ZGlvP3RoaXMuYXVkaW9NYW5hZ2VyOnRoaXMudmlkZW9NYW5hZ2VyKS5nZXRUcmFja3MoKTtmb3IobGV0IGkgb2Ygcil5aWVsZCB0aGlzLnJlbW92ZVRyYWNrKGkpfSl9cGxheShyKXtyZXR1cm4gYyh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbiooZSx0PWIuYXVkaW8pe2xldCBpPXQ9PT1iLmF1ZGlvP3RoaXMuYXVkaW9NYW5hZ2VyOnRoaXMudmlkZW9NYW5hZ2VyLHM9aS5nZXRFbGVtZW50KCk7aWYodGhpcy5pc0l0ZW1DdXJyZW50bHlQbGF5aW5nKGUsdCkpe28udyh0aGlzLlRBRyxgVGhlICR7dH0gaXMgY3VycmVudGx5IHBsYXlpbmdgKTtyZXR1cm59aWYocz09bnVsbD92b2lkIDA6cy5zcmMuaW5jbHVkZXMoZSkpeWllbGQgcy5wbGF5KCk7ZWxzZXtzPT1udWxsfHxzLnBhdXNlKCk7bGV0IG49eWllbGQgaS5wbGF5KGUpO2ZvcihsZXQgZCBvZiBuKXlpZWxkIHRoaXMuYWRkVHJhY2soZCx0PT09Yi5hdWRpbz9cImF1ZGlvcGxheWxpc3RcIjpcInZpZGVvcGxheWxpc3RcIil9fSl9aXNJdGVtQ3VycmVudGx5UGxheWluZyhlLHQpe2xldCByPXRoaXMuZ2V0RWxlbWVudCh0KTtyZXR1cm4hIShyJiYhci5wYXVzZWQmJnIuc3JjLmluY2x1ZGVzKGUpKX1zZXREdXJhdGlvbihlPWIuYXVkaW8pe2xldCB0PXRoaXMuZ2V0RWxlbWVudChlKSx7bGlzdDpyLGN1cnJlbnRJbmRleDppfT10aGlzLnN0YXRlW2VdO3JbaV0mJihyW2ldLmR1cmF0aW9uPSh0PT1udWxsP3ZvaWQgMDp0LmR1cmF0aW9uKXx8MCksdGhpcy5lbWl0KFwibmV3VHJhY2tTdGFydFwiLHJbaV0pfXBhdXNlKHIpe3JldHVybiBjKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKihlLHQ9Yi5hdWRpbyl7bGV0IGk9dGhpcy5nZXRFbGVtZW50KHQpO2kmJiFpLnBhdXNlZCYmaS5zcmMuaW5jbHVkZXMoZSk/KGkucGF1c2UoKSxvLmQodGhpcy5UQUcsXCJwYXVzZWQgdXJsXCIsZSkpOm8udyh0aGlzLlRBRyxcIlRoZSBwYXNzZWQgaW4gdXJsIGlzIG5vdCBjdXJyZW50bHkgcGxheWluZ1wiKX0pfWFkZExpc3RlbmVycygpe3RoaXMuYXVkaW9NYW5hZ2VyLm9uKFwiZW5kZWRcIiwoKT0+dGhpcy5oYW5kbGVFbmRlZChiLmF1ZGlvKSksdGhpcy52aWRlb01hbmFnZXIub24oXCJlbmRlZFwiLCgpPT50aGlzLmhhbmRsZUVuZGVkKGIudmlkZW8pKSx0aGlzLmV2ZW50QnVzLmxvY2FsQXVkaW9FbmFibGVkLnN1YnNjcmliZSh0aGlzLmhhbmRsZVBhdXNlUGxheWxpc3QpLHRoaXMuZXZlbnRCdXMubG9jYWxWaWRlb0VuYWJsZWQuc3Vic2NyaWJlKHRoaXMuaGFuZGxlUGF1c2VQbGF5bGlzdCl9aGFuZGxlRW5kZWQoKXtyZXR1cm4gYyh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbiooZT1iLmF1ZGlvKXtsZXR7bGlzdDp0LGN1cnJlbnRJbmRleDpyLGlzQXV0b3BsYXlPbjppfT10aGlzLnN0YXRlW2VdO3I9PT10Lmxlbmd0aC0xPyh5aWVsZCB0aGlzLnN0b3AoZSksdGhpcy5lbWl0KFwicGxheWxpc3RFbmRlZFwiLGUpKTppP3RoaXMucGxheU5leHQoZSk6eWllbGQgdGhpcy5wYXVzZSh0W3JdLnVybCxlKSx0aGlzLmVtaXQoXCJjdXJyZW50VHJhY2tFbmRlZFwiLHRbcl0pfSl9fTt2YXIganQ9Y2xhc3N7Y29uc3RydWN0b3IoZSx0LHI9XCJcIixpPVwiXCIscz1cImh0dHBzOi8vcHJvZC1pbml0LjEwMG1zLmxpdmUvaW5pdFwiLG49ITEpe3RoaXMuYXV0aFRva2VuPWU7dGhpcy5wZWVySWQ9dDt0aGlzLnBlZXJOYW1lPXI7dGhpcy5kYXRhPWk7dGhpcy5lbmRwb2ludD1zO3RoaXMuYXV0b1N1YnNjcmliZVZpZGVvPW59fTt2YXIgQzsoZnVuY3Rpb24ocyl7c1tzLkNvbm5lY3RGYWlsZWQ9MF09XCJDb25uZWN0RmFpbGVkXCIsc1tzLlNpZ25hbERpc2Nvbm5lY3Q9MV09XCJTaWduYWxEaXNjb25uZWN0XCIsc1tzLkpvaW5XU01lc3NhZ2VGYWlsZWQ9Ml09XCJKb2luV1NNZXNzYWdlRmFpbGVkXCIsc1tzLlB1Ymxpc2hJY2VDb25uZWN0aW9uRmFpbGVkPTNdPVwiUHVibGlzaEljZUNvbm5lY3Rpb25GYWlsZWRcIixzW3MuU3Vic2NyaWJlSWNlQ29ubmVjdGlvbkZhaWxlZD00XT1cIlN1YnNjcmliZUljZUNvbm5lY3Rpb25GYWlsZWRcIn0pKEN8fChDPXt9KSk7dmFyIFZyPXtbMF06W10sWzFdOltdLFsyXTpbMV0sWzNdOlsxXSxbNF06WzFdfTt2YXIgdzsoZnVuY3Rpb24oZCl7ZC5EaXNjb25uZWN0ZWQ9XCJEaXNjb25uZWN0ZWRcIixkLkNvbm5lY3Rpbmc9XCJDb25uZWN0aW5nXCIsZC5Kb2luZWQ9XCJKb2luZWRcIixkLlByZXZpZXc9XCJQcmV2aWV3XCIsZC5GYWlsZWQ9XCJGYWlsZWRcIixkLlJlY29ubmVjdGluZz1cIlJlY29ubmVjdGluZ1wiLGQuTGVhdmluZz1cIkxlYXZpbmdcIn0pKHd8fCh3PXt9KSk7dmFyIEp0PWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMucHJvbWlzZT1uZXcgUHJvbWlzZSgodCxyKT0+e3RoaXMucmVzb2x2ZT10LHRoaXMucmVqZWN0PXIsZSh0LHIpfSl9fTt2YXIgUXQ9Y2xhc3N7Y29uc3RydWN0b3IoZSx0KXt0aGlzLm9uU3RhdGVDaGFuZ2U9ZTt0aGlzLnNlbmRFdmVudD10O3RoaXMuVEFHPVwiW1JldHJ5U2NoZWR1bGVyXVwiO3RoaXMuaW5Qcm9ncmVzcz1uZXcgTWFwO3RoaXMucmV0cnlUYXNrSWRzPVtdfXNjaGVkdWxlKGQpe3JldHVybiBjKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKih7Y2F0ZWdvcnk6ZSxlcnJvcjp0LHRhc2s6cixvcmlnaW5hbFN0YXRlOmksbWF4RmFpbGVkUmV0cmllczpzPXhlLGNoYW5nZVN0YXRlOm49ITB9KXt5aWVsZCB0aGlzLnNjaGVkdWxlVGFzayh7Y2F0ZWdvcnk6ZSxlcnJvcjp0LGNoYW5nZVN0YXRlOm4sdGFzazpyLG9yaWdpbmFsU3RhdGU6aSxtYXhGYWlsZWRSZXRyaWVzOnN9KX0pfXJlc2V0KCl7dGhpcy5yZXRyeVRhc2tJZHMuZm9yRWFjaChlPT5jbGVhclRpbWVvdXQoZSkpLHRoaXMucmV0cnlUYXNrSWRzPVtdLHRoaXMuaW5Qcm9ncmVzcy5jbGVhcigpfXNjaGVkdWxlVGFzayhsKXtyZXR1cm4gYyh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbiooe2NhdGVnb3J5OmUsZXJyb3I6dCxjaGFuZ2VTdGF0ZTpyLHRhc2s6aSxvcmlnaW5hbFN0YXRlOnMsbWF4RmFpbGVkUmV0cmllczpuPXhlLGZhaWxlZFJldHJ5Q291bnQ6ZD0wfSl7aWYoby5kKHRoaXMuVEFHLFwic2NoZWR1bGU6IFwiLHtjYXRlZ29yeTpDW2VdLGVycm9yOnR9KSxkPT09MCl7bGV0IHk9dGhpcy5pblByb2dyZXNzLmdldChlKTtpZih5KXtvLmQodGhpcy5UQUcsYHNjaGVkdWxlOiBBbHJlYWR5IGEgdGFzayBmb3IgJHtDW2VdfSBzY2hlZHVsZWQsIHdhaXRpbmcgZm9yIGl0cyBjb21wbGV0aW9uYCkseWllbGQgeS5wcm9taXNlO3JldHVybn1sZXQgeD1uZXcgSnQoKEIsSSk9Pnt9KTt0aGlzLmluUHJvZ3Jlc3Muc2V0KGUseCksdGhpcy5zZW5kRXZlbnQodCxlKX1sZXQgaD0hMSx1PVZyW2VdO2ZvcihsZXQgeSBpbiB1KXtsZXQgeD11W3BhcnNlSW50KHkpXTt0cnl7bGV0IEI9dGhpcy5pblByb2dyZXNzLmdldCh4KTtCJiYoby5kKHRoaXMuVEFHLGBzY2hlZHVsZTogU3VzcGVuZGluZyByZXRyeSB0YXNrIG9mICR7Q1tlXX0sIHdhaXRpbmcgZm9yICR7Q1t4XX0gdG8gcmVjb3ZlcmApLHlpZWxkIEIucHJvbWlzZSxvLmQodGhpcy5UQUcsYHNjaGVkdWxlOiBSZXN1bWluZyByZXRyeSB0YXNrICR7Q1tlXX0gYXMgaXQncyBkZXBlbmRlbmN5ICR7Q1t4XX0gaXMgcmVjb3ZlcmVkYCkpfWNhdGNoKEIpe28uZCh0aGlzLlRBRyxgc2NoZWR1bGU6IFN0b3BwaW5nIHJldHJ5IHRhc2sgb2YgJHtDW2VdfSBhcyBpdCdzIGRlcGVuZGVuY3kgJHtDW3hdfSBmYWlsZWQgdG8gcmVjb3ZlcmApLGg9ITA7YnJlYWt9fWlmKGQ+PW58fGgpe2lmKHQuZGVzY3JpcHRpb24rPWAuIFske0NbZV19XSBDb3VsZCBub3QgcmVjb3ZlciBhZnRlciAke2R9IHRyaWVzYCxoJiYodC5kZXNjcmlwdGlvbis9YCBDb3VsZCBub3QgcmVjb3ZlciBhbGwgb2YgaXQncyByZXF1aXJlZCBkZXBlbmRlbmNpZXMgLSBbJHt1Lm1hcCh5PT5DW3ldKS50b1N0cmluZygpfV1gKSx0LmlzVGVybWluYWw9ITAsdGhpcy5pblByb2dyZXNzLmRlbGV0ZShlKSx0aGlzLnNlbmRFdmVudCh0LGUpLHRoaXMucmVzZXQoKSxyKXRoaXMub25TdGF0ZUNoYW5nZSh3LkZhaWxlZCx0KTtlbHNlIHRocm93IHQ7cmV0dXJufXImJnRoaXMub25TdGF0ZUNoYW5nZSh3LlJlY29ubmVjdGluZyx0KTtsZXQgZz10aGlzLmdldERlbGF5Rm9yUmV0cnlDb3VudChlLGQpO28uaSh0aGlzLlRBRyxgc2NoZWR1bGU6IFske0NbZV19XSBbZmFpbGVkUmV0cnlDb3VudD0ke2R9XSBTY2hlZHVsaW5nIHJldHJ5IHRhc2sgaW4gJHtnfW1zYCk7bGV0IFM7dHJ5e1M9eWllbGQgdGhpcy5zZXRUaW1lb3V0UHJvbWlzZShpLGcpfWNhdGNoKHkpe1M9ITEsby53KHRoaXMuVEFHLGBbJHtDW2VdfV0gVW4tY2F1Z2h0IGV4Y2VwdGlvbiAke3kubmFtZX0gaW4gcmV0cnktdGFzaywgaW5pdGlhdGluZyByZXRyeWAseSl9aWYoUyl7bGV0IHk9dGhpcy5pblByb2dyZXNzLmdldChlKTt0aGlzLmluUHJvZ3Jlc3MuZGVsZXRlKGUpLHk9PW51bGx8fHkucmVzb2x2ZShkKSxyJiZ0aGlzLmluUHJvZ3Jlc3Muc2l6ZT09PTAmJnRoaXMub25TdGF0ZUNoYW5nZShzKSxvLmkodGhpcy5UQUcsYHNjaGVkdWxlOiBbJHtDW2VdfV0gW2ZhaWxlZFJldHJ5Q291bnQ9JHtkfV0gUmVjb3ZlcmVkIFxcdTI2N0JcXHVGRTBGYCl9ZWxzZSB5aWVsZCB0aGlzLnNjaGVkdWxlVGFzayh7Y2F0ZWdvcnk6ZSxlcnJvcjp0LGNoYW5nZVN0YXRlOnIsdGFzazppLG9yaWdpbmFsU3RhdGU6cyxtYXhGYWlsZWRSZXRyaWVzOm4sZmFpbGVkUmV0cnlDb3VudDpkKzF9KX0pfWdldEJhc2VEZWxheUZvclRhc2soZSx0KXtyZXR1cm4gZT09PUMuSm9pbldTTWVzc2FnZUZhaWxlZD8yOk1hdGgucG93KDIsdCl9Z2V0RGVsYXlGb3JSZXRyeUNvdW50KGUsdCl7bGV0IHI9dGhpcy5nZXRCYXNlRGVsYXlGb3JUYXNrKGUsdCksaT1lPT09Qy5Kb2luV1NNZXNzYWdlRmFpbGVkP01hdGgucmFuZG9tKCkqMjpNYXRoLnJhbmRvbSgpO3JldHVybiBNYXRoLnJvdW5kKE1hdGgubWluKHIraSxicikqMWUzKX1zZXRUaW1lb3V0UHJvbWlzZShlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gbmV3IFByb21pc2UoKHIsaSk9PntsZXQgcz13aW5kb3cuc2V0VGltZW91dCgoKT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dHJ5e2xldCBuPXlpZWxkIGUoKTtuJiZ0aGlzLnJldHJ5VGFza0lkcy5zcGxpY2UodGhpcy5yZXRyeVRhc2tJZHMuaW5kZXhPZihzKSwxKSxyKG4pfWNhdGNoKG4pe2kobil9fSksdCk7dGhpcy5yZXRyeVRhc2tJZHMucHVzaChzKX0pfSl9fTt2YXIgWXQ9Y2xhc3MgZXh0ZW5kcyBtZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKHJ0KTt0aGlzLmxvY2FsU3RvcmFnZT1uZXcgdGUoXCJobXMtYW5hbHl0aWNzXCIpO3RoaXMubG9jYWxTdG9yYWdlLmNsZWFyKCksdGhpcy5pbml0TG9jYWxTdG9yYWdlUXVldWUoKX1lbnF1ZXVlKGUpe3N1cGVyLmVucXVldWUoZSksdGhpcy5sb2NhbFN0b3JhZ2Uuc2V0KHRoaXMuc3RvcmFnZSl9ZGVxdWV1ZSgpe2xldCBlPXN1cGVyLmRlcXVldWUoKTtyZXR1cm4gdGhpcy5sb2NhbFN0b3JhZ2Uuc2V0KHRoaXMuc3RvcmFnZSksZX1pbml0TG9jYWxTdG9yYWdlUXVldWUoKXt2YXIgZTsoZT10aGlzLmxvY2FsU3RvcmFnZS5nZXQoKSk9PW51bGx8fGUuZm9yRWFjaCh0PT57bGV0IHI9bmV3IE8odCk7c3VwZXIuZW5xdWV1ZShyKX0pfX07dmFyIHp0PWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5UQUc9XCJbQW5hbHl0aWNzVHJhbnNwb3J0XVwifXNlbmRFdmVudChlKXt0cnl7dGhpcy5zZW5kU2luZ2xlRXZlbnQoZSksdGhpcy5mbHVzaEZhaWxlZEV2ZW50cygpfWNhdGNoKHQpe28udyh0aGlzLlRBRyxcInNlbmRFdmVudCBmYWlsZWRcIix0KX19Zmx1c2hGYWlsZWRFdmVudHMoZSl7dmFyIHQ7dHJ5e2ZvcihvLmQodGhpcy5UQUcsXCJGbHVzaGluZyBmYWlsZWQgZXZlbnRzXCIsdGhpcy5mYWlsZWRFdmVudHMpO3RoaXMuZmFpbGVkRXZlbnRzLnNpemUoKT4wOyl7bGV0IHI9dGhpcy5mYWlsZWRFdmVudHMuZGVxdWV1ZSgpO3ImJigoKHQ9ci5tZXRhZGF0YSk9PW51bGw/dm9pZCAwOnQucGVlci5wZWVyX2lkKT09PWV8fCFyLm1ldGFkYXRhLnBlZXIucGVlcl9pZD90aGlzLnNlbmRTaW5nbGVFdmVudChyKTp2ZS5zZW5kRXZlbnQocikpfX1jYXRjaChyKXtvLncodGhpcy5UQUcsXCJmbHVzaEZhaWxlZEV2ZW50cyBmYWlsZWRcIixyKX19c2VuZFNpbmdsZUV2ZW50KGUpe3RyeXt0aGlzLnRyYW5zcG9ydFByb3ZpZGVyLnNlbmRFdmVudChlKSxvLmQodGhpcy5UQUcsXCJTZW50IGV2ZW50XCIsZS5uYW1lLGUpfWNhdGNoKHQpe3Rocm93IG8udyh0aGlzLlRBRyxgJHt0aGlzLnRyYW5zcG9ydFByb3ZpZGVyLlRBR30uc2VuZEV2ZW50IGZhaWxlZCwgYWRkaW5nIHRvIGxvY2FsIHN0b3JhZ2UgZXZlbnRzYCx7ZXZlbnQ6ZSxlcnJvcjp0fSksdGhpcy5mYWlsZWRFdmVudHMuZW5xdWV1ZShlKSx0fX19O3ZhciBYdD1jbGFzcyBleHRlbmRzIHp0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy50cmFuc3BvcnRQcm92aWRlcj1lO3RoaXMuZmFpbGVkRXZlbnRzPW5ldyBZdH19O3ZhciAkOyhmdW5jdGlvbih0KXt0W3QuUHVibGlzaD0wXT1cIlB1Ymxpc2hcIix0W3QuU3Vic2NyaWJlPTFdPVwiU3Vic2NyaWJlXCJ9KSgkfHwoJD17fSkpO2ltcG9ydHtwYXJzZSBhcyBqcix3cml0ZSBhcyBiaX1mcm9tXCJzZHAtdHJhbnNmb3JtXCI7dmFyICRyPVwiW1ZBTElEQVRJT05TXVwiO2Z1bmN0aW9uIHNlKGEpe3JldHVybiBhIT1udWxsfXZhciBadD0oKT0+e2lmKCFzZShSVENQZWVyQ29ubmVjdGlvbikpe2xldCBhPW0uR2VuZXJpY0Vycm9ycy5NaXNzaW5nUlRDUGVlckNvbm5lY3Rpb24oKTt0aHJvdyBvLmUoJHIsYSksYX19LGVyPSgpPT57aWYoIXNlKG5hdmlnYXRvci5tZWRpYURldmljZXMpKXtsZXQgYT1tLkdlbmVyaWNFcnJvcnMuTWlzc2luZ01lZGlhRGV2aWNlcygpO3Rocm93IG8uZSgkcixhKSxhfX07ZnVuY3Rpb24gV3IoYSxlKXt2YXIgaTtsZXQgdD1qcihhLnNkcCk7aWYoISgoaT10Lm9yaWdpbik9PW51bGw/dm9pZCAwOmkudXNlcm5hbWUuc3RhcnRzV2l0aChcIm1vemlsbGFcIikpKXJldHVybiBhO2xldCByPWU/QXJyYXkuZnJvbShlLnZhbHVlcygpKTpbXTtyZXR1cm4gdC5tZWRpYS5mb3JFYWNoKHM9Pnt2YXIgbCxoLHU7bGV0IG49KGw9cy5tc2lkKT09bnVsbD92b2lkIDA6bC5zcGxpdChcIiBcIilbMF0sZD0oaD1yLmZpbmQoZz0+Zy50eXBlPT09cy50eXBlJiZnLnN0cmVhbV9pZD09PW4pKT09bnVsbD92b2lkIDA6aC50cmFja19pZDtkJiYocy5tc2lkPSh1PXMubXNpZCk9PW51bGw/dm9pZCAwOnUucmVwbGFjZSgvXFxzKC4rKS8sYCAke2R9YCkpfSkse3R5cGU6YS50eXBlLHNkcDpiaSh0KX19ZnVuY3Rpb24gS3IoYSxlKXt2YXIgcztpZighKGE9PW51bGw/dm9pZCAwOmEuc2RwKXx8IWUpcmV0dXJuO2xldCByPWpyKGEuc2RwKS5tZWRpYS5maW5kKG49PnNlKG4ubWlkKSYmcGFyc2VJbnQobi5taWQpPT09cGFyc2VJbnQoZSkpO3JldHVybihzPXI9PW51bGw/dm9pZCAwOnIubXNpZCk9PW51bGw/dm9pZCAwOnMuc3BsaXQoXCIgXCIpWzFdfWZ1bmN0aW9uIHFyKGEpe3JldHVybiBhLnNkcC5pbmNsdWRlcyhcInVzZWR0eD0xXCIpP2E6e3R5cGU6YS50eXBlLHNkcDphLnNkcC5yZXBsYWNlKFwidXNlaW5iYW5kZmVjPTFcIixcInVzZWluYmFuZGZlYz0xO3VzZWR0eD0xXCIpfX12YXIgbGU9XCJbSE1TQ29ubmVjdGlvbl1cIix3ZT1jbGFzc3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMuY2FuZGlkYXRlcz1uZXcgQXJyYXk7dGhpcy5yb2xlPWUsdGhpcy5zaWduYWw9dH1nZXQgaWNlQ29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMubmF0aXZlQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGV9Z2V0IGNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLm5hdGl2ZUNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlfWdldCBhY3Rpb24oKXtyZXR1cm4gdGhpcy5yb2xlPT09JC5QdWJsaXNoP3AuUFVCTElTSDpwLlNVQlNDUklCRX1hZGRUcmFuc2NlaXZlcihlLHQpe3JldHVybiB0aGlzLm5hdGl2ZUNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIoZSx0KX1jcmVhdGVPZmZlcihlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0cnl7bGV0IHI9eWllbGQgdGhpcy5uYXRpdmVDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKHQpO3JldHVybiBvLmQobGUsYFtyb2xlPSR7dGhpcy5yb2xlfV0gY3JlYXRlT2ZmZXIgb2ZmZXI9JHtKU09OLnN0cmluZ2lmeShyLG51bGwsMSl9YCkscXIoV3IocixlKSl9Y2F0Y2gocil7dGhyb3cgbS5XZWJydGNFcnJvcnMuQ3JlYXRlT2ZmZXJGYWlsZWQodGhpcy5hY3Rpb24sci5tZXNzYWdlKX19KX1jcmVhdGVBbnN3ZXIoZT12b2lkIDApe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0cnl7bGV0IHQ9eWllbGQgdGhpcy5uYXRpdmVDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcihlKTtyZXR1cm4gby5kKGxlLGBbcm9sZT0ke3RoaXMucm9sZX1dIGNyZWF0ZUFuc3dlciBhbnN3ZXI9JHtKU09OLnN0cmluZ2lmeSh0LG51bGwsMSl9YCksdH1jYXRjaCh0KXt0aHJvdyBtLldlYnJ0Y0Vycm9ycy5DcmVhdGVBbnN3ZXJGYWlsZWQodGhpcy5hY3Rpb24sdC5tZXNzYWdlKX19KX1zZXRMb2NhbERlc2NyaXB0aW9uKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0cnl7by5kKGxlLGBbcm9sZT0ke3RoaXMucm9sZX1dIHNldExvY2FsRGVzY3JpcHRpb24gZGVzY3JpcHRpb249JHtKU09OLnN0cmluZ2lmeShlLG51bGwsMSl9YCkseWllbGQgdGhpcy5uYXRpdmVDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oZSl9Y2F0Y2godCl7dGhyb3cgbS5XZWJydGNFcnJvcnMuU2V0TG9jYWxEZXNjcmlwdGlvbkZhaWxlZCh0aGlzLmFjdGlvbix0Lm1lc3NhZ2UpfX0pfXNldFJlbW90ZURlc2NyaXB0aW9uKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0cnl7by5kKGxlLGBbcm9sZT0ke3RoaXMucm9sZX1dIHNldFJlbW90ZURlc2NyaXB0aW9uIGRlc2NyaXB0aW9uPSR7SlNPTi5zdHJpbmdpZnkoZSxudWxsLDEpfWApLHlpZWxkIHRoaXMubmF0aXZlQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihlKX1jYXRjaCh0KXt0aHJvdyBtLldlYnJ0Y0Vycm9ycy5TZXRSZW1vdGVEZXNjcmlwdGlvbkZhaWxlZCh0aGlzLmFjdGlvbix0Lm1lc3NhZ2UpfX0pfWFkZEljZUNhbmRpZGF0ZShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7by5kKGxlLGBbcm9sZT0ke3RoaXMucm9sZX1dIGFkZEljZUNhbmRpZGF0ZSBjYW5kaWRhdGU9JHtKU09OLnN0cmluZ2lmeShlLG51bGwsMSl9YCkseWllbGQgdGhpcy5uYXRpdmVDb25uZWN0aW9uLmFkZEljZUNhbmRpZGF0ZShlKX0pfWdldCByZW1vdGVEZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLm5hdGl2ZUNvbm5lY3Rpb24ucmVtb3RlRGVzY3JpcHRpb259Z2V0U2VuZGVycygpe3JldHVybiB0aGlzLm5hdGl2ZUNvbm5lY3Rpb24uZ2V0U2VuZGVycygpfWxvZ1NlbGVjdGVkSWNlQ2FuZGlkYXRlUGFpcnMoKXsodGhpcy5yb2xlPT09JC5QdWJsaXNoP3RoaXMuZ2V0U2VuZGVycygpOnRoaXMuZ2V0UmVjZWl2ZXJzKCkpLmZvckVhY2godD0+e3ZhciBpO2xldCByPShpPXQudHJhY2spPT1udWxsP3ZvaWQgMDppLmtpbmQ7dHJ5e2lmKHQudHJhbnNwb3J0KXtsZXQgcz10LnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQsbj0oKT0+e3R5cGVvZiBzLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcj09XCJmdW5jdGlvblwiJiYodGhpcy5zZWxlY3RlZENhbmRpZGF0ZVBhaXI9cy5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKSxvLmQobGUsYCR7JFt0aGlzLnJvbGVdfSBjb25uZWN0aW9uYCxgc2VsZWN0ZWQgJHtyfHxcInVua25vd25cIn0gY2FuZGlkYXRlIHBhaXJgLEpTT04uc3RyaW5naWZ5KHRoaXMuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLG51bGwsMikpKX07dHlwZW9mIHMub25zZWxlY3RlZGNhbmRpZGF0ZXBhaXJjaGFuZ2U9PVwiZnVuY3Rpb25cIiYmKHMub25zZWxlY3RlZGNhbmRpZGF0ZXBhaXJjaGFuZ2U9biksbigpfX1jYXRjaChzKXtvLncobGUsYEVycm9yIGluIGxvZ2dpbmcgc2VsZWN0ZWQgaWNlIGNhbmRpZGF0ZSBwYWlyIGZvciAkeyRbdGhpcy5yb2xlXX0gY29ubmVjdGlvbmAscyl9fSl9cmVtb3ZlVHJhY2soZSl7dGhpcy5uYXRpdmVDb25uZWN0aW9uLnNpZ25hbGluZ1N0YXRlIT09XCJjbG9zZWRcIiYmdGhpcy5uYXRpdmVDb25uZWN0aW9uLnJlbW92ZVRyYWNrKGUpfXNldE1heEJpdHJhdGUoZSx0KXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IHI9dGhpcy5nZXRTZW5kZXJzKCkuZmluZChpPT57dmFyIHM7cmV0dXJuKChzPWk9PW51bGw/dm9pZCAwOmkudHJhY2spPT1udWxsP3ZvaWQgMDpzLmlkKT09PXQuZ2V0VHJhY2tJREJlaW5nU2VudCgpfSk7aWYocil7bGV0IGk9ci5nZXRQYXJhbWV0ZXJzKCk7aS5lbmNvZGluZ3MubGVuZ3RoPjAmJihpLmVuY29kaW5nc1swXS5tYXhCaXRyYXRlPWUqMWUzKSx5aWVsZCByLnNldFBhcmFtZXRlcnMoaSl9ZWxzZSBvLncobGUsYG5vIHNlbmRlciBmb3VuZCB0byBzZXRNYXhCaXRyYXRlIGZvciB0cmFjayAtICR7dC50cmFja0lkfSwgc2VudFRyYWNrSWQgLSAke3QuZ2V0VHJhY2tJREJlaW5nU2VudCgpfWApfSl9Z2V0U3RhdHMoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHlpZWxkIHRoaXMubmF0aXZlQ29ubmVjdGlvbi5nZXRTdGF0cygpfSl9Y2xvc2UoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dGhpcy5uYXRpdmVDb25uZWN0aW9uLmNsb3NlKCl9KX1nZXRSZWNlaXZlcnMoKXtyZXR1cm4gdGhpcy5uYXRpdmVDb25uZWN0aW9uLmdldFJlY2VpdmVycygpfX07dmFyIGh0PWNsYXNzIGV4dGVuZHMgd2V7Y29uc3RydWN0b3IoZSx0LHIsaSl7c3VwZXIoJC5QdWJsaXNoLGUpO3RoaXMuVEFHPVwiW0hNU1B1Ymxpc2hDb25uZWN0aW9uXVwiO3RoaXMub2JzZXJ2ZXI9cix0aGlzLnRyYW5zcG9ydD1pLHRoaXMubmF0aXZlQ29ubmVjdGlvbj1uZXcgUlRDUGVlckNvbm5lY3Rpb24odCksdGhpcy5uYXRpdmVDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVsKHR0LHtwcm90b2NvbDpcIlNDVFBcIn0pLHRoaXMubmF0aXZlQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT0oe2NhbmRpZGF0ZTpzfSk9PntzJiZlLnRyaWNrbGUodGhpcy5yb2xlLHMpfSx0aGlzLm5hdGl2ZUNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9KCk9Pnt0aGlzLm9ic2VydmVyLm9uSWNlQ29ubmVjdGlvbkNoYW5nZSh0aGlzLm5hdGl2ZUNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlKX0sdGhpcy5uYXRpdmVDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPSgpPT57dGhpcy5vYnNlcnZlci5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZSh0aGlzLm5hdGl2ZUNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlKX19aW5pdEFmdGVySm9pbigpe3RoaXMubmF0aXZlQ29ubmVjdGlvbi5vbm5lZ290aWF0aW9ubmVlZGVkPSgpPT5jKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtvLmQodGhpcy5UQUcsXCJvbm5lZ290aWF0aW9ubmVlZGVkXCIpLHlpZWxkIHRoaXMub2JzZXJ2ZXIub25SZW5lZ290aWF0aW9uTmVlZGVkKCl9KX10cmFja1VwZGF0ZShlKXt0aGlzLnRyYW5zcG9ydC50cmFja1VwZGF0ZShlKX19O2ltcG9ydCBDaSBmcm9tXCJldmVudGVtaXR0ZXIyXCI7aW1wb3J0e3Y0IGFzIFJpfWZyb21cInV1aWRcIjt2YXIgcHQ9Y2xhc3N7Y29uc3RydWN0b3IoZSx0LHI9XCJcIil7dGhpcy5UQUc9XCJbSE1TRGF0YUNoYW5uZWxdXCI7dGhpcy5uYXRpdmVDaGFubmVsPWUsdGhpcy5vYnNlcnZlcj10LHRoaXMubWV0YWRhdGE9cixlLm9ubWVzc2FnZT1pPT57dGhpcy5vYnNlcnZlci5vbk1lc3NhZ2UoaS5kYXRhKX19Z2V0IGlkKCl7cmV0dXJuIHRoaXMubmF0aXZlQ2hhbm5lbC5pZH1nZXQgbGFiZWwoKXtyZXR1cm4gdGhpcy5uYXRpdmVDaGFubmVsLmxhYmVsfWdldCByZWFkeVN0YXRlKCl7cmV0dXJuIHRoaXMubmF0aXZlQ2hhbm5lbC5yZWFkeVN0YXRlfXNlbmQoZSl7by5kKHRoaXMuVEFHLGBbJHt0aGlzLm1ldGFkYXRhfV0gU2VuZGluZyBbc2l6ZT0ke2UubGVuZ3RofV0gbWVzc2FnZT0ke2V9YCksdGhpcy5uYXRpdmVDaGFubmVsLnNlbmQoZSl9Y2xvc2UoKXt0aGlzLm5hdGl2ZUNoYW5uZWwuY2xvc2UoKX19O3ZhciBtdD1jbGFzcyBleHRlbmRzIHdle2NvbnN0cnVjdG9yKGUsdCxyKXtzdXBlcigkLlN1YnNjcmliZSxlKTt0aGlzLlRBRz1cIltITVNTdWJzY3JpYmVDb25uZWN0aW9uXVwiO3RoaXMucmVtb3RlU3RyZWFtcz1uZXcgTWFwO3RoaXMuTUFYX1JFVFJJRVM9Mzt0aGlzLnBlbmRpbmdNZXNzYWdlUXVldWU9W107dGhpcy5ldmVudEVtaXR0ZXI9bmV3IENpKHttYXhMaXN0ZW5lcnM6MTV9KTt0aGlzLmhhbmRsZVBlbmRpbmdBcGlNZXNzYWdlcz0oKT0+e3RoaXMuZXZlbnRFbWl0dGVyLmVtaXQoXCJvcGVuXCIsITApLHRoaXMucGVuZGluZ01lc3NhZ2VRdWV1ZS5sZW5ndGg+MCYmKG8uZCh0aGlzLlRBRyxcIkZvdW5kIHBlbmRpbmcgbWVzc2FnZSBxdWV1ZSwgc2VuZGluZyBtZXNzYWdlc1wiKSx0aGlzLnBlbmRpbmdNZXNzYWdlUXVldWUuZm9yRWFjaChlPT50aGlzLnNlbmRPdmVyQXBpRGF0YUNoYW5uZWwoZSkpLHRoaXMucGVuZGluZ01lc3NhZ2VRdWV1ZS5sZW5ndGg9MCl9O3RoaXMuc2VuZE1lc3NhZ2U9KGUsdCk9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciBpOygoaT10aGlzLmFwaUNoYW5uZWwpPT1udWxsP3ZvaWQgMDppLnJlYWR5U3RhdGUpIT09XCJvcGVuXCImJih5aWVsZCB0aGlzLmV2ZW50RW1pdHRlci53YWl0Rm9yKFwib3BlblwiKSk7bGV0IHI7Zm9yKGxldCBzPTA7czx0aGlzLk1BWF9SRVRSSUVTO3MrKyl7dGhpcy5hcGlDaGFubmVsLnNlbmQoZSkscj15aWVsZCB0aGlzLndhaXRGb3JSZXNwb25zZSh0KTtsZXQgbj1yLmVycm9yO2lmKG4pe2lmKG8uZSh0aGlzLlRBRyxgRmFpbGVkIHNlbmRpbmcgJHt0fWAse3JlcXVlc3Q6ZSx0cnk6cysxLGVycm9yOm59KSwhKG4uY29kZS8xMDA9PTV8fG4uY29kZT09PTQyOSkpdGhyb3cgRXJyb3IoYGNvZGU9JHtuLmNvZGV9LCBtZXNzYWdlPSR7bi5tZXNzYWdlfWApO2xldCBsPSgyK01hdGgucmFuZG9tKCkqMikqMWUzO3lpZWxkIGoobCl9ZWxzZSBicmVha31yZXR1cm4gcn0pO3RoaXMud2FpdEZvclJlc3BvbnNlPWU9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCB0PXlpZWxkIHRoaXMuZXZlbnRFbWl0dGVyLndhaXRGb3IoXCJtZXNzYWdlXCIsZnVuY3Rpb24oaSl7cmV0dXJuIGkuaW5jbHVkZXMoZSl9KSxyPUpTT04ucGFyc2UodFswXSk7aWYoci5lcnJvcil0aHJvdyByLmVycm9yO3JldHVybiBvLmQodGhpcy5UQUcsYHJlc3BvbnNlIGZvciAke2V9IC1gLEpTT04uc3RyaW5naWZ5KHIsbnVsbCwyKSkscn0pO3RoaXMub2JzZXJ2ZXI9cix0aGlzLm5hdGl2ZUNvbm5lY3Rpb249bmV3IFJUQ1BlZXJDb25uZWN0aW9uKHQpLHRoaXMuaW5pdE5hdGl2ZUNvbm5lY3Rpb25DYWxsYmFja3MoKX1pbml0TmF0aXZlQ29ubmVjdGlvbkNhbGxiYWNrcygpe3RoaXMubmF0aXZlQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3RoaXMub2JzZXJ2ZXIub25JY2VDb25uZWN0aW9uQ2hhbmdlKHRoaXMubmF0aXZlQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpfSx0aGlzLm5hdGl2ZUNvbm5lY3Rpb24ub25jb25uZWN0aW9uc3RhdGVjaGFuZ2U9KCk9Pnt0aGlzLm9ic2VydmVyLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKHRoaXMubmF0aXZlQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGUpfSx0aGlzLm5hdGl2ZUNvbm5lY3Rpb24ub25kYXRhY2hhbm5lbD1lPT57ZS5jaGFubmVsLmxhYmVsPT09dHQmJih0aGlzLmFwaUNoYW5uZWw9bmV3IHB0KGUuY2hhbm5lbCx7b25NZXNzYWdlOnQ9Pnt0aGlzLmV2ZW50RW1pdHRlci5lbWl0KFwibWVzc2FnZVwiLHQpLHRoaXMub2JzZXJ2ZXIub25BcGlDaGFubmVsTWVzc2FnZSh0KX19LGByb2xlPSR7dGhpcy5yb2xlfWApLGUuY2hhbm5lbC5vbm9wZW49dGhpcy5oYW5kbGVQZW5kaW5nQXBpTWVzc2FnZXMpfSx0aGlzLm5hdGl2ZUNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9ZT0+e2UuY2FuZGlkYXRlIT09bnVsbCYmdGhpcy5zaWduYWwudHJpY2tsZSh0aGlzLnJvbGUsZS5jYW5kaWRhdGUpfSx0aGlzLm5hdGl2ZUNvbm5lY3Rpb24ub250cmFjaz1lPT57dmFyIGw7bGV0IHQ9ZS5zdHJlYW1zWzBdLHI9dC5pZDtpZighdGhpcy5yZW1vdGVTdHJlYW1zLmhhcyhyKSl7bGV0IGg9bmV3IEFlKHQsdGhpcyk7dGhpcy5yZW1vdGVTdHJlYW1zLnNldChyLGgpLHQub25yZW1vdmV0cmFjaz11PT57bGV0IGc9aC50cmFja3MuZmluZEluZGV4KFM9PlMubmF0aXZlVHJhY2suaWQ9PT11LnRyYWNrLmlkKTtpZihnPj0wKXtsZXQgUz1oLnRyYWNrc1tnXTt0aGlzLm9ic2VydmVyLm9uVHJhY2tSZW1vdmUoUyksaC50cmFja3Muc3BsaWNlKGcsMSksaC50cmFja3MubGVuZ3RoPT09MCYmdGhpcy5yZW1vdGVTdHJlYW1zLmRlbGV0ZShyKX19fWxldCBpPXRoaXMucmVtb3RlU3RyZWFtcy5nZXQocikscz1lLnRyYWNrLmtpbmQ9PT1cImF1ZGlvXCI/d3Q6Z2Usbj1uZXcgcyhpLGUudHJhY2spLGQ9S3IodGhpcy5yZW1vdGVEZXNjcmlwdGlvbiwobD1lLnRyYW5zY2VpdmVyKT09bnVsbD92b2lkIDA6bC5taWQpO2QmJm4uc2V0U2RwVHJhY2tJZChkKSxpLnRyYWNrcy5wdXNoKG4pLHRoaXMub2JzZXJ2ZXIub25UcmFja0FkZChuKX19c2VuZE92ZXJBcGlEYXRhQ2hhbm5lbChlKXt0aGlzLmFwaUNoYW5uZWwmJnRoaXMuYXBpQ2hhbm5lbC5yZWFkeVN0YXRlPT09XCJvcGVuXCI/dGhpcy5hcGlDaGFubmVsLnNlbmQoZSk6KG8udyh0aGlzLlRBRyxgQVBJIERhdGEgY2hhbm5lbCBub3QgJHt0aGlzLmFwaUNoYW5uZWw/XCJvcGVuXCI6XCJwcmVzZW50XCJ9LCBxdWV1ZWluZ2AsZSksdGhpcy5wZW5kaW5nTWVzc2FnZVF1ZXVlLnB1c2goZSkpfXNlbmRPdmVyQXBpRGF0YUNoYW5uZWxXaXRoUmVzcG9uc2UoZSx0KXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IHI9UmkoKSxpPUpTT04uc3RyaW5naWZ5KHYoe2lkOnR8fHIsanNvbnJwYzpcIjIuMFwifSxlKSk7cmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2UoaSxyKX0pfWNsb3NlKCl7dmFyIGU9dD0+c3VwZXJbdF07cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciByO3lpZWxkIGUoXCJjbG9zZVwiKS5jYWxsKHRoaXMpLChyPXRoaXMuYXBpQ2hhbm5lbCk9PW51bGx8fHIuY2xvc2UoKX0pfX07dmFyIGd0PWNsYXNze2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5zdG9yZT1lO3RoaXMuZXZlbnRCdXM9dDt0aGlzLlRBRz1cIltUcmFja0RlZ3JhZGF0aW9uQ29udHJvbGxlcl1cIjt0aGlzLk1BWF9SRUNPVkVSX0dSQUNFX1BFUklPRD0xMjA7dGhpcy5yZWNvdmVyQXR0ZW1wdENvdW50PTA7dGhpcy5wYWNrZXRzTG9zdD0wO2xldCByPXRoaXMuc3RvcmUuZ2V0U3Vic2NyaWJlRGVncmFkYXRpb25QYXJhbXMoKTt0aGlzLlBBQ0tFVFNfTE9TVF9USFJFU0hPTEQ9ci5wYWNrZXRMb3NzVGhyZXNob2xkLHRoaXMuTUlOX0RFR1JBREVfR1JBQ0VfUEVSSU9EPXIuZGVncmFkZUdyYWNlUGVyaW9kU2Vjb25kcyx0aGlzLk1JTl9SRUNPVkVSX0dSQUNFX1BFUklPRD1yLnJlY292ZXJHcmFjZVBlcmlvZFNlY29uZHMsdGhpcy5kZWdyYWRlR3JhY2VQZXJpb2Q9dGhpcy5NSU5fREVHUkFERV9HUkFDRV9QRVJJT0QsdGhpcy5yZWNvdmVyR3JhY2VQZXJpb2Q9dGhpcy5NSU5fUkVDT1ZFUl9HUkFDRV9QRVJJT0R9Z2V0IGlzQXR0ZW1wdGluZ1JlY292ZXIoKXtyZXR1cm4gQm9vbGVhbih0aGlzLnJlY292ZXJpbmdUcmFjayl9aGFuZGxlUnRjU3RhdHNDaGFuZ2UoZSl7bGV0IHQ9ZT50aGlzLnBhY2tldHNMb3N0K3RoaXMuUEFDS0VUU19MT1NUX1RIUkVTSE9MRDt0aGlzLnBhY2tldHNMb3N0PWUsdD90aGlzLmRlZ3JhZGUoKTp0aGlzLnJlY292ZXIoKX1kZWdyYWRlKCl7aWYodGhpcy5kZWdyYWRlR3JhY2VQZXJpb2Q+MCl7dGhpcy5kZWdyYWRlR3JhY2VQZXJpb2QtLTtyZXR1cm59aWYodGhpcy5pc0F0dGVtcHRpbmdSZWNvdmVyKXJldHVybiB0aGlzLmNhbmNlbFJlY292ZXJ5KCk7by5kKHRoaXMuVEFHLFwiUGFja2V0IGxvc3MgaW5jcmVhc2VkLCBEZWdyYWRpbmdcIix7cGFja2V0c0xvc3Q6dGhpcy5wYWNrZXRzTG9zdH0pLHRoaXMuZGVncmFkZUFjdGl2ZVRyYWNrc0J5SGFsZigpLHRoaXMuZGVncmFkZUdyYWNlUGVyaW9kPXRoaXMuTUlOX0RFR1JBREVfR1JBQ0VfUEVSSU9ELHRoaXMucmVjb3ZlckdyYWNlUGVyaW9kPXRoaXMuTUlOX1JFQ09WRVJfR1JBQ0VfUEVSSU9EfXJlY292ZXIoKXtpZih0aGlzLmRlZ3JhZGVHcmFjZVBlcmlvZD10aGlzLk1JTl9ERUdSQURFX0dSQUNFX1BFUklPRCx0aGlzLnJlY292ZXJHcmFjZVBlcmlvZD4wKXt0aGlzLnJlY292ZXJHcmFjZVBlcmlvZC0tO3JldHVybn10aGlzLnJlY292ZXJpbmdUcmFjaz10aGlzLmdldEFjdGl2ZVRyYWNrcyghMCkuZmluZChlPT5lLmRlZ3JhZGVkKSwhIXRoaXMucmVjb3ZlcmluZ1RyYWNrJiYoby5kKHRoaXMuVEFHLFwiUGFja2V0IGxvc3Qgc3RhYmxlLCByZWNvdmVyaW5nIHRyYWNrXCIsdGhpcy5yZWNvdmVyaW5nVHJhY2spLHRoaXMucmVjb3ZlcmluZ1RyYWNrLnNldERlZ3JhZGVkRnJvbVNkayghMSksdGhpcy5ldmVudEJ1cy50cmFja1Jlc3RvcmVkLnB1Ymxpc2godGhpcy5yZWNvdmVyaW5nVHJhY2spLHRoaXMucmVjb3ZlckdyYWNlUGVyaW9kPXRoaXMuTUlOX1JFQ09WRVJfR1JBQ0VfUEVSSU9EKX1jbGVhblVwKCl7dGhpcy5ldmVudEJ1cy50cmFja0RlZ3JhZGVkLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuZXZlbnRCdXMudHJhY2tSZXN0b3JlZC5yZW1vdmVBbGxMaXN0ZW5lcnMoKX1kZWdyYWRlQWN0aXZlVHJhY2tzQnlIYWxmKCl7bGV0IGU9dGhpcy5nZXRBY3RpdmVUcmFja3MoITEpO2lmKCFlLmxlbmd0aClyZXR1cm47by5kKHRoaXMuVEFHLHthY3RpdmVUcmFja3M6Wy4uLmVdfSk7bGV0IHQ9TWF0aC5jZWlsKGUubGVuZ3RoLzIpO2Zvcig7dC0tOyl7bGV0IHI9ZS5wb3AoKTtyLnNldERlZ3JhZGVkRnJvbVNkayghMCksdGhpcy5ldmVudEJ1cy50cmFja0RlZ3JhZGVkLnB1Ymxpc2gocil9fWdldEFjdGl2ZVRyYWNrcyhlKXtyZXR1cm4gdGhpcy5zdG9yZS5nZXRSZW1vdGVWaWRlb1RyYWNrcygpLmZpbHRlcih0PT50Lmhhc1NpbmtzKCkmJighdC5kZWdyYWRlZHx8ZSkpLnNvcnQoKHQscik9PntsZXQgaT10aGlzLnN0b3JlLmdldENvbXBhcmF0b3IoKS5nZXRUcmFja0NvbXBhcmF0b3JzKCk7cmV0dXJuLTEqKGkuc2NyZWVuU2hhcmUodCxyKXx8aS5yb2xlUHJpb3JpdHkodCxyKXx8aS5wZWVyQXVkaW9MZXZlbCh0LHIpfHx0aGlzLnN0b3JlLmdldENvbXBhcmF0b3IoKS5zdHJpbmdDb21wYXJhdG9yKHQudHJhY2tJZCxyLnRyYWNrSWQpKX0pLnNsaWNlKDApfWNhbmNlbFJlY292ZXJ5KCl7dGhpcy5yZWNvdmVyaW5nVHJhY2smJih0aGlzLnJlY292ZXJpbmdUcmFjay5zZXREZWdyYWRlZEZyb21TZGsoITApLHRoaXMuZXZlbnRCdXMudHJhY2tEZWdyYWRlZC5wdWJsaXNoKHRoaXMucmVjb3ZlcmluZ1RyYWNrKSksdGhpcy5yZWNvdmVyaW5nVHJhY2s9dm9pZCAwLHRoaXMucmVjb3ZlckF0dGVtcHRDb3VudCsrLHRoaXMucmVjb3ZlckdyYWNlUGVyaW9kPXRoaXMuZ2V0RGVsYXlGb3JSZWNvdmVyQ291bnQodGhpcy5yZWNvdmVyQXR0ZW1wdENvdW50KSx0aGlzLmRlZ3JhZGVHcmFjZVBlcmlvZD10aGlzLk1JTl9ERUdSQURFX0dSQUNFX1BFUklPRCxvLmQodGhpcy5UQUcsXCJSZWNvdmVyIEF0dGVtcHQgRmFpbGVkXCIse2NvdW50OnRoaXMucmVjb3ZlckF0dGVtcHRDb3VudCxkZWxheTp0aGlzLnJlY292ZXJHcmFjZVBlcmlvZH0pfWdldERlbGF5Rm9yUmVjb3ZlckNvdW50KGUpe2xldCB0PXRoaXMuTUlOX1JFQ09WRVJfR1JBQ0VfUEVSSU9EK3RoaXMuTUlOX1JFQ09WRVJfR1JBQ0VfUEVSSU9EKmU7cmV0dXJuIE1hdGgubWluKHQsdGhpcy5NQVhfUkVDT1ZFUl9HUkFDRV9QRVJJT0QpfX07dmFyIEpyPShhLGUsdCxyKT0+Yyh2b2lkIDAsbnVsbCxmdW5jdGlvbiooKXt2YXIgbjtsZXQgaSxzPXt9O3RyeXtpPXlpZWxkKG49YS5wdWJsaXNoKT09bnVsbD92b2lkIDA6bi5jYWxsKGEsZS5nZXRUcmFja0JlaW5nU2VudCgpKTtsZXQgZD17fSxsPXt9LGg9e307aT09bnVsbHx8aS5mb3JFYWNoKHU9Pntzd2l0Y2godS50eXBlKXtjYXNlXCJvdXRib3VuZC1ydHBcIjpsW3UuaWRdPXU7YnJlYWs7Y2FzZVwicmVtb3RlLWluYm91bmQtcnRwXCI6aFt1LnNzcmNdPXU7YnJlYWs7Y2FzZVwiY29kZWNcIjpkW3UuaWRdPXUubWltZVR5cGU7YnJlYWs7ZGVmYXVsdDpicmVha319KSxPYmplY3Qua2V5cyh2KHt9LGwpKS5mb3JFYWNoKHU9Pnt2YXIgSTtsZXQgZz0oST1sW3VdKT09bnVsbD92b2lkIDA6SS5jb2RlY0lkLFM9Zz9kW2ddOnZvaWQgMCx5O1MmJih5PVMuc3Vic3RyaW5nKFMuaW5kZXhPZihcIi9cIikrMSkpO2xldCB4PWxbdV0sQj1oW3guc3NyY107c1t1XT1fKHYoe30seCkse2JpdHJhdGU6aXIoXCJieXRlc1NlbnRcIix4LHI9PW51bGw/dm9pZCAwOnJbdV0pLHBhY2tldHNMb3N0OkI9PW51bGw/dm9pZCAwOkIucGFja2V0c0xvc3Qsaml0dGVyOkI9PW51bGw/dm9pZCAwOkIuaml0dGVyLHBlZXJOYW1lOnQscGVlcklEOmUucGVlcklkLGNvZGVjOnl9KX0pfWNhdGNoKGQpe28udyhcIltITVNXZWJydGNTdGF0c11cIixcIkVycm9yIGluIGdldHRpbmcgbG9jYWwgdHJhY2sgc3RhdHNcIixlLGQpfXJldHVybiBzfSksUXI9KGEsZSx0LHIpPT5jKHZvaWQgMCxudWxsLGZ1bmN0aW9uKigpe3ZhciBsO2xldCBpO3RyeXtpPXlpZWxkKGw9YS5zdWJzY3JpYmUpPT1udWxsP3ZvaWQgMDpsLmNhbGwoYSxlLm5hdGl2ZVRyYWNrKX1jYXRjaChoKXtvLncoXCJbSE1TV2VicnRjU3RhdHNdXCIsXCJFcnJvciBpbiBnZXR0aW5nIHJlbW90ZSB0cmFjayBzdGF0c1wiLGUsaCl9bGV0IHM9d2koaSksbj1pcihcImJ5dGVzUmVjZWl2ZWRcIixzLHIpLGQ9c3IoXCJwYWNrZXRzTG9zdFwiLHMscik7cmV0dXJuKHM9PW51bGw/dm9pZCAwOnMucmVtb3RlKSYmT2JqZWN0LmFzc2lnbihzLnJlbW90ZSx7cGFja2V0c0xvc3RSYXRlOnNyKFwicGFja2V0c0xvc3RcIixzLnJlbW90ZSxyPT1udWxsP3ZvaWQgMDpyLnJlbW90ZSl9KSxzJiZPYmplY3QuYXNzaWduKHMse2JpdHJhdGU6bixwYWNrZXRzTG9zdFJhdGU6ZCxwZWVySWQ6ZS5wZWVySWQscGVlck5hbWU6dCxjb2RlYzpzLmNvZGVjfSl9KSx3aT1hPT57bGV0IGUsdCxyPXt9O2E9PW51bGx8fGEuZm9yRWFjaChuPT57c3dpdGNoKG4udHlwZSl7Y2FzZVwiaW5ib3VuZC1ydHBcIjplPW47YnJlYWs7Y2FzZVwib3V0Ym91bmQtcnRwXCI6ZT1uO2JyZWFrO2Nhc2VcInJlbW90ZS1pbmJvdW5kLXJ0cFwiOnQ9bjticmVhaztjYXNlXCJjb2RlY1wiOnJbbi5pZF09bi5taW1lVHlwZTticmVhaztkZWZhdWx0OmJyZWFrfX0pO2xldCBpPShlPT1udWxsP3ZvaWQgMDplLmNvZGVjSWQpP3JbZS5jb2RlY0lkXTp2b2lkIDAscztyZXR1cm4gaSYmKHM9aS5zdWJzdHJpbmcoaS5pbmRleE9mKFwiL1wiKSsxKSksZSYmT2JqZWN0LmFzc2lnbihlLHtyZW1vdGU6dCxjb2RlYzpzfSl9LHRyPShhLGUsdCk9PntsZXQgcj1IaShlKSxpPWlyKGE9PT1cInB1Ymxpc2hcIj9cImJ5dGVzU2VudFwiOlwiYnl0ZXNSZWNlaXZlZFwiLHIsdCYmdFthXSk7cmV0dXJuIHImJk9iamVjdC5hc3NpZ24ocix7Yml0cmF0ZTppfSl9LEhpPWE9PntsZXQgZTtyZXR1cm4gYS5mb3JFYWNoKHQ9Pnt0LnR5cGU9PT1cInRyYW5zcG9ydFwiJiYoZT1hLmdldCh0LnNlbGVjdGVkQ2FuZGlkYXRlUGFpcklkKSl9KSxlfHxhLmZvckVhY2godD0+e3QudHlwZT09PVwiY2FuZGlkYXRlLXBhaXJcIiYmdC5zZWxlY3RlZCYmKGU9dCl9KSxlfSxZcj1hPT57bGV0IGU9e3BhY2tldHNMb3N0OjAsaml0dGVyOjB9O3JldHVybiBhPT1udWxsfHxhLmZvckVhY2godD0+e3QucGFja2V0c0xvc3QmJihlLnBhY2tldHNMb3N0Kz10LnBhY2tldHNMb3N0KSx0LmppdHRlcj5lLmppdHRlciYmKGUuaml0dGVyPXQuaml0dGVyKX0pLGV9LHJyPShhLGUpPT5BcnJheS5mcm9tKG5ldyBTZXQoYS5jb25jYXQoZSkpKSxpcj0oYSxlLHQpPT5zcihhLGUsdCkqOCxzcj0oYSxlLHQpPT57bGV0IHI9ZSYmZVthXSxpPXQ/dFthXTpudWxsO3JldHVybltlLHQsc2Uociksc2UoaSldLmV2ZXJ5KG49PiEhbik/YXIocixpLGU9PW51bGw/dm9pZCAwOmUudGltZXN0YW1wLHQ9PW51bGw/dm9pZCAwOnQudGltZXN0YW1wKSoxZTM6MH0sYXI9KGEsZSx0LHIpPT5zZShhKSYmc2UoZSkmJnQmJnI/KGEtZSkvKHQtcik6MDt2YXIgU3Q9Y2xhc3N7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmdldFN0YXRzPWU7dGhpcy5zdG9yZT10O3RoaXMuVEFHPVwiW0hNU1dlYnJ0Y1N0YXRzXVwiO3RoaXMucGVlclN0YXRzPXt9O3RoaXMucmVtb3RlVHJhY2tTdGF0cz17fTt0aGlzLmxvY2FsVHJhY2tTdGF0cz17fTt2YXIgcjt0aGlzLmxvY2FsUGVlcklEPShyPXRoaXMuc3RvcmUuZ2V0TG9jYWxQZWVyKCkpPT1udWxsP3ZvaWQgMDpyLnBlZXJJZH1nZXRMb2NhbFBlZXJTdGF0cygpe3JldHVybiB0aGlzLnBlZXJTdGF0c1t0aGlzLmxvY2FsUGVlcklEXX1nZXRSZW1vdGVUcmFja1N0YXRzKGUpe3JldHVybiB0aGlzLnJlbW90ZVRyYWNrU3RhdHNbZV19Z2V0TG9jYWxUcmFja1N0YXRzKCl7cmV0dXJuIHRoaXMubG9jYWxUcmFja1N0YXRzfXVwZGF0ZVN0YXRzKCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMudXBkYXRlTG9jYWxQZWVyU3RhdHMoKSx5aWVsZCB0aGlzLnVwZGF0ZUxvY2FsVHJhY2tTdGF0cygpLHlpZWxkIHRoaXMudXBkYXRlUmVtb3RlVHJhY2tTdGF0cygpfSl9dXBkYXRlTG9jYWxQZWVyU3RhdHMoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIHUsZyxTLHkseCxCO2xldCBlPXRoaXMuZ2V0TG9jYWxQZWVyU3RhdHMoKSx0O3RyeXt0PXlpZWxkKGc9KHU9dGhpcy5nZXRTdGF0cykucHVibGlzaCk9PW51bGw/dm9pZCAwOmcuY2FsbCh1KX1jYXRjaChJKXtvLncodGhpcy5UQUcsXCJFcnJvciBpbiBnZXR0aW5nIHB1Ymxpc2ggc3RhdHNcIixJKX1sZXQgcj10JiZ0cihcInB1Ymxpc2hcIix0LGUpLGk7dHJ5e2k9eWllbGQoeT0oUz10aGlzLmdldFN0YXRzKS5zdWJzY3JpYmUpPT1udWxsP3ZvaWQgMDp5LmNhbGwoUyl9Y2F0Y2goSSl7by53KHRoaXMuVEFHLFwiRXJyb3IgaW4gZ2V0dGluZyBzdWJzY3JpYmUgc3RhdHNcIixJKX1sZXQgcz1pJiZ0cihcInN1YnNjcmliZVwiLGksZSkse3BhY2tldHNMb3N0Om4saml0dGVyOmR9PVlyKGkpLGw9YXIobiwoeD1lPT1udWxsP3ZvaWQgMDplLnN1YnNjcmliZSk9PW51bGw/dm9pZCAwOngucGFja2V0c0xvc3Qscz09bnVsbD92b2lkIDA6cy50aW1lc3RhbXAsKEI9ZT09bnVsbD92b2lkIDA6ZS5zdWJzY3JpYmUpPT1udWxsP3ZvaWQgMDpCLnRpbWVzdGFtcCksaD1zJiZPYmplY3QuYXNzaWduKHMse3BhY2tldHNMb3N0UmF0ZTpsLGppdHRlcjpkLHBhY2tldHNMb3N0Om59KTt0aGlzLnBlZXJTdGF0c1t0aGlzLmxvY2FsUGVlcklEXT17cHVibGlzaDpyLHN1YnNjcmliZTpofX0pfXVwZGF0ZVJlbW90ZVRyYWNrU3RhdHMoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIHI7bGV0IGU9dGhpcy5zdG9yZS5nZXRUcmFja3NNYXAoKSx0PXJyKE9iamVjdC5rZXlzKHRoaXMucmVtb3RlVHJhY2tTdGF0cyksT2JqZWN0LmtleXMoZSkpLmZpbHRlcihpPT5lW2ldJiZlW2ldLnBlZXJJZCE9PXRoaXMubG9jYWxQZWVySUQpO2ZvcihsZXQgaSBvZiB0KXtsZXQgcz1lW2ldO2lmKHMpe2xldCBuPXMucGVlcklkJiYoKHI9dGhpcy5zdG9yZS5nZXRQZWVyQnlJZChzLnBlZXJJZCkpPT1udWxsP3ZvaWQgMDpyLm5hbWUpLGQ9dGhpcy5nZXRSZW1vdGVUcmFja1N0YXRzKHMudHJhY2tJZCksbD15aWVsZCBRcih0aGlzLmdldFN0YXRzLHMsbixkKTtsJiYodGhpcy5yZW1vdGVUcmFja1N0YXRzW2ldPWwpfWVsc2UgZGVsZXRlIHRoaXMucmVtb3RlVHJhY2tTdGF0c1tpXX19KX11cGRhdGVMb2NhbFRyYWNrU3RhdHMoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIHI7bGV0IGU9dGhpcy5zdG9yZS5nZXRMb2NhbFBlZXJUcmFja3MoKS5yZWR1Y2UoKGkscyk9PihpW3MuZ2V0VHJhY2tJREJlaW5nU2VudCgpXT1zLGkpLHt9KSx0PXJyKE9iamVjdC5rZXlzKHRoaXMubG9jYWxUcmFja1N0YXRzKSxPYmplY3Qua2V5cyhlKSk7Zm9yKGxldCBpIG9mIHQpe2xldCBzPWVbaV07aWYocyl7bGV0IG49KHI9dGhpcy5zdG9yZS5nZXRMb2NhbFBlZXIoKSk9PW51bGw/dm9pZCAwOnIubmFtZSxkPXlpZWxkIEpyKHRoaXMuZ2V0U3RhdHMscyxuLHRoaXMubG9jYWxUcmFja1N0YXRzW2ldKTtkJiYodGhpcy5sb2NhbFRyYWNrU3RhdHNbaV09ZCl9ZWxzZSBkZWxldGUgdGhpcy5sb2NhbFRyYWNrU3RhdHNbaV19fSl9fTt2YXIgdnQ9Y2xhc3N7Y29uc3RydWN0b3IoZSx0LHIsaSl7dGhpcy5zdG9yZT1lO3RoaXMuZXZlbnRCdXM9dDt0aGlzLnB1Ymxpc2hDb25uZWN0aW9uPXI7dGhpcy5zdWJzY3JpYmVDb25uZWN0aW9uPWk7dGhpcy5UQUc9XCJbSE1TV2VicnRjSW50ZXJuYWxzXVwiO3RoaXMuaW50ZXJ2YWw9X3I7dGhpcy5pc01vbml0b3JlZD0hMTt0aGlzLmhhbmRsZVN0YXRzVXBkYXRlPSgpPT5jKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgZTt5aWVsZChlPXRoaXMuaG1zU3RhdHMpPT1udWxsP3ZvaWQgMDplLnVwZGF0ZVN0YXRzKCksdGhpcy5ldmVudEJ1cy5zdGF0c1VwZGF0ZS5wdWJsaXNoKHRoaXMuaG1zU3RhdHMpfSl9Z2V0UHVibGlzaFBlZXJDb25uZWN0aW9uKCl7cmV0dXJuIHRoaXMucHVibGlzaENvbm5lY3Rpb259Z2V0U3Vic2NyaWJlUGVlckNvbm5lY3Rpb24oKXtyZXR1cm4gdGhpcy5zdWJzY3JpYmVDb25uZWN0aW9ufWdldEN1cnJlbnRTdGF0cygpe3JldHVybiB0aGlzLmhtc1N0YXRzfW9uU3RhdHNDaGFuZ2UoZSl7cmV0dXJuIHRoaXMuZXZlbnRCdXMuc3RhdHNVcGRhdGUuc3Vic2NyaWJlKGUpLCgpPT57dGhpcy5ldmVudEJ1cy5zdGF0c1VwZGF0ZS51bnN1YnNjcmliZShlKX19c2V0UGVlckNvbm5lY3Rpb25zKHtwdWJsaXNoOmUsc3Vic2NyaWJlOnR9KXt2YXIgcixpO3RoaXMucHVibGlzaENvbm5lY3Rpb249ZSx0aGlzLnN1YnNjcmliZUNvbm5lY3Rpb249dCx0aGlzLmhtc1N0YXRzPW5ldyBTdCh7cHVibGlzaDoocj10aGlzLnB1Ymxpc2hDb25uZWN0aW9uKT09bnVsbD92b2lkIDA6ci5nZXRTdGF0cy5iaW5kKHRoaXMucHVibGlzaENvbm5lY3Rpb24pLHN1YnNjcmliZTooaT10aGlzLnN1YnNjcmliZUNvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDppLmdldFN0YXRzLmJpbmQodGhpcy5zdWJzY3JpYmVDb25uZWN0aW9uKX0sdGhpcy5zdG9yZSl9c3RhcnQoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYodGhpcy5pc01vbml0b3JlZCl7by5kKHRoaXMuVEFHLFwiQWxyZWFkeSBzdGFydGVkXCIpO3JldHVybn10aGlzLnN0b3AoKSx0aGlzLmlzTW9uaXRvcmVkPSEwLG8uZCh0aGlzLlRBRyxcIlN0YXJ0aW5nIFdlYnJ0YyBTdGF0cyBNb25pdG9yXCIpLHRoaXMuc3RhcnRMb29wKCkudGhlbigoKT0+by5kKHRoaXMuVEFHLFwiU3RvcHBpbmcgV2VicnRjIFN0YXRzIE1vbml0b3JcIikpLmNhdGNoKGU9Pm8uZSh0aGlzLlRBRyxlLm1lc3NhZ2UpKX0pfXN0b3AoKXt0aGlzLmlzTW9uaXRvcmVkPSExfXN0YXJ0TG9vcCgpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtmb3IoO3RoaXMuaXNNb25pdG9yZWQ7KXlpZWxkIHRoaXMuaGFuZGxlU3RhdHNVcGRhdGUoKSx5aWVsZCBqKHRoaXMuaW50ZXJ2YWwpfSl9Y2xlYW5VcCgpe3RoaXMuc3RvcCgpLHRoaXMuZXZlbnRCdXMuc3RhdHNVcGRhdGUucmVtb3ZlQWxsTGlzdGVuZXJzKCl9fTt2YXIgbnI9XCJbSW5pdFNlcnZpY2VdXCIsVHQ9Y2xhc3N7c3RhdGljIGhhbmRsZUVycm9yKGUsdCl7c3dpdGNoKGUuc3RhdHVzKXtjYXNlIDQwNDp0aHJvdyBtLkluaXRBUElFcnJvcnMuRW5kcG9pbnRVbnJlYWNoYWJsZShwLklOSVQsdC5tZXNzYWdlfHxlLnN0YXR1c1RleHQpO2Nhc2UgMjAwOmJyZWFrO2RlZmF1bHQ6dGhyb3cgbS5Jbml0QVBJRXJyb3JzLlNlcnZlckVycm9ycyh0LmNvZGV8fGUuc3RhdHVzLHAuSU5JVCx0Lm1lc3NhZ2V8fChlPT1udWxsP3ZvaWQgMDplLnN0YXR1c1RleHQpKX19c3RhdGljIGZldGNoSW5pdENvbmZpZyhuKXtyZXR1cm4gYyh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbiooe3Rva2VuOmUscGVlcklkOnQsdXNlckFnZW50OnIsaW5pdEVuZHBvaW50Omk9XCJodHRwczovL3Byb2QtaW5pdC4xMDBtcy5saXZlXCIscmVnaW9uOnM9XCJcIn0pe28uZChucixgZmV0Y2hJbml0Q29uZmlnOiBpbml0RW5kcG9pbnQ9JHtpfSB0b2tlbj0ke2V9IHBlZXJJZD0ke3R9IHJlZ2lvbj0ke3N9IGApO2xldCBkPV9pKGksdCxyLHMpO3RyeXtsZXQgbD15aWVsZCBmZXRjaChkLHtoZWFkZXJzOntBdXRob3JpemF0aW9uOmBCZWFyZXIgJHtlfWB9fSksaD15aWVsZCBsLmpzb24oKTtyZXR1cm4gdGhpcy5oYW5kbGVFcnJvcihsLGgpLG8uZChucixgY29uZmlnIGlzICR7SlNPTi5zdHJpbmdpZnkoaCxudWxsLDIpfWApLExpKGgpfWNhdGNoKGwpe2xldCBoPWw7dGhyb3dbXCJGYWlsZWQgdG8gZmV0Y2hcIixcIk5ldHdvcmtFcnJvclwiXS5zb21lKHU9PmgubWVzc2FnZS5pbmNsdWRlcyh1KSk/bS5Jbml0QVBJRXJyb3JzLkVuZHBvaW50VW5yZWFjaGFibGUocC5JTklULGgubWVzc2FnZSk6aH19KX19O2Z1bmN0aW9uIF9pKGEsZSx0LHIpe3RyeXtsZXQgaT1uZXcgVVJMKFwiL2luaXRcIixhKTtyZXR1cm4gciYmci50cmltKCkubGVuZ3RoPjAmJmkuc2VhcmNoUGFyYW1zLnNldChcInJlZ2lvblwiLHIudHJpbSgpKSxpLnNlYXJjaFBhcmFtcy5zZXQoXCJwZWVyX2lkXCIsZSksaS5zZWFyY2hQYXJhbXMuc2V0KFwidXNlcl9hZ2VudF92MlwiLHQpLGkudG9TdHJpbmcoKX1jYXRjaChpKXtsZXQgcz1pO3Rocm93IG8uZShucixzLm5hbWUscy5tZXNzYWdlKSxzfX1mdW5jdGlvbiBMaShhKXt2YXIgZTtyZXR1cm4gXyh2KHt9LGEpLHtydGNDb25maWd1cmF0aW9uOl8odih7fSxhLnJ0Y0NvbmZpZ3VyYXRpb24pLHtpY2VTZXJ2ZXJzOihlPWEucnRjQ29uZmlndXJhdGlvbik9PW51bGw/dm9pZCAwOmUuaWNlX3NlcnZlcnN9KX0pfXZhciBlZTsoZnVuY3Rpb24ocil7ci5GTEFHX1NFUlZFUl9TVUJfREVHUkFEQVRJT049XCJzdWJzY3JpYmVEZWdyYWRhdGlvblwiLHIuRkxBR19TRVJWRVJfU0lNVUxDQVNUPVwic2ltdWxjYXN0XCIsci5GTEFHX05PTl9XRUJSVENfRElTQUJMRV9PRkZFUj1cIm5vbldlYlJUQ0Rpc2FibGVPZmZlclwifSkoZWV8fChlZT17fSkpO2ltcG9ydHt2NCBhcyBEaX1mcm9tXCJ1dWlkXCI7dmFyIEg7KGZ1bmN0aW9uKEUpe0UuSk9JTj1cImpvaW5cIixFLk9GRkVSPVwib2ZmZXJcIixFLkFOU1dFUj1cImFuc3dlclwiLEUuVFJJQ0tMRT1cInRyaWNrbGVcIixFLlRSQUNLX1VQREFURT1cInRyYWNrLXVwZGF0ZVwiLEUuQlJPQURDQVNUPVwiYnJvYWRjYXN0XCIsRS5BTkFMWVRJQ1M9XCJhbmFseXRpY3NcIixFLlNFUlZFUl9FUlJPUj1cIm9uLWVycm9yXCIsRS5TRVJWRVJfV0FSTklORz1cIm9uLXdhcm5pbmdcIixFLlNES19OT1RJRklDQVRJT049XCJzZGstbm90aWZpY2F0aW9uXCIsRS5MRUFWRT1cImxlYXZlXCIsRS5FTkRfUk9PTT1cImVuZC1yb29tXCIsRS5QSU5HPVwicGluZ1wiLEUuUk9MRV9DSEFOR0VfUkVRVUVTVD1cInJvbGUtY2hhbmdlLXJlcXVlc3RcIixFLlJPTEVfQ0hBTkdFPVwicm9sZS1jaGFuZ2VcIixFLlRSQUNLX1VQREFURV9SRVFVRVNUPVwidHJhY2stdXBkYXRlLXJlcXVlc3RcIixFLlBFRVJfTEVBVkVfUkVRVUVTVD1cInBlZXItbGVhdmUtcmVxdWVzdFwiLEUuQ0hBTkdFX1RSQUNLX01VVEVfU1RBVEVfUkVRVUVTVD1cImNoYW5nZS10cmFjay1tdXRlLXN0YXRlLXJlcXVlc3RcIixFLlNUQVJUX1JUTVBfT1JfUkVDT1JESU5HX1JFUVVFU1Q9XCJydG1wLXN0YXJ0XCIsRS5TVE9QX1JUTVBfQU5EX1JFQ09SRElOR19SRVFVRVNUPVwicnRtcC1zdG9wXCIsRS5VUERBVEVfUEVFUl9NRVRBREFUQT1cInBlZXItdXBkYXRlXCIsRS5TVEFSVF9ITFNfU1RSRUFNSU5HPVwiaGxzLXN0YXJ0XCIsRS5TVE9QX0hMU19TVFJFQU1JTkc9XCJobHMtc3RvcFwiLEUuSExTX1RJTUVEX01FVEFEQVRBPVwiaGxzLXRpbWVkLW1ldGFkYXRhXCIsRS5TRVRfTUVUQURBVEE9XCJzZXQtbWV0YWRhdGFcIixFLkdFVF9NRVRBREFUQT1cImdldC1tZXRhZGF0YVwifSkoSHx8KEg9e30pKTtmdW5jdGlvbiB6cihhKXtzd2l0Y2goYSl7Y2FzZSBILkpPSU46cmV0dXJuIHAuSk9JTjtjYXNlIEguT0ZGRVI6cmV0dXJuIHAuUFVCTElTSDtjYXNlIEguQU5TV0VSOnJldHVybiBwLlNVQlNDUklCRTtjYXNlIEguVFJBQ0tfVVBEQVRFOnJldHVybiBwLlRSQUNLO2RlZmF1bHQ6cmV0dXJuIHAuTk9ORX19dmFyIGZ0PWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMuVEFHPVwiW1NJR05BTF06IFwiO3RoaXMucG9uZ1Jlc3BvbnNlVGltZXM9bmV3IG1lKHdyKTt0aGlzLmlzSm9pbkNvbXBsZXRlZD0hMTt0aGlzLnBlbmRpbmdUcmlja2xlPVtdO3RoaXMuc29ja2V0PW51bGw7dGhpcy5jYWxsYmFja3M9bmV3IE1hcDt0aGlzLl9pc0Nvbm5lY3RlZD0hMTt0aGlzLmlkPTA7dGhpcy5vbkNsb3NlSGFuZGxlcj0oKT0+e307dGhpcy5vZmZsaW5lTGlzdGVuZXI9KCk9PntvLmQodGhpcy5UQUcsXCJXaW5kb3cgbmV0d29yayBvZmZsaW5lXCIpLHRoaXMuc2V0SXNDb25uZWN0ZWQoITEsXCJXaW5kb3cgbmV0d29yayBvZmZsaW5lXCIpfTt0aGlzLm9ubGluZUxpc3RlbmVyPSgpPT57by5kKHRoaXMuVEFHLFwiV2luZG93IG5ldHdvcmsgb25saW5lXCIpLHRoaXMub2JzZXJ2ZXIub25OZXR3b3JrT25saW5lKCl9O3RoaXMub2JzZXJ2ZXI9ZSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIix0aGlzLm9mZmxpbmVMaXN0ZW5lciksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIix0aGlzLm9ubGluZUxpc3RlbmVyKSx0aGlzLm9uTWVzc2FnZUhhbmRsZXI9dGhpcy5vbk1lc3NhZ2VIYW5kbGVyLmJpbmQodGhpcyl9Z2V0IGlzQ29ubmVjdGVkKCl7cmV0dXJuIHRoaXMuX2lzQ29ubmVjdGVkfXNldElzQ29ubmVjdGVkKGUsdD1cIlwiKXtvLmQodGhpcy5UQUcsYGlzQ29ubmVjdGVkIHNldCBpZDogJHt0aGlzLmlkfSwgb2xkVmFsdWU6ICR7dGhpcy5faXNDb25uZWN0ZWR9LCBuZXdWYWx1ZTogJHtlfWApLHRoaXMuX2lzQ29ubmVjdGVkIT09ZSYmKHRoaXMuX2lzQ29ubmVjdGVkJiYhZT8odGhpcy5faXNDb25uZWN0ZWQ9ZSx0aGlzLm9ic2VydmVyLm9uT2ZmbGluZSh0KSk6IXRoaXMuX2lzQ29ubmVjdGVkJiZlJiYodGhpcy5faXNDb25uZWN0ZWQ9ZSx0aGlzLm9ic2VydmVyLm9uT25saW5lKCkpKX1nZXRQb25nUmVzcG9uc2VUaW1lcygpe3JldHVybiB0aGlzLnBvbmdSZXNwb25zZVRpbWVzLnRvTGlzdCgpfWludGVybmFsQ2FsbChlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgcztsZXQgcj1EaSgpLGk9e21ldGhvZDplLHBhcmFtczp0LGlkOnIsanNvbnJwYzpcIjIuMFwifTsocz10aGlzLnNvY2tldCk9PW51bGx8fHMuc2VuZChKU09OLnN0cmluZ2lmeShpKSk7dHJ5e3JldHVybiB5aWVsZCBuZXcgUHJvbWlzZSgoZCxsKT0+e3RoaXMuY2FsbGJhY2tzLnNldChyLHtyZXNvbHZlOmQscmVqZWN0Omx9KX0pfWNhdGNoKG4pe2xldCBkPW47dGhyb3cgbS5XZWJzb2NrZXRNZXRob2RFcnJvcnMuU2VydmVyRXJyb3JzKE51bWJlcihkLmNvZGUpLHpyKGUpLGQubWVzc2FnZSl9fSl9bm90aWZ5KGUsdCl7dmFyIGkscztsZXQgcj17bWV0aG9kOmUscGFyYW1zOnR9OygoaT10aGlzLnNvY2tldCk9PW51bGw/dm9pZCAwOmkucmVhZHlTdGF0ZSk9PT1XZWJTb2NrZXQuT1BFTiYmKChzPXRoaXMuc29ja2V0KT09bnVsbHx8cy5zZW5kKEpTT04uc3RyaW5naWZ5KHIpKSl9b3BlbihlKXtyZXR1cm4gbmV3IFByb21pc2UoKHQscik9PntsZXQgaT0hMTt0aGlzLnNvY2tldCYmKHRoaXMuc29ja2V0LmNsb3NlKCksdGhpcy5zb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsdGhpcy5vbkNsb3NlSGFuZGxlciksdGhpcy5zb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLm9uTWVzc2FnZUhhbmRsZXIpKSx0aGlzLnNvY2tldD1uZXcgV2ViU29ja2V0KGUpO2xldCBzPWQ9PntvLmUodGhpcy5UQUcsXCJFcnJvciBmcm9tIHdlYnNvY2tldFwiLGQpLGk9ITAscihtLldlYlNvY2tldENvbm5lY3Rpb25FcnJvcnMuRmFpbGVkVG9Db25uZWN0KHAuSk9JTixgRXJyb3Igb3BlbmluZyB3ZWJzb2NrZXQgY29ubmVjdGlvbiAtICR7ZH1gKSl9O3RoaXMub25DbG9zZUhhbmRsZXI9ZD0+e28uZShgV2Vic29ja2V0IGNsb3NlZCBjb2RlPSR7ZC5jb2RlfWApLGk/dGhpcy5zZXRJc0Nvbm5lY3RlZCghMSxgY29kZTogJHtkLmNvZGV9JHtkLmNvZGUhPT0xZTM/XCIsIHVuZXhwZWN0ZWQgd2Vic29ja2V0IGNsb3NlXCI6XCJcIn1gKTooaT0hMCxyKG0uV2ViU29ja2V0Q29ubmVjdGlvbkVycm9ycy5BYm5vcm1hbENsb3NlKHAuSk9JTixgRXJyb3Igb3BlbmluZyB3ZWJzb2NrZXQgY29ubmVjdGlvbiAtIHdlYnNvY2tldCBjbG9zZWQgdW5leHBlY3RlZGx5IHdpdGggY29kZT0ke2QuY29kZX1gKSkpfSx0aGlzLnNvY2tldC5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixzKTtsZXQgbj0oKT0+e3ZhciBkLGw7aT0hMCx0KCksdGhpcy5zZXRJc0Nvbm5lY3RlZCghMCksdGhpcy5pZCsrLChkPXRoaXMuc29ja2V0KT09bnVsbHx8ZC5yZW1vdmVFdmVudExpc3RlbmVyKFwib3BlblwiLG4pLChsPXRoaXMuc29ja2V0KT09bnVsbHx8bC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIixzKSx0aGlzLnBpbmdQb25nTG9vcCh0aGlzLmlkKX07dGhpcy5zb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm9wZW5cIixuKSx0aGlzLnNvY2tldC5hZGRFdmVudExpc3RlbmVyKFwiY2xvc2VcIix0aGlzLm9uQ2xvc2VIYW5kbGVyKSx0aGlzLnNvY2tldC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMub25NZXNzYWdlSGFuZGxlcil9KX1jbG9zZSgpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIix0aGlzLm9mZmxpbmVMaXN0ZW5lciksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIix0aGlzLm9ubGluZUxpc3RlbmVyKSx0aGlzLnNvY2tldD8odGhpcy5zb2NrZXQuY2xvc2UoMWUzLFwiTm9ybWFsIENsb3NlXCIpLHRoaXMuc2V0SXNDb25uZWN0ZWQoITEsXCJjb2RlOiAxMDAwLCBub3JtYWwgd2Vic29ja2V0IGNsb3NlXCIpLHRoaXMuc29ja2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLHRoaXMub25DbG9zZUhhbmRsZXIpLHRoaXMuc29ja2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5vbk1lc3NhZ2VIYW5kbGVyKSk6dGhpcy5zZXRJc0Nvbm5lY3RlZCghMSxcIndlYnNvY2tldCBub3QgY29ubmVjdGVkIHlldFwiKX0pfWpvaW4oZSx0LHIsaSxzLG4pe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZighdGhpcy5pc0Nvbm5lY3RlZCl0aHJvdyBtLldlYlNvY2tldENvbm5lY3Rpb25FcnJvcnMuV2ViU29ja2V0Q29ubmVjdGlvbkxvc3QocC5KT0lOLFwiRmFpbGVkIHRvIHNlbmQgam9pbiBvdmVyIFdTIGNvbm5lY3Rpb25cIik7bGV0IGQ9e25hbWU6ZSxkaXNhYmxlVmlkQXV0b1N1YjpyLGRhdGE6dCxvZmZlcjpuLHNlcnZlcl9zdWJfZGVncmFkZTppLHNpbXVsY2FzdDpzfSxsPXlpZWxkIHRoaXMuaW50ZXJuYWxDYWxsKEguSk9JTixkKTtyZXR1cm4gdGhpcy5pc0pvaW5Db21wbGV0ZWQ9ITAsdGhpcy5wZW5kaW5nVHJpY2tsZS5mb3JFYWNoKCh7dGFyZ2V0OmgsY2FuZGlkYXRlOnV9KT0+dGhpcy50cmlja2xlKGgsdSkpLHRoaXMucGVuZGluZ1RyaWNrbGUubGVuZ3RoPTAsby5kKHRoaXMuVEFHLGBqb2luOiByZXNwb25zZT0ke0pTT04uc3RyaW5naWZ5KGwsbnVsbCwxKX1gKSxsfSl9dHJpY2tsZShlLHQpe3RoaXMuaXNKb2luQ29tcGxldGVkP3RoaXMubm90aWZ5KEguVFJJQ0tMRSx7dGFyZ2V0OmUsY2FuZGlkYXRlOnR9KTp0aGlzLnBlbmRpbmdUcmlja2xlLnB1c2goe3RhcmdldDplLGNhbmRpZGF0ZTp0fSl9b2ZmZXIoZSx0KXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHlpZWxkIHRoaXMuY2FsbChILk9GRkVSLHtkZXNjOmUsdHJhY2tzOk9iamVjdC5mcm9tRW50cmllcyh0KX0pfSl9YW5zd2VyKGUpe3RoaXMubm90aWZ5KEguQU5TV0VSLHtkZXNjOmV9KX10cmFja1VwZGF0ZShlKXt0aGlzLm5vdGlmeShILlRSQUNLX1VQREFURSx7dmVyc2lvbjpcIjEuMFwiLHRyYWNrczpPYmplY3QuZnJvbUVudHJpZXMoZSl9KX1icm9hZGNhc3QoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3JldHVybiB5aWVsZCB0aGlzLmNhbGwoSC5CUk9BRENBU1Qsdih7dmVyc2lvbjpcIjEuMFwifSxlLnRvU2lnbmFsUGFyYW1zKCkpKX0pfWxlYXZlKCl7dGhpcy5ub3RpZnkoSC5MRUFWRSx7dmVyc2lvbjpcIjEuMFwifSl9ZW5kUm9vbShlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLmNhbGwoSC5FTkRfUk9PTSx7bG9jazplLHJlYXNvbjp0fSl9KX1zZW5kRXZlbnQoZSl7aWYoIXRoaXMuaXNDb25uZWN0ZWQpdGhyb3cgRXJyb3IoYCR7dGhpcy5UQUd9IG5vdCBjb25uZWN0ZWQuIENvdWxkIG5vdCBzZW5kIGV2ZW50ICR7ZX1gKTt0aGlzLm5vdGlmeShILkFOQUxZVElDUyxlLnRvU2lnbmFsUGFyYW1zKCkpfXBpbmcoZSl7bGV0IHQ9RGF0ZS5ub3coKSxyPW5ldyBQcm9taXNlKHM9PntzZXRUaW1lb3V0KCgpPT57cyhEYXRlLm5vdygpLXQpfSxlKzEpfSksaT10aGlzLmludGVybmFsQ2FsbChILlBJTkcse3RpbWVzdGFtcDp0fSkudGhlbigoKT0+RGF0ZS5ub3coKS10KS5jYXRjaCgoKT0+RGF0ZS5ub3coKS10KTtyZXR1cm4gUHJvbWlzZS5yYWNlKFtyLGldKX1yZXF1ZXN0Um9sZUNoYW5nZShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5jYWxsKEguUk9MRV9DSEFOR0VfUkVRVUVTVCxlKX0pfXJlcXVlc3RCdWxrUm9sZUNoYW5nZShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5jYWxsKEguUk9MRV9DSEFOR0VfUkVRVUVTVCxlKX0pfWFjY2VwdFJvbGVDaGFuZ2VSZXF1ZXN0KGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLmNhbGwoSC5ST0xFX0NIQU5HRSxlKX0pfXJlcXVlc3RUcmFja1N0YXRlQ2hhbmdlKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLmNhbGwoSC5UUkFDS19VUERBVEVfUkVRVUVTVCxlKX0pfXJlcXVlc3RNdWx0aVRyYWNrU3RhdGVDaGFuZ2UoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuY2FsbChILkNIQU5HRV9UUkFDS19NVVRFX1NUQVRFX1JFUVVFU1QsZSl9KX1yZW1vdmVQZWVyKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLmNhbGwoSC5QRUVSX0xFQVZFX1JFUVVFU1QsZSl9KX1zdGFydFJUTVBPclJlY29yZGluZyhlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5jYWxsKEguU1RBUlRfUlRNUF9PUl9SRUNPUkRJTkdfUkVRVUVTVCx2KHt2ZXJzaW9uOlwiMS4wXCJ9LGUpKX0pfXN0b3BSVE1QQW5kUmVjb3JkaW5nKCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuY2FsbChILlNUT1BfUlRNUF9BTkRfUkVDT1JESU5HX1JFUVVFU1Qse3ZlcnNpb246XCIxLjBcIn0pfSl9c3RhcnRITFNTdHJlYW1pbmcoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuY2FsbChILlNUQVJUX0hMU19TVFJFQU1JTkcsdih7dmVyc2lvbjpcIjEuMFwifSxlKSl9KX1zdG9wSExTU3RyZWFtaW5nKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLmNhbGwoSC5TVE9QX0hMU19TVFJFQU1JTkcsdih7dmVyc2lvbjpcIjEuMFwifSxlKSl9KX1zZW5kSExTVGltZWRNZXRhZGF0YShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5jYWxsKEguSExTX1RJTUVEX01FVEFEQVRBLHYoe3ZlcnNpb246XCIxLjBcIn0sZSkpfSl9dXBkYXRlUGVlcihlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5jYWxsKEguVVBEQVRFX1BFRVJfTUVUQURBVEEsdih7dmVyc2lvbjpcIjEuMFwifSxlKSl9KX1zZXRTZXNzaW9uTWV0YWRhdGEoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuY2FsbChILlNFVF9NRVRBREFUQSx2KHt2ZXJzaW9uOlwiMS4wXCJ9LGUpKX0pfWdldFNlc3Npb25NZXRhZGF0YSgpe3JldHVybiB0aGlzLmNhbGwoSC5HRVRfTUVUQURBVEEse3ZlcnNpb246XCIxLjBcIn0pfW9uTWVzc2FnZUhhbmRsZXIoZSl7bGV0IHQ9ZS5kYXRhLHI9SlNPTi5wYXJzZSh0KTtpZihyLmlkKXRoaXMuaGFuZGxlUmVzcG9uc2VXaXRoSWQocik7ZWxzZSBpZihyLm1ldGhvZCl0aGlzLmhhbmRsZVJlc3BvbnNlV2l0aE1ldGhvZChyKTtlbHNlIHRocm93IEVycm9yKGBXZWJTb2NrZXQgbWVzc2FnZSBoYXMgbm8gJ21ldGhvZCcgb3IgJ2lkJyBmaWVsZCwgbWVzc2FnZT0ke3J9YCl9aGFuZGxlUmVzcG9uc2VXaXRoSWQoZSl7bGV0IHQ9ZSxyPXQuaWQ7aWYodGhpcy5jYWxsYmFja3MuaGFzKHIpKXtsZXQgaT10aGlzLmNhbGxiYWNrcy5nZXQocik7dGhpcy5jYWxsYmFja3MuZGVsZXRlKHIpLHQucmVzdWx0P2kucmVzb2x2ZSh0LnJlc3VsdCk6aS5yZWplY3QodC5lcnJvcil9ZWxzZSB0aGlzLm9ic2VydmVyLm9uTm90aWZpY2F0aW9uKHQpfWhhbmRsZVJlc3BvbnNlV2l0aE1ldGhvZChlKXtzd2l0Y2goZS5tZXRob2Qpe2Nhc2UgSC5PRkZFUjp0aGlzLm9ic2VydmVyLm9uT2ZmZXIoZS5wYXJhbXMpO2JyZWFrO2Nhc2UgSC5UUklDS0xFOnRoaXMub2JzZXJ2ZXIub25Ucmlja2xlKGUucGFyYW1zKTticmVhaztjYXNlIEguU0VSVkVSX0VSUk9SOnRoaXMub2JzZXJ2ZXIub25TZXJ2ZXJFcnJvcihtLldlYnNvY2tldE1ldGhvZEVycm9ycy5TZXJ2ZXJFcnJvcnMoTnVtYmVyKGUucGFyYW1zLmNvZGUpLHAuTk9ORSxlLnBhcmFtcy5tZXNzYWdlKSk7YnJlYWs7Y2FzZSBILlNFUlZFUl9XQVJOSU5HOm8udyh0aGlzLlRBRyxlLnBhcmFtcyk7YnJlYWs7ZGVmYXVsdDp0aGlzLm9ic2VydmVyLm9uTm90aWZpY2F0aW9uKGUpO2JyZWFrfX1waW5nUG9uZ0xvb3AoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciByLGk7bGV0IHQ9KChyPXdpbmRvdy5ITVMpPT1udWxsP3ZvaWQgMDpyLlBJTkdfVElNRU9VVCl8fENyO2lmKHRoaXMuaXNDb25uZWN0ZWQpe2xldCBzPXlpZWxkIHRoaXMucGluZyh0KTt0aGlzLnBvbmdSZXNwb25zZVRpbWVzLmVucXVldWUocykscz50PyhvLmQodGhpcy5UQUcsYFBvbmcgdGltZW91dCAke2V9LCBwYWdlSGlkZGVuPSR7Z3IoKX1gKSx0aGlzLmlkPT09ZSYmdGhpcy5zZXRJc0Nvbm5lY3RlZCghMSxcInBpbmcgcG9uZyBmYWlsdXJlXCIpKTpzZXRUaW1lb3V0KCgpPT50aGlzLnBpbmdQb25nTG9vcChlKSwoKGk9d2luZG93LkhNUyk9PW51bGw/dm9pZCAwOmkuUElOR19JTlRFUlZBTCl8fFJyKX19KX1jYWxsKGUsdCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCByPTMsaT1tLldlYnNvY2tldE1ldGhvZEVycm9ycy5TZXJ2ZXJFcnJvcnMoNTAwLGUsYERlZmF1bHQgJHtlfSBlcnJvcmApO2ZvcihsZXQgcz0wO3M8cjtzKyspdHJ5e3JldHVybiBvLmQodGhpcy5UQUcsYFRyeSBudW1iZXIgJHtzKzF9IHNlbmRpbmcgJHtlfWAsdCkseWllbGQgdGhpcy5pbnRlcm5hbENhbGwoZSx0KX1jYXRjaChuKXtpZihpPW4sby5lKHRoaXMuVEFHLGBGYWlsZWQgc2VuZGluZyAke2V9YCx7bWV0aG9kOmUsdHJ5OnMrMSxwYXJhbXM6dCxlcnJvcjppfSksIShwYXJzZUludChgJHtpLmNvZGUvMTAwfWApPT09NXx8aS5jb2RlPT09NDI5KSlicmVhaztsZXQgbD0oMitNYXRoLnJhbmRvbSgpKjIpKjFlMzt5aWVsZCBqKGwpfXRocm93IG8uZShgU2VuZGluZyAke2V9IG92ZXIgV1MgZmFpbGVkIGFmdGVyICR7cn0gcmV0cmllc2Ase21ldGhvZDplLHBhcmFtczp0LGVycm9yOml9KSxpfSl9fTt2YXIgWHI9KCk9PntpZighWHx8dHlwZW9mIG5hdmlnYXRvci5jb25uZWN0aW9uPT1cInVuZGVmaW5lZFwiKXJldHVybjtsZXQgYT1uYXZpZ2F0b3IuY29ubmVjdGlvbjtyZXR1cm57ZG93bmxpbms6YS5kb3dubGluayxkb3dubGlua01heDphLmRvd25saW5rTWF4LGVmZmVjdGl2ZVR5cGU6YS5lZmZlY3RpdmVUeXBlLHJ0dDphLnJ0dCxzYXZlRGF0YTphLnNhdmVEYXRhLHR5cGU6YS50eXBlfX07dmFyIFA9XCJbSE1TVHJhbnNwb3J0XTpcIixFdD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQscixpLHMsbil7dGhpcy5vYnNlcnZlcj1lO3RoaXMuZGV2aWNlTWFuYWdlcj10O3RoaXMuc3RvcmU9cjt0aGlzLmV2ZW50QnVzPWk7dGhpcy5hbmFseXRpY3NFdmVudHNTZXJ2aWNlPXM7dGhpcy5hbmFseXRpY3NUaW1lcj1uO3RoaXMuc3RhdGU9dy5EaXNjb25uZWN0ZWQ7dGhpcy50cmFja1N0YXRlcz1uZXcgTWFwO3RoaXMucHVibGlzaENvbm5lY3Rpb249bnVsbDt0aGlzLnN1YnNjcmliZUNvbm5lY3Rpb249bnVsbDt0aGlzLm1heFN1YnNjcmliZUJpdHJhdGU9MDt0aGlzLmpvaW5SZXRyeUNvdW50PTA7dGhpcy5jYWxsYmFja3M9bmV3IE1hcDt0aGlzLnNpZ25hbE9ic2VydmVyPXtvbk9mZmVyOmU9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe3RyeXtpZighdGhpcy5zdWJzY3JpYmVDb25uZWN0aW9uKXJldHVybjt5aWVsZCB0aGlzLnN1YnNjcmliZUNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oZSksby5kKFAsYFtTVUJTQ1JJQkVdIEFkZGluZyAke3RoaXMuc3Vic2NyaWJlQ29ubmVjdGlvbi5jYW5kaWRhdGVzLmxlbmd0aH0gaWNlLWNhbmRpZGF0ZXNgLHRoaXMuc3Vic2NyaWJlQ29ubmVjdGlvbi5jYW5kaWRhdGVzKTtmb3IobGV0IHIgb2YgdGhpcy5zdWJzY3JpYmVDb25uZWN0aW9uLmNhbmRpZGF0ZXMpeWllbGQgdGhpcy5zdWJzY3JpYmVDb25uZWN0aW9uLmFkZEljZUNhbmRpZGF0ZShyKTt0aGlzLnN1YnNjcmliZUNvbm5lY3Rpb24uY2FuZGlkYXRlcy5sZW5ndGg9MDtsZXQgdD15aWVsZCB0aGlzLnN1YnNjcmliZUNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7eWllbGQgdGhpcy5zdWJzY3JpYmVDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24odCksdGhpcy5zaWduYWwuYW5zd2VyKHQpLG8uZChQLFwiW3JvbGU9U1VCU0NSSUJFXSBvbk9mZmVyIHJlbmVnb3RpYXRpb24gRE9ORSBcXHUyNzA1XCIpfWNhdGNoKHQpe28uZChQLFwiW3JvbGU9U1VCU0NSSUJFXSBvbk9mZmVyIHJlbmVnb3RpYXRpb24gRkFJTEVEIFxcdTI3NENcIiksdGhpcy5zdGF0ZT13LkZhaWxlZDtsZXQgcjt0aHJvdyB0IGluc3RhbmNlb2YgVD9yPXQ6cj1tLkdlbmVyaWNFcnJvcnMuVW5rbm93bihwLlBVQkxJU0gsdC5tZXNzYWdlKSx0aGlzLmV2ZW50QnVzLmFuYWx5dGljcy5wdWJsaXNoKFIuc3Vic2NyaWJlRmFpbChyKSkscn19KSxvblRyaWNrbGU6ZT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IHQ9ZS50YXJnZXQ9PT0kLlB1Ymxpc2g/dGhpcy5wdWJsaXNoQ29ubmVjdGlvbjp0aGlzLnN1YnNjcmliZUNvbm5lY3Rpb247KHQ9PW51bGw/dm9pZCAwOnQucmVtb3RlRGVzY3JpcHRpb24pP3lpZWxkIHQuYWRkSWNlQ2FuZGlkYXRlKGUuY2FuZGlkYXRlKTp0PT1udWxsfHx0LmNhbmRpZGF0ZXMucHVzaChlLmNhbmRpZGF0ZSl9KSxvbk5vdGlmaWNhdGlvbjplPT50aGlzLm9ic2VydmVyLm9uTm90aWZpY2F0aW9uKGUpLG9uU2VydmVyRXJyb3I6ZT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5vYnNlcnZlci5vblN0YXRlQ2hhbmdlKHcuRmFpbGVkLGUpfSksb25GYWlsdXJlOmU9Pnt0aGlzLmpvaW5QYXJhbWV0ZXJzJiZ0aGlzLnJldHJ5U2NoZWR1bGVyLnNjaGVkdWxlKHtjYXRlZ29yeTpDLlNpZ25hbERpc2Nvbm5lY3QsZXJyb3I6ZSx0YXNrOnRoaXMucmV0cnlTaWduYWxEaXNjb25uZWN0VGFzayxvcmlnaW5hbFN0YXRlOnRoaXMuc3RhdGV9KX0sb25PZmZsaW5lOmU9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe28uZChQLFwic29ja2V0IG9mZmxpbmVcIix3W3RoaXMuc3RhdGVdKTt0cnl7dGhpcy5zdGF0ZSE9PXcuTGVhdmluZyYmdGhpcy5qb2luUGFyYW1ldGVycyYmdGhpcy5yZXRyeVNjaGVkdWxlci5zY2hlZHVsZSh7Y2F0ZWdvcnk6Qy5TaWduYWxEaXNjb25uZWN0LGVycm9yOm0uV2ViU29ja2V0Q29ubmVjdGlvbkVycm9ycy5XZWJTb2NrZXRDb25uZWN0aW9uTG9zdChwLlJFQ09OTkVDVF9TSUdOQUwsZSksdGFzazp0aGlzLnJldHJ5U2lnbmFsRGlzY29ubmVjdFRhc2ssb3JpZ2luYWxTdGF0ZTp0aGlzLnN0YXRlfSl9Y2F0Y2godCl7Y29uc29sZS5lcnJvcih0KX19KSxvbk9ubGluZTooKT0+e3ZhciBlO28uZChQLFwic29ja2V0IG9ubGluZVwiLHdbdGhpcy5zdGF0ZV0pLHRoaXMuYW5hbHl0aWNzU2lnbmFsVHJhbnNwb3J0LmZsdXNoRmFpbGVkRXZlbnRzKChlPXRoaXMuc3RvcmUuZ2V0TG9jYWxQZWVyKCkpPT1udWxsP3ZvaWQgMDplLnBlZXJJZCl9LG9uTmV0d29ya09ubGluZTooKT0+e3RoaXMuYW5hbHl0aWNzRXZlbnRzU2VydmljZS5mbHVzaEZhaWxlZENsaWVudEV2ZW50cygpfX07dGhpcy5zaWduYWw9bmV3IGZ0KHRoaXMuc2lnbmFsT2JzZXJ2ZXIpO3RoaXMuYW5hbHl0aWNzU2lnbmFsVHJhbnNwb3J0PW5ldyBYdCh0aGlzLnNpZ25hbCk7dGhpcy5wdWJsaXNoQ29ubmVjdGlvbk9ic2VydmVyPXtvblJlbmVnb3RpYXRpb25OZWVkZWQ6KCk9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMucGVyZm9ybVB1Ymxpc2hSZW5lZ290aWF0aW9uKCl9KSxvbkljZUNvbm5lY3Rpb25DaGFuZ2U6ZT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7KGU9PT1cImRpc2Nvbm5lY3RlZFwiP28udy5iaW5kKG8pOm8uZC5iaW5kKG8pKShQLGBQdWJsaXNoIGljZSBjb25uZWN0aW9uIHN0YXRlIGNoYW5nZTogJHtlfWApfSksb25Db25uZWN0aW9uU3RhdGVDaGFuZ2U6ZT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIHI7KGU9PT1cImRpc2Nvbm5lY3RlZFwiP28udy5iaW5kKG8pOm8uZC5iaW5kKG8pKShQLGBQdWJsaXNoIGNvbm5lY3Rpb24gc3RhdGUgY2hhbmdlOiAke2V9YCksZT09PVwiY29ubmVjdGVkXCImJigocj10aGlzLnB1Ymxpc2hDb25uZWN0aW9uKT09bnVsbHx8ci5sb2dTZWxlY3RlZEljZUNhbmRpZGF0ZVBhaXJzKCkpLGU9PT1cImZhaWxlZFwiJiYoeWllbGQgdGhpcy5oYW5kbGVJY2VDb25uZWN0aW9uRmFpbHVyZSgkLlB1Ymxpc2gpKX0pfTt0aGlzLnN1YnNjcmliZUNvbm5lY3Rpb25PYnNlcnZlcj17b25BcGlDaGFubmVsTWVzc2FnZTplPT57dGhpcy5vYnNlcnZlci5vbk5vdGlmaWNhdGlvbihKU09OLnBhcnNlKGUpKX0sb25UcmFja0FkZDplPT57by5kKFAsXCJbU3Vic2NyaWJlXSBvblRyYWNrQWRkXCIsYCR7ZX1gKSx0aGlzLm9ic2VydmVyLm9uVHJhY2tBZGQoZSl9LG9uVHJhY2tSZW1vdmU6ZT0+e28uZChQLFwiW1N1YnNjcmliZV0gb25UcmFja1JlbW92ZVwiLGAke2V9YCksdGhpcy5vYnNlcnZlci5vblRyYWNrUmVtb3ZlKGUpfSxvbkljZUNvbm5lY3Rpb25DaGFuZ2U6ZT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYoKGU9PT1cImRpc2Nvbm5lY3RlZFwiP28udy5iaW5kKG8pOm8uZC5iaW5kKG8pKShQLGBTdWJzY3JpYmUgaWNlIGNvbm5lY3Rpb24gc3RhdGUgY2hhbmdlOiAke2V9YCksZT09PVwiY29ubmVjdGVkXCIpe2xldCByPXRoaXMuY2FsbGJhY2tzLmdldChDZSk7dGhpcy5jYWxsYmFja3MuZGVsZXRlKENlKSxyJiZyLnByb21pc2UucmVzb2x2ZSghMCl9fSksb25Db25uZWN0aW9uU3RhdGVDaGFuZ2U6ZT0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIHI7aWYoKGU9PT1cImRpc2Nvbm5lY3RlZFwiP28udy5iaW5kKG8pOm8uZC5iaW5kKG8pKShQLGBTdWJzY3JpYmUgY29ubmVjdGlvbiBzdGF0ZSBjaGFuZ2U6ICR7ZX1gKSxlPT09XCJmYWlsZWRcIiYmKHlpZWxkIHRoaXMuaGFuZGxlSWNlQ29ubmVjdGlvbkZhaWx1cmUoJC5TdWJzY3JpYmUpKSxlPT09XCJjb25uZWN0ZWRcIil7KHI9dGhpcy5zdWJzY3JpYmVDb25uZWN0aW9uKT09bnVsbHx8ci5sb2dTZWxlY3RlZEljZUNhbmRpZGF0ZVBhaXJzKCk7bGV0IGk9dGhpcy5jYWxsYmFja3MuZ2V0KENlKTt0aGlzLmNhbGxiYWNrcy5kZWxldGUoQ2UpLGkmJmkucHJvbWlzZS5yZXNvbHZlKCEwKX19KX07dGhpcy5oYW5kbGVMb2NhbFJvbGVVcGRhdGU9cj0+Yyh0aGlzLFtyXSxmdW5jdGlvbiooe29sZFJvbGU6ZSxuZXdSb2xlOnR9KXshKCF0aGlzLmRvZXNSb2xlTmVlZFdlYlJUQyhlKSYmdGhpcy5kb2VzUm9sZU5lZWRXZWJSVEModCkpfHwoby5pKFAsXCJMb2NhbCBwZWVyIHJvbGUgdXBkYXRlZCB0byB3ZWJydGMgcm9sZSwgY3JlYXRpbmcgUGVlckNvbm5lY3Rpb25zIGFuZCBwZXJmb3JtaW5nIGluaXRhbCBwdWJsaXNoIG5lZ290aWF0aW9uIFxcdTIzRjNcIiksdGhpcy5jcmVhdGVQZWVyQ29ubmVjdGlvbnMoKSx5aWVsZCB0aGlzLm5lZ290aWF0ZU9uRmlyc3RQdWJsaXNoKCkpfSk7dGhpcy5yZXRyeVB1Ymxpc2hJY2VGYWlsZWRUYXNrPSgpPT5jKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZih0aGlzLnB1Ymxpc2hDb25uZWN0aW9uJiYodGhpcy5wdWJsaXNoQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUhPT1cImNvbm5lY3RlZFwifHx0aGlzLnB1Ymxpc2hDb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZSE9PVwiY29ubmVjdGVkXCIpKXtsZXQgZT1uZXcgUHJvbWlzZSgodCxyKT0+e3RoaXMuY2FsbGJhY2tzLnNldChiZSx7cHJvbWlzZTp7cmVzb2x2ZTp0LHJlamVjdDpyfSxhY3Rpb246cC5SRVNUQVJUX0lDRSxleHRyYTp7fX0pfSk7eWllbGQgdGhpcy5wZXJmb3JtUHVibGlzaFJlbmVnb3RpYXRpb24oe2ljZVJlc3RhcnQ6ITB9KSx5aWVsZCBlfXJldHVybiEwfSk7dGhpcy5yZXRyeVN1YnNjcmliZUljZUZhaWxlZFRhc2s9KCk9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKHRoaXMuc3Vic2NyaWJlQ29ubmVjdGlvbiYmKHRoaXMuc3Vic2NyaWJlQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUhPT1cImNvbm5lY3RlZFwifHx0aGlzLnN1YnNjcmliZUNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlIT09XCJjb25uZWN0ZWRcIikpe2xldCBlPW5ldyBQcm9taXNlKChyLGkpPT57dGhpcy5jYWxsYmFja3Muc2V0KENlLHtwcm9taXNlOntyZXNvbHZlOnIscmVqZWN0Oml9LGFjdGlvbjpwLlJFU1RBUlRfSUNFLGV4dHJhOnt9fSl9KSx0PW5ldyBQcm9taXNlKHI9PntzZXRUaW1lb3V0KHIsSHIsITEpfSk7cmV0dXJuIFByb21pc2UucmFjZShbZSx0XSl9cmV0dXJuITB9KTt0aGlzLnJldHJ5U2lnbmFsRGlzY29ubmVjdFRhc2s9KCk9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKG8uZChQLFwicmV0cnlTaWduYWxEaXNjb25uZWN0VGFza1wiLHtzaWduYWxDb25uZWN0ZWQ6dGhpcy5zaWduYWwuaXNDb25uZWN0ZWR9KSwhdGhpcy5zaWduYWwuaXNDb25uZWN0ZWQpdHJ5e3lpZWxkIHRoaXMuaW50ZXJuYWxDb25uZWN0KHRoaXMuam9pblBhcmFtZXRlcnMuYXV0aFRva2VuLHRoaXMuam9pblBhcmFtZXRlcnMuZW5kcG9pbnQsdGhpcy5qb2luUGFyYW1ldGVycy5wZWVySWQpfWNhdGNoKHQpe31sZXQgZT10aGlzLnN0b3JlLmdldFJvb20oKS5qb2luZWRBdD90aGlzLnNpZ25hbC5pc0Nvbm5lY3RlZCYmKHlpZWxkIHRoaXMucmV0cnlQdWJsaXNoSWNlRmFpbGVkVGFzaygpKTp0aGlzLnNpZ25hbC5pc0Nvbm5lY3RlZDtyZXR1cm4gdGhpcy5zaWduYWwudHJhY2tVcGRhdGUodGhpcy50cmFja1N0YXRlcyksZX0pO3ZhciBsLGg7dGhpcy53ZWJydGNJbnRlcm5hbHM9bmV3IHZ0KHRoaXMuc3RvcmUsdGhpcy5ldmVudEJ1cywobD10aGlzLnB1Ymxpc2hDb25uZWN0aW9uKT09bnVsbD92b2lkIDA6bC5uYXRpdmVDb25uZWN0aW9uLChoPXRoaXMuc3Vic2NyaWJlQ29ubmVjdGlvbik9PW51bGw/dm9pZCAwOmgubmF0aXZlQ29ubmVjdGlvbik7bGV0IGQ9KHUsZyk9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe3UhPT10aGlzLnN0YXRlJiYodGhpcy5zdGF0ZT11LHlpZWxkIHRoaXMub2JzZXJ2ZXIub25TdGF0ZUNoYW5nZSh0aGlzLnN0YXRlLGcpKX0pO3RoaXMucmV0cnlTY2hlZHVsZXI9bmV3IFF0KGQsdGhpcy5zZW5kRXJyb3JBbmFseXRpY3NFdmVudC5iaW5kKHRoaXMpKSx0aGlzLmV2ZW50QnVzLnN0YXRzVXBkYXRlLnN1YnNjcmliZSh1PT57dmFyIFMseTtsZXQgZz0oKHk9KFM9dS5nZXRMb2NhbFBlZXJTdGF0cygpKT09bnVsbD92b2lkIDA6Uy5zdWJzY3JpYmUpPT1udWxsP3ZvaWQgMDp5LmJpdHJhdGUpfHwwO3RoaXMubWF4U3Vic2NyaWJlQml0cmF0ZT1NYXRoLm1heCh0aGlzLm1heFN1YnNjcmliZUJpdHJhdGUsZyl9KX1nZXRXZWJydGNJbnRlcm5hbHMoKXtyZXR1cm4gdGhpcy53ZWJydGNJbnRlcm5hbHN9aXNGbGFnRW5hYmxlZChlKXt2YXIgaTtsZXQgdD0oaT10aGlzLmluaXRDb25maWcpPT1udWxsP3ZvaWQgMDppLmNvbmZpZztyZXR1cm4oKHQ9PW51bGw/dm9pZCAwOnQuZW5hYmxlZEZsYWdzKXx8W10pLmluY2x1ZGVzKGUpfXByZXZpZXcoZSx0LHIsaSxzPSExKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IG49eWllbGQgdGhpcy5jb25uZWN0KGUsdCxyLGkscyk7cmV0dXJuIHRoaXMuc3RhdGU9dy5QcmV2aWV3LHRoaXMub2JzZXJ2ZXIub25TdGF0ZUNoYW5nZSh0aGlzLnN0YXRlKSxufSl9am9pbihlLHQscixpLHM9ITEpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtvLmQoUCxcImpvaW46IHN0YXJ0ZWQgXFx1MjNGMFwiKTt0cnl7KCF0aGlzLnNpZ25hbC5pc0Nvbm5lY3RlZHx8IXRoaXMuaW5pdENvbmZpZykmJih5aWVsZCB0aGlzLmNvbm5lY3QoZSxpLHQscixzKSksdGhpcy52YWxpZGF0ZU5vdERpc2Nvbm5lY3RlZChcImNvbm5lY3RcIiksdGhpcy5pbml0Q29uZmlnJiYoeWllbGQgdGhpcy53YWl0Rm9yTG9jYWxSb2xlQXZhaWxhYmlsaXR5KCkseWllbGQgdGhpcy5jcmVhdGVDb25uZWN0aW9uc0FuZE5lZ290aWF0ZUpvaW4ocixzKSx5aWVsZCB0aGlzLmluaXRSdGNTdGF0c01vbml0b3IoKSxvLmQoUCxcIlxcdTI3MDUgam9pbjogTmVnb3RpYXRlZCBvdmVyIFBVQkxJU0ggY29ubmVjdGlvblwiKSl9Y2F0Y2gobil7by5lKFAsYGpvaW46IGZhaWxlZCBcXHUyNzRDIFt0b2tlbj0ke2V9XWAsbiksdGhpcy5zdGF0ZT13LkZhaWxlZDtsZXQgZD1uO3Rocm93IGQuaXNUZXJtaW5hbD1kLmlzVGVybWluYWx8fGQuY29kZT09PTUwMCx5aWVsZCB0aGlzLm9ic2VydmVyLm9uU3RhdGVDaGFuZ2UodGhpcy5zdGF0ZSxkKSxkfW8uaShQLFwiXFx1MjcwNSBqb2luOiBzdWNjZXNzZnVsXCIpLHRoaXMuc3RhdGU9dy5Kb2luZWQsdGhpcy5vYnNlcnZlci5vblN0YXRlQ2hhbmdlKHRoaXMuc3RhdGUpfSl9Y29ubmVjdChlLHQscixpLHM9ITEpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt0aGlzLnNldFRyYW5zcG9ydFN0YXRlRm9yQ29ubmVjdCgpLHRoaXMuam9pblBhcmFtZXRlcnM9bmV3IGp0KGUscixpLm5hbWUsaS5tZXRhRGF0YSx0LHMpO3RyeXtyZXR1cm4geWllbGQgdGhpcy5pbnRlcm5hbENvbm5lY3QoZSx0LHIpfWNhdGNoKG4pe2lmKG4gaW5zdGFuY2VvZiBUJiYoW2YuV2ViU29ja2V0Q29ubmVjdGlvbkVycm9ycy5XRUJTT0NLRVRfQ09OTkVDVElPTl9MT1NULGYuV2ViU29ja2V0Q29ubmVjdGlvbkVycm9ycy5GQUlMRURfVE9fQ09OTkVDVCxmLldlYlNvY2tldENvbm5lY3Rpb25FcnJvcnMuQUJOT1JNQUxfQ0xPU0UsZi5Jbml0QVBJRXJyb3JzLkVORFBPSU5UX1VOUkVBQ0hBQkxFXS5pbmNsdWRlcyhuLmNvZGUpfHxuLmNvZGUudG9TdHJpbmcoKS5zdGFydHNXaXRoKFwiNVwiKXx8bi5jb2RlLnRvU3RyaW5nKCkuc3RhcnRzV2l0aChcIjQyOVwiKSkpe2xldCBsPSgpPT5jKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4geWllbGQgdGhpcy5pbnRlcm5hbENvbm5lY3QoZSx0LHIpLEJvb2xlYW4odGhpcy5pbml0Q29uZmlnJiZ0aGlzLmluaXRDb25maWcuZW5kcG9pbnQpfSk7eWllbGQgdGhpcy5yZXRyeVNjaGVkdWxlci5zY2hlZHVsZSh7Y2F0ZWdvcnk6Qy5Db25uZWN0RmFpbGVkLGVycm9yOm4sdGFzazpsLG9yaWdpbmFsU3RhdGU6dGhpcy5zdGF0ZSxtYXhGYWlsZWRSZXRyaWVzOnhlLGNoYW5nZVN0YXRlOiExfSl9ZWxzZSB0aHJvdyBufX0pfWxlYXZlKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgdCxyLGksczt0aGlzLnJldHJ5U2NoZWR1bGVyLnJlc2V0KCksdGhpcy5qb2luUGFyYW1ldGVycz12b2lkIDAsby5kKFAsXCJsZWF2aW5nIGluIHRyYW5zcG9ydFwiKTt0cnl7aWYodGhpcy5zdGF0ZT13LkxlYXZpbmcsKHQ9dGhpcy53ZWJydGNJbnRlcm5hbHMpPT1udWxsfHx0LmNsZWFuVXAoKSwocj10aGlzLnRyYWNrRGVncmFkYXRpb25Db250cm9sbGVyKT09bnVsbHx8ci5jbGVhblVwKCkseWllbGQoaT10aGlzLnB1Ymxpc2hDb25uZWN0aW9uKT09bnVsbD92b2lkIDA6aS5jbG9zZSgpLHlpZWxkKHM9dGhpcy5zdWJzY3JpYmVDb25uZWN0aW9uKT09bnVsbD92b2lkIDA6cy5jbG9zZSgpLGUpdHJ5e3RoaXMuc2lnbmFsLmxlYXZlKCksby5kKFAsXCJzaWduYWwgbGVhdmUgZG9uZVwiKX1jYXRjaChuKXtvLncoUCxcImZhaWxlZCB0byBzZW5kIGxlYXZlIG9uIHdlYnNvY2tldCB0byBzZXJ2ZXJcIixuKX10aGlzLmFuYWx5dGljc0V2ZW50c1NlcnZpY2UuZmx1c2hGYWlsZWRDbGllbnRFdmVudHMoKSx0aGlzLmFuYWx5dGljc0V2ZW50c1NlcnZpY2UucmVzZXQoKSx5aWVsZCB0aGlzLnNpZ25hbC5jbG9zZSgpfWNhdGNoKG4pe3RoaXMuZXZlbnRCdXMuYW5hbHl0aWNzLnB1Ymxpc2goUi5kaXNjb25uZWN0KG4pKSxvLmUoUCxcImxlYXZlOiBGQUlMRUQgXFx1Mjc0Q1wiLG4pfWZpbmFsbHl7dGhpcy5zdGF0ZT13LkRpc2Nvbm5lY3RlZCx0aGlzLm9ic2VydmVyLm9uU3RhdGVDaGFuZ2UodGhpcy5zdGF0ZSl9fSl9cHVibGlzaChlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7Zm9yKGxldCB0IG9mIGUpdHJ5e3lpZWxkIHRoaXMucHVibGlzaFRyYWNrKHQpfWNhdGNoKHIpe3RoaXMuZXZlbnRCdXMuYW5hbHl0aWNzLnB1Ymxpc2goUi5wdWJsaXNoKHtkZXZpY2VzOnRoaXMuZGV2aWNlTWFuYWdlci5nZXREZXZpY2VzKCksZXJyb3I6cn0pKX19KX11bnB1Ymxpc2goZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2ZvcihsZXQgdCBvZiBlKXlpZWxkIHRoaXMudW5wdWJsaXNoVHJhY2sodCl9KX1zZW5kTWVzc2FnZShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHlpZWxkIHRoaXMuc2lnbmFsLmJyb2FkY2FzdChlKX0pfXRyYWNrVXBkYXRlKGUpe2xldCByPUFycmF5LmZyb20odGhpcy50cmFja1N0YXRlcy52YWx1ZXMoKSkuZmluZChpPT5lLnR5cGU9PT1pLnR5cGUmJmUuc291cmNlPT09aS5zb3VyY2UpO2lmKHIpe2xldCBpPW5ldyBkdChfKHYoe30scikse211dGU6IWUuZW5hYmxlZH0pKTt0aGlzLnRyYWNrU3RhdGVzLnNldChyLnRyYWNrX2lkLGkpLG8uZChQLFwiVHJhY2sgVXBkYXRlXCIsdGhpcy50cmFja1N0YXRlcyxlKSx0aGlzLnNpZ25hbC50cmFja1VwZGF0ZShuZXcgTWFwKFtbci50cmFja19pZCxpXV0pKX19Y2hhbmdlUm9sZShlLHQscj0hMSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuc2lnbmFsLnJlcXVlc3RSb2xlQ2hhbmdlKHtyZXF1ZXN0ZWRfZm9yOmUucGVlcklkLHJvbGU6dCxmb3JjZTpyfSl9KX1jaGFuZ2VSb2xlT2ZQZWVyKGUsdCxyKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5zaWduYWwucmVxdWVzdFJvbGVDaGFuZ2Uoe3JlcXVlc3RlZF9mb3I6ZS5wZWVySWQscm9sZTp0LGZvcmNlOnJ9KX0pfWNoYW5nZVJvbGVPZlBlZXJzV2l0aFJvbGVzKGUsdCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuc2lnbmFsLnJlcXVlc3RCdWxrUm9sZUNoYW5nZSh7cm9sZXM6ZS5tYXAocj0+ci5uYW1lKSxyb2xlOnQsZm9yY2U6ITB9KX0pfWFjY2VwdFJvbGVDaGFuZ2UoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuc2lnbmFsLmFjY2VwdFJvbGVDaGFuZ2VSZXF1ZXN0KHtyb2xlOmUucm9sZS5uYW1lLHRva2VuOmUudG9rZW59KX0pfWVuZFJvb20oZSx0KXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5zaWduYWwuZW5kUm9vbShlLHQpfSl9cmVtb3ZlUGVlcihlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLnNpZ25hbC5yZW1vdmVQZWVyKHtyZXF1ZXN0ZWRfZm9yOmUscmVhc29uOnR9KX0pfXN0YXJ0UlRNUE9yUmVjb3JkaW5nKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgcjtsZXQgdD17bWVldGluZ191cmw6ZS5tZWV0aW5nVVJMLHJlY29yZDplLnJlY29yZH07KChyPWUucnRtcFVSTHMpPT1udWxsP3ZvaWQgMDpyLmxlbmd0aCkmJih0LnJ0bXBfdXJscz1lLnJ0bXBVUkxzKSxlLnJlc29sdXRpb24mJih0LnJlc29sdXRpb249ZS5yZXNvbHV0aW9uKSx5aWVsZCB0aGlzLnNpZ25hbC5zdGFydFJUTVBPclJlY29yZGluZyh0KX0pfXN0b3BSVE1QT3JSZWNvcmRpbmcoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5zaWduYWwuc3RvcFJUTVBBbmRSZWNvcmRpbmcoKX0pfXN0YXJ0SExTU3RyZWFtaW5nKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtsZXQgdD17fTtlJiZlLnZhcmlhbnRzJiZlLnZhcmlhbnRzLmxlbmd0aD4wJiYodC52YXJpYW50cz1lLnZhcmlhbnRzLm1hcChyPT57bGV0IGk9e21lZXRpbmdfdXJsOnIubWVldGluZ1VSTH07cmV0dXJuIHIubWV0YWRhdGEmJihpLm1ldGFkYXRhPXIubWV0YWRhdGEpLGl9KSksKGU9PW51bGw/dm9pZCAwOmUucmVjb3JkaW5nKSYmKHQuaGxzX3JlY29yZGluZz17c2luZ2xlX2ZpbGVfcGVyX2xheWVyOmUucmVjb3JkaW5nLnNpbmdsZUZpbGVQZXJMYXllcixobHNfdm9kOmUucmVjb3JkaW5nLmhsc1ZvZH0pLHlpZWxkIHRoaXMuc2lnbmFsLnN0YXJ0SExTU3RyZWFtaW5nKHQpfSl9c3RvcEhMU1N0cmVhbWluZyhlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIHQ7aWYoZSl7bGV0IHI9e3ZhcmlhbnRzOih0PWU9PW51bGw/dm9pZCAwOmUudmFyaWFudHMpPT1udWxsP3ZvaWQgMDp0Lm1hcChpPT57bGV0IHM9e21lZXRpbmdfdXJsOmkubWVldGluZ1VSTH07cmV0dXJuIGkubWV0YWRhdGEmJihzLm1ldGFkYXRhPWkubWV0YWRhdGEpLHN9KX07eWllbGQgdGhpcy5zaWduYWwuc3RvcEhMU1N0cmVhbWluZyhyKX15aWVsZCB0aGlzLnNpZ25hbC5zdG9wSExTU3RyZWFtaW5nKCl9KX1zZW5kSExTVGltZWRNZXRhZGF0YShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7aWYoZS5sZW5ndGg+MCl7bGV0IHQ9e21ldGFkYXRhX29ianM6ZX07eWllbGQgdGhpcy5zaWduYWwuc2VuZEhMU1RpbWVkTWV0YWRhdGEodCl9fSl9Y2hhbmdlTmFtZShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IHQ9dGhpcy5zdG9yZS5nZXRMb2NhbFBlZXIoKTt0JiZ0Lm5hbWUhPT1lJiYoeWllbGQgdGhpcy5zaWduYWwudXBkYXRlUGVlcih7bmFtZTplfSkpfSl9Y2hhbmdlTWV0YWRhdGEoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuc2lnbmFsLnVwZGF0ZVBlZXIoe2RhdGE6ZX0pfSl9Z2V0U2Vzc2lvbk1ldGFkYXRhKCl7cmV0dXJuIHRoaXMuc2lnbmFsLmdldFNlc3Npb25NZXRhZGF0YSgpfXNldFNlc3Npb25NZXRhZGF0YShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7eWllbGQgdGhpcy5zaWduYWwuc2V0U2Vzc2lvbk1ldGFkYXRhKHtkYXRhOmV9KX0pfWNoYW5nZVRyYWNrU3RhdGUoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuc2lnbmFsLnJlcXVlc3RUcmFja1N0YXRlQ2hhbmdlKGUpfSl9Y2hhbmdlTXVsdGlUcmFja1N0YXRlKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLnNpZ25hbC5yZXF1ZXN0TXVsdGlUcmFja1N0YXRlQ2hhbmdlKGUpfSl9cHVibGlzaFRyYWNrKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtlLnB1Ymxpc2hlZFRyYWNrSWQ9ZS5nZXRUcmFja0lEQmVpbmdTZW50KCksby5kKFAsYFxcdTIzRjMgcHVibGlzaFRyYWNrOiB0cmFja0lkPSR7ZS50cmFja0lkfSwgdG9QdWJsaXNoVHJhY2tJZD0ke2UucHVibGlzaGVkVHJhY2tJZH1gLGAke2V9YCksdGhpcy50cmFja1N0YXRlcy5zZXQoZS5wdWJsaXNoZWRUcmFja0lkLG5ldyBkdChlKSk7bGV0IHQ9bmV3IFByb21pc2UoKG4sZCk9Pnt0aGlzLmNhbGxiYWNrcy5zZXQoYmUse3Byb21pc2U6e3Jlc29sdmU6bixyZWplY3Q6ZH0sYWN0aW9uOnAuUFVCTElTSCxleHRyYTp7fX0pfSkscj1lLnN0cmVhbTtyLnNldENvbm5lY3Rpb24odGhpcy5wdWJsaXNoQ29ubmVjdGlvbik7bGV0IGk9dGhpcy5zdG9yZS5nZXRTaW11bGNhc3RMYXllcnMoZS5zb3VyY2UpO3IuYWRkVHJhbnNjZWl2ZXIoZSxpKSxvLnRpbWUoYHB1Ymxpc2gtJHtlLnRyYWNrSWR9LSR7ZS50eXBlfWApLHlpZWxkIHQsby50aW1lRW5kKGBwdWJsaXNoLSR7ZS50cmFja0lkfS0ke2UudHlwZX1gKSx0aGlzLnN0b3JlLmFkZFRyYWNrKGUpO2xldCBzPWUuc2V0dGluZ3MubWF4Qml0cmF0ZTtzJiYoeWllbGQgci5zZXRNYXhCaXRyYXRlKHMsZSkudGhlbigoKT0+e28uZChQLGBTZXR0aW5nIG1heEJpdHJhdGUgZm9yICR7ZS5zb3VyY2V9ICR7ZS50eXBlfSB0byAke3N9IGtwYnNgKX0pLmNhdGNoKG49Pm8udyhQLFwiRmFpbGVkIHNldHRpbmcgbWF4Qml0cmF0ZVwiLG4pKSksby5kKFAsYFxcdTI3MDUgcHVibGlzaFRyYWNrOiB0cmFja0lkPSR7ZS50cmFja0lkfWAsYCR7ZX1gLHRoaXMuY2FsbGJhY2tzKX0pfXVucHVibGlzaFRyYWNrKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZihvLmQoUCxgXFx1MjNGMyB1bnB1Ymxpc2hUcmFjazogdHJhY2tJZD0ke2UudHJhY2tJZH1gLGAke2V9YCksZS5wdWJsaXNoZWRUcmFja0lkJiZ0aGlzLnRyYWNrU3RhdGVzLmhhcyhlLnB1Ymxpc2hlZFRyYWNrSWQpKXRoaXMudHJhY2tTdGF0ZXMuZGVsZXRlKGUucHVibGlzaGVkVHJhY2tJZCk7ZWxzZXtsZXQgcz1BcnJheS5mcm9tKHRoaXMudHJhY2tTdGF0ZXMudmFsdWVzKCkpLmZpbmQobj0+ZS50eXBlPT09bi50eXBlJiZlLnNvdXJjZT09PW4uc291cmNlKTtzJiZ0aGlzLnRyYWNrU3RhdGVzLmRlbGV0ZShzLnRyYWNrX2lkKX1sZXQgdD1uZXcgUHJvbWlzZSgoaSxzKT0+e3RoaXMuY2FsbGJhY2tzLnNldChiZSx7cHJvbWlzZTp7cmVzb2x2ZTppLHJlamVjdDpzfSxhY3Rpb246cC5VTlBVQkxJU0gsZXh0cmE6e319KX0pO2Uuc3RyZWFtLnJlbW92ZVNlbmRlcihlKSx5aWVsZCB0LHlpZWxkIGUuY2xlYW51cCgpLHRoaXMuc3RvcmUucmVtb3ZlVHJhY2soZS50cmFja0lkKSxvLmQoUCxgXFx1MjcwNSB1bnB1Ymxpc2hUcmFjazogdHJhY2tJZD0ke2UudHJhY2tJZH1gLHRoaXMuY2FsbGJhY2tzKX0pfXdhaXRGb3JMb2NhbFJvbGVBdmFpbGFiaWxpdHkoKXtpZighdGhpcy5zdG9yZS5oYXNSb2xlRGV0YWlsc0Fycml2ZWQoKSlyZXR1cm4gbmV3IFByb21pc2UoZT0+e3RoaXMuZXZlbnRCdXMucG9saWN5Q2hhbmdlLnN1YnNjcmliZU9uY2UoKCk9PmUoKSl9KX1jcmVhdGVDb25uZWN0aW9uc0FuZE5lZ290aWF0ZUpvaW4oZSx0PSExKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7bGV0IHI9dGhpcy5kb2VzTG9jYWxQZWVyTmVlZFdlYlJUQygpO3ImJnRoaXMuY3JlYXRlUGVlckNvbm5lY3Rpb25zKCksdGhpcy5hbmFseXRpY3NUaW1lci5zdGFydChNLkpPSU5fUkVTUE9OU0UpLHlpZWxkIHRoaXMubmVnb3RpYXRlSm9pbldpdGhSZXRyeSh7bmFtZTplLm5hbWUsZGF0YTplLm1ldGFEYXRhLGF1dG9TdWJzY3JpYmVWaWRlbzp0LGlzV2ViUlRDOnJ9KSx0aGlzLmFuYWx5dGljc1RpbWVyLmVuZChNLkpPSU5fUkVTUE9OU0UpfSl9Y3JlYXRlUGVlckNvbm5lY3Rpb25zKCl7dGhpcy5pbml0Q29uZmlnJiYodGhpcy5wdWJsaXNoQ29ubmVjdGlvbnx8KHRoaXMucHVibGlzaENvbm5lY3Rpb249bmV3IGh0KHRoaXMuc2lnbmFsLHRoaXMuaW5pdENvbmZpZy5ydGNDb25maWd1cmF0aW9uLHRoaXMucHVibGlzaENvbm5lY3Rpb25PYnNlcnZlcix0aGlzKSksdGhpcy5zdWJzY3JpYmVDb25uZWN0aW9ufHwodGhpcy5zdWJzY3JpYmVDb25uZWN0aW9uPW5ldyBtdCh0aGlzLnNpZ25hbCx0aGlzLmluaXRDb25maWcucnRjQ29uZmlndXJhdGlvbix0aGlzLnN1YnNjcmliZUNvbm5lY3Rpb25PYnNlcnZlcikpKX1uZWdvdGlhdGVKb2luV2l0aFJldHJ5KHMpe3JldHVybiBjKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKih7bmFtZTplLGRhdGE6dCxhdXRvU3Vic2NyaWJlVmlkZW86cixpc1dlYlJUQzppPSEwfSl7dHJ5e3lpZWxkIHRoaXMubmVnb3RpYXRlSm9pbih7bmFtZTplLGRhdGE6dCxhdXRvU3Vic2NyaWJlVmlkZW86cixpc1dlYlJUQzppfSl9Y2F0Y2gobil7by5lKFAsXCJKb2luIG5lZ290aWF0aW9uIGZhaWxlZCBcXHUyNzRDXCIsbik7bGV0IGQ9biBpbnN0YW5jZW9mIFQ/bjptLldlYnNvY2tldE1ldGhvZEVycm9ycy5TZXJ2ZXJFcnJvcnMoNTAwLHAuSk9JTixgV2Vic29ja2V0IGpvaW4gZXJyb3IgLSAke24ubWVzc2FnZX1gKTtpZihwYXJzZUludChgJHtkLmNvZGUvMTAwfWApPT09NXx8ZC5jb2RlPT09NDI5KXt0aGlzLmpvaW5SZXRyeUNvdW50PTAsZC5pc1Rlcm1pbmFsPSExO2xldCBoPSgpPT5jKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtyZXR1cm4gdGhpcy5qb2luUmV0cnlDb3VudCsrLHlpZWxkIHRoaXMubmVnb3RpYXRlSm9pbih7bmFtZTplLGRhdGE6dCxhdXRvU3Vic2NyaWJlVmlkZW86cixpc1dlYlJUQzppfSl9KTt5aWVsZCB0aGlzLnJldHJ5U2NoZWR1bGVyLnNjaGVkdWxlKHtjYXRlZ29yeTpDLkpvaW5XU01lc3NhZ2VGYWlsZWQsZXJyb3I6ZCx0YXNrOmgsb3JpZ2luYWxTdGF0ZTp3LkpvaW5lZCxtYXhGYWlsZWRSZXRyaWVzOjMsY2hhbmdlU3RhdGU6ITF9KX1lbHNlIHRocm93IG59fSl9bmVnb3RpYXRlSm9pbihzKXtyZXR1cm4gYyh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbiooe25hbWU6ZSxkYXRhOnQsYXV0b1N1YnNjcmliZVZpZGVvOnIsaXNXZWJSVEM6aT0hMH0pe3JldHVybiBpP3lpZWxkIHRoaXMubmVnb3RpYXRlSm9pbldlYlJUQyh7bmFtZTplLGRhdGE6dCxhdXRvU3Vic2NyaWJlVmlkZW86cn0pOnlpZWxkIHRoaXMubmVnb3RpYXRlSm9pbk5vbldlYlJUQyh7bmFtZTplLGRhdGE6dCxhdXRvU3Vic2NyaWJlVmlkZW86cn0pfSl9bmVnb3RpYXRlSm9pbldlYlJUQyhpKXtyZXR1cm4gYyh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbiooe25hbWU6ZSxkYXRhOnQsYXV0b1N1YnNjcmliZVZpZGVvOnJ9KXtpZihvLmQoUCxcIlxcdTIzRjMgam9pbjogTmVnb3RpYXRpbmcgb3ZlciBQVUJMSVNIIGNvbm5lY3Rpb25cIiksIXRoaXMucHVibGlzaENvbm5lY3Rpb24pcmV0dXJuIG8uZShQLFwiUHVibGlzaCBwZWVyIGNvbm5lY3Rpb24gbm90IGZvdW5kLCBjYW5ub3QgbmVnb3RpYXRlXCIpLCExO2xldCBzPXlpZWxkIHRoaXMucHVibGlzaENvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKTt5aWVsZCB0aGlzLnB1Ymxpc2hDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24ocyk7bGV0IG49dGhpcy5pc0ZsYWdFbmFibGVkKGVlLkZMQUdfU0VSVkVSX1NVQl9ERUdSQURBVElPTiksZD10aGlzLmlzRmxhZ0VuYWJsZWQoZWUuRkxBR19TRVJWRVJfU0lNVUxDQVNUKSxsPXlpZWxkIHRoaXMuc2lnbmFsLmpvaW4oZSx0LCFyLG4sZCxzKTt5aWVsZCB0aGlzLnB1Ymxpc2hDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKGwpO2ZvcihsZXQgaCBvZiB0aGlzLnB1Ymxpc2hDb25uZWN0aW9uLmNhbmRpZGF0ZXMpeWllbGQgdGhpcy5wdWJsaXNoQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUoaCk7cmV0dXJuIHRoaXMucHVibGlzaENvbm5lY3Rpb24uaW5pdEFmdGVySm9pbigpLCEhbH0pfW5lZ290aWF0ZUpvaW5Ob25XZWJSVEMoaSl7cmV0dXJuIGModGhpcyxhcmd1bWVudHMsZnVuY3Rpb24qKHtuYW1lOmUsZGF0YTp0LGF1dG9TdWJzY3JpYmVWaWRlbzpyfSl7by5kKFAsXCJcXHUyM0YzIGpvaW46IE5lZ290aWF0aW5nIE5vbi1XZWJSVENcIik7bGV0IHM9dGhpcy5pc0ZsYWdFbmFibGVkKGVlLkZMQUdfU0VSVkVSX1NVQl9ERUdSQURBVElPTiksbj10aGlzLmlzRmxhZ0VuYWJsZWQoZWUuRkxBR19TRVJWRVJfU0lNVUxDQVNUKTtyZXR1cm4hISh5aWVsZCB0aGlzLnNpZ25hbC5qb2luKGUsdCwhcixzLG4pKX0pfW5lZ290aWF0ZU9uRmlyc3RQdWJsaXNoKCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2lmKG8uZChQLFwiXFx1MjNGMyBOZWdvdGlhdGluZyBvZmZlciBvdmVyIFBVQkxJU0ggY29ubmVjdGlvblwiKSwhdGhpcy5wdWJsaXNoQ29ubmVjdGlvbilyZXR1cm4gby5lKFAsXCJQdWJsaXNoIHBlZXIgY29ubmVjdGlvbiBub3QgZm91bmQsIGNhbm5vdCBuZWdvdGlhdGVcIiksITE7bGV0IGU9eWllbGQgdGhpcy5wdWJsaXNoQ29ubmVjdGlvbi5jcmVhdGVPZmZlcih0aGlzLnRyYWNrU3RhdGVzKTt5aWVsZCB0aGlzLnB1Ymxpc2hDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oZSk7bGV0IHQ9eWllbGQgdGhpcy5zaWduYWwub2ZmZXIoZSx0aGlzLnRyYWNrU3RhdGVzKTt5aWVsZCB0aGlzLnB1Ymxpc2hDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHQpO2ZvcihsZXQgciBvZiB0aGlzLnB1Ymxpc2hDb25uZWN0aW9uLmNhbmRpZGF0ZXMpeWllbGQgdGhpcy5wdWJsaXNoQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUocik7cmV0dXJuIHRoaXMucHVibGlzaENvbm5lY3Rpb24uaW5pdEFmdGVySm9pbigpLCEhdH0pfXBlcmZvcm1QdWJsaXNoUmVuZWdvdGlhdGlvbihlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7by5kKFAsXCJcXHUyM0YzIFtyb2xlPVBVQkxJU0hdIG9uUmVuZWdvdGlhdGlvbk5lZWRlZCBTVEFSVFwiLHRoaXMudHJhY2tTdGF0ZXMpO2xldCB0PXRoaXMuY2FsbGJhY2tzLmdldChiZSk7aWYoISF0KXtpZighdGhpcy5wdWJsaXNoQ29ubmVjdGlvbil7by5lKFAsXCJQdWJsaXNoIHBlZXIgY29ubmVjdGlvbiBub3QgZm91bmQsIGNhbm5vdCByZW5lZ290aWF0ZVwiKTtyZXR1cm59dHJ5e2xldCByPXlpZWxkIHRoaXMucHVibGlzaENvbm5lY3Rpb24uY3JlYXRlT2ZmZXIodGhpcy50cmFja1N0YXRlcyxlKTt5aWVsZCB0aGlzLnB1Ymxpc2hDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24ociksby50aW1lKFwicmVuZWdvdGlhdGlvbi1vZmZlci1leGNoYW5nZVwiKTtsZXQgaT15aWVsZCB0aGlzLnNpZ25hbC5vZmZlcihyLHRoaXMudHJhY2tTdGF0ZXMpO3RoaXMuY2FsbGJhY2tzLmRlbGV0ZShiZSksby50aW1lRW5kKFwicmVuZWdvdGlhdGlvbi1vZmZlci1leGNoYW5nZVwiKSx5aWVsZCB0aGlzLnB1Ymxpc2hDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKGkpLHQucHJvbWlzZS5yZXNvbHZlKCEwKSxvLmQoUCxcIltyb2xlPVBVQkxJU0hdIG9uUmVuZWdvdGlhdGlvbk5lZWRlZCBET05FIFxcdTI3MDVcIil9Y2F0Y2gocil7bGV0IGk7ciBpbnN0YW5jZW9mIFQ/aT1yOmk9bS5HZW5lcmljRXJyb3JzLlVua25vd24ocC5QVUJMSVNILHIubWVzc2FnZSksdC5wcm9taXNlLnJlamVjdChpKSxvLmQoUCxcIltyb2xlPVBVQkxJU0hdIG9uUmVuZWdvdGlhdGlvbk5lZWRlZCBGQUlMRUQgXFx1Mjc0Q1wiKX19fSl9aGFuZGxlSWNlQ29ubmVjdGlvbkZhaWx1cmUoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciB0LHIsaSxzO2U9PT0kLlB1Ymxpc2g/dGhpcy5yZXRyeVNjaGVkdWxlci5zY2hlZHVsZSh7Y2F0ZWdvcnk6Qy5QdWJsaXNoSWNlQ29ubmVjdGlvbkZhaWxlZCxlcnJvcjptLldlYnJ0Y0Vycm9ycy5JQ0VGYWlsdXJlKHAuUFVCTElTSCwoKHQ9dGhpcy5wdWJsaXNoQ29ubmVjdGlvbik9PW51bGw/dm9pZCAwOnQuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyKSYmSlNPTi5zdHJpbmdpZnkoKHI9dGhpcy5wdWJsaXNoQ29ubmVjdGlvbik9PW51bGw/dm9pZCAwOnIuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyKSksdGFzazp0aGlzLnJldHJ5UHVibGlzaEljZUZhaWxlZFRhc2ssb3JpZ2luYWxTdGF0ZTp3LkpvaW5lZH0pOnRoaXMucmV0cnlTY2hlZHVsZXIuc2NoZWR1bGUoe2NhdGVnb3J5OkMuU3Vic2NyaWJlSWNlQ29ubmVjdGlvbkZhaWxlZCxlcnJvcjptLldlYnJ0Y0Vycm9ycy5JQ0VGYWlsdXJlKHAuU1VCU0NSSUJFLCgoaT10aGlzLnN1YnNjcmliZUNvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDppLnNlbGVjdGVkQ2FuZGlkYXRlUGFpcikmJkpTT04uc3RyaW5naWZ5KChzPXRoaXMuc3Vic2NyaWJlQ29ubmVjdGlvbik9PW51bGw/dm9pZCAwOnMuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyKSksdGFzazp0aGlzLnJldHJ5U3Vic2NyaWJlSWNlRmFpbGVkVGFzayxvcmlnaW5hbFN0YXRlOncuSm9pbmVkLG1heEZhaWxlZFJldHJpZXM6MX0pfSl9aW50ZXJuYWxDb25uZWN0KGUsdCxyKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7by5kKFAsXCJjb25uZWN0OiBzdGFydGVkIFxcdTIzRjBcIik7bGV0IGk9bmV3IERhdGU7dHJ5e3JldHVybiB0aGlzLmFuYWx5dGljc1RpbWVyLnN0YXJ0KE0uSU5JVCksdGhpcy5pbml0Q29uZmlnPXlpZWxkIFR0LmZldGNoSW5pdENvbmZpZyh7dG9rZW46ZSxwZWVySWQ6cix1c2VyQWdlbnQ6dGhpcy5zdG9yZS5nZXRVc2VyQWdlbnQoKSxpbml0RW5kcG9pbnQ6dH0pLHRoaXMuYW5hbHl0aWNzVGltZXIuZW5kKE0uSU5JVCksdGhpcy52YWxpZGF0ZU5vdERpc2Nvbm5lY3RlZChcInBvc3QgaW5pdFwiKSx5aWVsZCB0aGlzLm9wZW5TaWduYWwoZSxyKSx0aGlzLnN0b3JlLnNldFNpbXVsY2FzdEVuYWJsZWQodGhpcy5pc0ZsYWdFbmFibGVkKGVlLkZMQUdfU0VSVkVSX1NJTVVMQ0FTVCkpLG8uZChQLFwiQWRkaW5nIEFuYWx5dGljcyBUcmFuc3BvcnQ6IEpzb25ScGNTaWduYWxcIiksdGhpcy5hbmFseXRpY3NFdmVudHNTZXJ2aWNlLnNldFRyYW5zcG9ydCh0aGlzLmFuYWx5dGljc1NpZ25hbFRyYW5zcG9ydCksdGhpcy5hbmFseXRpY3NFdmVudHNTZXJ2aWNlLmZsdXNoKCksdGhpcy5pbml0Q29uZmlnfWNhdGNoKHMpe3Rocm93IHRoaXMuc3RhdGUhPT13LlJlY29ubmVjdGluZyYmdGhpcy5ldmVudEJ1cy5hbmFseXRpY3MucHVibGlzaChSLmNvbm5lY3Qocyx0aGlzLmdldEFkZGl0aW9uYWxBbmFseXRpY3NQcm9wZXJ0aWVzKCksaSxuZXcgRGF0ZSx0KSksby5kKFAsXCJcXHUyNzRDIGludGVybmFsIGNvbm5lY3Q6IGZhaWxlZFwiLHMpLHN9fSl9dmFsaWRhdGVOb3REaXNjb25uZWN0ZWQoZSl7aWYodGhpcy5zdGF0ZT09PXcuRGlzY29ubmVjdGVkKXRocm93IG8udyhQLFwiYWJvcnRpbmcgam9pbiBhcyB0cmFuc3BvcnQgc3RhdGUgaXMgZGlzY29ubmVjdGVkXCIpLG0uR2VuZXJpY0Vycm9ycy5WYWxpZGF0aW9uRmFpbGVkKGBsZWF2ZSBjYWxsZWQgYmVmb3JlIGpvaW4gY291bGQgY29tcGxldGUgLSBzdGFnZT0ke2V9YCl9b3BlblNpZ25hbChlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZighdGhpcy5pbml0Q29uZmlnKXRocm93IG0uSW5pdEFQSUVycm9ycy5Jbml0Q29uZmlnTm90QXZhaWxhYmxlKHAuSU5JVCxcIkluaXQgQ29uZmlnIG5vdCBmb3VuZFwiKTtvLmQoUCxcIlxcdTIzRjMgaW50ZXJuYWwgY29ubmVjdDogY29ubmVjdGluZyB0byB3cyBlbmRwb2ludFwiLHRoaXMuaW5pdENvbmZpZy5lbmRwb2ludCk7bGV0IHI9bmV3IFVSTCh0aGlzLmluaXRDb25maWcuZW5kcG9pbnQpO3Iuc2VhcmNoUGFyYW1zLnNldChcInBlZXJcIix0KSxyLnNlYXJjaFBhcmFtcy5zZXQoXCJ0b2tlblwiLGUpLHIuc2VhcmNoUGFyYW1zLnNldChcInVzZXJfYWdlbnRfdjJcIix0aGlzLnN0b3JlLmdldFVzZXJBZ2VudCgpKSx0aGlzLmVuZHBvaW50PXIudG9TdHJpbmcoKSx0aGlzLmFuYWx5dGljc1RpbWVyLnN0YXJ0KE0uV0VCU09DS0VUX0NPTk5FQ1QpLHlpZWxkIHRoaXMuc2lnbmFsLm9wZW4odGhpcy5lbmRwb2ludCksdGhpcy5hbmFseXRpY3NUaW1lci5lbmQoTS5XRUJTT0NLRVRfQ09OTkVDVCksdGhpcy5hbmFseXRpY3NUaW1lci5zdGFydChNLk9OX1BPTElDWV9DSEFOR0UpLHRoaXMuYW5hbHl0aWNzVGltZXIuc3RhcnQoTS5ST09NX1NUQVRFKSxvLmQoUCxcIlxcdTI3MDUgaW50ZXJuYWwgY29ubmVjdDogY29ubmVjdGVkIHRvIHdzIGVuZHBvaW50XCIpfSl9aW5pdFJ0Y1N0YXRzTW9uaXRvcigpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgZSx0LHIsaTsocj10aGlzLndlYnJ0Y0ludGVybmFscyk9PW51bGx8fHIuc2V0UGVlckNvbm5lY3Rpb25zKHtwdWJsaXNoOihlPXRoaXMucHVibGlzaENvbm5lY3Rpb24pPT1udWxsP3ZvaWQgMDplLm5hdGl2ZUNvbm5lY3Rpb24sc3Vic2NyaWJlOih0PXRoaXMuc3Vic2NyaWJlQ29ubmVjdGlvbik9PW51bGw/dm9pZCAwOnQubmF0aXZlQ29ubmVjdGlvbn0pLHRoaXMuc3RvcmUuZ2V0U3Vic2NyaWJlRGVncmFkYXRpb25QYXJhbXMoKSYmKHRoaXMuaXNGbGFnRW5hYmxlZChlZS5GTEFHX1NFUlZFUl9TVUJfREVHUkFEQVRJT04pfHwoeWllbGQoaT10aGlzLndlYnJ0Y0ludGVybmFscyk9PW51bGw/dm9pZCAwOmkuc3RhcnQoKSx0aGlzLnRyYWNrRGVncmFkYXRpb25Db250cm9sbGVyPW5ldyBndCh0aGlzLnN0b3JlLHRoaXMuZXZlbnRCdXMpLHRoaXMuZXZlbnRCdXMuc3RhdHNVcGRhdGUuc3Vic2NyaWJlKHM9Pnt2YXIgbixkLGw7KGw9dGhpcy50cmFja0RlZ3JhZGF0aW9uQ29udHJvbGxlcik9PW51bGx8fGwuaGFuZGxlUnRjU3RhdHNDaGFuZ2UoKChkPShuPXMuZ2V0TG9jYWxQZWVyU3RhdHMoKSk9PW51bGw/dm9pZCAwOm4uc3Vic2NyaWJlKT09bnVsbD92b2lkIDA6ZC5wYWNrZXRzTG9zdCl8fDApfSkpLHRoaXMuZXZlbnRCdXMudHJhY2tEZWdyYWRlZC5zdWJzY3JpYmUocz0+e3RoaXMuZXZlbnRCdXMuYW5hbHl0aWNzLnB1Ymxpc2goUi5kZWdyYWRhdGlvblN0YXRzKHMsITApKSx0aGlzLm9ic2VydmVyLm9uVHJhY2tEZWdyYWRlKHMpfSksdGhpcy5ldmVudEJ1cy50cmFja1Jlc3RvcmVkLnN1YnNjcmliZShzPT57dGhpcy5ldmVudEJ1cy5hbmFseXRpY3MucHVibGlzaChSLmRlZ3JhZGF0aW9uU3RhdHMocywhMSkpLHRoaXMub2JzZXJ2ZXIub25UcmFja1Jlc3RvcmUocyl9KSl9KX1kb2VzUm9sZU5lZWRXZWJSVEMoZSl7dmFyIGkscztpZighdGhpcy5pc0ZsYWdFbmFibGVkKGVlLkZMQUdfTk9OX1dFQlJUQ19ESVNBQkxFX09GRkVSKSlyZXR1cm4hMDtsZXQgdD1Cb29sZWFuKGUucHVibGlzaFBhcmFtcy5hbGxvd2VkJiYoKGk9ZS5wdWJsaXNoUGFyYW1zLmFsbG93ZWQpPT1udWxsP3ZvaWQgMDppLmxlbmd0aCk+MCkscj1Cb29sZWFuKGUuc3Vic2NyaWJlUGFyYW1zLnN1YnNjcmliZVRvUm9sZXMmJigocz1lLnN1YnNjcmliZVBhcmFtcy5zdWJzY3JpYmVUb1JvbGVzKT09bnVsbD92b2lkIDA6cy5sZW5ndGgpPjApO3JldHVybiB0fHxyfWRvZXNMb2NhbFBlZXJOZWVkV2ViUlRDKCl7dmFyIHQ7bGV0IGU9KHQ9dGhpcy5zdG9yZS5nZXRMb2NhbFBlZXIoKSk9PW51bGw/dm9pZCAwOnQucm9sZTtyZXR1cm4gZT90aGlzLmRvZXNSb2xlTmVlZFdlYlJUQyhlKTohMH1zZXRUcmFuc3BvcnRTdGF0ZUZvckNvbm5lY3QoKXtpZih0aGlzLnN0YXRlPT09dy5GYWlsZWQmJih0aGlzLnN0YXRlPXcuRGlzY29ubmVjdGVkKSx0aGlzLnN0YXRlIT09dy5EaXNjb25uZWN0ZWQmJnRoaXMuc3RhdGUhPT13LlJlY29ubmVjdGluZyl0aHJvdyBtLldlYnNvY2tldE1ldGhvZEVycm9ycy5BbHJlYWR5Sm9pbmVkKHAuSk9JTixgQ2Fubm90IGpvaW4gYSBtZWV0aW5nIGluICR7dGhpcy5zdGF0ZX0gc3RhdGVgKTt0aGlzLnN0YXRlPT09dy5EaXNjb25uZWN0ZWQmJih0aGlzLnN0YXRlPXcuQ29ubmVjdGluZyx0aGlzLm9ic2VydmVyLm9uU3RhdGVDaGFuZ2UodGhpcy5zdGF0ZSkpfXNlbmRFcnJvckFuYWx5dGljc0V2ZW50KGUsdCl7bGV0IHI9dGhpcy5nZXRBZGRpdGlvbmFsQW5hbHl0aWNzUHJvcGVydGllcygpLGk7c3dpdGNoKHQpe2Nhc2UgQy5Db25uZWN0RmFpbGVkOmk9Ui5jb25uZWN0KGUscik7YnJlYWs7Y2FzZSBDLlNpZ25hbERpc2Nvbm5lY3Q6aT1SLmRpc2Nvbm5lY3QoZSxyKTticmVhaztjYXNlIEMuSm9pbldTTWVzc2FnZUZhaWxlZDppPVIuam9pbih7ZXJyb3I6ZSx0aW1lOnRoaXMuYW5hbHl0aWNzVGltZXIuZ2V0VGltZVRha2VuKE0uSk9JTiksaW5pdF9yZXNwb25zZV90aW1lOnRoaXMuYW5hbHl0aWNzVGltZXIuZ2V0VGltZVRha2VuKE0uSU5JVCksd3NfY29ubmVjdF90aW1lOnRoaXMuYW5hbHl0aWNzVGltZXIuZ2V0VGltZVRha2VuKE0uV0VCU09DS0VUX0NPTk5FQ1QpLG9uX3BvbGljeV9jaGFuZ2VfdGltZTp0aGlzLmFuYWx5dGljc1RpbWVyLmdldFRpbWVUYWtlbihNLk9OX1BPTElDWV9DSEFOR0UpLGxvY2FsX2F1ZGlvX3RyYWNrX3RpbWU6dGhpcy5hbmFseXRpY3NUaW1lci5nZXRUaW1lVGFrZW4oTS5MT0NBTF9BVURJT19UUkFDSyksbG9jYWxfdmlkZW9fdHJhY2tfdGltZTp0aGlzLmFuYWx5dGljc1RpbWVyLmdldFRpbWVUYWtlbihNLkxPQ0FMX1ZJREVPX1RSQUNLKSxyZXRyaWVzX2pvaW46dGhpcy5qb2luUmV0cnlDb3VudH0pO2JyZWFrO2Nhc2UgQy5QdWJsaXNoSWNlQ29ubmVjdGlvbkZhaWxlZDppPVIucHVibGlzaCh7ZXJyb3I6ZX0pO2JyZWFrO2Nhc2UgQy5TdWJzY3JpYmVJY2VDb25uZWN0aW9uRmFpbGVkOmk9Ui5zdWJzY3JpYmVGYWlsKGUpO2JyZWFrfXRoaXMuZXZlbnRCdXMuYW5hbHl0aWNzLnB1Ymxpc2goaSl9Z2V0QWRkaXRpb25hbEFuYWx5dGljc1Byb3BlcnRpZXMoKXt2YXIgbixkLGwsaCx1LGcsUyx5O2xldCBlPVhyKCksdD10eXBlb2YgZG9jdW1lbnQhPVwidW5kZWZpbmVkXCImJmRvY3VtZW50LmhpZGRlbixyPXRoaXMuc3RvcmUuZ2V0UmVtb3RlVmlkZW9UcmFja3MoKS5maWx0ZXIoeD0+eC5kZWdyYWRlZCkubGVuZ3RoLGk9KGg9KGw9KGQ9KG49dGhpcy5nZXRXZWJydGNJbnRlcm5hbHMoKSk9PW51bGw/dm9pZCAwOm4uZ2V0Q3VycmVudFN0YXRzKCkpPT1udWxsP3ZvaWQgMDpkLmdldExvY2FsUGVlclN0YXRzKCkpPT1udWxsP3ZvaWQgMDpsLnB1Ymxpc2gpPT1udWxsP3ZvaWQgMDpoLmJpdHJhdGUscz0oeT0oUz0oZz0odT10aGlzLmdldFdlYnJ0Y0ludGVybmFscygpKT09bnVsbD92b2lkIDA6dS5nZXRDdXJyZW50U3RhdHMoKSk9PW51bGw/dm9pZCAwOmcuZ2V0TG9jYWxQZWVyU3RhdHMoKSk9PW51bGw/dm9pZCAwOlMuc3Vic2NyaWJlKT09bnVsbD92b2lkIDA6eS5iaXRyYXRlO3JldHVybntuZXR3b3JrX2luZm86ZSxkb2N1bWVudF9oaWRkZW46dCxudW1fZGVncmFkZWRfdHJhY2tzOnIsYml0cmF0ZTp7cHVibGlzaDppLHN1YnNjcmliZTpzfSxtYXhfc3ViX2JpdHJhdGU6dGhpcy5tYXhTdWJzY3JpYmVCaXRyYXRlLHJlY2VudF9wb25nX3Jlc3BvbnNlX3RpbWVzOnRoaXMuc2lnbmFsLmdldFBvbmdSZXNwb25zZVRpbWVzKCksdHJhbnNwb3J0X3N0YXRlOnRoaXMuc3RhdGV9fX07ZnVuY3Rpb24ga3QoYSl7aWYoIWF8fGEubGVuZ3RoPT09MCl0aHJvdyBtLkluaXRBUElFcnJvcnMuSW52YWxpZFRva2VuRm9ybWF0KHAuSU5JVCxcIlRva2VuIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmcgb3IgdW5kZWZpbmVkIG9yIG51bGxcIik7bGV0IGU9YS5zcGxpdChcIi5cIik7aWYoZS5sZW5ndGghPT0zKXRocm93IG0uSW5pdEFQSUVycm9ycy5JbnZhbGlkVG9rZW5Gb3JtYXQocC5JTklULFwiRXhwZWN0ZWQgMyAnLicgc2VwYXJhdGUgZmllbGRzIC0gaGVhZGVyLCBwYXlsb2FkIGFuZCBzaWduYXR1cmUgcmVzcGVjdGl2ZWx5XCIpO2xldCB0PWF0b2IoZVsxXSk7dHJ5e2xldCByPUpTT04ucGFyc2UodCk7cmV0dXJue3Jvb21JZDpyLnJvb21faWQsdXNlcklkOnIudXNlcl9pZCxyb2xlOnIucm9sZX19Y2F0Y2gocil7dGhyb3cgbS5Jbml0QVBJRXJyb3JzLkludmFsaWRUb2tlbkZvcm1hdChwLklOSVQsYGNvdWxkbid0IHBhcnNlIHRvIGpzb24gLSAke3IubWVzc2FnZX1gKX19dmFyIFpyPXtpc0F1ZGlvTXV0ZWQ6ITEsaXNWaWRlb011dGVkOiExLGF1ZGlvSW5wdXREZXZpY2VJZDpcImRlZmF1bHRcIixhdWRpb091dHB1dERldmljZUlkOlwiZGVmYXVsdFwiLHZpZGVvRGV2aWNlSWQ6XCJkZWZhdWx0XCJ9LGVpPXtwdWJsaXNoZWQ6ITEsaXNJbml0aWFsaXNlZDohMSxpc1JlY29ubmVjdGluZzohMSxpc1ByZXZpZXdJblByb2dyZXNzOiExLGlzSm9pbkluUHJvZ3Jlc3M6ITEsZGV2aWNlTWFuYWdlcnNJbml0aWFsaXNlZDohMX0sTmk9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLlRBRz1cIltITVNTZGtdOlwiO3RoaXMudHJhbnNwb3J0U3RhdGU9dy5EaXNjb25uZWN0ZWQ7dGhpcy5hbmFseXRpY3NUaW1lcj1uZXcgUHQ7dGhpcy5zZGtTdGF0ZT12KHt9LGVpKTt0aGlzLmhhbmRsZUF1dG9wbGF5RXJyb3I9ZT0+e3ZhciB0LHI7KHI9KHQ9dGhpcy5lcnJvckxpc3RlbmVyKT09bnVsbD92b2lkIDA6dC5vbkVycm9yKT09bnVsbHx8ci5jYWxsKHQsZSl9O3RoaXMub2JzZXJ2ZXI9e29uTm90aWZpY2F0aW9uOmU9PntpZihlLm1ldGhvZD09PUEuUEVFUl9MRUFWRV9SRVFVRVNUKXt0aGlzLmhhbmRsZVBlZXJMZWF2ZVJlcXVlc3QoZS5wYXJhbXMpO3JldHVybn1zd2l0Y2goZS5tZXRob2Qpe2Nhc2UgQS5QT0xJQ1lfQ0hBTkdFOnRoaXMuYW5hbHl0aWNzVGltZXIuZW5kKE0uT05fUE9MSUNZX0NIQU5HRSk7YnJlYWs7Y2FzZSBBLlBFRVJfTElTVDp0aGlzLmFuYWx5dGljc1RpbWVyLmVuZChNLlBFRVJfTElTVCk7YnJlYWs7Y2FzZSBBLlJPT01fU1RBVEU6dGhpcy5hbmFseXRpY3NUaW1lci5lbmQoTS5ST09NX1NUQVRFKTticmVhaztkZWZhdWx0On10aGlzLm5vdGlmaWNhdGlvbk1hbmFnZXIuaGFuZGxlTm90aWZpY2F0aW9uKGUsdGhpcy5zZGtTdGF0ZS5pc1JlY29ubmVjdGluZyl9LG9uVHJhY2tBZGQ6ZT0+e3RoaXMubm90aWZpY2F0aW9uTWFuYWdlci5oYW5kbGVUcmFja0FkZChlKX0sb25UcmFja1JlbW92ZTplPT57dGhpcy5ub3RpZmljYXRpb25NYW5hZ2VyLmhhbmRsZVRyYWNrUmVtb3ZlKGUpfSxvblRyYWNrRGVncmFkZTplPT57dmFyIHQscjtvLmQodGhpcy5UQUcsXCJTZW5kaW5nIFRyYWNrIFVwZGF0ZSBUcmFjayBEZWdyYWRlZFwiLGUpLChyPXRoaXMubGlzdGVuZXIpPT1udWxsfHxyLm9uVHJhY2tVcGRhdGUoTi5UUkFDS19ERUdSQURFRCxlLCh0PXRoaXMuc3RvcmUpPT1udWxsP3ZvaWQgMDp0LmdldFBlZXJCeVRyYWNrSWQoZS50cmFja0lkKSl9LG9uVHJhY2tSZXN0b3JlOmU9Pnt2YXIgdCxyO28uZCh0aGlzLlRBRyxcIlNlbmRpbmcgVHJhY2sgVXBkYXRlIFRyYWNrIFJlc3RvcmVkXCIsZSksKHI9dGhpcy5saXN0ZW5lcik9PW51bGx8fHIub25UcmFja1VwZGF0ZShOLlRSQUNLX1JFU1RPUkVELGUsKHQ9dGhpcy5zdG9yZSk9PW51bGw/dm9pZCAwOnQuZ2V0UGVlckJ5VHJhY2tJZChlLnRyYWNrSWQpKX0sb25GYWlsdXJlOmU9Pnt2YXIgdDsodD10aGlzLmVycm9yTGlzdGVuZXIpPT1udWxsfHx0Lm9uRXJyb3IoZSl9LG9uU3RhdGVDaGFuZ2U6KGUsdCk9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciBpLHM7bGV0IHI9bj0+Yyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIGQsbDt5aWVsZCB0aGlzLmludGVybmFsTGVhdmUoITAsbiksIXRoaXMuc2RrU3RhdGUuaXNQcmV2aWV3SW5Qcm9ncmVzcyYmIXRoaXMuc2RrU3RhdGUuaXNKb2luSW5Qcm9ncmVzcyYmKChsPShkPXRoaXMuZXJyb3JMaXN0ZW5lcik9PW51bGw/dm9pZCAwOmQub25FcnJvcik9PW51bGx8fGwuY2FsbChkLG4pKSx0aGlzLnNka1N0YXRlLmlzUmVjb25uZWN0aW5nPSExfSk7c3dpdGNoKGUpe2Nhc2Ugdy5QcmV2aWV3OmNhc2Ugdy5Kb2luZWQ6dGhpcy50cmFuc3BvcnRTdGF0ZT09PXcuUmVjb25uZWN0aW5nJiYoKGk9dGhpcy5saXN0ZW5lcik9PW51bGx8fGkub25SZWNvbm5lY3RlZCgpKTticmVhaztjYXNlIHcuRmFpbGVkOnlpZWxkIHIodCk7YnJlYWs7Y2FzZSB3LlJlY29ubmVjdGluZzp0aGlzLnNka1N0YXRlLmlzUmVjb25uZWN0aW5nPSEwLChzPXRoaXMubGlzdGVuZXIpPT1udWxsfHxzLm9uUmVjb25uZWN0aW5nKHQpO2JyZWFrfXRoaXMudHJhbnNwb3J0U3RhdGU9ZSxvLmQodGhpcy5UQUcsXCJUcmFuc3BvcnQgU3RhdGUgQ2hhbmdlXCIsdGhpcy50cmFuc3BvcnRTdGF0ZSl9KX07dGhpcy5oYW5kbGVQZWVyTGVhdmVSZXF1ZXN0PWU9Pnt2YXIgaTtsZXQgdD1lLnJlcXVlc3RlZF9ieT90aGlzLnN0b3JlLmdldFBlZXJCeUlkKGUucmVxdWVzdGVkX2J5KTp2b2lkIDAscj17cm9vbUVuZGVkOmUucm9vbV9lbmQscmVhc29uOmUucmVhc29uLHJlcXVlc3RlZEJ5OnR9OyhpPXRoaXMubGlzdGVuZXIpPT1udWxsfHxpLm9uUmVtb3ZlZEZyb21Sb29tKHIpLHRoaXMuaW50ZXJuYWxMZWF2ZSghMSl9O3RoaXMuaGFuZGxlRGV2aWNlQ2hhbmdlPWU9Pnt2YXIgdCxyLGkscyxuLGQ7aWYoby5kKHRoaXMuVEFHLFwiRGV2aWNlIENoYW5nZSBldmVudFwiLGUpLChyPSh0PXRoaXMuZGV2aWNlQ2hhbmdlTGlzdGVuZXIpPT1udWxsP3ZvaWQgMDp0Lm9uRGV2aWNlQ2hhbmdlKT09bnVsbHx8ci5jYWxsKHQsZSksZS5lcnJvciYmZS50eXBlKXtsZXQgbD1lLnR5cGUuaW5jbHVkZXMoXCJhdWRpb1wiKT8oaT10aGlzLmxvY2FsUGVlcik9PW51bGw/dm9pZCAwOmkuYXVkaW9UcmFjazoocz10aGlzLmxvY2FsUGVlcik9PW51bGw/dm9pZCAwOnMudmlkZW9UcmFjazsobj10aGlzLmVycm9yTGlzdGVuZXIpPT1udWxsfHxuLm9uRXJyb3IoZS5lcnJvciksW2YuVHJhY2tzRXJyb3JzLkNBTlRfQUNDRVNTX0NBUFRVUkVfREVWSUNFLGYuVHJhY2tzRXJyb3JzLkRFVklDRV9JTl9VU0UsZi5UcmFja3NFcnJvcnMuREVWSUNFX05PVF9BVkFJTEFCTEVdLmluY2x1ZGVzKGUuZXJyb3IuY29kZSkmJmwmJihsLnNldEVuYWJsZWQoITEpLChkPXRoaXMubGlzdGVuZXIpPT1udWxsfHxkLm9uVHJhY2tVcGRhdGUoTi5UUkFDS19NVVRFRCxsLHRoaXMubG9jYWxQZWVyKSl9fTt0aGlzLmhhbmRsZUF1ZGlvUGx1Z2luRXJyb3I9ZT0+e3ZhciB0O28uZSh0aGlzLlRBRyxcIkF1ZGlvIFBsdWdpbiBFcnJvciBldmVudFwiLGUpLCh0PXRoaXMuZXJyb3JMaXN0ZW5lcik9PW51bGx8fHQub25FcnJvcihlKX07dGhpcy5oYW5kbGVMb2NhbFJvbGVVcGRhdGU9cj0+Yyh0aGlzLFtyXSxmdW5jdGlvbiooe29sZFJvbGU6ZSxuZXdSb2xlOnR9KXt2YXIgaTt5aWVsZCB0aGlzLnRyYW5zcG9ydC5oYW5kbGVMb2NhbFJvbGVVcGRhdGUoe29sZFJvbGU6ZSxuZXdSb2xlOnR9KSx5aWVsZChpPXRoaXMucm9sZUNoYW5nZU1hbmFnZXIpPT1udWxsP3ZvaWQgMDppLmhhbmRsZUxvY2FsUGVlclJvbGVVcGRhdGUoe29sZFJvbGU6ZSxuZXdSb2xlOnR9KX0pO3RoaXMuc2VuZEF1ZGlvUHJlc2VuY2VGYWlsZWQ9KCk9PntsZXQgZT1tLlRyYWNrc0Vycm9ycy5Ob0F1ZGlvRGV0ZWN0ZWQocC5QUkVWSUVXKTt0aGlzLnNlbmRBbmFseXRpY3NFdmVudChSLmF1ZGlvRGV0ZWN0aW9uRmFpbChlLHRoaXMuZGV2aWNlTWFuYWdlci5nZXRDdXJyZW50U2VsZWN0aW9uKCkuYXVkaW9JbnB1dCkpfTt0aGlzLnNlbmRKb2luQW5hbHl0aWNzRXZlbnQ9KGU9ITEsdCk9Pnt0aGlzLmV2ZW50QnVzLmFuYWx5dGljcy5wdWJsaXNoKFIuam9pbihfKHYoe2Vycm9yOnR9LHRoaXMuYW5hbHl0aWNzVGltZXIuZ2V0VGltZXMoKSkse3RpbWU6dGhpcy5hbmFseXRpY3NUaW1lci5nZXRUaW1lVGFrZW4oTS5KT0lOKSxpc19wcmV2aWV3X2NhbGxlZDplfSkpKX07dGhpcy5zZW5kUHJldmlld0FuYWx5dGljc0V2ZW50PWU9Pnt0aGlzLmV2ZW50QnVzLmFuYWx5dGljcy5wdWJsaXNoKFIucHJldmlldyhfKHYoe2Vycm9yOmV9LHRoaXMuYW5hbHl0aWNzVGltZXIuZ2V0VGltZXMoTS5ST09NX1NUQVRFKSkse3RpbWU6dGhpcy5hbmFseXRpY3NUaW1lci5nZXRUaW1lVGFrZW4oTS5QUkVWSUVXKX0pKSl9O3RoaXMuc2VuZEFuYWx5dGljc0V2ZW50PWU9Pnt0aGlzLmFuYWx5dGljc0V2ZW50c1NlcnZpY2UucXVldWUoZSkuZmx1c2goKX19aW5pdFN0b3JlQW5kTWFuYWdlcnMoKXtpZih0aGlzLnNka1N0YXRlLmlzSW5pdGlhbGlzZWQpe3RoaXMubm90aWZpY2F0aW9uTWFuYWdlci5zZXRMaXN0ZW5lcih0aGlzLmxpc3RlbmVyKSx0aGlzLmF1ZGlvU2lua01hbmFnZXIuc2V0TGlzdGVuZXIodGhpcy5saXN0ZW5lcik7cmV0dXJufXRoaXMuc2RrU3RhdGUuaXNJbml0aWFsaXNlZD0hMCx0aGlzLnN0b3JlPW5ldyBzdCx0aGlzLmV2ZW50QnVzPW5ldyBOdCx0aGlzLm5ldHdvcmtUZXN0TWFuYWdlcj1uZXcgX3QodGhpcy5ldmVudEJ1cyx0aGlzLmxpc3RlbmVyKSx0aGlzLnBsYXlsaXN0TWFuYWdlcj1uZXcgdXQodGhpcyx0aGlzLmV2ZW50QnVzKSx0aGlzLm5vdGlmaWNhdGlvbk1hbmFnZXI9bmV3IGN0KHRoaXMuc3RvcmUsdGhpcy5ldmVudEJ1cyx0aGlzLmxpc3RlbmVyLHRoaXMuYXVkaW9MaXN0ZW5lciksdGhpcy5kZXZpY2VNYW5hZ2VyPW5ldyBudCh0aGlzLnN0b3JlLHRoaXMuZXZlbnRCdXMpLHRoaXMuYXVkaW9TaW5rTWFuYWdlcj1uZXcgYXQodGhpcy5zdG9yZSx0aGlzLmRldmljZU1hbmFnZXIsdGhpcy5ldmVudEJ1cyksdGhpcy5hdWRpb091dHB1dD1uZXcgb3QodGhpcy5kZXZpY2VNYW5hZ2VyLHRoaXMuYXVkaW9TaW5rTWFuYWdlciksdGhpcy5hdWRpb1NpbmtNYW5hZ2VyLnNldExpc3RlbmVyKHRoaXMubGlzdGVuZXIpLHRoaXMuZXZlbnRCdXMuYXV0b3BsYXlFcnJvci5zdWJzY3JpYmUodGhpcy5oYW5kbGVBdXRvcGxheUVycm9yKSx0aGlzLmxvY2FsVHJhY2tNYW5hZ2VyPW5ldyBkZSh0aGlzLnN0b3JlLHRoaXMub2JzZXJ2ZXIsdGhpcy5kZXZpY2VNYW5hZ2VyLHRoaXMuZXZlbnRCdXMsdGhpcy5hbmFseXRpY3NUaW1lciksdGhpcy5hbmFseXRpY3NFdmVudHNTZXJ2aWNlPW5ldyBEdCh0aGlzLnN0b3JlKSx0aGlzLnRyYW5zcG9ydD1uZXcgRXQodGhpcy5vYnNlcnZlcix0aGlzLmRldmljZU1hbmFnZXIsdGhpcy5zdG9yZSx0aGlzLmV2ZW50QnVzLHRoaXMuYW5hbHl0aWNzRXZlbnRzU2VydmljZSx0aGlzLmFuYWx5dGljc1RpbWVyKSx0aGlzLmV2ZW50QnVzLmFuYWx5dGljcy5zdWJzY3JpYmUodGhpcy5zZW5kQW5hbHl0aWNzRXZlbnQpLHRoaXMuZXZlbnRCdXMuZGV2aWNlQ2hhbmdlLnN1YnNjcmliZSh0aGlzLmhhbmRsZURldmljZUNoYW5nZSksdGhpcy5ldmVudEJ1cy5hdWRpb1BsdWdpbkZhaWxlZC5zdWJzY3JpYmUodGhpcy5oYW5kbGVBdWRpb1BsdWdpbkVycm9yKX12YWxpZGF0ZUpvaW5lZChlKXtpZighdGhpcy5sb2NhbFBlZXIpdGhyb3cgbS5HZW5lcmljRXJyb3JzLk5vdENvbm5lY3RlZChwLlZBTElEQVRJT04sYE5vdCBjb25uZWN0ZWQgLSAke2V9YCl9cmVmcmVzaERldmljZXMoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dGhpcy52YWxpZGF0ZUpvaW5lZChcInJlZnJlc2hEZXZpY2VzXCIpLHlpZWxkIHRoaXMuZGV2aWNlTWFuYWdlci5pbml0KCEwKX0pfWdldFdlYnJ0Y0ludGVybmFscygpe3ZhciBlO3JldHVybihlPXRoaXMudHJhbnNwb3J0KT09bnVsbD92b2lkIDA6ZS5nZXRXZWJydGNJbnRlcm5hbHMoKX1nZXRQbGF5bGlzdE1hbmFnZXIoKXtyZXR1cm4gdGhpcy5wbGF5bGlzdE1hbmFnZXJ9Z2V0UmVjb3JkaW5nU3RhdGUoKXt2YXIgZTtyZXR1cm4oZT10aGlzLnN0b3JlLmdldFJvb20oKSk9PW51bGw/dm9pZCAwOmUucmVjb3JkaW5nfWdldFJUTVBTdGF0ZSgpe3ZhciBlO3JldHVybihlPXRoaXMuc3RvcmUuZ2V0Um9vbSgpKT09bnVsbD92b2lkIDA6ZS5ydG1wfWdldEhMU1N0YXRlKCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5zdG9yZS5nZXRSb29tKCkpPT1udWxsP3ZvaWQgMDplLmhsc31nZXQgbG9jYWxQZWVyKCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5zdG9yZSk9PW51bGw/dm9pZCAwOmUuZ2V0TG9jYWxQZWVyKCl9cHJldmlldyhlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXtpZihlcigpLFp0KCksdGhpcy5zZGtTdGF0ZS5pc1ByZXZpZXdJblByb2dyZXNzKXJldHVybiBQcm9taXNlLnJlamVjdChtLkdlbmVyaWNFcnJvcnMuUHJldmlld0FscmVhZHlJblByb2dyZXNzKHAuUFJFVklFVyxcIlByZXZpZXcgYWxyZWFkeSBjYWxsZWRcIikpO3RoaXMuYW5hbHl0aWNzVGltZXIuc3RhcnQoTS5QUkVWSUVXKSx0aGlzLnNldFVwUHJldmlldyhlLHQpLGUuYWx3YXlzUmVxdWVzdFBlcm1pc3Npb25zJiZ0aGlzLmxvY2FsVHJhY2tNYW5hZ2VyLnJlcXVlc3RQZXJtaXNzaW9ucygpLnRoZW4oKCk9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe3lpZWxkIHRoaXMuaW5pdERldmljZU1hbmFnZXJzKCl9KSk7bGV0IHI9ITEsaT0hMSxzPXNldFRpbWVvdXQoKCk9Pnt2YXIgbixkOyghcnx8IWkpJiYoKGQ9KG49dGhpcy5saXN0ZW5lcik9PW51bGw/dm9pZCAwOm4ub25OZXR3b3JrUXVhbGl0eSk9PW51bGx8fGQuY2FsbChuLC0xKSl9LDNlMyk7cmV0dXJuIG5ldyBQcm9taXNlKChuLGQpPT57bGV0IGw9KCk9PmModGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciBnO2xldCB1PXlpZWxkIHRoaXMubG9jYWxUcmFja01hbmFnZXIuZ2V0VHJhY2tzVG9QdWJsaXNoKGUuc2V0dGluZ3N8fFpyKTt1LmZvckVhY2goUz0+dGhpcy5zZXRMb2NhbFBlZXJUcmFjayhTKSksKChnPXRoaXMubG9jYWxQZWVyKT09bnVsbD92b2lkIDA6Zy5hdWRpb1RyYWNrKSYmdGhpcy5pbml0UHJldmlld1RyYWNrQXVkaW9MZXZlbE1vbml0b3IoKSx5aWVsZCB0aGlzLmluaXREZXZpY2VNYW5hZ2VycygpLHRoaXMuc2RrU3RhdGUuaXNQcmV2aWV3SW5Qcm9ncmVzcz0hMSx0aGlzLmFuYWx5dGljc1RpbWVyLmVuZChNLlBSRVZJRVcpLHQub25QcmV2aWV3KHRoaXMuc3RvcmUuZ2V0Um9vbSgpLHUpLHRoaXMuc2VuZFByZXZpZXdBbmFseXRpY3NFdmVudCgpLG4oKX0pLGg9dT0+e3ZhciBnO3RoaXMuYW5hbHl0aWNzVGltZXIuZW5kKE0uUFJFVklFVyksdSYmKChnPXRoaXMuZXJyb3JMaXN0ZW5lcik9PW51bGx8fGcub25FcnJvcih1KSksdGhpcy5zZW5kUHJldmlld0FuYWx5dGljc0V2ZW50KHUpLHRoaXMuc2RrU3RhdGUuaXNQcmV2aWV3SW5Qcm9ncmVzcz0hMSxkKHUpfTt0aGlzLmV2ZW50QnVzLnBvbGljeUNoYW5nZS5zdWJzY3JpYmVPbmNlKGwpLHRoaXMuZXZlbnRCdXMubGVhdmUuc3Vic2NyaWJlT25jZShoKSx0aGlzLnRyYW5zcG9ydC5wcmV2aWV3KGUuYXV0aFRva2VuLGUuaW5pdEVuZHBvaW50LHRoaXMubG9jYWxQZWVyLnBlZXJJZCx7bmFtZTplLnVzZXJOYW1lLG1ldGFEYXRhOmUubWV0YURhdGF8fFwiXCJ9LGUuYXV0b1ZpZGVvU3Vic2NyaWJlKS50aGVuKHU9Pnt2YXIgZztyPSEwLGNsZWFyVGltZW91dChzKSx1JiZlLmNhcHR1cmVOZXR3b3JrUXVhbGl0eUluUHJldmlldyYmdGhpcy5uZXR3b3JrVGVzdE1hbmFnZXIuc3RhcnQoKGc9dS5jb25maWcpPT1udWxsP3ZvaWQgMDpnLm5ldHdvcmtIZWFsdGgpLnRoZW4oKCk9PntpPSEwfSl9KS5jYXRjaChoKX0pfSl9am9pbihlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgZCxsLGgsdTtpZihlcigpLFp0KCksdGhpcy5zZGtTdGF0ZS5pc1ByZXZpZXdJblByb2dyZXNzKXRocm93IG0uR2VuZXJpY0Vycm9ycy5Ob3RSZWFkeShwLkpPSU4sXCJQcmV2aWV3IGlzIGluIHByb2dyZXNzLCBjYW4ndCBqb2luXCIpO3RoaXMuYW5hbHl0aWNzVGltZXIuc3RhcnQoTS5KT0lOKSx0aGlzLnNka1N0YXRlLmlzSm9pbkluUHJvZ3Jlc3M9ITA7bGV0IHI9dGhpcy50cmFuc3BvcnRTdGF0ZT09PXcuUHJldmlldyx7cm9vbUlkOmksdXNlcklkOnMscm9sZTpufT1rdChlLmF1dGhUb2tlbik7KGQ9dGhpcy5uZXR3b3JrVGVzdE1hbmFnZXIpPT1udWxsfHxkLnN0b3AoKSwoaD0obD10aGlzLmxvY2FsUGVlcik9PW51bGw/dm9pZCAwOmwuYXVkaW9UcmFjayk9PW51bGx8fGguZGVzdHJveUF1ZGlvTGV2ZWxNb25pdG9yKCksdGhpcy5saXN0ZW5lcj10LHRoaXMuY29tbW9uU2V0dXAoZSxpLHQpLHRoaXMucmVtb3ZlRGV2aWNlc0Zyb21Db25maWcoZSksdGhpcy5zdG9yZS5zZXRDb25maWcoZSksdGhpcy5zdG9yZS5jcmVhdGVBbmRTZXRVc2VyQWdlbnQodGhpcy5mcmFtZXdvcmtJbmZvKSxSZS5yZXN1bWVDb250ZXh0KCksdGhpcy5sb2NhbFBlZXI/KHRoaXMubG9jYWxQZWVyLm5hbWU9ZS51c2VyTmFtZSx0aGlzLmxvY2FsUGVlci5yb2xlPXRoaXMuc3RvcmUuZ2V0UG9saWN5Rm9yUm9sZShuKSx0aGlzLmxvY2FsUGVlci5jdXN0b21lclVzZXJJZD1zLHRoaXMubG9jYWxQZWVyLm1ldGFkYXRhPWUubWV0YURhdGEpOnRoaXMuY3JlYXRlQW5kQWRkTG9jYWxQZWVyVG9TdG9yZShlLG4scyksdGhpcy5yb2xlQ2hhbmdlTWFuYWdlcj1uZXcgaXQodGhpcy5zdG9yZSx0aGlzLnRyYW5zcG9ydCx0aGlzLnB1Ymxpc2guYmluZCh0aGlzKSx0aGlzLnJlbW92ZVRyYWNrLmJpbmQodGhpcyksdGhpcy5saXN0ZW5lciksdGhpcy5ldmVudEJ1cy5sb2NhbFJvbGVVcGRhdGUuc3Vic2NyaWJlKHRoaXMuaGFuZGxlTG9jYWxSb2xlVXBkYXRlKSxvLmQodGhpcy5UQUcsXCJTREsgU3RvcmVcIix0aGlzLnN0b3JlKSxvLmQodGhpcy5UQUcsYFxcdTIzRjMgSm9pbmluZyByb29tICR7aX1gKSxvLnRpbWUoYGpvaW4tcm9vbS0ke2l9YCk7dHJ5e3lpZWxkIHRoaXMudHJhbnNwb3J0LmpvaW4oZS5hdXRoVG9rZW4sdGhpcy5sb2NhbFBlZXIucGVlcklkLHtuYW1lOmUudXNlck5hbWUsbWV0YURhdGE6ZS5tZXRhRGF0YX0sZS5pbml0RW5kcG9pbnQsZS5hdXRvVmlkZW9TdWJzY3JpYmUpLG8uZCh0aGlzLlRBRyxgXFx1MjcwNSBKb2luZWQgcm9vbSAke2l9YCksdGhpcy5hbmFseXRpY3NUaW1lci5zdGFydChNLlBFRVJfTElTVCkseWllbGQgdGhpcy5ub3RpZnlKb2luKCksdGhpcy5zZGtTdGF0ZS5pc0pvaW5JblByb2dyZXNzPSExLHRoaXMuc2VuZEpvaW5BbmFseXRpY3NFdmVudChyKSxbdGhpcy5zdG9yZS5nZXRQdWJsaXNoUGFyYW1zKCksIXRoaXMuc2RrU3RhdGUucHVibGlzaGVkLCFoZV0uZXZlcnkoZz0+ISFnKSYmKHlpZWxkIHRoaXMucHVibGlzaChlLnNldHRpbmdzfHxacikuY2F0Y2goZz0+e3ZhciBTO28uZSh0aGlzLlRBRyxcIkVycm9yIGluIHB1Ymxpc2hcIixnKSwoUz10aGlzLmxpc3RlbmVyKT09bnVsbHx8Uy5vbkVycm9yKGcpfSkpfWNhdGNoKGcpe3Rocm93IHRoaXMuYW5hbHl0aWNzVGltZXIuZW5kKE0uSk9JTiksdGhpcy5zZGtTdGF0ZS5pc0pvaW5JblByb2dyZXNzPSExLCh1PXRoaXMubGlzdGVuZXIpPT1udWxsfHx1Lm9uRXJyb3IoZyksdGhpcy5zZW5kSm9pbkFuYWx5dGljc0V2ZW50KHIsZyksby5lKHRoaXMuVEFHLFwiVW5hYmxlIHRvIGpvaW4gcm9vbVwiLGcpLGd9by50aW1lRW5kKGBqb2luLXJvb20tJHtpfWApfSl9c3RyaW5naWZ5TWV0YWRhdGEoZSl7ZS5tZXRhRGF0YSYmdHlwZW9mIGUubWV0YURhdGEhPVwic3RyaW5nXCI/ZS5tZXRhRGF0YT1KU09OLnN0cmluZ2lmeShlLm1ldGFEYXRhKTplLm1ldGFEYXRhfHwoZS5tZXRhRGF0YT1cIlwiKX1jbGVhblVwKCl7dmFyIGUsdDt0aGlzLmNsZWFuRGV2aWNlTWFuYWdlcnMoKSx0aGlzLmV2ZW50QnVzLmFuYWx5dGljcy51bnN1YnNjcmliZSh0aGlzLnNlbmRBbmFseXRpY3NFdmVudCksdGhpcy5hbmFseXRpY3NUaW1lci5jbGVhblVwKCksUS5jbGVhbnVwKCksdGhpcy5wbGF5bGlzdE1hbmFnZXIuY2xlYW51cCgpLG8uY2xlYW5VcCgpLHRoaXMuc2RrU3RhdGU9dih7fSxlaSksdGhpcy5sb2NhbFBlZXImJigoZT10aGlzLmxvY2FsUGVlci5hdWRpb1RyYWNrKT09bnVsbHx8ZS5jbGVhbnVwKCksdGhpcy5sb2NhbFBlZXIuYXVkaW9UcmFjaz12b2lkIDAsKHQ9dGhpcy5sb2NhbFBlZXIudmlkZW9UcmFjayk9PW51bGx8fHQuY2xlYW51cCgpLHRoaXMubG9jYWxQZWVyLnZpZGVvVHJhY2s9dm9pZCAwKSx0aGlzLnN0b3JlLmNsZWFuVXAoKSx0aGlzLmxpc3RlbmVyPXZvaWQgMCx0aGlzLnJvbGVDaGFuZ2VNYW5hZ2VyJiZ0aGlzLmV2ZW50QnVzLmxvY2FsUm9sZVVwZGF0ZS51bnN1YnNjcmliZSh0aGlzLnJvbGVDaGFuZ2VNYW5hZ2VyLmhhbmRsZUxvY2FsUGVlclJvbGVVcGRhdGUpfWxlYXZlKGUpe3JldHVybiB0aGlzLmludGVybmFsTGVhdmUoZSl9aW50ZXJuYWxMZWF2ZShlPSEwLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgaSxzO2xldCByPXRoaXMuc3RvcmUuZ2V0Um9vbSgpO2lmKHIpe2xldCBuPXIuaWQ7KGk9dGhpcy5uZXR3b3JrVGVzdE1hbmFnZXIpPT1udWxsfHxpLnN0b3AoKSx0aGlzLmV2ZW50QnVzLmxlYXZlLnB1Ymxpc2godCksby5kKHRoaXMuVEFHLGBcXHUyM0YzIExlYXZpbmcgcm9vbSAke259YCkseWllbGQocz10aGlzLnRyYW5zcG9ydCk9PW51bGw/dm9pZCAwOnMubGVhdmUoZSksdGhpcy5jbGVhblVwKCksby5kKHRoaXMuVEFHLGBcXHUyNzA1IExlZnQgcm9vbSAke259YCl9fSl9Z2V0TG9jYWxQZWVyKCl7cmV0dXJuIHRoaXMuc3RvcmUuZ2V0TG9jYWxQZWVyKCl9Z2V0UGVlcnMoKXtsZXQgZT10aGlzLnN0b3JlLmdldFBlZXJzKCk7cmV0dXJuIGUubGVuZ3RoPDUwJiZvLmQodGhpcy5UQUcsYEdvdCBwZWVycygke2UubGVuZ3RofSlgLGUudG9TdHJpbmcoKSksZX1nZXRBdWRpb091dHB1dCgpe3JldHVybiB0aGlzLmF1ZGlvT3V0cHV0fXNlbmRNZXNzYWdlKGUsdCl7dGhpcy5zZW5kTWVzc2FnZUludGVybmFsKHttZXNzYWdlOnQsdHlwZTplfSl9c2VuZEJyb2FkY2FzdE1lc3NhZ2UoZSx0KXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuIHlpZWxkIHRoaXMuc2VuZE1lc3NhZ2VJbnRlcm5hbCh7bWVzc2FnZTplLHR5cGU6dH0pfSl9c2VuZEdyb3VwTWVzc2FnZShlLHQscil7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCBpPXRoaXMuc3RvcmUuZ2V0S25vd25Sb2xlcygpO2lmKCh0LmZpbHRlcihuPT5pW24ubmFtZV0pfHxbXSkubGVuZ3RoPT09MCl0aHJvdyBtLkdlbmVyaWNFcnJvcnMuVmFsaWRhdGlvbkZhaWxlZChcIk5vIHZhbGlkIHJvbGUgaXMgcHJlc2VudFwiLHQpO3JldHVybiB5aWVsZCB0aGlzLnNlbmRNZXNzYWdlSW50ZXJuYWwoe21lc3NhZ2U6ZSxyZWNpcGllbnRSb2xlczp0LHR5cGU6cn0pfSl9c2VuZERpcmVjdE1lc3NhZ2UoZSx0LHIpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgcztpZighdGhpcy5zdG9yZS5nZXRQZWVyQnlJZCh0LnBlZXJJZCkpdGhyb3cgbS5HZW5lcmljRXJyb3JzLlZhbGlkYXRpb25GYWlsZWQoXCJJbnZhbGlkIHBlZXIgLSBwZWVyIG5vdCBwcmVzZW50IGluIHRoZSByb29tXCIsdCk7aWYoKChzPXRoaXMubG9jYWxQZWVyKT09bnVsbD92b2lkIDA6cy5wZWVySWQpPT09dC5wZWVySWQpdGhyb3cgbS5HZW5lcmljRXJyb3JzLlZhbGlkYXRpb25GYWlsZWQoXCJDYW5ub3Qgc2VuZCBtZXNzYWdlIHRvIHNlbGZcIik7cmV0dXJuIHlpZWxkIHRoaXMuc2VuZE1lc3NhZ2VJbnRlcm5hbCh7bWVzc2FnZTplLHJlY2lwaWVudFBlZXI6dCx0eXBlOnJ9KX0pfXNlbmRNZXNzYWdlSW50ZXJuYWwocyl7cmV0dXJuIGModGhpcyxhcmd1bWVudHMsZnVuY3Rpb24qKHtyZWNpcGllbnRSb2xlczplLHJlY2lwaWVudFBlZXI6dCx0eXBlOnI9XCJjaGF0XCIsbWVzc2FnZTppfSl7aWYoaS5yZXBsYWNlKC9cXHUyMDBiL2csXCIgXCIpLnRyaW0oKT09PVwiXCIpdGhyb3cgby53KHRoaXMuVEFHLFwic2VuZE1lc3NhZ2VcIixcIklnbm9yaW5nIGVtcHR5IG1lc3NhZ2Ugc2VuZFwiKSxtLkdlbmVyaWNFcnJvcnMuVmFsaWRhdGlvbkZhaWxlZChcIkVtcHR5IG1lc3NhZ2Ugbm90IGFsbG93ZWRcIik7bGV0IG49bmV3IGZlKHtzZW5kZXI6dGhpcy5sb2NhbFBlZXIsdHlwZTpyLG1lc3NhZ2U6aSxyZWNpcGllbnRQZWVyOnQscmVjaXBpZW50Um9sZXM6ZSx0aW1lOm5ldyBEYXRlfSk7by5kKHRoaXMuVEFHLFwiU2VuZGluZyBNZXNzYWdlOiBcIixuKTtsZXQgZD15aWVsZCB0aGlzLnRyYW5zcG9ydC5zZW5kTWVzc2FnZShuKTtyZXR1cm4gbi50aW1lPW5ldyBEYXRlKGQudGltZXN0YW1wKSxufSl9c3RhcnRTY3JlZW5TaGFyZShlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgZCxsLGg7bGV0IHI9dGhpcy5zdG9yZS5nZXRQdWJsaXNoUGFyYW1zKCk7aWYoIXIpcmV0dXJuO2xldHthbGxvd2VkOml9PXI7aWYoIShpJiZpLmluY2x1ZGVzKFwic2NyZWVuXCIpKSl7by5lKHRoaXMuVEFHLGBSb2xlICR7KGQ9dGhpcy5sb2NhbFBlZXIpPT1udWxsP3ZvaWQgMDpkLnJvbGV9IGNhbm5vdCBzaGFyZSBzY3JlZW5gKTtyZXR1cm59aWYoKGg9KGw9dGhpcy5sb2NhbFBlZXIpPT1udWxsP3ZvaWQgMDpsLmF1eGlsaWFyeVRyYWNrcyk9PW51bGw/dm9pZCAwOmguZmluZCh1PT51LnNvdXJjZT09PVwic2NyZWVuXCIpKXRocm93IEVycm9yKFwiQ2Fubm90IHNoYXJlIG11bHRpcGxlIHNjcmVlbnNcIik7bGV0IG49eWllbGQgdGhpcy5nZXRTY3JlZW5zaGFyZVRyYWNrcyhlLHQpO2lmKCF0aGlzLmxvY2FsUGVlcil7by5kKHRoaXMuVEFHLFwiU2NyZWVuc2hhcmVkIHdoZW4gbm90IGNvbm5lY3RlZFwiKSxuLmZvckVhY2godT0+e3UuY2xlYW51cCgpfSk7cmV0dXJufXlpZWxkIHRoaXMudHJhbnNwb3J0LnB1Ymxpc2gobiksbi5mb3JFYWNoKHU9Pnt2YXIgZyxTLHk7dS5wZWVySWQ9KGc9dGhpcy5sb2NhbFBlZXIpPT1udWxsP3ZvaWQgMDpnLnBlZXJJZCwoUz10aGlzLmxvY2FsUGVlcik9PW51bGx8fFMuYXV4aWxpYXJ5VHJhY2tzLnB1c2godSksKHk9dGhpcy5saXN0ZW5lcik9PW51bGx8fHkub25UcmFja1VwZGF0ZShOLlRSQUNLX0FEREVELHUsdGhpcy5sb2NhbFBlZXIpfSl9KX1zdG9wRW5kZWRTY3JlZW5zaGFyZShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7by5kKHRoaXMuVEFHLFwiXFx1MjcwNSBTY3JlZW5zaGFyZSBlbmRlZCBuYXRpdmVseVwiKSx5aWVsZCB0aGlzLnN0b3BTY3JlZW5TaGFyZSgpLGUoKX0pfXN0b3BTY3JlZW5TaGFyZSgpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgdDtvLmQodGhpcy5UQUcsXCJcXHUyNzA1IFNjcmVlbnNoYXJlIGVuZGVkIGZyb20gYXBwXCIpO2xldCBlPSh0PXRoaXMubG9jYWxQZWVyKT09bnVsbD92b2lkIDA6dC5hdXhpbGlhcnlUcmFja3MuZmlsdGVyKHI9PnIuc291cmNlPT09XCJzY3JlZW5cIik7aWYoZSlmb3IobGV0IHIgb2YgZSl5aWVsZCB0aGlzLnJlbW92ZVRyYWNrKHIudHJhY2tJZCl9KX1hZGRUcmFjayhlLHQ9XCJyZWd1bGFyXCIpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgaCx1LGcsUztpZighZSl7by53KHRoaXMuVEFHLFwiUGxlYXNlIHBhc3MgYSB2YWxpZCBNZWRpYVN0cmVhbVRyYWNrXCIpO3JldHVybn1pZighdGhpcy5sb2NhbFBlZXIpdGhyb3cgbS5HZW5lcmljRXJyb3JzLk5vdENvbm5lY3RlZChwLlZBTElEQVRJT04sXCJObyBsb2NhbCBwZWVyIHByZXNlbnQsIGNhbm5vdCBhZGRUcmFja1wiKTtpZih0aGlzLmxvY2FsUGVlci5hdXhpbGlhcnlUcmFja3MuZmluZCh5PT55LnRyYWNrSWQ9PT1lLmlkKSlyZXR1cm47bGV0IGk9ZS5raW5kLHM9bmV3IE1lZGlhU3RyZWFtKFtlXSksbj1uZXcgU2UocyksZD1pPT09XCJhdWRpb1wiP1BlOmNlLGw9bmV3IGQobixlLHQsdGhpcy5ldmVudEJ1cyk7dGhpcy5zZXRQbGF5bGlzdFNldHRpbmdzKHt0cmFjazplLGhtc1RyYWNrOmwsc291cmNlOnR9KSx5aWVsZChoPXRoaXMudHJhbnNwb3J0KT09bnVsbD92b2lkIDA6aC5wdWJsaXNoKFtsXSksbC5wZWVySWQ9KHU9dGhpcy5sb2NhbFBlZXIpPT1udWxsP3ZvaWQgMDp1LnBlZXJJZCwoZz10aGlzLmxvY2FsUGVlcik9PW51bGx8fGcuYXV4aWxpYXJ5VHJhY2tzLnB1c2gobCksKFM9dGhpcy5saXN0ZW5lcik9PW51bGx8fFMub25UcmFja1VwZGF0ZShOLlRSQUNLX0FEREVELGwsdGhpcy5sb2NhbFBlZXIpfSl9cmVtb3ZlVHJhY2soZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciByO2lmKCF0aGlzLmxvY2FsUGVlcil0aHJvdyBtLkdlbmVyaWNFcnJvcnMuTm90Q29ubmVjdGVkKHAuVkFMSURBVElPTixcIk5vIGxvY2FsIHBlZXIgcHJlc2VudCwgY2Fubm90IHJlbW92ZVRyYWNrXCIpO2xldCB0PXRoaXMubG9jYWxQZWVyLmF1eGlsaWFyeVRyYWNrcy5maW5kSW5kZXgoaT0+aS50cmFja0lkPT09ZSk7aWYodD4tMSl7bGV0IGk9dGhpcy5sb2NhbFBlZXIuYXV4aWxpYXJ5VHJhY2tzW3RdO3lpZWxkIHRoaXMudHJhbnNwb3J0LnVucHVibGlzaChbaV0pLGkuc291cmNlPT09XCJhdWRpb3BsYXlsaXN0XCI/dGhpcy5wbGF5bGlzdE1hbmFnZXIuc3RvcChiLmF1ZGlvKTppLnNvdXJjZT09PVwidmlkZW9wbGF5bGlzdFwiJiZ0aGlzLnBsYXlsaXN0TWFuYWdlci5zdG9wKGIudmlkZW8pLHRoaXMubG9jYWxQZWVyLmF1eGlsaWFyeVRyYWNrcy5zcGxpY2UodCwxKSwocj10aGlzLmxpc3RlbmVyKT09bnVsbHx8ci5vblRyYWNrVXBkYXRlKE4uVFJBQ0tfUkVNT1ZFRCxpLHRoaXMubG9jYWxQZWVyKX1lbHNlIG8udyh0aGlzLlRBRyxgTm8gdHJhY2sgZm91bmQgZm9yICR7ZX1gKX0pfXNldEFuYWx5dGljc0xldmVsKGUpe3RoaXMuYW5hbHl0aWNzRXZlbnRzU2VydmljZS5sZXZlbD1lfXNldExvZ0xldmVsKGUpe28ubGV2ZWw9ZX1hZGRBdWRpb0xpc3RlbmVyKGUpe3RoaXMuYXVkaW9MaXN0ZW5lcj1lLHRoaXMubm90aWZpY2F0aW9uTWFuYWdlci5zZXRBdWRpb0xpc3RlbmVyKGUpfWFkZENvbm5lY3Rpb25RdWFsaXR5TGlzdGVuZXIoZSl7dGhpcy5ub3RpZmljYXRpb25NYW5hZ2VyLnNldENvbm5lY3Rpb25RdWFsaXR5TGlzdGVuZXIoZSl9Y2hhbmdlUm9sZShlLHQscj0hMSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciBpOyFlLnJvbGV8fGUucm9sZS5uYW1lPT09dHx8KHlpZWxkKGk9dGhpcy50cmFuc3BvcnQpPT1udWxsP3ZvaWQgMDppLmNoYW5nZVJvbGVPZlBlZXIoZSx0LHIpKX0pfWNoYW5nZVJvbGVPZlBlZXIoZSx0LHI9ITEpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgaTshZS5yb2xlfHxlLnJvbGUubmFtZT09PXR8fCh5aWVsZChpPXRoaXMudHJhbnNwb3J0KT09bnVsbD92b2lkIDA6aS5jaGFuZ2VSb2xlT2ZQZWVyKGUsdCxyKSl9KX1jaGFuZ2VSb2xlT2ZQZWVyc1dpdGhSb2xlcyhlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgcjtlLmxlbmd0aDw9MHx8IXR8fCh5aWVsZChyPXRoaXMudHJhbnNwb3J0KT09bnVsbD92b2lkIDA6ci5jaGFuZ2VSb2xlT2ZQZWVyc1dpdGhSb2xlcyhlLHQpKX0pfWFjY2VwdENoYW5nZVJvbGUoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciB0O3lpZWxkKHQ9dGhpcy50cmFuc3BvcnQpPT1udWxsP3ZvaWQgMDp0LmFjY2VwdFJvbGVDaGFuZ2UoZSl9KX1lbmRSb29tKGUsdCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciByO2lmKCF0aGlzLmxvY2FsUGVlcil0aHJvdyBtLkdlbmVyaWNFcnJvcnMuTm90Q29ubmVjdGVkKHAuVkFMSURBVElPTixcIk5vIGxvY2FsIHBlZXIgcHJlc2VudCwgY2Fubm90IGVuZCByb29tXCIpO3lpZWxkKHI9dGhpcy50cmFuc3BvcnQpPT1udWxsP3ZvaWQgMDpyLmVuZFJvb20oZSx0KSx5aWVsZCB0aGlzLmxlYXZlKCl9KX1yZW1vdmVQZWVyKGUsdCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciByO2lmKCF0aGlzLmxvY2FsUGVlcil0aHJvdyBtLkdlbmVyaWNFcnJvcnMuTm90Q29ubmVjdGVkKHAuVkFMSURBVElPTixcIk5vIGxvY2FsIHBlZXIgcHJlc2VudCwgY2Fubm90IHJlbW92ZSBwZWVyXCIpO2lmKCF0aGlzLnN0b3JlLmdldFBlZXJCeUlkKGUucGVlcklkKSl0aHJvdyBtLkdlbmVyaWNFcnJvcnMuVmFsaWRhdGlvbkZhaWxlZChcIkludmFsaWQgcGVlciwgZ2l2ZW4gcGVlciBub3QgcHJlc2VudCBpbiByb29tXCIsZSk7eWllbGQocj10aGlzLnRyYW5zcG9ydCk9PW51bGw/dm9pZCAwOnIucmVtb3ZlUGVlcihlLnBlZXJJZCx0KX0pfXN0YXJ0UlRNUE9yUmVjb3JkaW5nKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgdDtpZighdGhpcy5sb2NhbFBlZXIpdGhyb3cgbS5HZW5lcmljRXJyb3JzLk5vdENvbm5lY3RlZChwLlZBTElEQVRJT04sXCJObyBsb2NhbCBwZWVyIHByZXNlbnQsIGNhbm5vdCBzdGFydCBzdHJlYW1pbmcgb3IgcmVjb3JkaW5nXCIpO3lpZWxkKHQ9dGhpcy50cmFuc3BvcnQpPT1udWxsP3ZvaWQgMDp0LnN0YXJ0UlRNUE9yUmVjb3JkaW5nKGUpfSl9c3RvcFJUTVBBbmRSZWNvcmRpbmcoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIGU7aWYoIXRoaXMubG9jYWxQZWVyKXRocm93IG0uR2VuZXJpY0Vycm9ycy5Ob3RDb25uZWN0ZWQocC5WQUxJREFUSU9OLFwiTm8gbG9jYWwgcGVlciBwcmVzZW50LCBjYW5ub3Qgc3RvcCBzdHJlYW1pbmcgb3IgcmVjb3JkaW5nXCIpO3lpZWxkKGU9dGhpcy50cmFuc3BvcnQpPT1udWxsP3ZvaWQgMDplLnN0b3BSVE1QT3JSZWNvcmRpbmcoKX0pfXN0YXJ0SExTU3RyZWFtaW5nKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgdDtpZighdGhpcy5sb2NhbFBlZXIpdGhyb3cgbS5HZW5lcmljRXJyb3JzLk5vdENvbm5lY3RlZChwLlZBTElEQVRJT04sXCJObyBsb2NhbCBwZWVyIHByZXNlbnQsIGNhbm5vdCBzdGFydCBITFMgc3RyZWFtaW5nXCIpO3lpZWxkKHQ9dGhpcy50cmFuc3BvcnQpPT1udWxsP3ZvaWQgMDp0LnN0YXJ0SExTU3RyZWFtaW5nKGUpfSl9c3RvcEhMU1N0cmVhbWluZyhlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIHQ7aWYoIXRoaXMubG9jYWxQZWVyKXRocm93IG0uR2VuZXJpY0Vycm9ycy5Ob3RDb25uZWN0ZWQocC5WQUxJREFUSU9OLFwiTm8gbG9jYWwgcGVlciBwcmVzZW50LCBjYW5ub3Qgc3RvcCBITFMgc3RyZWFtaW5nXCIpO3lpZWxkKHQ9dGhpcy50cmFuc3BvcnQpPT1udWxsP3ZvaWQgMDp0LnN0b3BITFNTdHJlYW1pbmcoZSl9KX1zZW5kSExTVGltZWRNZXRhZGF0YShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIHQ7dGhpcy52YWxpZGF0ZUpvaW5lZChcInNlbmRITFNUaW1lZE1ldGFkYXRhXCIpLHlpZWxkKHQ9dGhpcy50cmFuc3BvcnQpPT1udWxsP3ZvaWQgMDp0LnNlbmRITFNUaW1lZE1ldGFkYXRhKGUpfSl9Y2hhbmdlTmFtZShlKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7dmFyIHQ7dGhpcy52YWxpZGF0ZUpvaW5lZChcImNoYW5nZU5hbWVcIikseWllbGQodD10aGlzLnRyYW5zcG9ydCk9PW51bGw/dm9pZCAwOnQuY2hhbmdlTmFtZShlKSx0aGlzLm5vdGlmaWNhdGlvbk1hbmFnZXIudXBkYXRlTG9jYWxQZWVyKHtuYW1lOmV9KX0pfWNoYW5nZU1ldGFkYXRhKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgdDt0aGlzLnZhbGlkYXRlSm9pbmVkKFwiY2hhbmdlTWV0YWRhdGFcIikseWllbGQodD10aGlzLnRyYW5zcG9ydCk9PW51bGw/dm9pZCAwOnQuY2hhbmdlTWV0YWRhdGEoZSksdGhpcy5ub3RpZmljYXRpb25NYW5hZ2VyLnVwZGF0ZUxvY2FsUGVlcih7bWV0YWRhdGE6ZX0pfSl9c2V0U2Vzc2lvbk1ldGFkYXRhKGUpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt5aWVsZCB0aGlzLnRyYW5zcG9ydC5zZXRTZXNzaW9uTWV0YWRhdGEoZSl9KX1nZXRTZXNzaW9uTWV0YWRhdGEoKXtyZXR1cm4gYyh0aGlzLG51bGwsZnVuY3Rpb24qKCl7cmV0dXJuKHlpZWxkIHRoaXMudHJhbnNwb3J0LmdldFNlc3Npb25NZXRhZGF0YSgpKS5kYXRhfSl9Z2V0Um9sZXMoKXtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLnN0b3JlLmdldEtub3duUm9sZXMoKSl9Y2hhbmdlVHJhY2tTdGF0ZShlLHQpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgaTtpZihlLnR5cGU9PT1MLlZJREVPJiZlLnNvdXJjZSE9PVwicmVndWxhclwiKXtvLncodGhpcy5UQUcsXCJNdXRpbmcgbm9uLXJlZ3VsYXIgdmlkZW8gdHJhY2tzIGlzIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkXCIpO3JldHVybn1pZihlLmVuYWJsZWQ9PT10KXtvLncodGhpcy5UQUcsYEFib3J0aW5nIGNoYW5nZSB0cmFjayBzdGF0ZSwgdHJhY2sgYWxyZWFkeSBoYXMgZW5hYmxlZCAtICR7dH1gLGUpO3JldHVybn1pZighdGhpcy5zdG9yZS5nZXRUcmFja0J5SWQoZS50cmFja0lkKSl0aHJvdyBtLkdlbmVyaWNFcnJvcnMuVmFsaWRhdGlvbkZhaWxlZChcIk5vIHRyYWNrIGZvdW5kIGZvciBjaGFuZ2UgdHJhY2sgc3RhdGVcIixlKTtsZXQgcj10aGlzLnN0b3JlLmdldFBlZXJCeVRyYWNrSWQoZS50cmFja0lkKTtpZighcil0aHJvdyBtLkdlbmVyaWNFcnJvcnMuVmFsaWRhdGlvbkZhaWxlZChcIk5vIHBlZXIgZm91bmQgZm9yIGNoYW5nZSB0cmFjayBzdGF0ZVwiLGUpO3lpZWxkKGk9dGhpcy50cmFuc3BvcnQpPT1udWxsP3ZvaWQgMDppLmNoYW5nZVRyYWNrU3RhdGUoe3JlcXVlc3RlZF9mb3I6ci5wZWVySWQsdHJhY2tfaWQ6ZS50cmFja0lkLHN0cmVhbV9pZDplLnN0cmVhbS5pZCxtdXRlOiF0fSl9KX1jaGFuZ2VNdWx0aVRyYWNrU3RhdGUoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciBuO2lmKHR5cGVvZiBlLmVuYWJsZWQhPVwiYm9vbGVhblwiKXRocm93IG0uR2VuZXJpY0Vycm9ycy5WYWxpZGF0aW9uRmFpbGVkKFwiUGFzcyBhIGJvb2xlYW4gZm9yIGVuYWJsZWRcIik7bGV0e2VuYWJsZWQ6dCxyb2xlczpyLHR5cGU6aSxzb3VyY2U6c309ZTt5aWVsZChuPXRoaXMudHJhbnNwb3J0KT09bnVsbD92b2lkIDA6bi5jaGFuZ2VNdWx0aVRyYWNrU3RhdGUoe3ZhbHVlOiF0LHR5cGU6aSxzb3VyY2U6cyxyb2xlczpyPT1udWxsP3ZvaWQgMDpyLm1hcChkPT5kPT1udWxsP3ZvaWQgMDpkLm5hbWUpfSl9KX1zZXRGcmFtZXdvcmtJbmZvKGUpe3RoaXMuZnJhbWV3b3JrSW5mbz1lfXB1Ymxpc2goZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCB0PXlpZWxkIHRoaXMubG9jYWxUcmFja01hbmFnZXIuZ2V0VHJhY2tzVG9QdWJsaXNoKGUpO3lpZWxkIHRoaXMuc2V0QW5kUHVibGlzaFRyYWNrcyh0KSx0aGlzLnNka1N0YXRlLnB1Ymxpc2hlZD0hMH0pfXNldEFuZFB1Ymxpc2hUcmFja3MoZSl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe3ZhciB0O2ZvcihsZXQgciBvZiBlKXlpZWxkIHRoaXMudHJhbnNwb3J0LnB1Ymxpc2goW3JdKSx0aGlzLnNldExvY2FsUGVlclRyYWNrKHIpLCh0PXRoaXMubGlzdGVuZXIpPT1udWxsfHx0Lm9uVHJhY2tVcGRhdGUoTi5UUkFDS19BRERFRCxyLHRoaXMubG9jYWxQZWVyKTt5aWVsZCB0aGlzLmluaXREZXZpY2VNYW5hZ2VycygpfSl9c2V0TG9jYWxQZWVyVHJhY2soZSl7dmFyIHQ7c3dpdGNoKGUucGVlcklkPSh0PXRoaXMubG9jYWxQZWVyKT09bnVsbD92b2lkIDA6dC5wZWVySWQsZS50eXBlKXtjYXNlIEwuQVVESU86dGhpcy5sb2NhbFBlZXIuYXVkaW9UcmFjaz1lO2JyZWFrO2Nhc2UgTC5WSURFTzp0aGlzLmxvY2FsUGVlci52aWRlb1RyYWNrPWU7YnJlYWt9fWluaXREZXZpY2VNYW5hZ2Vycygpe3JldHVybiBjKHRoaXMsbnVsbCxmdW5jdGlvbiooKXt2YXIgZSx0LHIsaSxzO3RoaXMuc2RrU3RhdGUuZGV2aWNlTWFuYWdlcnNJbml0aWFsaXNlZHx8KHRoaXMuc2RrU3RhdGUuZGV2aWNlTWFuYWdlcnNJbml0aWFsaXNlZD0hMCx5aWVsZCB0aGlzLmRldmljZU1hbmFnZXIuaW5pdCgpLCh5aWVsZCB0aGlzLmRldmljZU1hbmFnZXIudXBkYXRlT3V0cHV0RGV2aWNlKCh0PShlPXRoaXMuc3RvcmUuZ2V0Q29uZmlnKCkpPT1udWxsP3ZvaWQgMDplLnNldHRpbmdzKT09bnVsbD92b2lkIDA6dC5hdWRpb091dHB1dERldmljZUlkKSl8fCh5aWVsZCB0aGlzLmRldmljZU1hbmFnZXIudXBkYXRlT3V0cHV0RGV2aWNlKChpPShyPVEuZ2V0U2VsZWN0aW9uKCkpPT1udWxsP3ZvaWQgMDpyLmF1ZGlvT3V0cHV0KT09bnVsbD92b2lkIDA6aS5kZXZpY2VJZCkpLHRoaXMuYXVkaW9TaW5rTWFuYWdlci5pbml0KChzPXRoaXMuc3RvcmUuZ2V0Q29uZmlnKCkpPT1udWxsP3ZvaWQgMDpzLmF1ZGlvU2lua0VsZW1lbnRJZCkpfSl9Y2xlYW5EZXZpY2VNYW5hZ2Vycygpe3RoaXMuZXZlbnRCdXMuZGV2aWNlQ2hhbmdlLnVuc3Vic2NyaWJlKHRoaXMuaGFuZGxlRGV2aWNlQ2hhbmdlKSx0aGlzLmV2ZW50QnVzLmF1ZGlvUGx1Z2luRmFpbGVkLnVuc3Vic2NyaWJlKHRoaXMuaGFuZGxlQXVkaW9QbHVnaW5FcnJvciksdGhpcy5ldmVudEJ1cy5hdXRvcGxheUVycm9yLnVuc3Vic2NyaWJlKHRoaXMuaGFuZGxlQXV0b3BsYXlFcnJvciksdGhpcy5kZXZpY2VNYW5hZ2VyLmNsZWFuVXAoKSx0aGlzLmF1ZGlvU2lua01hbmFnZXIuY2xlYW5VcCgpfWluaXRQcmV2aWV3VHJhY2tBdWRpb0xldmVsTW9uaXRvcigpe3ZhciB0O2xldCBlPSh0PXRoaXMubG9jYWxQZWVyKT09bnVsbD92b2lkIDA6dC5hdWRpb1RyYWNrO2U9PW51bGx8fGUuaW5pdEF1ZGlvTGV2ZWxNb25pdG9yKCksdGhpcy5ldmVudEJ1cy50cmFja0F1ZGlvTGV2ZWxVcGRhdGUuc3Vic2NyaWJlKHI9Pnt2YXIgcztsZXQgaT1yJiZyLnRyYWNrLnRyYWNrSWQ9PT0oZT09bnVsbD92b2lkIDA6ZS50cmFja0lkKT9be2F1ZGlvTGV2ZWw6ci5hdWRpb0xldmVsLHBlZXI6dGhpcy5sb2NhbFBlZXIsdHJhY2s6ZX1dOltdO3RoaXMuc3RvcmUudXBkYXRlU3BlYWtlcnMoaSksKHM9dGhpcy5hdWRpb0xpc3RlbmVyKT09bnVsbHx8cy5vbkF1ZGlvTGV2ZWxVcGRhdGUoaSl9KSx0aGlzLmV2ZW50QnVzLmxvY2FsQXVkaW9TaWxlbmNlLnN1YnNjcmliZSh0aGlzLnNlbmRBdWRpb1ByZXNlbmNlRmFpbGVkKX1ub3RpZnlKb2luKCl7dmFyIHI7bGV0IGU9dGhpcy5zdG9yZS5nZXRMb2NhbFBlZXIoKSx0PXRoaXMuc3RvcmUuZ2V0Um9vbSgpO2lmKHQuam9pbmVkQXQ9bmV3IERhdGUsZSYmKGUuam9pbmVkQXQ9dC5qb2luZWRBdCksZT09bnVsbD92b2lkIDA6ZS5yb2xlKXt0aGlzLmFuYWx5dGljc1RpbWVyLmVuZChNLkpPSU4pLChyPXRoaXMubGlzdGVuZXIpPT1udWxsfHxyLm9uSm9pbih0KTtyZXR1cm59cmV0dXJuIG5ldyBQcm9taXNlKChpLHMpPT57dGhpcy5ldmVudEJ1cy5wb2xpY3lDaGFuZ2Uuc3Vic2NyaWJlT25jZSgoKT0+e3ZhciBuO3RoaXMuYW5hbHl0aWNzVGltZXIuZW5kKE0uSk9JTiksKG49dGhpcy5saXN0ZW5lcik9PW51bGx8fG4ub25Kb2luKHQpLGkoKX0pLHRoaXMuZXZlbnRCdXMubGVhdmUuc3Vic2NyaWJlT25jZShuPT57cyhuKX0pfSl9c2V0VXBQcmV2aWV3KGUsdCl7dGhpcy5saXN0ZW5lcj10LHRoaXMuc2RrU3RhdGUuaXNQcmV2aWV3SW5Qcm9ncmVzcz0hMDtsZXR7cm9vbUlkOnIsdXNlcklkOmkscm9sZTpzfT1rdChlLmF1dGhUb2tlbik7dGhpcy5jb21tb25TZXR1cChlLHIsdCksdGhpcy5zdG9yZS5zZXRDb25maWcoZSksdGhpcy5zdG9yZS5jcmVhdGVBbmRTZXRVc2VyQWdlbnQodGhpcy5mcmFtZXdvcmtJbmZvKSx0aGlzLmNyZWF0ZUFuZEFkZExvY2FsUGVlclRvU3RvcmUoZSxzLGkpLG8uZCh0aGlzLlRBRyxcIlNESyBTdG9yZVwiLHRoaXMuc3RvcmUpfXNldFBsYXlsaXN0U2V0dGluZ3MoaSl7cmV0dXJuIGModGhpcyxhcmd1bWVudHMsZnVuY3Rpb24qKHt0cmFjazplLGhtc1RyYWNrOnQsc291cmNlOnJ9KXtpZihyPT09XCJ2aWRlb3BsYXlsaXN0XCIpe2xldCBzPXt9O2lmKGUua2luZD09PVwiYXVkaW9cIilzLm1heEJpdHJhdGU9NjQ7ZWxzZXtzLm1heEJpdHJhdGU9MWUzO2xldHt3aWR0aDpuLGhlaWdodDpkfT1lLmdldFNldHRpbmdzKCk7cy53aWR0aD1uLHMuaGVpZ2h0PWR9eWllbGQgdC5zZXRTZXR0aW5ncyhzKX1lbHNlIHI9PT1cImF1ZGlvcGxheWxpc3RcIiYmKHlpZWxkIHQuc2V0U2V0dGluZ3Moe21heEJpdHJhdGU6NjR9KSl9KX1jcmVhdGVBbmRBZGRMb2NhbFBlZXJUb1N0b3JlKGUsdCxyKXtsZXQgaT10aGlzLnN0b3JlLmdldFBvbGljeUZvclJvbGUodCkscz1uZXcgVmUoe25hbWU6ZS51c2VyTmFtZXx8XCJcIixjdXN0b21lclVzZXJJZDpyLG1ldGFkYXRhOmUubWV0YURhdGF8fFwiXCIscm9sZTppfSk7dGhpcy5zdG9yZS5hZGRQZWVyKHMpfWNvbW1vblNldHVwKGUsdCxyKXt0aGlzLnN0cmluZ2lmeU1ldGFkYXRhKGUpLGUuaW5pdEVuZHBvaW50fHwoZS5pbml0RW5kcG9pbnQ9XCJodHRwczovL3Byb2QtaW5pdC4xMDBtcy5saXZlXCIpLHRoaXMuZXJyb3JMaXN0ZW5lcj1yLHRoaXMuZGV2aWNlQ2hhbmdlTGlzdGVuZXI9cix0aGlzLmluaXRTdG9yZUFuZE1hbmFnZXJzKCksdGhpcy5zdG9yZS5zZXRFcnJvckxpc3RlbmVyKHRoaXMuZXJyb3JMaXN0ZW5lciksdGhpcy5zdG9yZS5nZXRSb29tKCl8fHRoaXMuc3RvcmUuc2V0Um9vbShuZXcgR2UodCx0aGlzLnN0b3JlKSl9cmVtb3ZlRGV2aWNlc0Zyb21Db25maWcoZSl7dGhpcy5zdG9yZS5nZXRDb25maWcoKSYmZS5zZXR0aW5ncyYmKGRlbGV0ZSBlLnNldHRpbmdzLmF1ZGlvT3V0cHV0RGV2aWNlSWQsZGVsZXRlIGUuc2V0dGluZ3MudmlkZW9EZXZpY2VJZCxkZWxldGUgZS5zZXR0aW5ncy5hdWRpb0lucHV0RGV2aWNlSWQpfWdldFNjcmVlbnNoYXJlVHJhY2tzKGUsdCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldFtyLGldPXlpZWxkIHRoaXMubG9jYWxUcmFja01hbmFnZXIuZ2V0TG9jYWxTY3JlZW4odCkscz0oKT0+e3RoaXMuc3RvcEVuZGVkU2NyZWVuc2hhcmUoZSl9LG49W107aWYodD09bnVsbD92b2lkIDA6dC5hdWRpb09ubHkpe2lmKHIubmF0aXZlVHJhY2suc3RvcCgpLCFpKXRocm93IG0uVHJhY2tzRXJyb3JzLk5vdGhpbmdUb1JldHVybihwLlRSQUNLLFwiU2VsZWN0IHNoYXJlIGF1ZGlvIHdoZW4gc2hhcmluZyBzY3JlZW5cIixcIk5vIGF1ZGlvIGZvdW5kXCIpO24ucHVzaChpKSxpLm5hdGl2ZVRyYWNrLm9uZW5kZWQ9c31lbHNlIG4ucHVzaChyKSxyLm5hdGl2ZVRyYWNrLm9uZW5kZWQ9cyxpJiZuLnB1c2goaSk7cmV0dXJuIG59KX19O2Z1bmN0aW9uIHpwKCl7cmV0dXJuIGModGhpcyxudWxsLGZ1bmN0aW9uKigpe2xldCBhPW5ldyBKKCkuYnVpbGQoKSxlPW5ldyB6KCkuYnVpbGQoKTt0cnl7KHlpZWxkIFllKGUpKS5zdG9wKCl9Y2F0Y2gocil7aWYoT2kocikpdGhyb3coeWllbGQgRnIoe2F1ZGlvOiExLHZpZGVvOiEwfSkpLmdldFRyYWNrcygpLmZvckVhY2gocz0+cy5zdG9wKCkpLHJ9cmV0dXJuKHlpZWxkIHplKGEpKS5zdG9wKCksITF9KX1mdW5jdGlvbiBPaShhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFQmJmEuYWN0aW9uPT09cC5UUkFDS31vLmkoXCJhZGFwdGVyXCIsYCR7dGkuYnJvd3NlckRldGFpbHMuYnJvd3Nlcn0gdiR7dGkuYnJvd3NlckRldGFpbHMudmVyc2lvbn1gKTtleHBvcnR7ViBhcyBFTlYscWUgYXMgSE1TQXVkaW9Db2RlYyxSZSBhcyBITVNBdWRpb0NvbnRleHRIYW5kbGVyLGJ0IGFzIEhNU0F1ZGlvUGx1Z2luVHlwZSxRZSBhcyBITVNBdWRpb1BsdWdpbnNNYW5hZ2VyLERlIGFzIEhNU0F1ZGlvVHJhY2ssVCBhcyBITVNFeGNlcHRpb24sUGUgYXMgSE1TTG9jYWxBdWRpb1RyYWNrLGNlIGFzIEhNU0xvY2FsVmlkZW9UcmFjayxGIGFzIEhNU0xvZ0xldmVsLEsgYXMgSE1TUGVlclVwZGF0ZSxiIGFzIEhNU1BsYXlsaXN0VHlwZSxpZSBhcyBITVNQbHVnaW5VbnN1cHBvcnRlZFR5cGVzLHd0IGFzIEhNU1JlbW90ZUF1ZGlvVHJhY2ssZ2UgYXMgSE1TUmVtb3RlVmlkZW9UcmFjayxuZSBhcyBITVNSb29tVXBkYXRlLE5pIGFzIEhNU1NkayxxIGFzIEhNU1NpbXVsY2FzdExheWVyLHBlIGFzIEhNU1RyYWNrLEwgYXMgSE1TVHJhY2tUeXBlLE4gYXMgSE1TVHJhY2tVcGRhdGUsS2UgYXMgSE1TVmlkZW9Db2RlYyxPZSBhcyBITVNWaWRlb1BsdWdpbkNhbnZhc0NvbnRleHRUeXBlLEllIGFzIEhNU1ZpZGVvUGx1Z2luVHlwZSxldCBhcyBITVNWaWRlb1BsdWdpbnNNYW5hZ2VyLE5lIGFzIEhNU1ZpZGVvVHJhY2ssdnQgYXMgSE1TV2VicnRjSW50ZXJuYWxzLFN0IGFzIEhNU1dlYnJ0Y1N0YXRzLG1yIGFzIGdldEFuYWx5dGljc0RldmljZUlkLEhvIGFzIGdldExvY2FsRGV2aWNlcyx3byBhcyBnZXRMb2NhbFNjcmVlbixGciBhcyBnZXRMb2NhbFN0cmVhbSxYIGFzIGlzQnJvd3NlcixNdCBhcyBpc0lPUyxwciBhcyBpc01vYmlsZSxoZSBhcyBpc05vZGUsZ3IgYXMgaXNQYWdlSGlkZGVuLFdpIGFzIGlzU3VwcG9ydGVkLHVlIGFzIHBhcnNlZFVzZXJBZ2VudCxJdCBhcyBzaW11bGNhc3RNYXBwaW5nLHpwIGFzIHZhbGlkYXRlRGV2aWNlQVZ9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/hms-video/dist/index.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/hooks/useAVToggle.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/hooks/useAVToggle.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useAVToggle\": function() { return /* binding */ m; }\n/* harmony export */ });\n/* harmony import */ var _node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../node_modules/tslib/tslib.es6.js */ \"./node_modules/@100mslive/react-sdk/dist/node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @100mslive/hms-video-store */ \"./node_modules/@100mslive/hms-video-store/dist/index.js\");\n/* harmony import */ var _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../primitives/HmsRoomProvider.js */ \"./node_modules/@100mslive/react-sdk/dist/primitives/HmsRoomProvider.js\");\n/* harmony import */ var _utils_commons_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/commons.js */ \"./node_modules/@100mslive/react-sdk/dist/utils/commons.js\");\nconst m=(m=_utils_commons_js__WEBPACK_IMPORTED_MODULE_1__.logErrorHandler)=>{const n=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__.selectIsLocalAudioEnabled),v=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__.selectIsLocalVideoEnabled),c=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__.selectIsAllowedToPublish),a=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSActions)(),u=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>(0,_node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function*(){try{yield a.setLocalAudioEnabled(!n)}catch(o){m(o,\"toggleAudio\")}}))),[a,n,m]),g=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>(0,_node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function*(){try{yield a.setLocalVideoEnabled(!v)}catch(o){m(o,\"toggleVideo\")}}))),[a,v,m]);return{isLocalAudioEnabled:n,isLocalVideoEnabled:v,toggleAudio:(null==c?void 0:c.audio)?u:void 0,toggleVideo:(null==c?void 0:c.video)?g:void 0}};\n//# sourceMappingURL=useAVToggle.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ob29rcy91c2VBVlRvZ2dsZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQStXLFdBQVcsOERBQUMsSUFBSSxRQUFRLDJFQUFDLENBQUMsaUZBQUMsSUFBSSwyRUFBQyxDQUFDLGlGQUFDLElBQUksMkVBQUMsQ0FBQyxnRkFBQyxJQUFJLDZFQUFDLEtBQUssa0RBQUMsTUFBTSwyRUFBQyxtQ0FBbUMsSUFBSSxpQ0FBaUMsU0FBUyxvQkFBb0IsZUFBZSxrREFBQyxNQUFNLDJFQUFDLG1DQUFtQyxJQUFJLGlDQUFpQyxTQUFTLG9CQUFvQixhQUFhLE9BQU8sMElBQW1LO0FBQ2wwQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ob29rcy91c2VBVlRvZ2dsZS5qcz9lODBjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtfX2F3YWl0ZXIgYXMgb31mcm9tXCIuLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e3VzZUNhbGxiYWNrIGFzIGl9ZnJvbVwicmVhY3RcIjtpbXBvcnR7c2VsZWN0SXNMb2NhbEF1ZGlvRW5hYmxlZCBhcyBkLHNlbGVjdElzTG9jYWxWaWRlb0VuYWJsZWQgYXMgZSxzZWxlY3RJc0FsbG93ZWRUb1B1Ymxpc2ggYXMgdH1mcm9tXCJAMTAwbXNsaXZlL2htcy12aWRlby1zdG9yZVwiO2ltcG9ydHt1c2VITVNTdG9yZSBhcyBsLHVzZUhNU0FjdGlvbnMgYXMgcn1mcm9tXCIuLi9wcmltaXRpdmVzL0htc1Jvb21Qcm92aWRlci5qc1wiO2ltcG9ydHtsb2dFcnJvckhhbmRsZXIgYXMgc31mcm9tXCIuLi91dGlscy9jb21tb25zLmpzXCI7Y29uc3QgbT0obT1zKT0+e2NvbnN0IG49bChkKSx2PWwoZSksYz1sKHQpLGE9cigpLHU9aSgoKCk9Pm8odm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3RyeXt5aWVsZCBhLnNldExvY2FsQXVkaW9FbmFibGVkKCFuKX1jYXRjaChvKXttKG8sXCJ0b2dnbGVBdWRpb1wiKX19KSkpLFthLG4sbV0pLGc9aSgoKCk9Pm8odm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3RyeXt5aWVsZCBhLnNldExvY2FsVmlkZW9FbmFibGVkKCF2KX1jYXRjaChvKXttKG8sXCJ0b2dnbGVWaWRlb1wiKX19KSkpLFthLHYsbV0pO3JldHVybntpc0xvY2FsQXVkaW9FbmFibGVkOm4saXNMb2NhbFZpZGVvRW5hYmxlZDp2LHRvZ2dsZUF1ZGlvOihudWxsPT1jP3ZvaWQgMDpjLmF1ZGlvKT91OnZvaWQgMCx0b2dnbGVWaWRlbzoobnVsbD09Yz92b2lkIDA6Yy52aWRlbyk/Zzp2b2lkIDB9fTtleHBvcnR7bSBhcyB1c2VBVlRvZ2dsZX07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2VBVlRvZ2dsZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/hooks/useAVToggle.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/hooks/useAudioLevelStyles.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/hooks/useAudioLevelStyles.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useAudioLevelStyles\": function() { return /* binding */ e; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @100mslive/hms-video-store */ \"./node_modules/@100mslive/hms-video-store/dist/index.js\");\n/* harmony import */ var _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../primitives/HmsRoomProvider.js */ \"./node_modules/@100mslive/react-sdk/dist/primitives/HmsRoomProvider.js\");\nfunction e({trackId:e,getStyle:i,ref:s}){const m=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_1__.useHMSVanillaStore)();(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>m.subscribe((r=>{if(!s.current)return;const t=i(r);for(const r in t)s.current.style[r]=t[r]}),(0,_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_2__.selectTrackAudioByID)(e))),[i,s,m,e])}\n//# sourceMappingURL=useAudioLevelStyles.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ob29rcy91c2VBdWRpb0xldmVsU3R5bGVzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTBLLFlBQVksMkJBQTJCLEVBQUUsUUFBUSxrRkFBQyxHQUFHLGdEQUFDLHVCQUF1QixxQkFBcUIsYUFBYSx5Q0FBeUMsRUFBRSxnRkFBQyxpQkFBa0Q7QUFDdlgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0AxMDBtc2xpdmUvcmVhY3Qtc2RrL2Rpc3QvaG9va3MvdXNlQXVkaW9MZXZlbFN0eWxlcy5qcz81N2NlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHt1c2VFZmZlY3QgYXMgcn1mcm9tXCJyZWFjdFwiO2ltcG9ydHtzZWxlY3RUcmFja0F1ZGlvQnlJRCBhcyB0fWZyb21cIkAxMDBtc2xpdmUvaG1zLXZpZGVvLXN0b3JlXCI7aW1wb3J0e3VzZUhNU1ZhbmlsbGFTdG9yZSBhcyBvfWZyb21cIi4uL3ByaW1pdGl2ZXMvSG1zUm9vbVByb3ZpZGVyLmpzXCI7ZnVuY3Rpb24gZSh7dHJhY2tJZDplLGdldFN0eWxlOmkscmVmOnN9KXtjb25zdCBtPW8oKTtyKCgoKT0+bS5zdWJzY3JpYmUoKHI9PntpZighcy5jdXJyZW50KXJldHVybjtjb25zdCB0PWkocik7Zm9yKGNvbnN0IHIgaW4gdClzLmN1cnJlbnQuc3R5bGVbcl09dFtyXX0pLHQoZSkpKSxbaSxzLG0sZV0pfWV4cG9ydHtlIGFzIHVzZUF1ZGlvTGV2ZWxTdHlsZXN9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlQXVkaW9MZXZlbFN0eWxlcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/hooks/useAudioLevelStyles.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/hooks/useAutoplayError.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/hooks/useAutoplayError.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useAutoplayError\": function() { return /* binding */ m; }\n/* harmony export */ });\n/* harmony import */ var _node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../node_modules/tslib/tslib.es6.js */ \"./node_modules/@100mslive/react-sdk/dist/node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @100mslive/hms-video-store */ \"./node_modules/@100mslive/hms-video-store/dist/index.js\");\n/* harmony import */ var _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../primitives/HmsRoomProvider.js */ \"./node_modules/@100mslive/react-sdk/dist/primitives/HmsRoomProvider.js\");\nconst m=()=>{const m=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_1__.useHMSNotifications)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_2__.HMSNotificationTypes.ERROR),[l,n]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\"),u=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_1__.useHMSActions)(),v=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>(0,_node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_3__.__awaiter)(void 0,void 0,void 0,(function*(){yield u.unblockAudio()}))),[u]);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{3008===(null==m?void 0:m.data.code)&&n(null==m?void 0:m.data.message)}),[m]),{error:l,unblockAudio:v,resetError:()=>n(\"\")}};\n//# sourceMappingURL=useAutoplayError.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ob29rcy91c2VBdXRvcGxheUVycm9yLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE0UixhQUFhLFFBQVEsbUZBQUMsQ0FBQyxrRkFBTyxRQUFRLCtDQUFDLE9BQU8sNkVBQUMsS0FBSyxrREFBQyxNQUFNLDJFQUFDLG1DQUFtQyx1QkFBdUIsU0FBUyxPQUFPLGdEQUFDLE9BQU8sc0VBQXNFLFFBQVEsOENBQTRFO0FBQ3BrQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ob29rcy91c2VBdXRvcGxheUVycm9yLmpzPzVkMzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e19fYXdhaXRlciBhcyBvfWZyb21cIi4uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanNcIjtpbXBvcnR7dXNlU3RhdGUgYXMgcix1c2VDYWxsYmFjayBhcyBpLHVzZUVmZmVjdCBhcyBlfWZyb21cInJlYWN0XCI7aW1wb3J0e0hNU05vdGlmaWNhdGlvblR5cGVzIGFzIHR9ZnJvbVwiQDEwMG1zbGl2ZS9obXMtdmlkZW8tc3RvcmVcIjtpbXBvcnR7dXNlSE1TTm90aWZpY2F0aW9ucyBhcyBzLHVzZUhNU0FjdGlvbnMgYXMgZH1mcm9tXCIuLi9wcmltaXRpdmVzL0htc1Jvb21Qcm92aWRlci5qc1wiO2NvbnN0IG09KCk9Pntjb25zdCBtPXModC5FUlJPUiksW2wsbl09cihcIlwiKSx1PWQoKSx2PWkoKCgpPT5vKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt5aWVsZCB1LnVuYmxvY2tBdWRpbygpfSkpKSxbdV0pO3JldHVybiBlKCgoKT0+ezMwMDg9PT0obnVsbD09bT92b2lkIDA6bS5kYXRhLmNvZGUpJiZuKG51bGw9PW0/dm9pZCAwOm0uZGF0YS5tZXNzYWdlKX0pLFttXSkse2Vycm9yOmwsdW5ibG9ja0F1ZGlvOnYscmVzZXRFcnJvcjooKT0+bihcIlwiKX19O2V4cG9ydHttIGFzIHVzZUF1dG9wbGF5RXJyb3J9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlQXV0b3BsYXlFcnJvci5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/hooks/useAutoplayError.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/hooks/useCustomEvent.js":
/*!************************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/hooks/useCustomEvent.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useCustomEvent\": function() { return /* binding */ m; }\n/* harmony export */ });\n/* harmony import */ var _node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../node_modules/tslib/tslib.es6.js */ \"./node_modules/@100mslive/react-sdk/dist/node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @100mslive/hms-video-store */ \"./node_modules/@100mslive/hms-video-store/dist/index.js\");\n/* harmony import */ var _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../primitives/HmsRoomProvider.js */ \"./node_modules/@100mslive/react-sdk/dist/primitives/HmsRoomProvider.js\");\n/* harmony import */ var _utils_commons_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/commons.js */ \"./node_modules/@100mslive/react-sdk/dist/utils/commons.js\");\nconst m=({type:m,json:d=!0,onEvent:a,handleError:l=_utils_commons_js__WEBPACK_IMPORTED_MODULE_1__.logErrorHandler})=>{const c=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSActions)(),p=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSVanillaNotifications)();(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{c.ignoreMessageTypes([m])}),[c,m]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(!p)return;return p.onNotification((e=>{const s=e.data;if(s&&s.type===m)try{const e=d?JSON.parse(s.message):s.message;null==a||a(e)}catch(e){l(e,\"handleCustomEvent\")}}),_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__.HMSNotificationTypes.NEW_MESSAGE)}),[p,m,d,a,l]);return{sendEvent:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(((s,o)=>(0,_node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function*(){try{const e=((e,s)=>s?JSON.stringify(e||\"\"):e)(s,d);o&&Array.isArray(null==o?void 0:o.roleNames)?yield c.sendGroupMessage(e,o.roleNames,m):\"string\"==typeof(null==o?void 0:o.peerId)?yield c.sendDirectMessage(e,o.peerId,m):yield c.sendBroadcastMessage(e,m),null==a||a(s)}catch(e){l(e,\"sendCustomEvent\")}}))),[c,l,a,m,d])}};\n//# sourceMappingURL=useCustomEvent.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ob29rcy91c2VDdXN0b21FdmVudC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTJVLFVBQVUseUNBQXlDLDhEQUFDLENBQUMsSUFBSSxRQUFRLDZFQUFDLEtBQUssMEZBQUMsR0FBRyxnREFBQyxPQUFPLDBCQUEwQixTQUFTLGdEQUFDLE9BQU8sYUFBYSw2QkFBNkIsZUFBZSxxQkFBcUIsMENBQTBDLGNBQWMsU0FBUywwQkFBMEIsRUFBRSx3RkFBYSxFQUFFLGVBQWUsT0FBTyxVQUFVLGtEQUFDLFNBQVMsMkVBQUMsbUNBQW1DLElBQUksZ0RBQWdELHlOQUF5TixTQUFTLHdCQUF3QixtQkFBK0M7QUFDOWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AMTAwbXNsaXZlL3JlYWN0LXNkay9kaXN0L2hvb2tzL3VzZUN1c3RvbUV2ZW50LmpzP2I5NWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e19fYXdhaXRlciBhcyBlfWZyb21cIi4uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanNcIjtpbXBvcnR7dXNlRWZmZWN0IGFzIHMsdXNlQ2FsbGJhY2sgYXMgb31mcm9tXCJyZWFjdFwiO2ltcG9ydHtITVNOb3RpZmljYXRpb25UeXBlcyBhcyByfWZyb21cIkAxMDBtc2xpdmUvaG1zLXZpZGVvLXN0b3JlXCI7aW1wb3J0e3VzZUhNU0FjdGlvbnMgYXMgdCx1c2VITVNWYW5pbGxhTm90aWZpY2F0aW9ucyBhcyBpfWZyb21cIi4uL3ByaW1pdGl2ZXMvSG1zUm9vbVByb3ZpZGVyLmpzXCI7aW1wb3J0e2xvZ0Vycm9ySGFuZGxlciBhcyBufWZyb21cIi4uL3V0aWxzL2NvbW1vbnMuanNcIjtjb25zdCBtPSh7dHlwZTptLGpzb246ZD0hMCxvbkV2ZW50OmEsaGFuZGxlRXJyb3I6bD1ufSk9Pntjb25zdCBjPXQoKSxwPWkoKTtzKCgoKT0+e2MuaWdub3JlTWVzc2FnZVR5cGVzKFttXSl9KSxbYyxtXSkscygoKCk9PntpZighcClyZXR1cm47cmV0dXJuIHAub25Ob3RpZmljYXRpb24oKGU9Pntjb25zdCBzPWUuZGF0YTtpZihzJiZzLnR5cGU9PT1tKXRyeXtjb25zdCBlPWQ/SlNPTi5wYXJzZShzLm1lc3NhZ2UpOnMubWVzc2FnZTtudWxsPT1hfHxhKGUpfWNhdGNoKGUpe2woZSxcImhhbmRsZUN1c3RvbUV2ZW50XCIpfX0pLHIuTkVXX01FU1NBR0UpfSksW3AsbSxkLGEsbF0pO3JldHVybntzZW5kRXZlbnQ6bygoKHMsbyk9PmUodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3RyeXtjb25zdCBlPSgoZSxzKT0+cz9KU09OLnN0cmluZ2lmeShlfHxcIlwiKTplKShzLGQpO28mJkFycmF5LmlzQXJyYXkobnVsbD09bz92b2lkIDA6by5yb2xlTmFtZXMpP3lpZWxkIGMuc2VuZEdyb3VwTWVzc2FnZShlLG8ucm9sZU5hbWVzLG0pOlwic3RyaW5nXCI9PXR5cGVvZihudWxsPT1vP3ZvaWQgMDpvLnBlZXJJZCk/eWllbGQgYy5zZW5kRGlyZWN0TWVzc2FnZShlLG8ucGVlcklkLG0pOnlpZWxkIGMuc2VuZEJyb2FkY2FzdE1lc3NhZ2UoZSxtKSxudWxsPT1hfHxhKHMpfWNhdGNoKGUpe2woZSxcInNlbmRDdXN0b21FdmVudFwiKX19KSkpLFtjLGwsYSxtLGRdKX19O2V4cG9ydHttIGFzIHVzZUN1c3RvbUV2ZW50fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZUN1c3RvbUV2ZW50LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/hooks/useCustomEvent.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/hooks/useDevices.js":
/*!********************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/hooks/useDevices.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DeviceType\": function() { return /* binding */ v; },\n/* harmony export */   \"useDevices\": function() { return /* binding */ c; }\n/* harmony export */ });\n/* harmony import */ var _node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../node_modules/tslib/tslib.es6.js */ \"./node_modules/@100mslive/react-sdk/dist/node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @100mslive/hms-video-store */ \"./node_modules/@100mslive/hms-video-store/dist/index.js\");\n/* harmony import */ var _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../primitives/HmsRoomProvider.js */ \"./node_modules/@100mslive/react-sdk/dist/primitives/HmsRoomProvider.js\");\n/* harmony import */ var _utils_commons_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/commons.js */ \"./node_modules/@100mslive/react-sdk/dist/utils/commons.js\");\nvar v,a;(a=v||(v={})).videoInput=\"videoInput\",a.audioInput=\"audioInput\",a.audioOutput=\"audioOutput\";const c=(a=_utils_commons_js__WEBPACK_IMPORTED_MODULE_1__.logErrorHandler)=>{const c=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSActions)(),n=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__.selectDevices),r=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__.selectLocalMediaSettings),I=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__.selectIsAllowedToPublish),m={[v.audioOutput]:r.audioOutputDeviceId},l={[v.audioOutput]:n.audioOutput};I.video&&(l[v.videoInput]=n.videoInput,m[v.videoInput]=r.videoInputDeviceId),I.audio&&(l[v.audioInput]=n.audioInput,m[v.audioInput]=r.audioInputDeviceId);return{allDevices:l,selectedDeviceIDs:m,updateDevice:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((({deviceType:i,deviceId:t})=>(0,_node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function*(){try{switch(i){case v.audioInput:yield c.setAudioSettings({deviceId:t});break;case v.videoInput:yield c.setVideoSettings({deviceId:t});break;case v.audioOutput:yield c.setAudioOutputDevice(t)}}catch(e){a(e,\"updateDevices\")}}))),[a,c])}};\n//# sourceMappingURL=useDevices.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ob29rcy91c2VEZXZpY2VzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWtXLFFBQVEsV0FBVyxpRkFBaUYsV0FBVyw4REFBQyxJQUFJLFFBQVEsNkVBQUMsS0FBSywyRUFBQyxDQUFDLHFFQUFDLElBQUksMkVBQUMsQ0FBQyxnRkFBQyxJQUFJLDJFQUFDLENBQUMsZ0ZBQUMsS0FBSyxzQ0FBc0MsSUFBSSwrQkFBK0IsMEpBQTBKLE9BQU8sOENBQThDLGtEQUFDLElBQUksd0JBQXdCLEdBQUcsMkVBQUMsbUNBQW1DLElBQUksVUFBVSw0Q0FBNEMsV0FBVyxFQUFFLE1BQU0sNENBQTRDLFdBQVcsRUFBRSxNQUFNLG9EQUFvRCxTQUFTLHNCQUFzQixhQUFxRDtBQUMxbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0AxMDBtc2xpdmUvcmVhY3Qtc2RrL2Rpc3QvaG9va3MvdXNlRGV2aWNlcy5qcz8xYzA0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtfX2F3YWl0ZXIgYXMgZX1mcm9tXCIuLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzXCI7aW1wb3J0e3VzZUNhbGxiYWNrIGFzIGl9ZnJvbVwicmVhY3RcIjtpbXBvcnR7c2VsZWN0RGV2aWNlcyBhcyB0LHNlbGVjdExvY2FsTWVkaWFTZXR0aW5ncyBhcyB1LHNlbGVjdElzQWxsb3dlZFRvUHVibGlzaCBhcyBvfWZyb21cIkAxMDBtc2xpdmUvaG1zLXZpZGVvLXN0b3JlXCI7aW1wb3J0e3VzZUhNU0FjdGlvbnMgYXMgZCx1c2VITVNTdG9yZSBhcyBwfWZyb21cIi4uL3ByaW1pdGl2ZXMvSG1zUm9vbVByb3ZpZGVyLmpzXCI7aW1wb3J0e2xvZ0Vycm9ySGFuZGxlciBhcyBzfWZyb21cIi4uL3V0aWxzL2NvbW1vbnMuanNcIjt2YXIgdixhOyhhPXZ8fCh2PXt9KSkudmlkZW9JbnB1dD1cInZpZGVvSW5wdXRcIixhLmF1ZGlvSW5wdXQ9XCJhdWRpb0lucHV0XCIsYS5hdWRpb091dHB1dD1cImF1ZGlvT3V0cHV0XCI7Y29uc3QgYz0oYT1zKT0+e2NvbnN0IGM9ZCgpLG49cCh0KSxyPXAodSksST1wKG8pLG09e1t2LmF1ZGlvT3V0cHV0XTpyLmF1ZGlvT3V0cHV0RGV2aWNlSWR9LGw9e1t2LmF1ZGlvT3V0cHV0XTpuLmF1ZGlvT3V0cHV0fTtJLnZpZGVvJiYobFt2LnZpZGVvSW5wdXRdPW4udmlkZW9JbnB1dCxtW3YudmlkZW9JbnB1dF09ci52aWRlb0lucHV0RGV2aWNlSWQpLEkuYXVkaW8mJihsW3YuYXVkaW9JbnB1dF09bi5hdWRpb0lucHV0LG1bdi5hdWRpb0lucHV0XT1yLmF1ZGlvSW5wdXREZXZpY2VJZCk7cmV0dXJue2FsbERldmljZXM6bCxzZWxlY3RlZERldmljZUlEczptLHVwZGF0ZURldmljZTppKCgoe2RldmljZVR5cGU6aSxkZXZpY2VJZDp0fSk9PmUodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3RyeXtzd2l0Y2goaSl7Y2FzZSB2LmF1ZGlvSW5wdXQ6eWllbGQgYy5zZXRBdWRpb1NldHRpbmdzKHtkZXZpY2VJZDp0fSk7YnJlYWs7Y2FzZSB2LnZpZGVvSW5wdXQ6eWllbGQgYy5zZXRWaWRlb1NldHRpbmdzKHtkZXZpY2VJZDp0fSk7YnJlYWs7Y2FzZSB2LmF1ZGlvT3V0cHV0OnlpZWxkIGMuc2V0QXVkaW9PdXRwdXREZXZpY2UodCl9fWNhdGNoKGUpe2EoZSxcInVwZGF0ZURldmljZXNcIil9fSkpKSxbYSxjXSl9fTtleHBvcnR7diBhcyBEZXZpY2VUeXBlLGMgYXMgdXNlRGV2aWNlc307XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2VEZXZpY2VzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/hooks/useDevices.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/hooks/useParticipantList.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/hooks/useParticipantList.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useParticipantList\": function() { return /* binding */ p; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @100mslive/hms-video-store */ \"./node_modules/@100mslive/hms-video-store/dist/index.js\");\n/* harmony import */ var _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../primitives/HmsRoomProvider.js */ \"./node_modules/@100mslive/react-sdk/dist/primitives/HmsRoomProvider.js\");\n/* harmony import */ var _utils_groupBy_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/groupBy.js */ \"./node_modules/@100mslive/react-sdk/dist/utils/groupBy.js\");\nconst p=()=>{const p=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_1__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_2__.selectIsConnectedToRoom),n=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_1__.useHMSStore)(p?_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_2__.selectPeers:_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_2__.selectRemotePeers),c=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_1__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_2__.selectPeerCount),f=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>(0,_utils_groupBy_js__WEBPACK_IMPORTED_MODULE_3__.groupByRoles)(n)),[n]);return{roles:Object.keys(f),participantsByRoles:f,peerCount:c,isConnected:p}};\n//# sourceMappingURL=useParticipantList.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ob29rcy91c2VQYXJ0aWNpcGFudExpc3QuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQW9SLGFBQWEsUUFBUSwyRUFBQyxDQUFDLCtFQUFDLElBQUksMkVBQUMsR0FBRyxtRUFBQyxDQUFDLHlFQUFDLElBQUksMkVBQUMsQ0FBQyx1RUFBQyxJQUFJLDhDQUFDLE1BQU0sK0RBQUMsVUFBVSxPQUFPLHVFQUF1RztBQUNsYyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ob29rcy91c2VQYXJ0aWNpcGFudExpc3QuanM/OGMzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7dXNlTWVtbyBhcyBvfWZyb21cInJlYWN0XCI7aW1wb3J0e3NlbGVjdElzQ29ubmVjdGVkVG9Sb29tIGFzIHIsc2VsZWN0UGVlcnMgYXMgdCxzZWxlY3RSZW1vdGVQZWVycyBhcyBlLHNlbGVjdFBlZXJDb3VudCBhcyBzfWZyb21cIkAxMDBtc2xpdmUvaG1zLXZpZGVvLXN0b3JlXCI7aW1wb3J0e3VzZUhNU1N0b3JlIGFzIGl9ZnJvbVwiLi4vcHJpbWl0aXZlcy9IbXNSb29tUHJvdmlkZXIuanNcIjtpbXBvcnR7Z3JvdXBCeVJvbGVzIGFzIG19ZnJvbVwiLi4vdXRpbHMvZ3JvdXBCeS5qc1wiO2NvbnN0IHA9KCk9Pntjb25zdCBwPWkociksbj1pKHA/dDplKSxjPWkocyksZj1vKCgoKT0+bShuKSksW25dKTtyZXR1cm57cm9sZXM6T2JqZWN0LmtleXMoZikscGFydGljaXBhbnRzQnlSb2xlczpmLHBlZXJDb3VudDpjLGlzQ29ubmVjdGVkOnB9fTtleHBvcnR7cCBhcyB1c2VQYXJ0aWNpcGFudExpc3R9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlUGFydGljaXBhbnRMaXN0LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/hooks/useParticipantList.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/hooks/useParticipants.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/hooks/useParticipants.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useParticipants\": function() { return /* binding */ n; }\n/* harmony export */ });\n/* harmony import */ var _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @100mslive/hms-video-store */ \"./node_modules/@100mslive/hms-video-store/dist/index.js\");\n/* harmony import */ var _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../primitives/HmsRoomProvider.js */ \"./node_modules/@100mslive/react-sdk/dist/primitives/HmsRoomProvider.js\");\nconst n=n=>{var d;const m=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_1__.selectIsConnectedToRoom),v=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_1__.selectPeerCount),c=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_1__.selectAvailableRoleNames);let u=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__.useHMSStore)(m?_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_1__.selectPeers:_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_1__.selectRemotePeers);const p=Array.from(new Set(u.map((e=>e.roleName)))),f=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__.useHMSVanillaStore)();if((null===(d=null==n?void 0:n.metadata)||void 0===d?void 0:d.isHandRaised)&&(u=u.filter((e=>f.getState((0,_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_1__.selectPeerMetadata)(e.id)).isHandRaised))),(null==n?void 0:n.role)&&c.includes(n.role)&&(u=u.filter((e=>e.roleName===n.role))),null==n?void 0:n.search){const e=n.search.toLowerCase();u=u.filter((o=>{var r;return(null===(r=o.roleName)||void 0===r?void 0:r.toLowerCase().includes(e))||o.name.toLowerCase().includes(e)}))}return{participants:u,isConnected:m,peerCount:v,rolesWithParticipants:p}};\n//# sourceMappingURL=useParticipants.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ob29rcy91c2VQYXJ0aWNpcGFudHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStRLFlBQVksTUFBTSxRQUFRLDJFQUFDLENBQUMsK0VBQUMsSUFBSSwyRUFBQyxDQUFDLHVFQUFDLElBQUksMkVBQUMsQ0FBQyxnRkFBQyxFQUFFLE1BQU0sMkVBQUMsR0FBRyxtRUFBQyxDQUFDLHlFQUFDLEVBQUUsc0RBQXNELGtGQUFDLEdBQUcsd0dBQXdHLDhFQUFDLHFJQUFxSSwrQkFBK0IsZ0JBQWdCLE1BQU0sK0dBQStHLEdBQUcsT0FBTyxtRUFBZ0c7QUFDajRCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AMTAwbXNsaXZlL3JlYWN0LXNkay9kaXN0L2hvb2tzL3VzZVBhcnRpY2lwYW50cy5qcz85NDYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtzZWxlY3RJc0Nvbm5lY3RlZFRvUm9vbSBhcyBlLHNlbGVjdFBlZXJDb3VudCBhcyBvLHNlbGVjdEF2YWlsYWJsZVJvbGVOYW1lcyBhcyByLHNlbGVjdFBlZXJzIGFzIGksc2VsZWN0UmVtb3RlUGVlcnMgYXMgdCxzZWxlY3RQZWVyTWV0YWRhdGEgYXMgc31mcm9tXCJAMTAwbXNsaXZlL2htcy12aWRlby1zdG9yZVwiO2ltcG9ydHt1c2VITVNTdG9yZSBhcyBhLHVzZUhNU1ZhbmlsbGFTdG9yZSBhcyBsfWZyb21cIi4uL3ByaW1pdGl2ZXMvSG1zUm9vbVByb3ZpZGVyLmpzXCI7Y29uc3Qgbj1uPT57dmFyIGQ7Y29uc3QgbT1hKGUpLHY9YShvKSxjPWEocik7bGV0IHU9YShtP2k6dCk7Y29uc3QgcD1BcnJheS5mcm9tKG5ldyBTZXQodS5tYXAoKGU9PmUucm9sZU5hbWUpKSkpLGY9bCgpO2lmKChudWxsPT09KGQ9bnVsbD09bj92b2lkIDA6bi5tZXRhZGF0YSl8fHZvaWQgMD09PWQ/dm9pZCAwOmQuaXNIYW5kUmFpc2VkKSYmKHU9dS5maWx0ZXIoKGU9PmYuZ2V0U3RhdGUocyhlLmlkKSkuaXNIYW5kUmFpc2VkKSkpLChudWxsPT1uP3ZvaWQgMDpuLnJvbGUpJiZjLmluY2x1ZGVzKG4ucm9sZSkmJih1PXUuZmlsdGVyKChlPT5lLnJvbGVOYW1lPT09bi5yb2xlKSkpLG51bGw9PW4/dm9pZCAwOm4uc2VhcmNoKXtjb25zdCBlPW4uc2VhcmNoLnRvTG93ZXJDYXNlKCk7dT11LmZpbHRlcigobz0+e3ZhciByO3JldHVybihudWxsPT09KHI9by5yb2xlTmFtZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhlKSl8fG8ubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGUpfSkpfXJldHVybntwYXJ0aWNpcGFudHM6dSxpc0Nvbm5lY3RlZDptLHBlZXJDb3VudDp2LHJvbGVzV2l0aFBhcnRpY2lwYW50czpwfX07ZXhwb3J0e24gYXMgdXNlUGFydGljaXBhbnRzfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZVBhcnRpY2lwYW50cy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/hooks/useParticipants.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/hooks/usePreviewJoin.js":
/*!************************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/hooks/usePreviewJoin.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"usePreviewJoin\": function() { return /* binding */ d; }\n/* harmony export */ });\n/* harmony import */ var _node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../node_modules/tslib/tslib.es6.js */ \"./node_modules/@100mslive/react-sdk/dist/node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @100mslive/hms-video-store */ \"./node_modules/@100mslive/hms-video-store/dist/index.js\");\n/* harmony import */ var _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../primitives/HmsRoomProvider.js */ \"./node_modules/@100mslive/react-sdk/dist/primitives/HmsRoomProvider.js\");\n/* harmony import */ var _utils_commons_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/commons.js */ \"./node_modules/@100mslive/react-sdk/dist/utils/commons.js\");\nconst d=({name:d=\"\",token:v,metadata:c,handleError:l=_utils_commons_js__WEBPACK_IMPORTED_MODULE_1__.logErrorHandler,initEndpoint:p,initialSettings:u,captureNetworkQualityInPreview:f})=>{const w=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSActions)(),y=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__.selectRoomState),j=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__.selectIsConnectedToRoom)||!1,h=y===_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__.HMSRoomState.Preview,b=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({userName:d,authToken:v,metaData:c,rememberDeviceSelection:!0,settings:u,initEndpoint:p,captureNetworkQualityInPreview:f})),[d,v,c,p,u,f]),k=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>(0,_node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function*(){if(v&&y===_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__.HMSRoomState.Disconnected){j&&(yield w.leave());try{yield w.preview(b)}catch(e){l(e,\"preview\")}}}))),[w,l,v,y,b,j]);return{enableJoin:h,join:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>(0,_node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function*(){if(v)try{yield w.join(b)}catch(e){l(e,\"join\")}}))),[w,b,l,v]),isConnected:j,preview:k}};\n//# sourceMappingURL=usePreviewJoin.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ob29rcy91c2VQcmV2aWV3Sm9pbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQW9XLFVBQVUsMkNBQTJDLDhEQUFDLG1FQUFtRSxJQUFJLFFBQVEsNkVBQUMsS0FBSywyRUFBQyxDQUFDLHVFQUFDLElBQUksMkVBQUMsQ0FBQywrRUFBQyxZQUFZLDRFQUFTLEdBQUcsOENBQUMsUUFBUSx3SEFBd0gsb0JBQW9CLGtEQUFDLE1BQU0sMkVBQUMsbUNBQW1DLFVBQVUsaUZBQWMsRUFBRSxxQkFBcUIsSUFBSSxtQkFBbUIsU0FBUyxpQkFBaUIsbUJBQW1CLE9BQU8sa0JBQWtCLGtEQUFDLE1BQU0sMkVBQUMsbUNBQW1DLFNBQVMsZ0JBQWdCLFNBQVMsYUFBYSx5Q0FBcUU7QUFDNS9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AMTAwbXNsaXZlL3JlYWN0LXNkay9kaXN0L2hvb2tzL3VzZVByZXZpZXdKb2luLmpzPzM4ZjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e19fYXdhaXRlciBhcyBlfWZyb21cIi4uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanNcIjtpbXBvcnR7dXNlTWVtbyBhcyBpLHVzZUNhbGxiYWNrIGFzIHR9ZnJvbVwicmVhY3RcIjtpbXBvcnR7c2VsZWN0Um9vbVN0YXRlIGFzIG8sc2VsZWN0SXNDb25uZWN0ZWRUb1Jvb20gYXMgcixITVNSb29tU3RhdGUgYXMgbn1mcm9tXCJAMTAwbXNsaXZlL2htcy12aWRlby1zdG9yZVwiO2ltcG9ydHt1c2VITVNBY3Rpb25zIGFzIG0sdXNlSE1TU3RvcmUgYXMgc31mcm9tXCIuLi9wcmltaXRpdmVzL0htc1Jvb21Qcm92aWRlci5qc1wiO2ltcG9ydHtsb2dFcnJvckhhbmRsZXIgYXMgYX1mcm9tXCIuLi91dGlscy9jb21tb25zLmpzXCI7Y29uc3QgZD0oe25hbWU6ZD1cIlwiLHRva2VuOnYsbWV0YWRhdGE6YyxoYW5kbGVFcnJvcjpsPWEsaW5pdEVuZHBvaW50OnAsaW5pdGlhbFNldHRpbmdzOnUsY2FwdHVyZU5ldHdvcmtRdWFsaXR5SW5QcmV2aWV3OmZ9KT0+e2NvbnN0IHc9bSgpLHk9cyhvKSxqPXMocil8fCExLGg9eT09PW4uUHJldmlldyxiPWkoKCgpPT4oe3VzZXJOYW1lOmQsYXV0aFRva2VuOnYsbWV0YURhdGE6YyxyZW1lbWJlckRldmljZVNlbGVjdGlvbjohMCxzZXR0aW5nczp1LGluaXRFbmRwb2ludDpwLGNhcHR1cmVOZXR3b3JrUXVhbGl0eUluUHJldmlldzpmfSkpLFtkLHYsYyxwLHUsZl0pLGs9dCgoKCk9PmUodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2lmKHYmJnk9PT1uLkRpc2Nvbm5lY3RlZCl7aiYmKHlpZWxkIHcubGVhdmUoKSk7dHJ5e3lpZWxkIHcucHJldmlldyhiKX1jYXRjaChlKXtsKGUsXCJwcmV2aWV3XCIpfX19KSkpLFt3LGwsdix5LGIsal0pO3JldHVybntlbmFibGVKb2luOmgsam9pbjp0KCgoKT0+ZSh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7aWYodil0cnl7eWllbGQgdy5qb2luKGIpfWNhdGNoKGUpe2woZSxcImpvaW5cIil9fSkpKSxbdyxiLGwsdl0pLGlzQ29ubmVjdGVkOmoscHJldmlldzprfX07ZXhwb3J0e2QgYXMgdXNlUHJldmlld0pvaW59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlUHJldmlld0pvaW4uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/hooks/usePreviewJoin.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/hooks/useRecordingStreaming.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/hooks/useRecordingStreaming.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useRecordingStreaming\": function() { return /* binding */ e; }\n/* harmony export */ });\n/* harmony import */ var _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @100mslive/hms-video-store */ \"./node_modules/@100mslive/hms-video-store/dist/index.js\");\n/* harmony import */ var _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../primitives/HmsRoomProvider.js */ \"./node_modules/@100mslive/react-sdk/dist/primitives/HmsRoomProvider.js\");\nconst e=()=>{const e=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_1__.selectRecordingState),o=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_1__.selectRTMPState),g=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_1__.selectHLSState),m=e.server.running,u=e.browser.running,t=e.hls.running,R=m||u||t;return{isServerRecordingOn:m,isBrowserRecordingOn:u,isHLSRecordingOn:t,isStreamingOn:g.running||o.running,isHLSRunning:g.running,isRTMPRunning:o.running,isRecordingOn:R}};\n//# sourceMappingURL=useRecordingStreaming.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ob29rcy91c2VSZWNvcmRpbmdTdHJlYW1pbmcuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTBLLGFBQWEsUUFBUSwyRUFBQyxDQUFDLDRFQUFDLElBQUksMkVBQUMsQ0FBQyx1RUFBQyxJQUFJLDJFQUFDLENBQUMsc0VBQUMsbUVBQW1FLE9BQU8sb0tBQXVNO0FBQ2plIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AMTAwbXNsaXZlL3JlYWN0LXNkay9kaXN0L2hvb2tzL3VzZVJlY29yZGluZ1N0cmVhbWluZy5qcz83NjllIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtzZWxlY3RSZWNvcmRpbmdTdGF0ZSBhcyBuLHNlbGVjdFJUTVBTdGF0ZSBhcyByLHNlbGVjdEhMU1N0YXRlIGFzIGl9ZnJvbVwiQDEwMG1zbGl2ZS9obXMtdmlkZW8tc3RvcmVcIjtpbXBvcnR7dXNlSE1TU3RvcmUgYXMgc31mcm9tXCIuLi9wcmltaXRpdmVzL0htc1Jvb21Qcm92aWRlci5qc1wiO2NvbnN0IGU9KCk9Pntjb25zdCBlPXMobiksbz1zKHIpLGc9cyhpKSxtPWUuc2VydmVyLnJ1bm5pbmcsdT1lLmJyb3dzZXIucnVubmluZyx0PWUuaGxzLnJ1bm5pbmcsUj1tfHx1fHx0O3JldHVybntpc1NlcnZlclJlY29yZGluZ09uOm0saXNCcm93c2VyUmVjb3JkaW5nT246dSxpc0hMU1JlY29yZGluZ09uOnQsaXNTdHJlYW1pbmdPbjpnLnJ1bm5pbmd8fG8ucnVubmluZyxpc0hMU1J1bm5pbmc6Zy5ydW5uaW5nLGlzUlRNUFJ1bm5pbmc6by5ydW5uaW5nLGlzUmVjb3JkaW5nT246Un19O2V4cG9ydHtlIGFzIHVzZVJlY29yZGluZ1N0cmVhbWluZ307XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2VSZWNvcmRpbmdTdHJlYW1pbmcuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/hooks/useRecordingStreaming.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/hooks/useRemoteAVToggle.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/hooks/useRemoteAVToggle.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useRemoteAVToggle\": function() { return /* binding */ r; }\n/* harmony export */ });\n/* harmony import */ var _node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/tslib/tslib.es6.js */ \"./node_modules/@100mslive/react-sdk/dist/node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @100mslive/hms-video-store */ \"./node_modules/@100mslive/hms-video-store/dist/index.js\");\n/* harmony import */ var _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../primitives/HmsRoomProvider.js */ \"./node_modules/@100mslive/react-sdk/dist/primitives/HmsRoomProvider.js\");\n/* harmony import */ var _utils_commons_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/commons.js */ \"./node_modules/@100mslive/react-sdk/dist/utils/commons.js\");\nconst v=(i,e,d)=>(0,_node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__.__awaiter)(void 0,void 0,void 0,(function*(){if(e)try{yield i.setRemoteTrackEnabled(e.id,!e.enabled)}catch(o){d(o,\"remoteToggle\")}})),r=(r,s,a=_utils_commons_js__WEBPACK_IMPORTED_MODULE_2__.logErrorHandler)=>{const c=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_3__.useHMSActions)(),b=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_3__.useHMSStore)((0,_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_4__.selectAudioTrackByID)(r)),f=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_3__.useHMSStore)((0,_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_4__.selectVideoTrackByID)(s)),g=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_3__.useHMSStore)((0,_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_4__.selectAudioTrackVolume)(null==b?void 0:b.id)),p=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_3__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_4__.selectPermissions),y=(null==f?void 0:f.enabled)?null==p?void 0:p.mute:null==p?void 0:p.unmute,V=(null==b?void 0:b.enabled)?null==p?void 0:p.mute:null==p?void 0:p.unmute,j=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>(0,_node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__.__awaiter)(void 0,void 0,void 0,(function*(){yield v(c,b,a)}))),[c,b,a]),E=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>(0,_node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_1__.__awaiter)(void 0,void 0,void 0,(function*(){yield v(c,f,a)}))),[c,a,f]),h=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((o=>{b&&c.setVolume(o,b.id)}),[c,b]);return{isAudioEnabled:!!(null==b?void 0:b.enabled),isVideoEnabled:!!(null==f?void 0:f.enabled),volume:g,toggleAudio:b&&V?j:void 0,toggleVideo:\"regular\"===(null==f?void 0:f.source)&&y?E:void 0,setVolume:b?h:void 0}};\n//# sourceMappingURL=useRemoteAVToggle.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ob29rcy91c2VSZW1vdGVBVlRvZ2dsZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTBYLGlCQUFpQiwyRUFBQyxtQ0FBbUMsU0FBUywrQ0FBK0MsU0FBUyxxQkFBcUIsWUFBWSw4REFBQyxJQUFJLFFBQVEsNkVBQUMsS0FBSywyRUFBQyxDQUFDLGdGQUFDLE9BQU8sMkVBQUMsQ0FBQyxnRkFBQyxPQUFPLDJFQUFDLENBQUMsa0ZBQUMseUJBQXlCLDJFQUFDLENBQUMseUVBQUMsMEpBQTBKLGtEQUFDLE1BQU0sMkVBQUMsbUNBQW1DLGVBQWUsZUFBZSxrREFBQyxNQUFNLDJFQUFDLG1DQUFtQyxlQUFlLGVBQWUsa0RBQUMsTUFBTSx1QkFBdUIsU0FBUyxPQUFPLGdOQUErTztBQUNocUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0AxMDBtc2xpdmUvcmVhY3Qtc2RrL2Rpc3QvaG9va3MvdXNlUmVtb3RlQVZUb2dnbGUuanM/NDRmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7X19hd2FpdGVyIGFzIG99ZnJvbVwiLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qc1wiO2ltcG9ydHt1c2VDYWxsYmFjayBhcyBpfWZyb21cInJlYWN0XCI7aW1wb3J0e3NlbGVjdEF1ZGlvVHJhY2tCeUlEIGFzIGUsc2VsZWN0VmlkZW9UcmFja0J5SUQgYXMgZCxzZWxlY3RBdWRpb1RyYWNrVm9sdW1lIGFzIGwsc2VsZWN0UGVybWlzc2lvbnMgYXMgbn1mcm9tXCJAMTAwbXNsaXZlL2htcy12aWRlby1zdG9yZVwiO2ltcG9ydHt1c2VITVNBY3Rpb25zIGFzIHQsdXNlSE1TU3RvcmUgYXMgdX1mcm9tXCIuLi9wcmltaXRpdmVzL0htc1Jvb21Qcm92aWRlci5qc1wiO2ltcG9ydHtsb2dFcnJvckhhbmRsZXIgYXMgbX1mcm9tXCIuLi91dGlscy9jb21tb25zLmpzXCI7Y29uc3Qgdj0oaSxlLGQpPT5vKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtpZihlKXRyeXt5aWVsZCBpLnNldFJlbW90ZVRyYWNrRW5hYmxlZChlLmlkLCFlLmVuYWJsZWQpfWNhdGNoKG8pe2QobyxcInJlbW90ZVRvZ2dsZVwiKX19KSkscj0ocixzLGE9bSk9Pntjb25zdCBjPXQoKSxiPXUoZShyKSksZj11KGQocykpLGc9dShsKG51bGw9PWI/dm9pZCAwOmIuaWQpKSxwPXUobikseT0obnVsbD09Zj92b2lkIDA6Zi5lbmFibGVkKT9udWxsPT1wP3ZvaWQgMDpwLm11dGU6bnVsbD09cD92b2lkIDA6cC51bm11dGUsVj0obnVsbD09Yj92b2lkIDA6Yi5lbmFibGVkKT9udWxsPT1wP3ZvaWQgMDpwLm11dGU6bnVsbD09cD92b2lkIDA6cC51bm11dGUsaj1pKCgoKT0+byh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7eWllbGQgdihjLGIsYSl9KSkpLFtjLGIsYV0pLEU9aSgoKCk9Pm8odm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3lpZWxkIHYoYyxmLGEpfSkpKSxbYyxhLGZdKSxoPWkoKG89PntiJiZjLnNldFZvbHVtZShvLGIuaWQpfSksW2MsYl0pO3JldHVybntpc0F1ZGlvRW5hYmxlZDohIShudWxsPT1iP3ZvaWQgMDpiLmVuYWJsZWQpLGlzVmlkZW9FbmFibGVkOiEhKG51bGw9PWY/dm9pZCAwOmYuZW5hYmxlZCksdm9sdW1lOmcsdG9nZ2xlQXVkaW86YiYmVj9qOnZvaWQgMCx0b2dnbGVWaWRlbzpcInJlZ3VsYXJcIj09PShudWxsPT1mP3ZvaWQgMDpmLnNvdXJjZSkmJnk/RTp2b2lkIDAsc2V0Vm9sdW1lOmI/aDp2b2lkIDB9fTtleHBvcnR7ciBhcyB1c2VSZW1vdGVBVlRvZ2dsZX07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2VSZW1vdGVBVlRvZ2dsZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/hooks/useRemoteAVToggle.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/hooks/useScreenShare.js":
/*!************************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/hooks/useScreenShare.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useScreenShare\": function() { return /* binding */ s; }\n/* harmony export */ });\n/* harmony import */ var _node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../node_modules/tslib/tslib.es6.js */ \"./node_modules/@100mslive/react-sdk/dist/node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @100mslive/hms-video-store */ \"./node_modules/@100mslive/hms-video-store/dist/index.js\");\n/* harmony import */ var _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../primitives/HmsRoomProvider.js */ \"./node_modules/@100mslive/react-sdk/dist/primitives/HmsRoomProvider.js\");\n/* harmony import */ var _utils_commons_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/commons.js */ \"./node_modules/@100mslive/react-sdk/dist/utils/commons.js\");\nconst s=(s=_utils_commons_js__WEBPACK_IMPORTED_MODULE_1__.logErrorHandler)=>{var t,a;const v=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSActions)(),c=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__.selectIsLocalScreenShared),u=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSStore)(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__.selectPeerScreenSharing),S=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSStore)((0,_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__.selectScreenSharesByPeerId)(null==u?void 0:u.id)),h=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((o=>(0,_node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function*(){try{yield v.setScreenShareEnabled(!c,o)}catch(e){s(e,\"toggleScreenShare\")}}))),[v,c,s]);return{amIScreenSharing:c,screenSharingPeerId:null==u?void 0:u.id,screenSharingPeerName:null==u?void 0:u.name,screenShareVideoTrackId:null===(t=null==S?void 0:S.video)||void 0===t?void 0:t.id,screenShareAudioTrackId:null===(a=null==S?void 0:S.audio)||void 0===a?void 0:a.id,toggleScreenShare:h}};\n//# sourceMappingURL=useScreenShare.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ob29rcy91c2VTY3JlZW5TaGFyZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQStXLFdBQVcsOERBQUMsSUFBSSxRQUFRLFFBQVEsNkVBQUMsS0FBSywyRUFBQyxDQUFDLGlGQUFDLElBQUksMkVBQUMsQ0FBQywrRUFBQyxJQUFJLDJFQUFDLENBQUMsc0ZBQUMseUJBQXlCLGtEQUFDLEtBQUssMkVBQUMsbUNBQW1DLElBQUksb0NBQW9DLFNBQVMsMEJBQTBCLGFBQWEsT0FBTyxpU0FBNlQ7QUFDcjRCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AMTAwbXNsaXZlL3JlYWN0LXNkay9kaXN0L2hvb2tzL3VzZVNjcmVlblNoYXJlLmpzP2NjNzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e19fYXdhaXRlciBhcyBlfWZyb21cIi4uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanNcIjtpbXBvcnR7dXNlQ2FsbGJhY2sgYXMgb31mcm9tXCJyZWFjdFwiO2ltcG9ydHtzZWxlY3RJc0xvY2FsU2NyZWVuU2hhcmVkIGFzIHIsc2VsZWN0UGVlclNjcmVlblNoYXJpbmcgYXMgaSxzZWxlY3RTY3JlZW5TaGFyZXNCeVBlZXJJZCBhcyBkfWZyb21cIkAxMDBtc2xpdmUvaG1zLXZpZGVvLXN0b3JlXCI7aW1wb3J0e3VzZUhNU0FjdGlvbnMgYXMgbix1c2VITVNTdG9yZSBhcyBsfWZyb21cIi4uL3ByaW1pdGl2ZXMvSG1zUm9vbVByb3ZpZGVyLmpzXCI7aW1wb3J0e2xvZ0Vycm9ySGFuZGxlciBhcyBtfWZyb21cIi4uL3V0aWxzL2NvbW1vbnMuanNcIjtjb25zdCBzPShzPW0pPT57dmFyIHQsYTtjb25zdCB2PW4oKSxjPWwociksdT1sKGkpLFM9bChkKG51bGw9PXU/dm9pZCAwOnUuaWQpKSxoPW8oKG89PmUodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3RyeXt5aWVsZCB2LnNldFNjcmVlblNoYXJlRW5hYmxlZCghYyxvKX1jYXRjaChlKXtzKGUsXCJ0b2dnbGVTY3JlZW5TaGFyZVwiKX19KSkpLFt2LGMsc10pO3JldHVybnthbUlTY3JlZW5TaGFyaW5nOmMsc2NyZWVuU2hhcmluZ1BlZXJJZDpudWxsPT11P3ZvaWQgMDp1LmlkLHNjcmVlblNoYXJpbmdQZWVyTmFtZTpudWxsPT11P3ZvaWQgMDp1Lm5hbWUsc2NyZWVuU2hhcmVWaWRlb1RyYWNrSWQ6bnVsbD09PSh0PW51bGw9PVM/dm9pZCAwOlMudmlkZW8pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmlkLHNjcmVlblNoYXJlQXVkaW9UcmFja0lkOm51bGw9PT0oYT1udWxsPT1TP3ZvaWQgMDpTLmF1ZGlvKXx8dm9pZCAwPT09YT92b2lkIDA6YS5pZCx0b2dnbGVTY3JlZW5TaGFyZTpofX07ZXhwb3J0e3MgYXMgdXNlU2NyZWVuU2hhcmV9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlU2NyZWVuU2hhcmUuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/hooks/useScreenShare.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/hooks/useVideo.js":
/*!******************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/hooks/useVideo.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useVideo\": function() { return /* binding */ a; }\n/* harmony export */ });\n/* harmony import */ var _node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../node_modules/tslib/tslib.es6.js */ \"./node_modules/@100mslive/react-sdk/dist/node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intersection_observer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-intersection-observer */ \"./node_modules/react-intersection-observer/react-intersection-observer.m.js\");\n/* harmony import */ var react_resize_detector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-resize-detector */ \"./node_modules/react-resize-detector/build/index.esm.js\");\n/* harmony import */ var _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @100mslive/hms-video-store */ \"./node_modules/@100mslive/hms-video-store/dist/index.js\");\n/* harmony import */ var _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../primitives/HmsRoomProvider.js */ \"./node_modules/@100mslive/react-sdk/dist/primitives/HmsRoomProvider.js\");\n/* harmony import */ var _utils_isBrowser_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/isBrowser.js */ \"./node_modules/@100mslive/react-sdk/dist/utils/isBrowser.js\");\n/* harmony import */ var _utils_layout_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/layout.js */ \"./node_modules/@100mslive/react-sdk/dist/utils/layout.js\");\n/* harmony import */ var _utils_logger_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/logger.js */ \"./node_modules/@100mslive/react-sdk/dist/utils/logger.js\");\nconst a=({trackId:a,attach:f,threshold:m=.5})=>{var h;const y=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_1__.useHMSActions)(),p=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),g=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_1__.useHMSStore)((0,_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_2__.selectVideoTrackByID)(a)),{ref:b,inView:w}=(0,react_intersection_observer__WEBPACK_IMPORTED_MODULE_3__.useInView)({threshold:m}),{width:D=0,height:j=0,ref:V}=(0,react_resize_detector__WEBPACK_IMPORTED_MODULE_4__.useResizeDetector)({refreshMode:\"debounce\",refreshRate:300}),R=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>(0,_node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.__awaiter)(void 0,void 0,void 0,(function*(){var i;if(D>0&&j>0&&w&&(null===(i=null==g?void 0:g.layerDefinitions)||void 0===i?void 0:i.length)&&V.current&&(null==g?void 0:g.enabled)&&!(null==g?void 0:g.degraded)){const i=(0,_utils_layout_js__WEBPACK_IMPORTED_MODULE_6__.getClosestLayer)({layerDefinitions:g.layerDefinitions,width:D,height:j});yield y.setPreferredLayer(null==g?void 0:g.id,i)}}))),[D,j,null==g?void 0:g.id,y,null==g?void 0:g.enabled,null==g?void 0:g.degraded,V,w]),k=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((i=>{var e;i&&(p.current=i,b(i),(null===(e=null==g?void 0:g.layerDefinitions)||void 0===e?void 0:e.length)&&(V.current=i))}),[b,null===(h=null==g?void 0:g.layerDefinitions)||void 0===h?void 0:h.length,V]);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{R()}),[R]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{(0,_node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.__awaiter)(void 0,void 0,void 0,(function*(){if(p.current&&(null==g?void 0:g.id)){let i=!0;_utils_isBrowser_js__WEBPACK_IMPORTED_MODULE_7__.isBrowser&&(i=\"visible\"===window.getComputedStyle(p.current).visibility),w&&g.enabled&&i&&!1!==f?yield y.attachVideo(g.id,p.current):yield y.detachVideo(g.id,p.current)}}))}),[y,w,p,null==g?void 0:g.id,null==g?void 0:g.enabled,null==g?void 0:g.deviceID,null==g?void 0:g.plugins,f]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>()=>{(0,_node_modules_tslib_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__.__awaiter)(void 0,void 0,void 0,(function*(){if(p.current&&g)try{yield y.detachVideo(g.id,p.current)}catch(i){_utils_logger_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"].w(\"detach video error for track\",g.id,i)}}))}),[]),{videoRef:k}};\n//# sourceMappingURL=useVideo.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ob29rcy91c2VWaWRlby5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUE2Z0IsVUFBVSxrQ0FBa0MsSUFBSSxNQUFNLFFBQVEsNkVBQUMsS0FBSyw2Q0FBQyxTQUFTLDJFQUFDLENBQUMsZ0ZBQUMsTUFBTSxlQUFlLENBQUMsc0VBQUMsRUFBRSxZQUFZLEdBQUcsMkJBQTJCLENBQUMsd0VBQUMsRUFBRSx1Q0FBdUMsSUFBSSxrREFBQyxNQUFNLDJFQUFDLG1DQUFtQyxNQUFNLGlLQUFpSyxRQUFRLGlFQUFDLEVBQUUscURBQXFELEVBQUUsa0RBQWtELDBGQUEwRixrREFBQyxNQUFNLE1BQU0sZ0hBQWdILGtGQUFrRixPQUFPLGdEQUFDLE9BQU8sSUFBSSxPQUFPLGdEQUFDLE9BQU8sMkVBQUMsbUNBQW1DLHFDQUFxQyxTQUFTLDBEQUFDLGlLQUFpSyxHQUFHLDZHQUE2RyxnREFBQyxXQUFXLDJFQUFDLG1DQUFtQyxvQkFBb0Isb0NBQW9DLFNBQVMsMERBQUcseUNBQXlDLEdBQUcsT0FBTyxhQUFtQztBQUMvNEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0AxMDBtc2xpdmUvcmVhY3Qtc2RrL2Rpc3QvaG9va3MvdXNlVmlkZW8uanM/ZGM4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7X19hd2FpdGVyIGFzIGl9ZnJvbVwiLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qc1wiO2ltcG9ydHt1c2VSZWYgYXMgZSx1c2VDYWxsYmFjayBhcyBvLHVzZUVmZmVjdCBhcyByfWZyb21cInJlYWN0XCI7aW1wb3J0e3VzZUluVmlldyBhcyBkfWZyb21cInJlYWN0LWludGVyc2VjdGlvbi1vYnNlcnZlclwiO2ltcG9ydHt1c2VSZXNpemVEZXRlY3RvciBhcyB0fWZyb21cInJlYWN0LXJlc2l6ZS1kZXRlY3RvclwiO2ltcG9ydHtzZWxlY3RWaWRlb1RyYWNrQnlJRCBhcyBsfWZyb21cIkAxMDBtc2xpdmUvaG1zLXZpZGVvLXN0b3JlXCI7aW1wb3J0e3VzZUhNU0FjdGlvbnMgYXMgbix1c2VITVNTdG9yZSBhcyB2fWZyb21cIi4uL3ByaW1pdGl2ZXMvSG1zUm9vbVByb3ZpZGVyLmpzXCI7aW1wb3J0e2lzQnJvd3NlciBhcyB1fWZyb21cIi4uL3V0aWxzL2lzQnJvd3Nlci5qc1wiO2ltcG9ydHtnZXRDbG9zZXN0TGF5ZXIgYXMgc31mcm9tXCIuLi91dGlscy9sYXlvdXQuanNcIjtpbXBvcnQgYyBmcm9tXCIuLi91dGlscy9sb2dnZXIuanNcIjtjb25zdCBhPSh7dHJhY2tJZDphLGF0dGFjaDpmLHRocmVzaG9sZDptPS41fSk9Pnt2YXIgaDtjb25zdCB5PW4oKSxwPWUobnVsbCksZz12KGwoYSkpLHtyZWY6YixpblZpZXc6d309ZCh7dGhyZXNob2xkOm19KSx7d2lkdGg6RD0wLGhlaWdodDpqPTAscmVmOlZ9PXQoe3JlZnJlc2hNb2RlOlwiZGVib3VuY2VcIixyZWZyZXNoUmF0ZTozMDB9KSxSPW8oKCgpPT5pKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt2YXIgaTtpZihEPjAmJmo+MCYmdyYmKG51bGw9PT0oaT1udWxsPT1nP3ZvaWQgMDpnLmxheWVyRGVmaW5pdGlvbnMpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmxlbmd0aCkmJlYuY3VycmVudCYmKG51bGw9PWc/dm9pZCAwOmcuZW5hYmxlZCkmJiEobnVsbD09Zz92b2lkIDA6Zy5kZWdyYWRlZCkpe2NvbnN0IGk9cyh7bGF5ZXJEZWZpbml0aW9uczpnLmxheWVyRGVmaW5pdGlvbnMsd2lkdGg6RCxoZWlnaHQ6an0pO3lpZWxkIHkuc2V0UHJlZmVycmVkTGF5ZXIobnVsbD09Zz92b2lkIDA6Zy5pZCxpKX19KSkpLFtELGosbnVsbD09Zz92b2lkIDA6Zy5pZCx5LG51bGw9PWc/dm9pZCAwOmcuZW5hYmxlZCxudWxsPT1nP3ZvaWQgMDpnLmRlZ3JhZGVkLFYsd10pLGs9bygoaT0+e3ZhciBlO2kmJihwLmN1cnJlbnQ9aSxiKGkpLChudWxsPT09KGU9bnVsbD09Zz92b2lkIDA6Zy5sYXllckRlZmluaXRpb25zKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5sZW5ndGgpJiYoVi5jdXJyZW50PWkpKX0pLFtiLG51bGw9PT0oaD1udWxsPT1nP3ZvaWQgMDpnLmxheWVyRGVmaW5pdGlvbnMpfHx2b2lkIDA9PT1oP3ZvaWQgMDpoLmxlbmd0aCxWXSk7cmV0dXJuIHIoKCgpPT57UigpfSksW1JdKSxyKCgoKT0+e2kodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2lmKHAuY3VycmVudCYmKG51bGw9PWc/dm9pZCAwOmcuaWQpKXtsZXQgaT0hMDt1JiYoaT1cInZpc2libGVcIj09PXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHAuY3VycmVudCkudmlzaWJpbGl0eSksdyYmZy5lbmFibGVkJiZpJiYhMSE9PWY/eWllbGQgeS5hdHRhY2hWaWRlbyhnLmlkLHAuY3VycmVudCk6eWllbGQgeS5kZXRhY2hWaWRlbyhnLmlkLHAuY3VycmVudCl9fSkpfSksW3ksdyxwLG51bGw9PWc/dm9pZCAwOmcuaWQsbnVsbD09Zz92b2lkIDA6Zy5lbmFibGVkLG51bGw9PWc/dm9pZCAwOmcuZGV2aWNlSUQsbnVsbD09Zz92b2lkIDA6Zy5wbHVnaW5zLGZdKSxyKCgoKT0+KCk9PntpKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtpZihwLmN1cnJlbnQmJmcpdHJ5e3lpZWxkIHkuZGV0YWNoVmlkZW8oZy5pZCxwLmN1cnJlbnQpfWNhdGNoKGkpe2MudyhcImRldGFjaCB2aWRlbyBlcnJvciBmb3IgdHJhY2tcIixnLmlkLGkpfX0pKX0pLFtdKSx7dmlkZW9SZWY6a319O2V4cG9ydHthIGFzIHVzZVZpZGVvfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZVZpZGVvLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/hooks/useVideo.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/hooks/useVideoList.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/hooks/useVideoList.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useVideoList\": function() { return /* binding */ l; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_resize_detector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-resize-detector */ \"./node_modules/react-resize-detector/build/index.esm.js\");\n/* harmony import */ var _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @100mslive/hms-video-store */ \"./node_modules/@100mslive/hms-video-store/dist/index.js\");\n/* harmony import */ var _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../primitives/HmsRoomProvider.js */ \"./node_modules/@100mslive/react-sdk/dist/primitives/HmsRoomProvider.js\");\n/* harmony import */ var _utils_layout_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/layout.js */ \"./node_modules/@100mslive/react-sdk/dist/utils/layout.js\");\nconst n={width:1,height:1},l=({peers:l,maxTileCount:m,maxColCount:g,maxRowCount:f,includeScreenShareForPeer:u=(()=>!1),aspectRatio:d=n,filterNonPublishingPeers:P=!0,offsetY:p=0})=>{const{width:c=0,height:C=0,ref:x}=(0,react_resize_detector__WEBPACK_IMPORTED_MODULE_1__.useResizeDetector)(),F=(0,_primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_2__.useHMSVanillaStore)().getState(_100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_3__.selectTracksMap),H=(0,_utils_layout_js__WEBPACK_IMPORTED_MODULE_4__.getVideoTracksFromPeers)(l,F,u,P),W=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{if(d)return d;return{width:(0,_utils_layout_js__WEBPACK_IMPORTED_MODULE_4__.getModeAspectRatio)(H)||1,height:1}}),[d,H]),w=H.length,{tilesInFirstPage:R,defaultWidth:v,defaultHeight:M,lastPageWidth:S,lastPageHeight:T,isLastPageDifferentFromFirstPage:j}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>(0,_utils_layout_js__WEBPACK_IMPORTED_MODULE_4__.calculateLayoutSizes)({count:w,parentWidth:Math.floor(c),parentHeight:Math.floor(C)-Math.min(C,p),maxTileCount:m,maxRowCount:f,maxColCount:g,aspectRatio:W})),[w,c,C,m,f,g,W,p]);return{pagesWithTiles:(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>(0,_utils_layout_js__WEBPACK_IMPORTED_MODULE_4__.chunkElements)({elements:H,tilesInFirstPage:R,onlyOnePage:!1,isLastPageDifferentFromFirstPage:j,defaultWidth:v,defaultHeight:M,lastPageWidth:S,lastPageHeight:T})),[H,R,j,v,M,S,T]),ref:x}};\n//# sourceMappingURL=useVideoList.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ob29rcy91c2VWaWRlb0xpc3QuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUErVixTQUFTLGlCQUFpQixLQUFLLGtKQUFrSixJQUFJLE1BQU0sMkJBQTJCLENBQUMsd0VBQUMsS0FBSyxrRkFBQyxZQUFZLHVFQUFDLElBQUkseUVBQUMsWUFBWSw4Q0FBQyxPQUFPLGNBQWMsT0FBTyxNQUFNLG9FQUFDLGlCQUFpQixxQkFBcUIsc0hBQXNILENBQUMsOENBQUMsTUFBTSxzRUFBQyxFQUFFLG9JQUFvSSxzQkFBc0IsT0FBTyxlQUFlLDhDQUFDLE1BQU0sK0RBQUMsRUFBRSxnSkFBZ0osNEJBQXNEO0FBQ3RxQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ob29rcy91c2VWaWRlb0xpc3QuanM/ODBiMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7dXNlTWVtbyBhcyB0fWZyb21cInJlYWN0XCI7aW1wb3J0e3VzZVJlc2l6ZURldGVjdG9yIGFzIGV9ZnJvbVwicmVhY3QtcmVzaXplLWRldGVjdG9yXCI7aW1wb3J0e3NlbGVjdFRyYWNrc01hcCBhcyBpfWZyb21cIkAxMDBtc2xpdmUvaG1zLXZpZGVvLXN0b3JlXCI7aW1wb3J0e3VzZUhNU1ZhbmlsbGFTdG9yZSBhcyByfWZyb21cIi4uL3ByaW1pdGl2ZXMvSG1zUm9vbVByb3ZpZGVyLmpzXCI7aW1wb3J0e2dldFZpZGVvVHJhY2tzRnJvbVBlZXJzIGFzIG8sZ2V0TW9kZUFzcGVjdFJhdGlvIGFzIGEsY2FsY3VsYXRlTGF5b3V0U2l6ZXMgYXMgcyxjaHVua0VsZW1lbnRzIGFzIGh9ZnJvbVwiLi4vdXRpbHMvbGF5b3V0LmpzXCI7Y29uc3Qgbj17d2lkdGg6MSxoZWlnaHQ6MX0sbD0oe3BlZXJzOmwsbWF4VGlsZUNvdW50Om0sbWF4Q29sQ291bnQ6ZyxtYXhSb3dDb3VudDpmLGluY2x1ZGVTY3JlZW5TaGFyZUZvclBlZXI6dT0oKCk9PiExKSxhc3BlY3RSYXRpbzpkPW4sZmlsdGVyTm9uUHVibGlzaGluZ1BlZXJzOlA9ITAsb2Zmc2V0WTpwPTB9KT0+e2NvbnN0e3dpZHRoOmM9MCxoZWlnaHQ6Qz0wLHJlZjp4fT1lKCksRj1yKCkuZ2V0U3RhdGUoaSksSD1vKGwsRix1LFApLFc9dCgoKCk9PntpZihkKXJldHVybiBkO3JldHVybnt3aWR0aDphKEgpfHwxLGhlaWdodDoxfX0pLFtkLEhdKSx3PUgubGVuZ3RoLHt0aWxlc0luRmlyc3RQYWdlOlIsZGVmYXVsdFdpZHRoOnYsZGVmYXVsdEhlaWdodDpNLGxhc3RQYWdlV2lkdGg6UyxsYXN0UGFnZUhlaWdodDpULGlzTGFzdFBhZ2VEaWZmZXJlbnRGcm9tRmlyc3RQYWdlOmp9PXQoKCgpPT5zKHtjb3VudDp3LHBhcmVudFdpZHRoOk1hdGguZmxvb3IoYykscGFyZW50SGVpZ2h0Ok1hdGguZmxvb3IoQyktTWF0aC5taW4oQyxwKSxtYXhUaWxlQ291bnQ6bSxtYXhSb3dDb3VudDpmLG1heENvbENvdW50OmcsYXNwZWN0UmF0aW86V30pKSxbdyxjLEMsbSxmLGcsVyxwXSk7cmV0dXJue3BhZ2VzV2l0aFRpbGVzOnQoKCgpPT5oKHtlbGVtZW50czpILHRpbGVzSW5GaXJzdFBhZ2U6Uixvbmx5T25lUGFnZTohMSxpc0xhc3RQYWdlRGlmZmVyZW50RnJvbUZpcnN0UGFnZTpqLGRlZmF1bHRXaWR0aDp2LGRlZmF1bHRIZWlnaHQ6TSxsYXN0UGFnZVdpZHRoOlMsbGFzdFBhZ2VIZWlnaHQ6VH0pKSxbSCxSLGosdixNLFMsVF0pLHJlZjp4fX07ZXhwb3J0e2wgYXMgdXNlVmlkZW9MaXN0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZVZpZGVvTGlzdC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/hooks/useVideoList.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/index.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DeviceType\": function() { return /* reexport safe */ _hooks_useDevices_js__WEBPACK_IMPORTED_MODULE_8__.DeviceType; },\n/* harmony export */   \"HMSRoomProvider\": function() { return /* reexport safe */ _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__.HMSRoomProvider; },\n/* harmony export */   \"throwErrorHandler\": function() { return /* reexport safe */ _utils_commons_js__WEBPACK_IMPORTED_MODULE_14__.throwErrorHandler; },\n/* harmony export */   \"useAVToggle\": function() { return /* reexport safe */ _hooks_useAVToggle_js__WEBPACK_IMPORTED_MODULE_2__.useAVToggle; },\n/* harmony export */   \"useAudioLevelStyles\": function() { return /* reexport safe */ _hooks_useAudioLevelStyles_js__WEBPACK_IMPORTED_MODULE_7__.useAudioLevelStyles; },\n/* harmony export */   \"useAutoplayError\": function() { return /* reexport safe */ _hooks_useAutoplayError_js__WEBPACK_IMPORTED_MODULE_11__.useAutoplayError; },\n/* harmony export */   \"useCustomEvent\": function() { return /* reexport safe */ _hooks_useCustomEvent_js__WEBPACK_IMPORTED_MODULE_12__.useCustomEvent; },\n/* harmony export */   \"useDevices\": function() { return /* reexport safe */ _hooks_useDevices_js__WEBPACK_IMPORTED_MODULE_8__.useDevices; },\n/* harmony export */   \"useHMSActions\": function() { return /* reexport safe */ _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__.useHMSActions; },\n/* harmony export */   \"useHMSNotifications\": function() { return /* reexport safe */ _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__.useHMSNotifications; },\n/* harmony export */   \"useHMSStatsStore\": function() { return /* reexport safe */ _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__.useHMSStatsStore; },\n/* harmony export */   \"useHMSStore\": function() { return /* reexport safe */ _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__.useHMSStore; },\n/* harmony export */   \"useHMSVanillaNotifications\": function() { return /* reexport safe */ _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__.useHMSVanillaNotifications; },\n/* harmony export */   \"useHMSVanillaStore\": function() { return /* reexport safe */ _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__.useHMSVanillaStore; },\n/* harmony export */   \"useParticipantList\": function() { return /* reexport safe */ _hooks_useParticipantList_js__WEBPACK_IMPORTED_MODULE_9__.useParticipantList; },\n/* harmony export */   \"useParticipants\": function() { return /* reexport safe */ _hooks_useParticipants_js__WEBPACK_IMPORTED_MODULE_13__.useParticipants; },\n/* harmony export */   \"usePreviewJoin\": function() { return /* reexport safe */ _hooks_usePreviewJoin_js__WEBPACK_IMPORTED_MODULE_1__.usePreviewJoin; },\n/* harmony export */   \"useRecordingStreaming\": function() { return /* reexport safe */ _hooks_useRecordingStreaming_js__WEBPACK_IMPORTED_MODULE_10__.useRecordingStreaming; },\n/* harmony export */   \"useRemoteAVToggle\": function() { return /* reexport safe */ _hooks_useRemoteAVToggle_js__WEBPACK_IMPORTED_MODULE_5__.useRemoteAVToggle; },\n/* harmony export */   \"useScreenShare\": function() { return /* reexport safe */ _hooks_useScreenShare_js__WEBPACK_IMPORTED_MODULE_4__.useScreenShare; },\n/* harmony export */   \"useVideo\": function() { return /* reexport safe */ _hooks_useVideo_js__WEBPACK_IMPORTED_MODULE_3__.useVideo; },\n/* harmony export */   \"useVideoList\": function() { return /* reexport safe */ _hooks_useVideoList_js__WEBPACK_IMPORTED_MODULE_6__.useVideoList; }\n/* harmony export */ });\n/* harmony import */ var _primitives_HmsRoomProvider_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./primitives/HmsRoomProvider.js */ \"./node_modules/@100mslive/react-sdk/dist/primitives/HmsRoomProvider.js\");\n/* harmony import */ var _hooks_usePreviewJoin_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hooks/usePreviewJoin.js */ \"./node_modules/@100mslive/react-sdk/dist/hooks/usePreviewJoin.js\");\n/* harmony import */ var _hooks_useAVToggle_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hooks/useAVToggle.js */ \"./node_modules/@100mslive/react-sdk/dist/hooks/useAVToggle.js\");\n/* harmony import */ var _hooks_useVideo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hooks/useVideo.js */ \"./node_modules/@100mslive/react-sdk/dist/hooks/useVideo.js\");\n/* harmony import */ var _hooks_useScreenShare_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hooks/useScreenShare.js */ \"./node_modules/@100mslive/react-sdk/dist/hooks/useScreenShare.js\");\n/* harmony import */ var _hooks_useRemoteAVToggle_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./hooks/useRemoteAVToggle.js */ \"./node_modules/@100mslive/react-sdk/dist/hooks/useRemoteAVToggle.js\");\n/* harmony import */ var _hooks_useVideoList_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./hooks/useVideoList.js */ \"./node_modules/@100mslive/react-sdk/dist/hooks/useVideoList.js\");\n/* harmony import */ var _hooks_useAudioLevelStyles_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./hooks/useAudioLevelStyles.js */ \"./node_modules/@100mslive/react-sdk/dist/hooks/useAudioLevelStyles.js\");\n/* harmony import */ var _hooks_useDevices_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./hooks/useDevices.js */ \"./node_modules/@100mslive/react-sdk/dist/hooks/useDevices.js\");\n/* harmony import */ var _hooks_useParticipantList_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./hooks/useParticipantList.js */ \"./node_modules/@100mslive/react-sdk/dist/hooks/useParticipantList.js\");\n/* harmony import */ var _hooks_useRecordingStreaming_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./hooks/useRecordingStreaming.js */ \"./node_modules/@100mslive/react-sdk/dist/hooks/useRecordingStreaming.js\");\n/* harmony import */ var _hooks_useAutoplayError_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./hooks/useAutoplayError.js */ \"./node_modules/@100mslive/react-sdk/dist/hooks/useAutoplayError.js\");\n/* harmony import */ var _hooks_useCustomEvent_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./hooks/useCustomEvent.js */ \"./node_modules/@100mslive/react-sdk/dist/hooks/useCustomEvent.js\");\n/* harmony import */ var _hooks_useParticipants_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./hooks/useParticipants.js */ \"./node_modules/@100mslive/react-sdk/dist/hooks/useParticipants.js\");\n/* harmony import */ var _utils_commons_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./utils/commons.js */ \"./node_modules/@100mslive/react-sdk/dist/utils/commons.js\");\n/* harmony import */ var _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @100mslive/hms-video-store */ \"./node_modules/@100mslive/hms-video-store/dist/index.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_15__) if([\"default\",\"HMSRoomProvider\",\"useHMSActions\",\"useHMSNotifications\",\"useHMSStatsStore\",\"useHMSStore\",\"useHMSVanillaNotifications\",\"useHMSVanillaStore\",\"usePreviewJoin\",\"useAVToggle\",\"useVideo\",\"useScreenShare\",\"useRemoteAVToggle\",\"useVideoList\",\"useAudioLevelStyles\",\"DeviceType\",\"useDevices\",\"useParticipantList\",\"useRecordingStreaming\",\"useAutoplayError\",\"useCustomEvent\",\"useParticipants\",\"throwErrorHandler\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_15__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEyOUI7QUFDMzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AMTAwbXNsaXZlL3JlYWN0LXNkay9kaXN0L2luZGV4LmpzPzkzNzIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0e0hNU1Jvb21Qcm92aWRlcix1c2VITVNBY3Rpb25zLHVzZUhNU05vdGlmaWNhdGlvbnMsdXNlSE1TU3RhdHNTdG9yZSx1c2VITVNTdG9yZSx1c2VITVNWYW5pbGxhTm90aWZpY2F0aW9ucyx1c2VITVNWYW5pbGxhU3RvcmV9ZnJvbVwiLi9wcmltaXRpdmVzL0htc1Jvb21Qcm92aWRlci5qc1wiO2V4cG9ydHt1c2VQcmV2aWV3Sm9pbn1mcm9tXCIuL2hvb2tzL3VzZVByZXZpZXdKb2luLmpzXCI7ZXhwb3J0e3VzZUFWVG9nZ2xlfWZyb21cIi4vaG9va3MvdXNlQVZUb2dnbGUuanNcIjtleHBvcnR7dXNlVmlkZW99ZnJvbVwiLi9ob29rcy91c2VWaWRlby5qc1wiO2V4cG9ydHt1c2VTY3JlZW5TaGFyZX1mcm9tXCIuL2hvb2tzL3VzZVNjcmVlblNoYXJlLmpzXCI7ZXhwb3J0e3VzZVJlbW90ZUFWVG9nZ2xlfWZyb21cIi4vaG9va3MvdXNlUmVtb3RlQVZUb2dnbGUuanNcIjtleHBvcnR7dXNlVmlkZW9MaXN0fWZyb21cIi4vaG9va3MvdXNlVmlkZW9MaXN0LmpzXCI7ZXhwb3J0e3VzZUF1ZGlvTGV2ZWxTdHlsZXN9ZnJvbVwiLi9ob29rcy91c2VBdWRpb0xldmVsU3R5bGVzLmpzXCI7ZXhwb3J0e0RldmljZVR5cGUsdXNlRGV2aWNlc31mcm9tXCIuL2hvb2tzL3VzZURldmljZXMuanNcIjtleHBvcnR7dXNlUGFydGljaXBhbnRMaXN0fWZyb21cIi4vaG9va3MvdXNlUGFydGljaXBhbnRMaXN0LmpzXCI7ZXhwb3J0e3VzZVJlY29yZGluZ1N0cmVhbWluZ31mcm9tXCIuL2hvb2tzL3VzZVJlY29yZGluZ1N0cmVhbWluZy5qc1wiO2V4cG9ydHt1c2VBdXRvcGxheUVycm9yfWZyb21cIi4vaG9va3MvdXNlQXV0b3BsYXlFcnJvci5qc1wiO2V4cG9ydHt1c2VDdXN0b21FdmVudH1mcm9tXCIuL2hvb2tzL3VzZUN1c3RvbUV2ZW50LmpzXCI7ZXhwb3J0e3VzZVBhcnRpY2lwYW50c31mcm9tXCIuL2hvb2tzL3VzZVBhcnRpY2lwYW50cy5qc1wiO2V4cG9ydHt0aHJvd0Vycm9ySGFuZGxlcn1mcm9tXCIuL3V0aWxzL2NvbW1vbnMuanNcIjtleHBvcnQqZnJvbVwiQDEwMG1zbGl2ZS9obXMtdmlkZW8tc3RvcmVcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/index.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/node_modules/tslib/tslib.es6.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/node_modules/tslib/tslib.es6.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"__awaiter\": function() { return /* binding */ n; }\n/* harmony export */ });\nfunction n(n,t,e,c){return new(e||(e=Promise))((function(o,u){function i(n){try{a(c.next(n))}catch(n){u(n)}}function r(n){try{a(c.throw(n))}catch(n){u(n)}}function a(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(i,r)}a((c=c.apply(n,t||[])).next())}))}\n//# sourceMappingURL=tslib.es6.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxvQkFBb0IsMENBQTBDLGNBQWMsSUFBSSxhQUFhLFNBQVMsTUFBTSxjQUFjLElBQUksY0FBYyxTQUFTLE1BQU0sY0FBYyxNQUFNLGlFQUFpRSxLQUFLLGNBQWMsK0JBQStCLEdBQTBCO0FBQzVUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AMTAwbXNsaXZlL3JlYWN0LXNkay9kaXN0L25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanM/NWUzMCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBuKG4sdCxlLGMpe3JldHVybiBuZXcoZXx8KGU9UHJvbWlzZSkpKChmdW5jdGlvbihvLHUpe2Z1bmN0aW9uIGkobil7dHJ5e2EoYy5uZXh0KG4pKX1jYXRjaChuKXt1KG4pfX1mdW5jdGlvbiByKG4pe3RyeXthKGMudGhyb3cobikpfWNhdGNoKG4pe3Uobil9fWZ1bmN0aW9uIGEobil7dmFyIHQ7bi5kb25lP28obi52YWx1ZSk6KHQ9bi52YWx1ZSx0IGluc3RhbmNlb2YgZT90Om5ldyBlKChmdW5jdGlvbihuKXtuKHQpfSkpKS50aGVuKGkscil9YSgoYz1jLmFwcGx5KG4sdHx8W10pKS5uZXh0KCkpfSkpfWV4cG9ydHtuIGFzIF9fYXdhaXRlcn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10c2xpYi5lczYuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/node_modules/tslib/tslib.es6.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/packages/react-sdk/node_modules/zustand/esm/shallow.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/packages/react-sdk/node_modules/zustand/esm/shallow.js ***!
  \*******************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ t; }\n/* harmony export */ });\nfunction t(t,e){if(Object.is(t,e))return!0;if(\"object\"!=typeof t||null===t||\"object\"!=typeof e||null===e)return!1;const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(e,r[n])||!Object.is(t[r[n]],e[r[n]]))return!1;return!0}\n//# sourceMappingURL=shallow.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9wYWNrYWdlcy9yZWFjdC1zZGsvbm9kZV9tb2R1bGVzL3p1c3RhbmQvZXNtL3NoYWxsb3cuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGdCQUFnQiwyQkFBMkIsdUVBQXVFLHVCQUF1Qiw2Q0FBNkMsWUFBWSxXQUFXLDJGQUEyRixTQUE4QjtBQUN0VSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9wYWNrYWdlcy9yZWFjdC1zZGsvbm9kZV9tb2R1bGVzL3p1c3RhbmQvZXNtL3NoYWxsb3cuanM/YzQwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB0KHQsZSl7aWYoT2JqZWN0LmlzKHQsZSkpcmV0dXJuITA7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHR8fG51bGw9PT10fHxcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuITE7Y29uc3Qgcj1PYmplY3Qua2V5cyh0KTtpZihyLmxlbmd0aCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKylpZighT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscltuXSl8fCFPYmplY3QuaXModFtyW25dXSxlW3Jbbl1dKSlyZXR1cm4hMTtyZXR1cm4hMH1leHBvcnR7dCBhcyBkZWZhdWx0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYWxsb3cuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/packages/react-sdk/node_modules/zustand/esm/shallow.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/primitives/HmsRoomProvider.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/primitives/HmsRoomProvider.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HMSRoomProvider\": function() { return /* binding */ d; },\n/* harmony export */   \"useHMSActions\": function() { return /* binding */ v; },\n/* harmony export */   \"useHMSNotifications\": function() { return /* binding */ h; },\n/* harmony export */   \"useHMSStatsStore\": function() { return /* binding */ b; },\n/* harmony export */   \"useHMSStore\": function() { return /* binding */ m; },\n/* harmony export */   \"useHMSVanillaNotifications\": function() { return /* binding */ g; },\n/* harmony export */   \"useHMSVanillaStore\": function() { return /* binding */ S; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand */ \"./node_modules/zustand/esm/index.js\");\n/* harmony import */ var _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @100mslive/hms-video-store */ \"./node_modules/@100mslive/hms-video-store/dist/index.js\");\n/* harmony import */ var _store_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./store.js */ \"./node_modules/@100mslive/react-sdk/dist/primitives/store.js\");\n/* harmony import */ var _utils_isBrowser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/isBrowser.js */ \"./node_modules/@100mslive/react-sdk/dist/utils/isBrowser.js\");\nconst u=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);let w;const d=({children:e,actions:s,store:r,notifications:a,stats:c,isHMSStatsOn:f=!1,leaveOnUnload:d=!0})=>{if(!w){const e=()=>{throw new Error(\"modifying store is not allowed\")};if(s&&r)w={actions:s,store:(0,zustand__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Object.assign(Object.assign({},r),{setState:e,destroy:e}))},a&&(w.notifications=a),c&&(w.statsStore=(0,zustand__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({getState:c.getState,subscribe:c.subscribe,setState:e,destroy:e}));else{const t=new _100mslive_hms_video_store__WEBPACK_IMPORTED_MODULE_2__.HMSReactiveStore;if(w={actions:t.getActions(),store:(0,zustand__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Object.assign(Object.assign({},t.getStore()),{setState:e,destroy:e})),notifications:t.getNotifications()},f){const o=t.getStats();w.statsStore=(0,zustand__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({getState:o.getState,subscribe:o.subscribe,setState:e,destroy:e})}}w.actions.setFrameworkInfo({type:\"react-web\",version:(react__WEBPACK_IMPORTED_MODULE_0___default().version),sdkVersion:\"0.6.1\"})}return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{_utils_isBrowser_js__WEBPACK_IMPORTED_MODULE_3__.isBrowser&&d&&window.addEventListener(\"beforeunload\",(()=>w.actions.leave()))}),[d]),react__WEBPACK_IMPORTED_MODULE_0___default().createElement(u.Provider,{value:w},e)},m=(0,_store_js__WEBPACK_IMPORTED_MODULE_4__.makeHMSStoreHook)(u),b=(0,_store_js__WEBPACK_IMPORTED_MODULE_4__.makeHMSStatsStoreHook)(u),S=()=>{const t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(u);if(!t)throw new Error(_store_js__WEBPACK_IMPORTED_MODULE_4__.hooksErrorMessage);return t.store},g=()=>{const t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(u);if(!t)throw new Error(_store_js__WEBPACK_IMPORTED_MODULE_4__.hooksErrorMessage);return t.notifications},v=()=>{const t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(u);if(!t)throw new Error(_store_js__WEBPACK_IMPORTED_MODULE_4__.hooksErrorMessage);return t.actions},h=t=>{const e=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(u),[i,n]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);if(!e)throw new Error(_store_js__WEBPACK_IMPORTED_MODULE_4__.hooksErrorMessage);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(!e.notifications)return;return e.notifications.onNotification((t=>{n(t)}),t)}),[e.notifications,t]),i};\n//# sourceMappingURL=HmsRoomProvider.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9wcmltaXRpdmVzL0htc1Jvb21Qcm92aWRlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQTZULFFBQVEsb0RBQUMsT0FBTyxNQUFNLFVBQVUsMEZBQTBGLElBQUksT0FBTyxhQUFhLG1EQUFtRCxXQUFXLGdCQUFnQixtREFBQywrQkFBK0IsS0FBSyxxQkFBcUIsR0FBRyx5Q0FBeUMsbURBQUMsRUFBRSwrREFBK0QsR0FBRyxLQUFLLFlBQVksd0VBQUMsQ0FBQyxNQUFNLDZCQUE2QixtREFBQywrQkFBK0IsZ0JBQWdCLHFCQUFxQixzQ0FBc0MsSUFBSSxxQkFBcUIsYUFBYSxtREFBQyxFQUFFLCtEQUErRCxHQUFHLDRCQUE0Qix5QkFBeUIsc0RBQVMsb0JBQW9CLEVBQUUsT0FBTyxnREFBQyxPQUFPLDBEQUFDLHFFQUFxRSxPQUFPLDBEQUFlLGFBQWEsUUFBUSxJQUFJLEdBQUcsMkRBQUMsTUFBTSxnRUFBQyxXQUFXLFFBQVEsaURBQUMsSUFBSSxzQkFBc0Isd0RBQUMsRUFBRSxlQUFlLFFBQVEsUUFBUSxpREFBQyxJQUFJLHNCQUFzQix3REFBQyxFQUFFLHVCQUF1QixRQUFRLFFBQVEsaURBQUMsSUFBSSxzQkFBc0Isd0RBQUMsRUFBRSxpQkFBaUIsT0FBTyxRQUFRLGlEQUFDLFVBQVUsK0NBQUMsT0FBTyxzQkFBc0Isd0RBQUMsRUFBRSxPQUFPLGdEQUFDLE9BQU8sMkJBQTJCLDJDQUEyQyxLQUFLLEtBQUssMEJBQWtNO0FBQ3Z0RCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9wcmltaXRpdmVzL0htc1Jvb21Qcm92aWRlci5qcz85M2E3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0LHtjcmVhdGVDb250ZXh0IGFzIGUsdXNlRWZmZWN0IGFzIG8sdXNlQ29udGV4dCBhcyBzLHVzZVN0YXRlIGFzIHJ9ZnJvbVwicmVhY3RcIjtpbXBvcnQgaSBmcm9tXCJ6dXN0YW5kXCI7aW1wb3J0e0hNU1JlYWN0aXZlU3RvcmUgYXMgbn1mcm9tXCJAMTAwbXNsaXZlL2htcy12aWRlby1zdG9yZVwiO2ltcG9ydHttYWtlSE1TU3RvcmVIb29rIGFzIGEsbWFrZUhNU1N0YXRzU3RvcmVIb29rIGFzIGMsaG9va3NFcnJvck1lc3NhZ2UgYXMgZn1mcm9tXCIuL3N0b3JlLmpzXCI7aW1wb3J0e2lzQnJvd3NlciBhcyBsfWZyb21cIi4uL3V0aWxzL2lzQnJvd3Nlci5qc1wiO2NvbnN0IHU9ZShudWxsKTtsZXQgdztjb25zdCBkPSh7Y2hpbGRyZW46ZSxhY3Rpb25zOnMsc3RvcmU6cixub3RpZmljYXRpb25zOmEsc3RhdHM6Yyxpc0hNU1N0YXRzT246Zj0hMSxsZWF2ZU9uVW5sb2FkOmQ9ITB9KT0+e2lmKCF3KXtjb25zdCBlPSgpPT57dGhyb3cgbmV3IEVycm9yKFwibW9kaWZ5aW5nIHN0b3JlIGlzIG5vdCBhbGxvd2VkXCIpfTtpZihzJiZyKXc9e2FjdGlvbnM6cyxzdG9yZTppKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7c2V0U3RhdGU6ZSxkZXN0cm95OmV9KSl9LGEmJih3Lm5vdGlmaWNhdGlvbnM9YSksYyYmKHcuc3RhdHNTdG9yZT1pKHtnZXRTdGF0ZTpjLmdldFN0YXRlLHN1YnNjcmliZTpjLnN1YnNjcmliZSxzZXRTdGF0ZTplLGRlc3Ryb3k6ZX0pKTtlbHNle2NvbnN0IHQ9bmV3IG47aWYodz17YWN0aW9uczp0LmdldEFjdGlvbnMoKSxzdG9yZTppKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0LmdldFN0b3JlKCkpLHtzZXRTdGF0ZTplLGRlc3Ryb3k6ZX0pKSxub3RpZmljYXRpb25zOnQuZ2V0Tm90aWZpY2F0aW9ucygpfSxmKXtjb25zdCBvPXQuZ2V0U3RhdHMoKTt3LnN0YXRzU3RvcmU9aSh7Z2V0U3RhdGU6by5nZXRTdGF0ZSxzdWJzY3JpYmU6by5zdWJzY3JpYmUsc2V0U3RhdGU6ZSxkZXN0cm95OmV9KX19dy5hY3Rpb25zLnNldEZyYW1ld29ya0luZm8oe3R5cGU6XCJyZWFjdC13ZWJcIix2ZXJzaW9uOnQudmVyc2lvbixzZGtWZXJzaW9uOlwiMC42LjFcIn0pfXJldHVybiBvKCgoKT0+e2wmJmQmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsKCgpPT53LmFjdGlvbnMubGVhdmUoKSkpfSksW2RdKSx0LmNyZWF0ZUVsZW1lbnQodS5Qcm92aWRlcix7dmFsdWU6d30sZSl9LG09YSh1KSxiPWModSksUz0oKT0+e2NvbnN0IHQ9cyh1KTtpZighdCl0aHJvdyBuZXcgRXJyb3IoZik7cmV0dXJuIHQuc3RvcmV9LGc9KCk9Pntjb25zdCB0PXModSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGYpO3JldHVybiB0Lm5vdGlmaWNhdGlvbnN9LHY9KCk9Pntjb25zdCB0PXModSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGYpO3JldHVybiB0LmFjdGlvbnN9LGg9dD0+e2NvbnN0IGU9cyh1KSxbaSxuXT1yKG51bGwpO2lmKCFlKXRocm93IG5ldyBFcnJvcihmKTtyZXR1cm4gbygoKCk9PntpZighZS5ub3RpZmljYXRpb25zKXJldHVybjtyZXR1cm4gZS5ub3RpZmljYXRpb25zLm9uTm90aWZpY2F0aW9uKCh0PT57bih0KX0pLHQpfSksW2Uubm90aWZpY2F0aW9ucyx0XSksaX07ZXhwb3J0e2QgYXMgSE1TUm9vbVByb3ZpZGVyLHYgYXMgdXNlSE1TQWN0aW9ucyxoIGFzIHVzZUhNU05vdGlmaWNhdGlvbnMsYiBhcyB1c2VITVNTdGF0c1N0b3JlLG0gYXMgdXNlSE1TU3RvcmUsZyBhcyB1c2VITVNWYW5pbGxhTm90aWZpY2F0aW9ucyxTIGFzIHVzZUhNU1ZhbmlsbGFTdG9yZX07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IbXNSb29tUHJvdmlkZXIuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/primitives/HmsRoomProvider.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/primitives/store.js":
/*!********************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/primitives/store.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hooksErrorMessage\": function() { return /* binding */ r; },\n/* harmony export */   \"makeHMSStatsStoreHook\": function() { return /* binding */ n; },\n/* harmony export */   \"makeHMSStoreHook\": function() { return /* binding */ s; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _packages_react_sdk_node_modules_zustand_esm_shallow_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../packages/react-sdk/node_modules/zustand/esm/shallow.js */ \"./node_modules/@100mslive/react-sdk/dist/packages/react-sdk/node_modules/zustand/esm/shallow.js\");\n/* harmony import */ var _utils_logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/logger.js */ \"./node_modules/@100mslive/react-sdk/dist/utils/logger.js\");\nconst r=\"It seems like you forgot to add your component within a top level HMSRoomProvider, please refer to 100ms react docs(https://docs.100ms.live/javascript/v2/features/integration#react-hooks) to check on the required steps for using this hook.\";function s(s){return(n,a=_packages_react_sdk_node_modules_zustand_esm_shallow_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])=>{n||_utils_logger_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].w(\"fetching full store without passing any selector may have a heavy performance impact on your website.\");const i=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(s);if(!i)throw new Error(r);return(0,i.store)(n,a)}}function n(s){return(n,a=_packages_react_sdk_node_modules_zustand_esm_shallow_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])=>{n||_utils_logger_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].w(\"fetching full store without passing any selector may have a heavy performance impact on your website.\");const i=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(s);if(!i)throw new Error(r);const c=i.statsStore;return null==c?void 0:c(n,a)}}\n//# sourceMappingURL=store.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC9wcmltaXRpdmVzL3N0b3JlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEksMFBBQTBQLGNBQWMsV0FBVywrRkFBQyxJQUFJLEdBQUcsMERBQUcsMEdBQTBHLFFBQVEsaURBQUMsSUFBSSx5QkFBeUIsd0JBQXdCLGNBQWMsV0FBVywrRkFBQyxJQUFJLEdBQUcsMERBQUcsMEdBQTBHLFFBQVEsaURBQUMsSUFBSSx5QkFBeUIscUJBQXFCLDhCQUE4RztBQUMzNEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0AxMDBtc2xpdmUvcmVhY3Qtc2RrL2Rpc3QvcHJpbWl0aXZlcy9zdG9yZS5qcz8wNzA0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHt1c2VDb250ZXh0IGFzIGV9ZnJvbVwicmVhY3RcIjtpbXBvcnQgbyBmcm9tXCIuLi9wYWNrYWdlcy9yZWFjdC1zZGsvbm9kZV9tb2R1bGVzL3p1c3RhbmQvZXNtL3NoYWxsb3cuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi91dGlscy9sb2dnZXIuanNcIjtjb25zdCByPVwiSXQgc2VlbXMgbGlrZSB5b3UgZm9yZ290IHRvIGFkZCB5b3VyIGNvbXBvbmVudCB3aXRoaW4gYSB0b3AgbGV2ZWwgSE1TUm9vbVByb3ZpZGVyLCBwbGVhc2UgcmVmZXIgdG8gMTAwbXMgcmVhY3QgZG9jcyhodHRwczovL2RvY3MuMTAwbXMubGl2ZS9qYXZhc2NyaXB0L3YyL2ZlYXR1cmVzL2ludGVncmF0aW9uI3JlYWN0LWhvb2tzKSB0byBjaGVjayBvbiB0aGUgcmVxdWlyZWQgc3RlcHMgZm9yIHVzaW5nIHRoaXMgaG9vay5cIjtmdW5jdGlvbiBzKHMpe3JldHVybihuLGE9byk9PntufHx0LncoXCJmZXRjaGluZyBmdWxsIHN0b3JlIHdpdGhvdXQgcGFzc2luZyBhbnkgc2VsZWN0b3IgbWF5IGhhdmUgYSBoZWF2eSBwZXJmb3JtYW5jZSBpbXBhY3Qgb24geW91ciB3ZWJzaXRlLlwiKTtjb25zdCBpPWUocyk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKHIpO3JldHVybigwLGkuc3RvcmUpKG4sYSl9fWZ1bmN0aW9uIG4ocyl7cmV0dXJuKG4sYT1vKT0+e258fHQudyhcImZldGNoaW5nIGZ1bGwgc3RvcmUgd2l0aG91dCBwYXNzaW5nIGFueSBzZWxlY3RvciBtYXkgaGF2ZSBhIGhlYXZ5IHBlcmZvcm1hbmNlIGltcGFjdCBvbiB5b3VyIHdlYnNpdGUuXCIpO2NvbnN0IGk9ZShzKTtpZighaSl0aHJvdyBuZXcgRXJyb3Iocik7Y29uc3QgYz1pLnN0YXRzU3RvcmU7cmV0dXJuIG51bGw9PWM/dm9pZCAwOmMobixhKX19ZXhwb3J0e3IgYXMgaG9va3NFcnJvck1lc3NhZ2UsbiBhcyBtYWtlSE1TU3RhdHNTdG9yZUhvb2sscyBhcyBtYWtlSE1TU3RvcmVIb29rfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0b3JlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/primitives/store.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/utils/commons.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/utils/commons.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"logErrorHandler\": function() { return /* binding */ r; },\n/* harmony export */   \"throwErrorHandler\": function() { return /* binding */ t; }\n/* harmony export */ });\n/* harmony import */ var _logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger.js */ \"./node_modules/@100mslive/react-sdk/dist/utils/logger.js\");\nconst r=(r,t)=>_logger_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].e(\"react-sdk\",t,r),t=o=>{throw o};\n//# sourceMappingURL=commons.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC91dGlscy9jb21tb25zLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQixlQUFlLG9EQUFHLHdCQUF3QixTQUE2RDtBQUNsSSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC91dGlscy9jb21tb25zLmpzPzFlMjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG8gZnJvbVwiLi9sb2dnZXIuanNcIjtjb25zdCByPShyLHQpPT5vLmUoXCJyZWFjdC1zZGtcIix0LHIpLHQ9bz0+e3Rocm93IG99O2V4cG9ydHtyIGFzIGxvZ0Vycm9ySGFuZGxlcix0IGFzIHRocm93RXJyb3JIYW5kbGVyfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1vbnMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/utils/commons.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/utils/groupBy.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/utils/groupBy.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"groupByRoles\": function() { return /* binding */ e; }\n/* harmony export */ });\nconst e=e=>e&&Array.isArray(e)&&0!==e.length?e.reduce(((e,r)=>r.roleName?(e[r.roleName]||(e[r.roleName]=[]),e[r.roleName].push(r),e):e),{}):{};\n//# sourceMappingURL=groupBy.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC91dGlscy9ncm91cEJ5LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSwwSUFBMEksS0FBK0I7QUFDeksiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0AxMDBtc2xpdmUvcmVhY3Qtc2RrL2Rpc3QvdXRpbHMvZ3JvdXBCeS5qcz82MDhjIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGU9ZT0+ZSYmQXJyYXkuaXNBcnJheShlKSYmMCE9PWUubGVuZ3RoP2UucmVkdWNlKCgoZSxyKT0+ci5yb2xlTmFtZT8oZVtyLnJvbGVOYW1lXXx8KGVbci5yb2xlTmFtZV09W10pLGVbci5yb2xlTmFtZV0ucHVzaChyKSxlKTplKSx7fSk6e307ZXhwb3J0e2UgYXMgZ3JvdXBCeVJvbGVzfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyb3VwQnkuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/utils/groupBy.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/utils/isBrowser.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/utils/isBrowser.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isBrowser\": function() { return /* binding */ e; }\n/* harmony export */ });\nconst e=\"undefined\"!=typeof window;\n//# sourceMappingURL=isBrowser.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC91dGlscy9pc0Jyb3dzZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLG1DQUEwRDtBQUMxRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC91dGlscy9pc0Jyb3dzZXIuanM/YzM3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c7ZXhwb3J0e2UgYXMgaXNCcm93c2VyfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQnJvd3Nlci5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/utils/isBrowser.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/utils/layout.js":
/*!****************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/utils/layout.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"calculateLayoutSizes\": function() { return /* binding */ o; },\n/* harmony export */   \"chunk\": function() { return /* binding */ t; },\n/* harmony export */   \"chunkElements\": function() { return /* binding */ e; },\n/* harmony export */   \"getClosestLayer\": function() { return /* binding */ g; },\n/* harmony export */   \"getModeAspectRatio\": function() { return /* binding */ a; },\n/* harmony export */   \"getTileSizesWithColConstraint\": function() { return /* binding */ h; },\n/* harmony export */   \"getTileSizesWithPageConstraint\": function() { return /* binding */ n; },\n/* harmony export */   \"getTileSizesWithRowConstraint\": function() { return /* binding */ s; },\n/* harmony export */   \"getVideoTracksFromPeers\": function() { return /* binding */ l; },\n/* harmony export */   \"largestRect\": function() { return /* binding */ r; },\n/* harmony export */   \"mode\": function() { return /* binding */ i; }\n/* harmony export */ });\nconst t=(t,e,i)=>t.reduce(((t,a,r)=>{const h=Math.floor(r/e);return h>0&&i||(t[h]||(t[h]=[]),t[h].push(a)),t}),[]),e=({elements:e,tilesInFirstPage:i,onlyOnePage:a,isLastPageDifferentFromFirstPage:r,defaultWidth:h,defaultHeight:n,lastPageWidth:s,lastPageHeight:o})=>{const l=t(e,i,a);return l.map(((t,e)=>t.map((t=>{const i=e===l.length-1,a=r&&i?s:h,g=r&&i?o:n;return Object.assign(Object.assign({},t),{height:g,width:a})}))))};function i(t){if(0===t.length)return null;const e={};let i=t[0],a=1;for(let r=0;r<t.length;r++){const h=t[r];null===e[h]?e[h]=1:e[h]++,e[h]>a&&(i=h,a=e[h])}return i}const a=t=>i(t.filter((t=>{var e,i;return(null===(e=t.track)||void 0===e?void 0:e.width)&&(null===(i=t.track)||void 0===i?void 0:i.height)})).map((t=>{var e,i;return((null===(e=t.track)||void 0===e?void 0:e.width)||1)/((null===(i=t.track)||void 0===i?void 0:i.height)||1)}))),r=(t,e,i,a,r)=>{if(t<0||e<0)throw new Error(\"Container must have a non-negative area\");if(i<1||!Number.isInteger(i))throw new Error(\"Number of shapes to place must be a positive integer\");const h=a&&r&&a/r;if(void 0!==h&&isNaN(h))throw new Error(\"Aspect ratio must be a number\");let n={area:0,cols:0,rows:0,width:0,height:0};if(void 0!==h)for(let a=i;a>0;a+=-1){const r=Math.ceil(i/a);let s,o;t/(a*h)<=e/r?(s=t/a,o=s/h):(o=e/r,s=o*h);const l=s*o;l>n.area&&(n={area:l,width:s,height:o,rows:r,cols:a})}return n},h=({parentWidth:t,parentHeight:e,count:i,maxCount:a,aspectRatio:r})=>{let h=0,n=0,s=0,o=0,l=!1,g=0,d=0;const u=Math.min(Math.ceil(Math.sqrt(i*(t/e)/(r.width/r.height))),a);let c=t/u,f=c/(r.width/r.height);f>e&&(f=e,c=f/(r.height/r.width));const P=Math.floor(e/f);if(n=f,h=c,g=Math.min(i,P*u),d=i%(P*u),l=d>0&&i>P*u,l){let i=t/Math.min(Math.ceil(Math.sqrt(d*(t/e)/(r.width/r.height))),a),h=i/(r.width/r.height);h>e&&(h=e,i=h/(r.height/r.width)),o=h,s=i}return{tilesInFirstPage:g,defaultWidth:h,defaultHeight:n,lastPageWidth:s,lastPageHeight:o,isLastPageDifferentFromFirstPage:l}},n=({parentWidth:t,parentHeight:e,count:i,maxCount:a,aspectRatio:h})=>{let n=0,s=0,o=0,l=0,g=!1,d=0,u=0;const{width:c,height:f}=r(t,e,Math.min(i,a),h.width,h.height);if(n=c,s=f,d=Math.min(i,a),u=i%a,g=u>0&&i>a,g){const{width:i,height:a}=r(t,e,u,h.width,h.height);o=i,l=a}return{tilesInFirstPage:d,defaultWidth:n,defaultHeight:s,lastPageWidth:o,lastPageHeight:l,isLastPageDifferentFromFirstPage:g}},s=({parentWidth:t,parentHeight:e,count:i,maxCount:a,aspectRatio:r})=>{let h=0,n=0,s=0,o=0,l=!1,g=0,d=0;const u=Math.min(Math.ceil(Math.sqrt(i*(r.width/r.height)/(t/e))),a),c=e/u,f=c*(r.width/r.height),P=Math.floor(t/f);if(h=f,n=c,g=Math.min(i,u*P),d=i%(u*P),l=d>0&&i>u*P,l){const i=e/Math.min(Math.ceil(Math.sqrt(d*(r.width/r.height)/(t/e))),a);o=i,s=i*(r.width/r.height)}return{tilesInFirstPage:g,defaultWidth:h,defaultHeight:n,lastPageWidth:s,lastPageHeight:o,isLastPageDifferentFromFirstPage:l}};function o({count:t,parentWidth:e,parentHeight:i,maxTileCount:a,maxRowCount:o,maxColCount:l,aspectRatio:g}){let d=0,u=0,c=0,f=0,P=!1,p=0;if(0===t)return{tilesInFirstPage:p,defaultWidth:d,defaultHeight:u,lastPageWidth:c,lastPageHeight:f,isLastPageDifferentFromFirstPage:P};if(a)({tilesInFirstPage:p,defaultWidth:d,defaultHeight:u,lastPageWidth:c,lastPageHeight:f,isLastPageDifferentFromFirstPage:P}=n({parentWidth:e,parentHeight:i,count:t,maxCount:a,aspectRatio:g}));else if(o)({tilesInFirstPage:p,defaultWidth:d,defaultHeight:u,lastPageWidth:c,lastPageHeight:f,isLastPageDifferentFromFirstPage:P}=s({parentWidth:e,parentHeight:i,count:t,maxCount:o,aspectRatio:g}));else if(l)({tilesInFirstPage:p,defaultWidth:d,defaultHeight:u,lastPageWidth:c,lastPageHeight:f,isLastPageDifferentFromFirstPage:P}=h({parentWidth:e,parentHeight:i,count:t,maxCount:l,aspectRatio:g}));else{const{width:a,height:h}=r(e,i,t,g.width,g.height);d=a,u=h,p=t}return{tilesInFirstPage:p,defaultWidth:d,defaultHeight:u,lastPageWidth:c,lastPageHeight:f,isLastPageDifferentFromFirstPage:P}}const l=(t,e,i,a=!0)=>{if(!t||!e||!i)return[];const r=[];for(const h of t){if(void 0===h.videoTrack&&h.audioTrack&&e[h.audioTrack]?r.push({peer:h}):h.videoTrack&&e[h.videoTrack]?r.push({track:e[h.videoTrack],peer:h}):a||r.push({peer:h}),h.auxiliaryTracks.length>0&&h.auxiliaryTracks.forEach((t=>{const i=e[t];\"video\"===(null==i?void 0:i.type)&&\"regular\"===(null==i?void 0:i.source)&&r.push({track:i,peer:h})})),i(h)&&h.auxiliaryTracks.length>0){const t=h.auxiliaryTracks.find((t=>{const i=e[t];return\"video\"===(null==i?void 0:i.type)&&\"screen\"===(null==i?void 0:i.source)}));t&&r.push({track:e[t],peer:h})}}return r},g=({layerDefinitions:t,width:e,height:i})=>{let a,r=Number.MAX_VALUE;for(const{resolution:h,layer:n}of t){const t=Math.abs(e-(h.width||0))+Math.abs(i-(h.height||0));t<r&&(r=t,a=n)}return a};\n//# sourceMappingURL=layout.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC91dGlscy9sYXlvdXQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQSxxQ0FBcUMsd0JBQXdCLGdEQUFnRCxVQUFVLCtJQUErSSxJQUFJLGlCQUFpQixnQ0FBZ0MsNkNBQTZDLHFDQUFxQyxLQUFLLGlCQUFpQixFQUFFLE1BQU0sY0FBYyw0QkFBNEIsV0FBVyxlQUFlLFlBQVksV0FBVyxLQUFLLGFBQWEsK0NBQStDLFNBQVMsMkJBQTJCLFFBQVEsd0dBQXdHLFlBQVksUUFBUSxpSEFBaUgsb0JBQW9CLHVFQUF1RSxxR0FBcUcsa0JBQWtCLHlFQUF5RSxPQUFPLHVDQUF1QywwQkFBMEIsSUFBSSxPQUFPLHVCQUF1QixRQUFRLHlDQUF5QyxZQUFZLGNBQWMsc0NBQXNDLEVBQUUsU0FBUyxLQUFLLDhEQUE4RCxJQUFJLGlDQUFpQyxxRUFBcUUsaUNBQWlDLGtDQUFrQyx3QkFBd0IsdURBQXVELDRGQUE0RiwwQ0FBMEMsT0FBTyx1SEFBdUgsS0FBSyw4REFBOEQsSUFBSSxpQ0FBaUMsTUFBTSxpQkFBaUIsdUNBQXVDLCtDQUErQyxNQUFNLGlCQUFpQiwyQkFBMkIsUUFBUSxPQUFPLHVIQUF1SCxLQUFLLDhEQUE4RCxJQUFJLGlDQUFpQyxvSEFBb0gsdURBQXVELHVFQUF1RSwyQkFBMkIsT0FBTyx3SEFBd0gsWUFBWSw4RkFBOEYsRUFBRSw2QkFBNkIsZ0JBQWdCLHVIQUF1SCxPQUFPLHNIQUFzSCxJQUFJLDhEQUE4RCxHQUFHLFlBQVksc0hBQXNILElBQUksOERBQThELEdBQUcsWUFBWSxzSEFBc0gsSUFBSSw4REFBOEQsR0FBRyxLQUFLLE1BQU0saUJBQWlCLDJCQUEyQixZQUFZLE9BQU8sdUhBQXVILHVCQUF1Qix1QkFBdUIsV0FBVyxrQkFBa0IsZ0VBQWdFLE9BQU8sd0NBQXdDLDZCQUE2QixhQUFhLE9BQU8sNkRBQTZELGFBQWEsa0ZBQWtGLGVBQWUsRUFBRSxxQ0FBcUMsb0NBQW9DLGFBQWEsOEVBQThFLEdBQUcsV0FBVyxrQkFBa0IsR0FBRyxTQUFTLEtBQUssb0NBQW9DLElBQUkseUJBQXlCLFVBQVUscUJBQXFCLE1BQU0sMkRBQTJELGVBQWUsVUFBeVI7QUFDNTNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AMTAwbXNsaXZlL3JlYWN0LXNkay9kaXN0L3V0aWxzL2xheW91dC5qcz9lOWNiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHQ9KHQsZSxpKT0+dC5yZWR1Y2UoKCh0LGEscik9Pntjb25zdCBoPU1hdGguZmxvb3Ioci9lKTtyZXR1cm4gaD4wJiZpfHwodFtoXXx8KHRbaF09W10pLHRbaF0ucHVzaChhKSksdH0pLFtdKSxlPSh7ZWxlbWVudHM6ZSx0aWxlc0luRmlyc3RQYWdlOmksb25seU9uZVBhZ2U6YSxpc0xhc3RQYWdlRGlmZmVyZW50RnJvbUZpcnN0UGFnZTpyLGRlZmF1bHRXaWR0aDpoLGRlZmF1bHRIZWlnaHQ6bixsYXN0UGFnZVdpZHRoOnMsbGFzdFBhZ2VIZWlnaHQ6b30pPT57Y29uc3QgbD10KGUsaSxhKTtyZXR1cm4gbC5tYXAoKCh0LGUpPT50Lm1hcCgodD0+e2NvbnN0IGk9ZT09PWwubGVuZ3RoLTEsYT1yJiZpP3M6aCxnPXImJmk/bzpuO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse2hlaWdodDpnLHdpZHRoOmF9KX0pKSkpfTtmdW5jdGlvbiBpKHQpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBlPXt9O2xldCBpPXRbMF0sYT0xO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBoPXRbcl07bnVsbD09PWVbaF0/ZVtoXT0xOmVbaF0rKyxlW2hdPmEmJihpPWgsYT1lW2hdKX1yZXR1cm4gaX1jb25zdCBhPXQ9PmkodC5maWx0ZXIoKHQ9Pnt2YXIgZSxpO3JldHVybihudWxsPT09KGU9dC50cmFjayl8fHZvaWQgMD09PWU/dm9pZCAwOmUud2lkdGgpJiYobnVsbD09PShpPXQudHJhY2spfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmhlaWdodCl9KSkubWFwKCh0PT57dmFyIGUsaTtyZXR1cm4oKG51bGw9PT0oZT10LnRyYWNrKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS53aWR0aCl8fDEpLygobnVsbD09PShpPXQudHJhY2spfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmhlaWdodCl8fDEpfSkpKSxyPSh0LGUsaSxhLHIpPT57aWYodDwwfHxlPDApdGhyb3cgbmV3IEVycm9yKFwiQ29udGFpbmVyIG11c3QgaGF2ZSBhIG5vbi1uZWdhdGl2ZSBhcmVhXCIpO2lmKGk8MXx8IU51bWJlci5pc0ludGVnZXIoaSkpdGhyb3cgbmV3IEVycm9yKFwiTnVtYmVyIG9mIHNoYXBlcyB0byBwbGFjZSBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlclwiKTtjb25zdCBoPWEmJnImJmEvcjtpZih2b2lkIDAhPT1oJiZpc05hTihoKSl0aHJvdyBuZXcgRXJyb3IoXCJBc3BlY3QgcmF0aW8gbXVzdCBiZSBhIG51bWJlclwiKTtsZXQgbj17YXJlYTowLGNvbHM6MCxyb3dzOjAsd2lkdGg6MCxoZWlnaHQ6MH07aWYodm9pZCAwIT09aClmb3IobGV0IGE9aTthPjA7YSs9LTEpe2NvbnN0IHI9TWF0aC5jZWlsKGkvYSk7bGV0IHMsbzt0LyhhKmgpPD1lL3I/KHM9dC9hLG89cy9oKToobz1lL3Iscz1vKmgpO2NvbnN0IGw9cypvO2w+bi5hcmVhJiYobj17YXJlYTpsLHdpZHRoOnMsaGVpZ2h0Om8scm93czpyLGNvbHM6YX0pfXJldHVybiBufSxoPSh7cGFyZW50V2lkdGg6dCxwYXJlbnRIZWlnaHQ6ZSxjb3VudDppLG1heENvdW50OmEsYXNwZWN0UmF0aW86cn0pPT57bGV0IGg9MCxuPTAscz0wLG89MCxsPSExLGc9MCxkPTA7Y29uc3QgdT1NYXRoLm1pbihNYXRoLmNlaWwoTWF0aC5zcXJ0KGkqKHQvZSkvKHIud2lkdGgvci5oZWlnaHQpKSksYSk7bGV0IGM9dC91LGY9Yy8oci53aWR0aC9yLmhlaWdodCk7Zj5lJiYoZj1lLGM9Zi8oci5oZWlnaHQvci53aWR0aCkpO2NvbnN0IFA9TWF0aC5mbG9vcihlL2YpO2lmKG49ZixoPWMsZz1NYXRoLm1pbihpLFAqdSksZD1pJShQKnUpLGw9ZD4wJiZpPlAqdSxsKXtsZXQgaT10L01hdGgubWluKE1hdGguY2VpbChNYXRoLnNxcnQoZCoodC9lKS8oci53aWR0aC9yLmhlaWdodCkpKSxhKSxoPWkvKHIud2lkdGgvci5oZWlnaHQpO2g+ZSYmKGg9ZSxpPWgvKHIuaGVpZ2h0L3Iud2lkdGgpKSxvPWgscz1pfXJldHVybnt0aWxlc0luRmlyc3RQYWdlOmcsZGVmYXVsdFdpZHRoOmgsZGVmYXVsdEhlaWdodDpuLGxhc3RQYWdlV2lkdGg6cyxsYXN0UGFnZUhlaWdodDpvLGlzTGFzdFBhZ2VEaWZmZXJlbnRGcm9tRmlyc3RQYWdlOmx9fSxuPSh7cGFyZW50V2lkdGg6dCxwYXJlbnRIZWlnaHQ6ZSxjb3VudDppLG1heENvdW50OmEsYXNwZWN0UmF0aW86aH0pPT57bGV0IG49MCxzPTAsbz0wLGw9MCxnPSExLGQ9MCx1PTA7Y29uc3R7d2lkdGg6YyxoZWlnaHQ6Zn09cih0LGUsTWF0aC5taW4oaSxhKSxoLndpZHRoLGguaGVpZ2h0KTtpZihuPWMscz1mLGQ9TWF0aC5taW4oaSxhKSx1PWklYSxnPXU+MCYmaT5hLGcpe2NvbnN0e3dpZHRoOmksaGVpZ2h0OmF9PXIodCxlLHUsaC53aWR0aCxoLmhlaWdodCk7bz1pLGw9YX1yZXR1cm57dGlsZXNJbkZpcnN0UGFnZTpkLGRlZmF1bHRXaWR0aDpuLGRlZmF1bHRIZWlnaHQ6cyxsYXN0UGFnZVdpZHRoOm8sbGFzdFBhZ2VIZWlnaHQ6bCxpc0xhc3RQYWdlRGlmZmVyZW50RnJvbUZpcnN0UGFnZTpnfX0scz0oe3BhcmVudFdpZHRoOnQscGFyZW50SGVpZ2h0OmUsY291bnQ6aSxtYXhDb3VudDphLGFzcGVjdFJhdGlvOnJ9KT0+e2xldCBoPTAsbj0wLHM9MCxvPTAsbD0hMSxnPTAsZD0wO2NvbnN0IHU9TWF0aC5taW4oTWF0aC5jZWlsKE1hdGguc3FydChpKihyLndpZHRoL3IuaGVpZ2h0KS8odC9lKSkpLGEpLGM9ZS91LGY9Yyooci53aWR0aC9yLmhlaWdodCksUD1NYXRoLmZsb29yKHQvZik7aWYoaD1mLG49YyxnPU1hdGgubWluKGksdSpQKSxkPWklKHUqUCksbD1kPjAmJmk+dSpQLGwpe2NvbnN0IGk9ZS9NYXRoLm1pbihNYXRoLmNlaWwoTWF0aC5zcXJ0KGQqKHIud2lkdGgvci5oZWlnaHQpLyh0L2UpKSksYSk7bz1pLHM9aSooci53aWR0aC9yLmhlaWdodCl9cmV0dXJue3RpbGVzSW5GaXJzdFBhZ2U6ZyxkZWZhdWx0V2lkdGg6aCxkZWZhdWx0SGVpZ2h0Om4sbGFzdFBhZ2VXaWR0aDpzLGxhc3RQYWdlSGVpZ2h0Om8saXNMYXN0UGFnZURpZmZlcmVudEZyb21GaXJzdFBhZ2U6bH19O2Z1bmN0aW9uIG8oe2NvdW50OnQscGFyZW50V2lkdGg6ZSxwYXJlbnRIZWlnaHQ6aSxtYXhUaWxlQ291bnQ6YSxtYXhSb3dDb3VudDpvLG1heENvbENvdW50OmwsYXNwZWN0UmF0aW86Z30pe2xldCBkPTAsdT0wLGM9MCxmPTAsUD0hMSxwPTA7aWYoMD09PXQpcmV0dXJue3RpbGVzSW5GaXJzdFBhZ2U6cCxkZWZhdWx0V2lkdGg6ZCxkZWZhdWx0SGVpZ2h0OnUsbGFzdFBhZ2VXaWR0aDpjLGxhc3RQYWdlSGVpZ2h0OmYsaXNMYXN0UGFnZURpZmZlcmVudEZyb21GaXJzdFBhZ2U6UH07aWYoYSkoe3RpbGVzSW5GaXJzdFBhZ2U6cCxkZWZhdWx0V2lkdGg6ZCxkZWZhdWx0SGVpZ2h0OnUsbGFzdFBhZ2VXaWR0aDpjLGxhc3RQYWdlSGVpZ2h0OmYsaXNMYXN0UGFnZURpZmZlcmVudEZyb21GaXJzdFBhZ2U6UH09bih7cGFyZW50V2lkdGg6ZSxwYXJlbnRIZWlnaHQ6aSxjb3VudDp0LG1heENvdW50OmEsYXNwZWN0UmF0aW86Z30pKTtlbHNlIGlmKG8pKHt0aWxlc0luRmlyc3RQYWdlOnAsZGVmYXVsdFdpZHRoOmQsZGVmYXVsdEhlaWdodDp1LGxhc3RQYWdlV2lkdGg6YyxsYXN0UGFnZUhlaWdodDpmLGlzTGFzdFBhZ2VEaWZmZXJlbnRGcm9tRmlyc3RQYWdlOlB9PXMoe3BhcmVudFdpZHRoOmUscGFyZW50SGVpZ2h0OmksY291bnQ6dCxtYXhDb3VudDpvLGFzcGVjdFJhdGlvOmd9KSk7ZWxzZSBpZihsKSh7dGlsZXNJbkZpcnN0UGFnZTpwLGRlZmF1bHRXaWR0aDpkLGRlZmF1bHRIZWlnaHQ6dSxsYXN0UGFnZVdpZHRoOmMsbGFzdFBhZ2VIZWlnaHQ6Zixpc0xhc3RQYWdlRGlmZmVyZW50RnJvbUZpcnN0UGFnZTpQfT1oKHtwYXJlbnRXaWR0aDplLHBhcmVudEhlaWdodDppLGNvdW50OnQsbWF4Q291bnQ6bCxhc3BlY3RSYXRpbzpnfSkpO2Vsc2V7Y29uc3R7d2lkdGg6YSxoZWlnaHQ6aH09cihlLGksdCxnLndpZHRoLGcuaGVpZ2h0KTtkPWEsdT1oLHA9dH1yZXR1cm57dGlsZXNJbkZpcnN0UGFnZTpwLGRlZmF1bHRXaWR0aDpkLGRlZmF1bHRIZWlnaHQ6dSxsYXN0UGFnZVdpZHRoOmMsbGFzdFBhZ2VIZWlnaHQ6Zixpc0xhc3RQYWdlRGlmZmVyZW50RnJvbUZpcnN0UGFnZTpQfX1jb25zdCBsPSh0LGUsaSxhPSEwKT0+e2lmKCF0fHwhZXx8IWkpcmV0dXJuW107Y29uc3Qgcj1bXTtmb3IoY29uc3QgaCBvZiB0KXtpZih2b2lkIDA9PT1oLnZpZGVvVHJhY2smJmguYXVkaW9UcmFjayYmZVtoLmF1ZGlvVHJhY2tdP3IucHVzaCh7cGVlcjpofSk6aC52aWRlb1RyYWNrJiZlW2gudmlkZW9UcmFja10/ci5wdXNoKHt0cmFjazplW2gudmlkZW9UcmFja10scGVlcjpofSk6YXx8ci5wdXNoKHtwZWVyOmh9KSxoLmF1eGlsaWFyeVRyYWNrcy5sZW5ndGg+MCYmaC5hdXhpbGlhcnlUcmFja3MuZm9yRWFjaCgodD0+e2NvbnN0IGk9ZVt0XTtcInZpZGVvXCI9PT0obnVsbD09aT92b2lkIDA6aS50eXBlKSYmXCJyZWd1bGFyXCI9PT0obnVsbD09aT92b2lkIDA6aS5zb3VyY2UpJiZyLnB1c2goe3RyYWNrOmkscGVlcjpofSl9KSksaShoKSYmaC5hdXhpbGlhcnlUcmFja3MubGVuZ3RoPjApe2NvbnN0IHQ9aC5hdXhpbGlhcnlUcmFja3MuZmluZCgodD0+e2NvbnN0IGk9ZVt0XTtyZXR1cm5cInZpZGVvXCI9PT0obnVsbD09aT92b2lkIDA6aS50eXBlKSYmXCJzY3JlZW5cIj09PShudWxsPT1pP3ZvaWQgMDppLnNvdXJjZSl9KSk7dCYmci5wdXNoKHt0cmFjazplW3RdLHBlZXI6aH0pfX1yZXR1cm4gcn0sZz0oe2xheWVyRGVmaW5pdGlvbnM6dCx3aWR0aDplLGhlaWdodDppfSk9PntsZXQgYSxyPU51bWJlci5NQVhfVkFMVUU7Zm9yKGNvbnN0e3Jlc29sdXRpb246aCxsYXllcjpufW9mIHQpe2NvbnN0IHQ9TWF0aC5hYnMoZS0oaC53aWR0aHx8MCkpK01hdGguYWJzKGktKGguaGVpZ2h0fHwwKSk7dDxyJiYocj10LGE9bil9cmV0dXJuIGF9O2V4cG9ydHtvIGFzIGNhbGN1bGF0ZUxheW91dFNpemVzLHQgYXMgY2h1bmssZSBhcyBjaHVua0VsZW1lbnRzLGcgYXMgZ2V0Q2xvc2VzdExheWVyLGEgYXMgZ2V0TW9kZUFzcGVjdFJhdGlvLGggYXMgZ2V0VGlsZVNpemVzV2l0aENvbENvbnN0cmFpbnQsbiBhcyBnZXRUaWxlU2l6ZXNXaXRoUGFnZUNvbnN0cmFpbnQscyBhcyBnZXRUaWxlU2l6ZXNXaXRoUm93Q29uc3RyYWludCxsIGFzIGdldFZpZGVvVHJhY2tzRnJvbVBlZXJzLHIgYXMgbGFyZ2VzdFJlY3QsaSBhcyBtb2RlfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxheW91dC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/utils/layout.js\n"));

/***/ }),

/***/ "./node_modules/@100mslive/react-sdk/dist/utils/logger.js":
/*!****************************************************************!*\
  !*** ./node_modules/@100mslive/react-sdk/dist/utils/logger.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HMSLogLevel\": function() { return /* binding */ s; },\n/* harmony export */   \"default\": function() { return /* binding */ o; }\n/* harmony export */ });\nvar s,e;(e=s||(s={}))[e.VERBOSE=0]=\"VERBOSE\",e[e.DEBUG=1]=\"DEBUG\",e[e.INFO=2]=\"INFO\",e[e.WARN=3]=\"WARN\",e[e.ERROR=4]=\"ERROR\",e[e.NONE=5]=\"NONE\";class o{static v(e,...o){this.log(s.VERBOSE,e,...o)}static d(e,...o){this.log(s.DEBUG,e,...o)}static i(e,...o){this.log(s.INFO,e,...o)}static w(e,...o){this.log(s.WARN,e,...o)}static e(e,...o){this.log(s.ERROR,e,...o)}static log(e,o,...t){if(!(this.level.valueOf()>e.valueOf()))switch(e){case s.VERBOSE:console.log(\"HMSui-components: \",o,...t);break;case s.DEBUG:console.debug(\"HMSui-components: \",o,...t);break;case s.INFO:console.info(\"HMSui-components: \",o,...t);break;case s.WARN:console.warn(\"HMSui-components: \",o,...t);break;case s.ERROR:console.error(\"HMSui-components: \",o,...t)}}}o.level=s.VERBOSE;\n//# sourceMappingURL=logger.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQDEwMG1zbGl2ZS9yZWFjdC1zZGsvZGlzdC91dGlscy9sb2dnZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxRQUFRLFdBQVcsNkhBQTZILFFBQVEsaUJBQWlCLDJCQUEyQixpQkFBaUIseUJBQXlCLGlCQUFpQix3QkFBd0IsaUJBQWlCLHdCQUF3QixpQkFBaUIseUJBQXlCLHFCQUFxQixpREFBaUQsd0RBQXdELE1BQU0sd0RBQXdELE1BQU0sc0RBQXNELE1BQU0sc0RBQXNELE1BQU0sMERBQTBELGtCQUF3RDtBQUN0eEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0AxMDBtc2xpdmUvcmVhY3Qtc2RrL2Rpc3QvdXRpbHMvbG9nZ2VyLmpzP2YxMmEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHMsZTsoZT1zfHwocz17fSkpW2UuVkVSQk9TRT0wXT1cIlZFUkJPU0VcIixlW2UuREVCVUc9MV09XCJERUJVR1wiLGVbZS5JTkZPPTJdPVwiSU5GT1wiLGVbZS5XQVJOPTNdPVwiV0FSTlwiLGVbZS5FUlJPUj00XT1cIkVSUk9SXCIsZVtlLk5PTkU9NV09XCJOT05FXCI7Y2xhc3Mgb3tzdGF0aWMgdihlLC4uLm8pe3RoaXMubG9nKHMuVkVSQk9TRSxlLC4uLm8pfXN0YXRpYyBkKGUsLi4ubyl7dGhpcy5sb2cocy5ERUJVRyxlLC4uLm8pfXN0YXRpYyBpKGUsLi4ubyl7dGhpcy5sb2cocy5JTkZPLGUsLi4ubyl9c3RhdGljIHcoZSwuLi5vKXt0aGlzLmxvZyhzLldBUk4sZSwuLi5vKX1zdGF0aWMgZShlLC4uLm8pe3RoaXMubG9nKHMuRVJST1IsZSwuLi5vKX1zdGF0aWMgbG9nKGUsbywuLi50KXtpZighKHRoaXMubGV2ZWwudmFsdWVPZigpPmUudmFsdWVPZigpKSlzd2l0Y2goZSl7Y2FzZSBzLlZFUkJPU0U6Y29uc29sZS5sb2coXCJITVN1aS1jb21wb25lbnRzOiBcIixvLC4uLnQpO2JyZWFrO2Nhc2Ugcy5ERUJVRzpjb25zb2xlLmRlYnVnKFwiSE1TdWktY29tcG9uZW50czogXCIsbywuLi50KTticmVhaztjYXNlIHMuSU5GTzpjb25zb2xlLmluZm8oXCJITVN1aS1jb21wb25lbnRzOiBcIixvLC4uLnQpO2JyZWFrO2Nhc2Ugcy5XQVJOOmNvbnNvbGUud2FybihcIkhNU3VpLWNvbXBvbmVudHM6IFwiLG8sLi4udCk7YnJlYWs7Y2FzZSBzLkVSUk9SOmNvbnNvbGUuZXJyb3IoXCJITVN1aS1jb21wb25lbnRzOiBcIixvLC4uLnQpfX19by5sZXZlbD1zLlZFUkJPU0U7ZXhwb3J0e3MgYXMgSE1TTG9nTGV2ZWwsbyBhcyBkZWZhdWx0fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvZ2dlci5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@100mslive/react-sdk/dist/utils/logger.js\n"));

/***/ }),

/***/ "./node_modules/eventemitter2/lib/eventemitter2.js":
/*!*********************************************************!*\
  !*** ./node_modules/eventemitter2/lib/eventemitter2.js ***!
  \*********************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval(__webpack_require__.ts("/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/next/dist/build/polyfills/process.js\");\nvar __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * EventEmitter2\n * https://github.com/hij1nx/EventEmitter2\n *\n * Copyright (c) 2013 hij1nx\n * Licensed under the MIT license.\n */\n;!function(undefined) {\n  var hasOwnProperty= Object.hasOwnProperty;\n  var isArray = Array.isArray ? Array.isArray : function _isArray(obj) {\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\n  };\n  var defaultMaxListeners = 10;\n  var nextTickSupported= typeof process=='object' && typeof process.nextTick=='function';\n  var symbolsSupported= typeof Symbol==='function';\n  var reflectSupported= typeof Reflect === 'object';\n  var setImmediateSupported= typeof setImmediate === 'function';\n  var _setImmediate= setImmediateSupported ? setImmediate : setTimeout;\n  var ownKeys= symbolsSupported? (reflectSupported && typeof Reflect.ownKeys==='function'? Reflect.ownKeys : function(obj){\n    var arr= Object.getOwnPropertyNames(obj);\n    arr.push.apply(arr, Object.getOwnPropertySymbols(obj));\n    return arr;\n  }) : Object.keys;\n\n  function init() {\n    this._events = {};\n    if (this._conf) {\n      configure.call(this, this._conf);\n    }\n  }\n\n  function configure(conf) {\n    if (conf) {\n      this._conf = conf;\n\n      conf.delimiter && (this.delimiter = conf.delimiter);\n\n      if(conf.maxListeners!==undefined){\n          this._maxListeners= conf.maxListeners;\n      }\n\n      conf.wildcard && (this.wildcard = conf.wildcard);\n      conf.newListener && (this._newListener = conf.newListener);\n      conf.removeListener && (this._removeListener = conf.removeListener);\n      conf.verboseMemoryLeak && (this.verboseMemoryLeak = conf.verboseMemoryLeak);\n      conf.ignoreErrors && (this.ignoreErrors = conf.ignoreErrors);\n\n      if (this.wildcard) {\n        this.listenerTree = {};\n      }\n    }\n  }\n\n  function logPossibleMemoryLeak(count, eventName) {\n    var errorMsg = '(node) warning: possible EventEmitter memory ' +\n        'leak detected. ' + count + ' listeners added. ' +\n        'Use emitter.setMaxListeners() to increase limit.';\n\n    if(this.verboseMemoryLeak){\n      errorMsg += ' Event name: ' + eventName + '.';\n    }\n\n    if(typeof process !== 'undefined' && process.emitWarning){\n      var e = new Error(errorMsg);\n      e.name = 'MaxListenersExceededWarning';\n      e.emitter = this;\n      e.count = count;\n      process.emitWarning(e);\n    } else {\n      console.error(errorMsg);\n\n      if (console.trace){\n        console.trace();\n      }\n    }\n  }\n\n  var toArray = function (a, b, c) {\n    var n = arguments.length;\n    switch (n) {\n      case 0:\n        return [];\n      case 1:\n        return [a];\n      case 2:\n        return [a, b];\n      case 3:\n        return [a, b, c];\n      default:\n        var arr = new Array(n);\n        while (n--) {\n          arr[n] = arguments[n];\n        }\n        return arr;\n    }\n  };\n\n  function toObject(keys, values) {\n    var obj = {};\n    var key;\n    var len = keys.length;\n    var valuesCount = values ? values.length : 0;\n    for (var i = 0; i < len; i++) {\n      key = keys[i];\n      obj[key] = i < valuesCount ? values[i] : undefined;\n    }\n    return obj;\n  }\n\n  function TargetObserver(emitter, target, options) {\n    this._emitter = emitter;\n    this._target = target;\n    this._listeners = {};\n    this._listenersCount = 0;\n\n    var on, off;\n\n    if (options.on || options.off) {\n      on = options.on;\n      off = options.off;\n    }\n\n    if (target.addEventListener) {\n      on = target.addEventListener;\n      off = target.removeEventListener;\n    } else if (target.addListener) {\n      on = target.addListener;\n      off = target.removeListener;\n    } else if (target.on) {\n      on = target.on;\n      off = target.off;\n    }\n\n    if (!on && !off) {\n      throw Error('target does not implement any known event API');\n    }\n\n    if (typeof on !== 'function') {\n      throw TypeError('on method must be a function');\n    }\n\n    if (typeof off !== 'function') {\n      throw TypeError('off method must be a function');\n    }\n\n    this._on = on;\n    this._off = off;\n\n    var _observers= emitter._observers;\n    if(_observers){\n      _observers.push(this);\n    }else{\n      emitter._observers= [this];\n    }\n  }\n\n  Object.assign(TargetObserver.prototype, {\n    subscribe: function(event, localEvent, reducer){\n      var observer= this;\n      var target= this._target;\n      var emitter= this._emitter;\n      var listeners= this._listeners;\n      var handler= function(){\n        var args= toArray.apply(null, arguments);\n        var eventObj= {\n          data: args,\n          name: localEvent,\n          original: event\n        };\n        if(reducer){\n          var result= reducer.call(target, eventObj);\n          if(result!==false){\n            emitter.emit.apply(emitter, [eventObj.name].concat(args))\n          }\n          return;\n        }\n        emitter.emit.apply(emitter, [localEvent].concat(args));\n      };\n\n\n      if(listeners[event]){\n        throw Error('Event \\'' + event + '\\' is already listening');\n      }\n\n      this._listenersCount++;\n\n      if(emitter._newListener && emitter._removeListener && !observer._onNewListener){\n\n        this._onNewListener = function (_event) {\n          if (_event === localEvent && listeners[event] === null) {\n            listeners[event] = handler;\n            observer._on.call(target, event, handler);\n          }\n        };\n\n        emitter.on('newListener', this._onNewListener);\n\n        this._onRemoveListener= function(_event){\n          if(_event === localEvent && !emitter.hasListeners(_event) && listeners[event]){\n            listeners[event]= null;\n            observer._off.call(target, event, handler);\n          }\n        };\n\n        listeners[event]= null;\n\n        emitter.on('removeListener', this._onRemoveListener);\n      }else{\n        listeners[event]= handler;\n        observer._on.call(target, event, handler);\n      }\n    },\n\n    unsubscribe: function(event){\n      var observer= this;\n      var listeners= this._listeners;\n      var emitter= this._emitter;\n      var handler;\n      var events;\n      var off= this._off;\n      var target= this._target;\n      var i;\n\n      if(event && typeof event!=='string'){\n        throw TypeError('event must be a string');\n      }\n\n      function clearRefs(){\n        if(observer._onNewListener){\n          emitter.off('newListener', observer._onNewListener);\n          emitter.off('removeListener', observer._onRemoveListener);\n          observer._onNewListener= null;\n          observer._onRemoveListener= null;\n        }\n        var index= findTargetIndex.call(emitter, observer);\n        emitter._observers.splice(index, 1);\n      }\n\n      if(event){\n        handler= listeners[event];\n        if(!handler) return;\n        off.call(target, event, handler);\n        delete listeners[event];\n        if(!--this._listenersCount){\n          clearRefs();\n        }\n      }else{\n        events= ownKeys(listeners);\n        i= events.length;\n        while(i-->0){\n          event= events[i];\n          off.call(target, event, listeners[event]);\n        }\n        this._listeners= {};\n        this._listenersCount= 0;\n        clearRefs();\n      }\n    }\n  });\n\n  function resolveOptions(options, schema, reducers, allowUnknown) {\n    var computedOptions = Object.assign({}, schema);\n\n    if (!options) return computedOptions;\n\n    if (typeof options !== 'object') {\n      throw TypeError('options must be an object')\n    }\n\n    var keys = Object.keys(options);\n    var length = keys.length;\n    var option, value;\n    var reducer;\n\n    function reject(reason) {\n      throw Error('Invalid \"' + option + '\" option value' + (reason ? '. Reason: ' + reason : ''))\n    }\n\n    for (var i = 0; i < length; i++) {\n      option = keys[i];\n      if (!allowUnknown && !hasOwnProperty.call(schema, option)) {\n        throw Error('Unknown \"' + option + '\" option');\n      }\n      value = options[option];\n      if (value !== undefined) {\n        reducer = reducers[option];\n        computedOptions[option] = reducer ? reducer(value, reject) : value;\n      }\n    }\n    return computedOptions;\n  }\n\n  function constructorReducer(value, reject) {\n    if (typeof value !== 'function' || !value.hasOwnProperty('prototype')) {\n      reject('value must be a constructor');\n    }\n    return value;\n  }\n\n  function makeTypeReducer(types) {\n    var message= 'value must be type of ' + types.join('|');\n    var len= types.length;\n    var firstType= types[0];\n    var secondType= types[1];\n\n    if (len === 1) {\n      return function (v, reject) {\n        if (typeof v === firstType) {\n          return v;\n        }\n        reject(message);\n      }\n    }\n\n    if (len === 2) {\n      return function (v, reject) {\n        var kind= typeof v;\n        if (kind === firstType || kind === secondType) return v;\n        reject(message);\n      }\n    }\n\n    return function (v, reject) {\n      var kind = typeof v;\n      var i = len;\n      while (i-- > 0) {\n        if (kind === types[i]) return v;\n      }\n      reject(message);\n    }\n  }\n\n  var functionReducer= makeTypeReducer(['function']);\n\n  var objectFunctionReducer= makeTypeReducer(['object', 'function']);\n\n  function makeCancelablePromise(Promise, executor, options) {\n    var isCancelable;\n    var callbacks;\n    var timer= 0;\n    var subscriptionClosed;\n\n    var promise = new Promise(function (resolve, reject, onCancel) {\n      options= resolveOptions(options, {\n        timeout: 0,\n        overload: false\n      }, {\n        timeout: function(value, reject){\n          value*= 1;\n          if (typeof value !== 'number' || value < 0 || !Number.isFinite(value)) {\n            reject('timeout must be a positive number');\n          }\n          return value;\n        }\n      });\n\n      isCancelable = !options.overload && typeof Promise.prototype.cancel === 'function' && typeof onCancel === 'function';\n\n      function cleanup() {\n        if (callbacks) {\n          callbacks = null;\n        }\n        if (timer) {\n          clearTimeout(timer);\n          timer = 0;\n        }\n      }\n\n      var _resolve= function(value){\n        cleanup();\n        resolve(value);\n      };\n\n      var _reject= function(err){\n        cleanup();\n        reject(err);\n      };\n\n      if (isCancelable) {\n        executor(_resolve, _reject, onCancel);\n      } else {\n        callbacks = [function(reason){\n          _reject(reason || Error('canceled'));\n        }];\n        executor(_resolve, _reject, function (cb) {\n          if (subscriptionClosed) {\n            throw Error('Unable to subscribe on cancel event asynchronously')\n          }\n          if (typeof cb !== 'function') {\n            throw TypeError('onCancel callback must be a function');\n          }\n          callbacks.push(cb);\n        });\n        subscriptionClosed= true;\n      }\n\n      if (options.timeout > 0) {\n        timer= setTimeout(function(){\n          var reason= Error('timeout');\n          reason.code = 'ETIMEDOUT'\n          timer= 0;\n          promise.cancel(reason);\n          reject(reason);\n        }, options.timeout);\n      }\n    });\n\n    if (!isCancelable) {\n      promise.cancel = function (reason) {\n        if (!callbacks) {\n          return;\n        }\n        var length = callbacks.length;\n        for (var i = 1; i < length; i++) {\n          callbacks[i](reason);\n        }\n        // internal callback to reject the promise\n        callbacks[0](reason);\n        callbacks = null;\n      };\n    }\n\n    return promise;\n  }\n\n  function findTargetIndex(observer) {\n    var observers = this._observers;\n    if(!observers){\n      return -1;\n    }\n    var len = observers.length;\n    for (var i = 0; i < len; i++) {\n      if (observers[i]._target === observer) return i;\n    }\n    return -1;\n  }\n\n  // Attention, function return type now is array, always !\n  // It has zero elements if no any matches found and one or more\n  // elements (leafs) if there are matches\n  //\n  function searchListenerTree(handlers, type, tree, i, typeLength) {\n    if (!tree) {\n      return null;\n    }\n\n    if (i === 0) {\n      var kind = typeof type;\n      if (kind === 'string') {\n        var ns, n, l = 0, j = 0, delimiter = this.delimiter, dl = delimiter.length;\n        if ((n = type.indexOf(delimiter)) !== -1) {\n          ns = new Array(5);\n          do {\n            ns[l++] = type.slice(j, n);\n            j = n + dl;\n          } while ((n = type.indexOf(delimiter, j)) !== -1);\n\n          ns[l++] = type.slice(j);\n          type = ns;\n          typeLength = l;\n        } else {\n          type = [type];\n          typeLength = 1;\n        }\n      } else if (kind === 'object') {\n        typeLength = type.length;\n      } else {\n        type = [type];\n        typeLength = 1;\n      }\n    }\n\n    var listeners= null, branch, xTree, xxTree, isolatedBranch, endReached, currentType = type[i],\n        nextType = type[i + 1], branches, _listeners;\n\n    if (i === typeLength) {\n      //\n      // If at the end of the event(s) list and the tree has listeners\n      // invoke those listeners.\n      //\n\n      if(tree._listeners) {\n        if (typeof tree._listeners === 'function') {\n          handlers && handlers.push(tree._listeners);\n          listeners = [tree];\n        } else {\n          handlers && handlers.push.apply(handlers, tree._listeners);\n          listeners = [tree];\n        }\n      }\n    } else {\n\n      if (currentType === '*') {\n        //\n        // If the event emitted is '*' at this part\n        // or there is a concrete match at this patch\n        //\n        branches = ownKeys(tree);\n        n = branches.length;\n        while (n-- > 0) {\n          branch = branches[n];\n          if (branch !== '_listeners') {\n            _listeners = searchListenerTree(handlers, type, tree[branch], i + 1, typeLength);\n            if (_listeners) {\n              if (listeners) {\n                listeners.push.apply(listeners, _listeners);\n              } else {\n                listeners = _listeners;\n              }\n            }\n          }\n        }\n        return listeners;\n      } else if (currentType === '**') {\n        endReached = (i + 1 === typeLength || (i + 2 === typeLength && nextType === '*'));\n        if (endReached && tree._listeners) {\n          // The next element has a _listeners, add it to the handlers.\n          listeners = searchListenerTree(handlers, type, tree, typeLength, typeLength);\n        }\n\n        branches = ownKeys(tree);\n        n = branches.length;\n        while (n-- > 0) {\n          branch = branches[n];\n          if (branch !== '_listeners') {\n            if (branch === '*' || branch === '**') {\n              if (tree[branch]._listeners && !endReached) {\n                _listeners = searchListenerTree(handlers, type, tree[branch], typeLength, typeLength);\n                if (_listeners) {\n                  if (listeners) {\n                    listeners.push.apply(listeners, _listeners);\n                  } else {\n                    listeners = _listeners;\n                  }\n                }\n              }\n              _listeners = searchListenerTree(handlers, type, tree[branch], i, typeLength);\n            } else if (branch === nextType) {\n              _listeners = searchListenerTree(handlers, type, tree[branch], i + 2, typeLength);\n            } else {\n              // No match on this one, shift into the tree but not in the type array.\n              _listeners = searchListenerTree(handlers, type, tree[branch], i, typeLength);\n            }\n            if (_listeners) {\n              if (listeners) {\n                listeners.push.apply(listeners, _listeners);\n              } else {\n                listeners = _listeners;\n              }\n            }\n          }\n        }\n        return listeners;\n      } else if (tree[currentType]) {\n        listeners = searchListenerTree(handlers, type, tree[currentType], i + 1, typeLength);\n      }\n    }\n\n      xTree = tree['*'];\n    if (xTree) {\n      //\n      // If the listener tree will allow any match for this part,\n      // then recursively explore all branches of the tree\n      //\n      searchListenerTree(handlers, type, xTree, i + 1, typeLength);\n    }\n\n    xxTree = tree['**'];\n    if (xxTree) {\n      if (i < typeLength) {\n        if (xxTree._listeners) {\n          // If we have a listener on a '**', it will catch all, so add its handler.\n          searchListenerTree(handlers, type, xxTree, typeLength, typeLength);\n        }\n\n        // Build arrays of matching next branches and others.\n        branches= ownKeys(xxTree);\n        n= branches.length;\n        while(n-->0){\n          branch= branches[n];\n          if (branch !== '_listeners') {\n            if (branch === nextType) {\n              // We know the next element will match, so jump twice.\n              searchListenerTree(handlers, type, xxTree[branch], i + 2, typeLength);\n            } else if (branch === currentType) {\n              // Current node matches, move into the tree.\n              searchListenerTree(handlers, type, xxTree[branch], i + 1, typeLength);\n            } else {\n              isolatedBranch = {};\n              isolatedBranch[branch] = xxTree[branch];\n              searchListenerTree(handlers, type, {'**': isolatedBranch}, i + 1, typeLength);\n            }\n          }\n        }\n      } else if (xxTree._listeners) {\n        // We have reached the end and still on a '**'\n        searchListenerTree(handlers, type, xxTree, typeLength, typeLength);\n      } else if (xxTree['*'] && xxTree['*']._listeners) {\n        searchListenerTree(handlers, type, xxTree['*'], typeLength, typeLength);\n      }\n    }\n\n    return listeners;\n  }\n\n  function growListenerTree(type, listener, prepend) {\n    var len = 0, j = 0, i, delimiter = this.delimiter, dl= delimiter.length, ns;\n\n    if(typeof type==='string') {\n      if ((i = type.indexOf(delimiter)) !== -1) {\n        ns = new Array(5);\n        do {\n          ns[len++] = type.slice(j, i);\n          j = i + dl;\n        } while ((i = type.indexOf(delimiter, j)) !== -1);\n\n        ns[len++] = type.slice(j);\n      }else{\n        ns= [type];\n        len= 1;\n      }\n    }else{\n      ns= type;\n      len= type.length;\n    }\n\n    //\n    // Looks for two consecutive '**', if so, don't add the event at all.\n    //\n    if (len > 1) {\n      for (i = 0; i + 1 < len; i++) {\n        if (ns[i] === '**' && ns[i + 1] === '**') {\n          return;\n        }\n      }\n    }\n\n\n\n    var tree = this.listenerTree, name;\n\n    for (i = 0; i < len; i++) {\n      name = ns[i];\n\n      tree = tree[name] || (tree[name] = {});\n\n      if (i === len - 1) {\n        if (!tree._listeners) {\n          tree._listeners = listener;\n        } else {\n          if (typeof tree._listeners === 'function') {\n            tree._listeners = [tree._listeners];\n          }\n\n          if (prepend) {\n            tree._listeners.unshift(listener);\n          } else {\n            tree._listeners.push(listener);\n          }\n\n          if (\n              !tree._listeners.warned &&\n              this._maxListeners > 0 &&\n              tree._listeners.length > this._maxListeners\n          ) {\n            tree._listeners.warned = true;\n            logPossibleMemoryLeak.call(this, tree._listeners.length, name);\n          }\n        }\n        return true;\n      }\n    }\n\n    return true;\n  }\n\n  function collectTreeEvents(tree, events, root, asArray){\n     var branches= ownKeys(tree);\n     var i= branches.length;\n     var branch, branchName, path;\n     var hasListeners= tree['_listeners'];\n     var isArrayPath;\n\n     while(i-->0){\n         branchName= branches[i];\n\n         branch= tree[branchName];\n\n         if(branchName==='_listeners'){\n             path= root;\n         }else {\n             path = root ? root.concat(branchName) : [branchName];\n         }\n\n         isArrayPath= asArray || typeof branchName==='symbol';\n\n         hasListeners && events.push(isArrayPath? path : path.join(this.delimiter));\n\n         if(typeof branch==='object'){\n             collectTreeEvents.call(this, branch, events, path, isArrayPath);\n         }\n     }\n\n     return events;\n  }\n\n  function recursivelyGarbageCollect(root) {\n    var keys = ownKeys(root);\n    var i= keys.length;\n    var obj, key, flag;\n    while(i-->0){\n      key = keys[i];\n      obj = root[key];\n\n      if(obj){\n          flag= true;\n          if(key !== '_listeners' && !recursivelyGarbageCollect(obj)){\n             delete root[key];\n          }\n      }\n    }\n\n    return flag;\n  }\n\n  function Listener(emitter, event, listener){\n    this.emitter= emitter;\n    this.event= event;\n    this.listener= listener;\n  }\n\n  Listener.prototype.off= function(){\n    this.emitter.off(this.event, this.listener);\n    return this;\n  };\n\n  function setupListener(event, listener, options){\n      if (options === true) {\n        promisify = true;\n      } else if (options === false) {\n        async = true;\n      } else {\n        if (!options || typeof options !== 'object') {\n          throw TypeError('options should be an object or true');\n        }\n        var async = options.async;\n        var promisify = options.promisify;\n        var nextTick = options.nextTick;\n        var objectify = options.objectify;\n      }\n\n      if (async || nextTick || promisify) {\n        var _listener = listener;\n        var _origin = listener._origin || listener;\n\n        if (nextTick && !nextTickSupported) {\n          throw Error('process.nextTick is not supported');\n        }\n\n        if (promisify === undefined) {\n          promisify = listener.constructor.name === 'AsyncFunction';\n        }\n\n        listener = function () {\n          var args = arguments;\n          var context = this;\n          var event = this.event;\n\n          return promisify ? (nextTick ? Promise.resolve() : new Promise(function (resolve) {\n            _setImmediate(resolve);\n          }).then(function () {\n            context.event = event;\n            return _listener.apply(context, args)\n          })) : (nextTick ? process.nextTick : _setImmediate)(function () {\n            context.event = event;\n            _listener.apply(context, args)\n          });\n        };\n\n        listener._async = true;\n        listener._origin = _origin;\n      }\n\n    return [listener, objectify? new Listener(this, event, listener): this];\n  }\n\n  function EventEmitter(conf) {\n    this._events = {};\n    this._newListener = false;\n    this._removeListener = false;\n    this.verboseMemoryLeak = false;\n    configure.call(this, conf);\n  }\n\n  EventEmitter.EventEmitter2 = EventEmitter; // backwards compatibility for exporting EventEmitter property\n\n  EventEmitter.prototype.listenTo= function(target, events, options){\n    if(typeof target!=='object'){\n      throw TypeError('target musts be an object');\n    }\n\n    var emitter= this;\n\n    options = resolveOptions(options, {\n      on: undefined,\n      off: undefined,\n      reducers: undefined\n    }, {\n      on: functionReducer,\n      off: functionReducer,\n      reducers: objectFunctionReducer\n    });\n\n    function listen(events){\n      if(typeof events!=='object'){\n        throw TypeError('events must be an object');\n      }\n\n      var reducers= options.reducers;\n      var index= findTargetIndex.call(emitter, target);\n      var observer;\n\n      if(index===-1){\n        observer= new TargetObserver(emitter, target, options);\n      }else{\n        observer= emitter._observers[index];\n      }\n\n      var keys= ownKeys(events);\n      var len= keys.length;\n      var event;\n      var isSingleReducer= typeof reducers==='function';\n\n      for(var i=0; i<len; i++){\n        event= keys[i];\n        observer.subscribe(\n            event,\n            events[event] || event,\n            isSingleReducer ? reducers : reducers && reducers[event]\n        );\n      }\n    }\n\n    isArray(events)?\n        listen(toObject(events)) :\n        (typeof events==='string'? listen(toObject(events.split(/\\s+/))): listen(events));\n\n    return this;\n  };\n\n  EventEmitter.prototype.stopListeningTo = function (target, event) {\n    var observers = this._observers;\n\n    if(!observers){\n      return false;\n    }\n\n    var i = observers.length;\n    var observer;\n    var matched= false;\n\n    if(target && typeof target!=='object'){\n      throw TypeError('target should be an object');\n    }\n\n    while (i-- > 0) {\n      observer = observers[i];\n      if (!target || observer._target === target) {\n        observer.unsubscribe(event);\n        matched= true;\n      }\n    }\n\n    return matched;\n  };\n\n  // By default EventEmitters will print a warning if more than\n  // 10 listeners are added to it. This is a useful default which\n  // helps finding memory leaks.\n  //\n  // Obviously not all Emitters should be limited to 10. This function allows\n  // that to be increased. Set to zero for unlimited.\n\n  EventEmitter.prototype.delimiter = '.';\n\n  EventEmitter.prototype.setMaxListeners = function(n) {\n    if (n !== undefined) {\n      this._maxListeners = n;\n      if (!this._conf) this._conf = {};\n      this._conf.maxListeners = n;\n    }\n  };\n\n  EventEmitter.prototype.getMaxListeners = function() {\n    return this._maxListeners;\n  };\n\n  EventEmitter.prototype.event = '';\n\n  EventEmitter.prototype.once = function(event, fn, options) {\n    return this._once(event, fn, false, options);\n  };\n\n  EventEmitter.prototype.prependOnceListener = function(event, fn, options) {\n    return this._once(event, fn, true, options);\n  };\n\n  EventEmitter.prototype._once = function(event, fn, prepend, options) {\n    return this._many(event, 1, fn, prepend, options);\n  };\n\n  EventEmitter.prototype.many = function(event, ttl, fn, options) {\n    return this._many(event, ttl, fn, false, options);\n  };\n\n  EventEmitter.prototype.prependMany = function(event, ttl, fn, options) {\n    return this._many(event, ttl, fn, true, options);\n  };\n\n  EventEmitter.prototype._many = function(event, ttl, fn, prepend, options) {\n    var self = this;\n\n    if (typeof fn !== 'function') {\n      throw new Error('many only accepts instances of Function');\n    }\n\n    function listener() {\n      if (--ttl === 0) {\n        self.off(event, listener);\n      }\n      return fn.apply(this, arguments);\n    }\n\n    listener._origin = fn;\n\n    return this._on(event, listener, prepend, options);\n  };\n\n  EventEmitter.prototype.emit = function() {\n    if (!this._events && !this._all) {\n      return false;\n    }\n\n    this._events || init.call(this);\n\n    var type = arguments[0], ns, wildcard= this.wildcard;\n    var args,l,i,j, containsSymbol;\n\n    if (type === 'newListener' && !this._newListener) {\n      if (!this._events.newListener) {\n        return false;\n      }\n    }\n\n    if (wildcard) {\n      ns= type;\n      if(type!=='newListener' && type!=='removeListener'){\n        if (typeof type === 'object') {\n          l = type.length;\n          if (symbolsSupported) {\n            for (i = 0; i < l; i++) {\n              if (typeof type[i] === 'symbol') {\n                containsSymbol = true;\n                break;\n              }\n            }\n          }\n          if (!containsSymbol) {\n            type = type.join(this.delimiter);\n          }\n        }\n      }\n    }\n\n    var al = arguments.length;\n    var handler;\n\n    if (this._all && this._all.length) {\n      handler = this._all.slice();\n\n      for (i = 0, l = handler.length; i < l; i++) {\n        this.event = type;\n        switch (al) {\n        case 1:\n          handler[i].call(this, type);\n          break;\n        case 2:\n          handler[i].call(this, type, arguments[1]);\n          break;\n        case 3:\n          handler[i].call(this, type, arguments[1], arguments[2]);\n          break;\n        default:\n          handler[i].apply(this, arguments);\n        }\n      }\n    }\n\n    if (wildcard) {\n      handler = [];\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0, l);\n    } else {\n      handler = this._events[type];\n      if (typeof handler === 'function') {\n        this.event = type;\n        switch (al) {\n        case 1:\n          handler.call(this);\n          break;\n        case 2:\n          handler.call(this, arguments[1]);\n          break;\n        case 3:\n          handler.call(this, arguments[1], arguments[2]);\n          break;\n        default:\n          args = new Array(al - 1);\n          for (j = 1; j < al; j++) args[j - 1] = arguments[j];\n          handler.apply(this, args);\n        }\n        return true;\n      } else if (handler) {\n        // need to make copy of handlers because list can change in the middle\n        // of emit call\n        handler = handler.slice();\n      }\n    }\n\n    if (handler && handler.length) {\n      if (al > 3) {\n        args = new Array(al - 1);\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\n      }\n      for (i = 0, l = handler.length; i < l; i++) {\n        this.event = type;\n        switch (al) {\n        case 1:\n          handler[i].call(this);\n          break;\n        case 2:\n          handler[i].call(this, arguments[1]);\n          break;\n        case 3:\n          handler[i].call(this, arguments[1], arguments[2]);\n          break;\n        default:\n          handler[i].apply(this, args);\n        }\n      }\n      return true;\n    } else if (!this.ignoreErrors && !this._all && type === 'error') {\n      if (arguments[1] instanceof Error) {\n        throw arguments[1]; // Unhandled 'error' event\n      } else {\n        throw new Error(\"Uncaught, unspecified 'error' event.\");\n      }\n    }\n\n    return !!this._all;\n  };\n\n  EventEmitter.prototype.emitAsync = function() {\n    if (!this._events && !this._all) {\n      return false;\n    }\n\n    this._events || init.call(this);\n\n    var type = arguments[0], wildcard= this.wildcard, ns, containsSymbol;\n    var args,l,i,j;\n\n    if (type === 'newListener' && !this._newListener) {\n        if (!this._events.newListener) { return Promise.resolve([false]); }\n    }\n\n    if (wildcard) {\n      ns= type;\n      if(type!=='newListener' && type!=='removeListener'){\n        if (typeof type === 'object') {\n          l = type.length;\n          if (symbolsSupported) {\n            for (i = 0; i < l; i++) {\n              if (typeof type[i] === 'symbol') {\n                containsSymbol = true;\n                break;\n              }\n            }\n          }\n          if (!containsSymbol) {\n            type = type.join(this.delimiter);\n          }\n        }\n      }\n    }\n\n    var promises= [];\n\n    var al = arguments.length;\n    var handler;\n\n    if (this._all) {\n      for (i = 0, l = this._all.length; i < l; i++) {\n        this.event = type;\n        switch (al) {\n        case 1:\n          promises.push(this._all[i].call(this, type));\n          break;\n        case 2:\n          promises.push(this._all[i].call(this, type, arguments[1]));\n          break;\n        case 3:\n          promises.push(this._all[i].call(this, type, arguments[1], arguments[2]));\n          break;\n        default:\n          promises.push(this._all[i].apply(this, arguments));\n        }\n      }\n    }\n\n    if (wildcard) {\n      handler = [];\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0);\n    } else {\n      handler = this._events[type];\n    }\n\n    if (typeof handler === 'function') {\n      this.event = type;\n      switch (al) {\n      case 1:\n        promises.push(handler.call(this));\n        break;\n      case 2:\n        promises.push(handler.call(this, arguments[1]));\n        break;\n      case 3:\n        promises.push(handler.call(this, arguments[1], arguments[2]));\n        break;\n      default:\n        args = new Array(al - 1);\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\n        promises.push(handler.apply(this, args));\n      }\n    } else if (handler && handler.length) {\n      handler = handler.slice();\n      if (al > 3) {\n        args = new Array(al - 1);\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\n      }\n      for (i = 0, l = handler.length; i < l; i++) {\n        this.event = type;\n        switch (al) {\n        case 1:\n          promises.push(handler[i].call(this));\n          break;\n        case 2:\n          promises.push(handler[i].call(this, arguments[1]));\n          break;\n        case 3:\n          promises.push(handler[i].call(this, arguments[1], arguments[2]));\n          break;\n        default:\n          promises.push(handler[i].apply(this, args));\n        }\n      }\n    } else if (!this.ignoreErrors && !this._all && type === 'error') {\n      if (arguments[1] instanceof Error) {\n        return Promise.reject(arguments[1]); // Unhandled 'error' event\n      } else {\n        return Promise.reject(\"Uncaught, unspecified 'error' event.\");\n      }\n    }\n\n    return Promise.all(promises);\n  };\n\n  EventEmitter.prototype.on = function(type, listener, options) {\n    return this._on(type, listener, false, options);\n  };\n\n  EventEmitter.prototype.prependListener = function(type, listener, options) {\n    return this._on(type, listener, true, options);\n  };\n\n  EventEmitter.prototype.onAny = function(fn) {\n    return this._onAny(fn, false);\n  };\n\n  EventEmitter.prototype.prependAny = function(fn) {\n    return this._onAny(fn, true);\n  };\n\n  EventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n  EventEmitter.prototype._onAny = function(fn, prepend){\n    if (typeof fn !== 'function') {\n      throw new Error('onAny only accepts instances of Function');\n    }\n\n    if (!this._all) {\n      this._all = [];\n    }\n\n    // Add the function to the event listener collection.\n    if(prepend){\n      this._all.unshift(fn);\n    }else{\n      this._all.push(fn);\n    }\n\n    return this;\n  };\n\n  EventEmitter.prototype._on = function(type, listener, prepend, options) {\n    if (typeof type === 'function') {\n      this._onAny(type, listener);\n      return this;\n    }\n\n    if (typeof listener !== 'function') {\n      throw new Error('on only accepts instances of Function');\n    }\n    this._events || init.call(this);\n\n    var returnValue= this, temp;\n\n    if (options !== undefined) {\n      temp = setupListener.call(this, type, listener, options);\n      listener = temp[0];\n      returnValue = temp[1];\n    }\n\n    // To avoid recursion in the case that type == \"newListeners\"! Before\n    // adding it to the listeners, first emit \"newListeners\".\n    if (this._newListener) {\n      this.emit('newListener', type, listener);\n    }\n\n    if (this.wildcard) {\n      growListenerTree.call(this, type, listener, prepend);\n      return returnValue;\n    }\n\n    if (!this._events[type]) {\n      // Optimize the case of one listener. Don't need the extra array object.\n      this._events[type] = listener;\n    } else {\n      if (typeof this._events[type] === 'function') {\n        // Change to array.\n        this._events[type] = [this._events[type]];\n      }\n\n      // If we've already got an array, just add\n      if(prepend){\n        this._events[type].unshift(listener);\n      }else{\n        this._events[type].push(listener);\n      }\n\n      // Check for listener leak\n      if (\n        !this._events[type].warned &&\n        this._maxListeners > 0 &&\n        this._events[type].length > this._maxListeners\n      ) {\n        this._events[type].warned = true;\n        logPossibleMemoryLeak.call(this, this._events[type].length, type);\n      }\n    }\n\n    return returnValue;\n  };\n\n  EventEmitter.prototype.off = function(type, listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('removeListener only takes instances of Function');\n    }\n\n    var handlers,leafs=[];\n\n    if(this.wildcard) {\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n      leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);\n      if(!leafs) return this;\n    } else {\n      // does not use listeners(), so no side effect of creating _events[type]\n      if (!this._events[type]) return this;\n      handlers = this._events[type];\n      leafs.push({_listeners:handlers});\n    }\n\n    for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {\n      var leaf = leafs[iLeaf];\n      handlers = leaf._listeners;\n      if (isArray(handlers)) {\n\n        var position = -1;\n\n        for (var i = 0, length = handlers.length; i < length; i++) {\n          if (handlers[i] === listener ||\n            (handlers[i].listener && handlers[i].listener === listener) ||\n            (handlers[i]._origin && handlers[i]._origin === listener)) {\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0) {\n          continue;\n        }\n\n        if(this.wildcard) {\n          leaf._listeners.splice(position, 1);\n        }\n        else {\n          this._events[type].splice(position, 1);\n        }\n\n        if (handlers.length === 0) {\n          if(this.wildcard) {\n            delete leaf._listeners;\n          }\n          else {\n            delete this._events[type];\n          }\n        }\n        if (this._removeListener)\n          this.emit(\"removeListener\", type, listener);\n\n        return this;\n      }\n      else if (handlers === listener ||\n        (handlers.listener && handlers.listener === listener) ||\n        (handlers._origin && handlers._origin === listener)) {\n        if(this.wildcard) {\n          delete leaf._listeners;\n        }\n        else {\n          delete this._events[type];\n        }\n        if (this._removeListener)\n          this.emit(\"removeListener\", type, listener);\n      }\n    }\n\n    this.listenerTree && recursivelyGarbageCollect(this.listenerTree);\n\n    return this;\n  };\n\n  EventEmitter.prototype.offAny = function(fn) {\n    var i = 0, l = 0, fns;\n    if (fn && this._all && this._all.length > 0) {\n      fns = this._all;\n      for(i = 0, l = fns.length; i < l; i++) {\n        if(fn === fns[i]) {\n          fns.splice(i, 1);\n          if (this._removeListener)\n            this.emit(\"removeListenerAny\", fn);\n          return this;\n        }\n      }\n    } else {\n      fns = this._all;\n      if (this._removeListener) {\n        for(i = 0, l = fns.length; i < l; i++)\n          this.emit(\"removeListenerAny\", fns[i]);\n      }\n      this._all = [];\n    }\n    return this;\n  };\n\n  EventEmitter.prototype.removeListener = EventEmitter.prototype.off;\n\n  EventEmitter.prototype.removeAllListeners = function (type) {\n    if (type === undefined) {\n      !this._events || init.call(this);\n      return this;\n    }\n\n    if (this.wildcard) {\n      var leafs = searchListenerTree.call(this, null, type, this.listenerTree, 0), leaf, i;\n      if (!leafs) return this;\n      for (i = 0; i < leafs.length; i++) {\n        leaf = leafs[i];\n        leaf._listeners = null;\n      }\n      this.listenerTree && recursivelyGarbageCollect(this.listenerTree);\n    } else if (this._events) {\n      this._events[type] = null;\n    }\n    return this;\n  };\n\n  EventEmitter.prototype.listeners = function (type) {\n    var _events = this._events;\n    var keys, listeners, allListeners;\n    var i;\n    var listenerTree;\n\n    if (type === undefined) {\n      if (this.wildcard) {\n        throw Error('event name required for wildcard emitter');\n      }\n\n      if (!_events) {\n        return [];\n      }\n\n      keys = ownKeys(_events);\n      i = keys.length;\n      allListeners = [];\n      while (i-- > 0) {\n        listeners = _events[keys[i]];\n        if (typeof listeners === 'function') {\n          allListeners.push(listeners);\n        } else {\n          allListeners.push.apply(allListeners, listeners);\n        }\n      }\n      return allListeners;\n    } else {\n      if (this.wildcard) {\n        listenerTree= this.listenerTree;\n        if(!listenerTree) return [];\n        var handlers = [];\n        var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n        searchListenerTree.call(this, handlers, ns, listenerTree, 0);\n        return handlers;\n      }\n\n      if (!_events) {\n        return [];\n      }\n\n      listeners = _events[type];\n\n      if (!listeners) {\n        return [];\n      }\n      return typeof listeners === 'function' ? [listeners] : listeners;\n    }\n  };\n\n  EventEmitter.prototype.eventNames = function(nsAsArray){\n    var _events= this._events;\n    return this.wildcard? collectTreeEvents.call(this, this.listenerTree, [], null, nsAsArray) : (_events? ownKeys(_events) : []);\n  };\n\n  EventEmitter.prototype.listenerCount = function(type) {\n    return this.listeners(type).length;\n  };\n\n  EventEmitter.prototype.hasListeners = function (type) {\n    if (this.wildcard) {\n      var handlers = [];\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n      searchListenerTree.call(this, handlers, ns, this.listenerTree, 0);\n      return handlers.length > 0;\n    }\n\n    var _events = this._events;\n    var _all = this._all;\n\n    return !!(_all && _all.length || _events && (type === undefined ? ownKeys(_events).length : _events[type]));\n  };\n\n  EventEmitter.prototype.listenersAny = function() {\n\n    if(this._all) {\n      return this._all;\n    }\n    else {\n      return [];\n    }\n\n  };\n\n  EventEmitter.prototype.waitFor = function (event, options) {\n    var self = this;\n    var type = typeof options;\n    if (type === 'number') {\n      options = {timeout: options};\n    } else if (type === 'function') {\n      options = {filter: options};\n    }\n\n    options= resolveOptions(options, {\n      timeout: 0,\n      filter: undefined,\n      handleError: false,\n      Promise: Promise,\n      overload: false\n    }, {\n      filter: functionReducer,\n      Promise: constructorReducer\n    });\n\n    return makeCancelablePromise(options.Promise, function (resolve, reject, onCancel) {\n      function listener() {\n        var filter= options.filter;\n        if (filter && !filter.apply(self, arguments)) {\n          return;\n        }\n        self.off(event, listener);\n        if (options.handleError) {\n          var err = arguments[0];\n          err ? reject(err) : resolve(toArray.apply(null, arguments).slice(1));\n        } else {\n          resolve(toArray.apply(null, arguments));\n        }\n      }\n\n      onCancel(function(){\n        self.off(event, listener);\n      });\n\n      self._on(event, listener, false);\n    }, {\n      timeout: options.timeout,\n      overload: options.overload\n    })\n  };\n\n  function once(emitter, name, options) {\n    options= resolveOptions(options, {\n      Promise: Promise,\n      timeout: 0,\n      overload: false\n    }, {\n      Promise: constructorReducer\n    });\n\n    var _Promise= options.Promise;\n\n    return makeCancelablePromise(_Promise, function(resolve, reject, onCancel){\n      var handler;\n      if (typeof emitter.addEventListener === 'function') {\n        handler=  function () {\n          resolve(toArray.apply(null, arguments));\n        };\n\n        onCancel(function(){\n          emitter.removeEventListener(name, handler);\n        });\n\n        emitter.addEventListener(\n            name,\n            handler,\n            {once: true}\n        );\n        return;\n      }\n\n      var eventListener = function(){\n        errorListener && emitter.removeListener('error', errorListener);\n        resolve(toArray.apply(null, arguments));\n      };\n\n      var errorListener;\n\n      if (name !== 'error') {\n        errorListener = function (err){\n          emitter.removeListener(name, eventListener);\n          reject(err);\n        };\n\n        emitter.once('error', errorListener);\n      }\n\n      onCancel(function(){\n        errorListener && emitter.removeListener('error', errorListener);\n        emitter.removeListener(name, eventListener);\n      });\n\n      emitter.once(name, eventListener);\n    }, {\n      timeout: options.timeout,\n      overload: options.overload\n    });\n  }\n\n  var prototype= EventEmitter.prototype;\n\n  Object.defineProperties(EventEmitter, {\n    defaultMaxListeners: {\n      get: function () {\n        return prototype._maxListeners;\n      },\n      set: function (n) {\n        if (typeof n !== 'number' || n < 0 || Number.isNaN(n)) {\n          throw TypeError('n must be a non-negative number')\n        }\n        prototype._maxListeners = n;\n      },\n      enumerable: true\n    },\n    once: {\n      value: once,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  Object.defineProperties(prototype, {\n      _maxListeners: {\n          value: defaultMaxListeners,\n          writable: true,\n          configurable: true\n      },\n      _observers: {value: null, writable: true, configurable: true}\n  });\n\n  if (true) {\n     // AMD. Register as an anonymous module.\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {\n      return EventEmitter;\n    }).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var _global; }\n}();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMi9saWIvZXZlbnRlbWl0dGVyMi5qcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxPQUFPLHFCQUFxQixPQUFPO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYyxPQUFPLG9CQUFvQixPQUFPO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxPQUFPO0FBQ2IsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDBDQUEwQzs7QUFFMUM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixZQUFZO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZOztBQUVaO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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LE9BQU87QUFDUCxtQkFBbUI7QUFDbkIsR0FBRzs7QUFFSCxNQUFNLElBQTBDO0FBQ2hEO0FBQ0EsSUFBSSxtQ0FBTztBQUNYO0FBQ0EsS0FBSztBQUFBLGtHQUFDO0FBQ04sSUFBSSxLQUFLLGdCQVFOO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMi9saWIvZXZlbnRlbWl0dGVyMi5qcz9mMTQ4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogRXZlbnRFbWl0dGVyMlxuICogaHR0cHM6Ly9naXRodWIuY29tL2hpajFueC9FdmVudEVtaXR0ZXIyXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEzIGhpajFueFxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICovXG47IWZ1bmN0aW9uKHVuZGVmaW5lZCkge1xuICB2YXIgaGFzT3duUHJvcGVydHk9IE9iamVjdC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5ID8gQXJyYXkuaXNBcnJheSA6IGZ1bmN0aW9uIF9pc0FycmF5KG9iaikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICB9O1xuICB2YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuICB2YXIgbmV4dFRpY2tTdXBwb3J0ZWQ9IHR5cGVvZiBwcm9jZXNzPT0nb2JqZWN0JyAmJiB0eXBlb2YgcHJvY2Vzcy5uZXh0VGljaz09J2Z1bmN0aW9uJztcbiAgdmFyIHN5bWJvbHNTdXBwb3J0ZWQ9IHR5cGVvZiBTeW1ib2w9PT0nZnVuY3Rpb24nO1xuICB2YXIgcmVmbGVjdFN1cHBvcnRlZD0gdHlwZW9mIFJlZmxlY3QgPT09ICdvYmplY3QnO1xuICB2YXIgc2V0SW1tZWRpYXRlU3VwcG9ydGVkPSB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nO1xuICB2YXIgX3NldEltbWVkaWF0ZT0gc2V0SW1tZWRpYXRlU3VwcG9ydGVkID8gc2V0SW1tZWRpYXRlIDogc2V0VGltZW91dDtcbiAgdmFyIG93bktleXM9IHN5bWJvbHNTdXBwb3J0ZWQ/IChyZWZsZWN0U3VwcG9ydGVkICYmIHR5cGVvZiBSZWZsZWN0Lm93bktleXM9PT0nZnVuY3Rpb24nPyBSZWZsZWN0Lm93bktleXMgOiBmdW5jdGlvbihvYmope1xuICAgIHZhciBhcnI9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaik7XG4gICAgYXJyLnB1c2guYXBwbHkoYXJyLCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iaikpO1xuICAgIHJldHVybiBhcnI7XG4gIH0pIDogT2JqZWN0LmtleXM7XG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICBpZiAodGhpcy5fY29uZikge1xuICAgICAgY29uZmlndXJlLmNhbGwodGhpcywgdGhpcy5fY29uZik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29uZmlndXJlKGNvbmYpIHtcbiAgICBpZiAoY29uZikge1xuICAgICAgdGhpcy5fY29uZiA9IGNvbmY7XG5cbiAgICAgIGNvbmYuZGVsaW1pdGVyICYmICh0aGlzLmRlbGltaXRlciA9IGNvbmYuZGVsaW1pdGVyKTtcblxuICAgICAgaWYoY29uZi5tYXhMaXN0ZW5lcnMhPT11bmRlZmluZWQpe1xuICAgICAgICAgIHRoaXMuX21heExpc3RlbmVycz0gY29uZi5tYXhMaXN0ZW5lcnM7XG4gICAgICB9XG5cbiAgICAgIGNvbmYud2lsZGNhcmQgJiYgKHRoaXMud2lsZGNhcmQgPSBjb25mLndpbGRjYXJkKTtcbiAgICAgIGNvbmYubmV3TGlzdGVuZXIgJiYgKHRoaXMuX25ld0xpc3RlbmVyID0gY29uZi5uZXdMaXN0ZW5lcik7XG4gICAgICBjb25mLnJlbW92ZUxpc3RlbmVyICYmICh0aGlzLl9yZW1vdmVMaXN0ZW5lciA9IGNvbmYucmVtb3ZlTGlzdGVuZXIpO1xuICAgICAgY29uZi52ZXJib3NlTWVtb3J5TGVhayAmJiAodGhpcy52ZXJib3NlTWVtb3J5TGVhayA9IGNvbmYudmVyYm9zZU1lbW9yeUxlYWspO1xuICAgICAgY29uZi5pZ25vcmVFcnJvcnMgJiYgKHRoaXMuaWdub3JlRXJyb3JzID0gY29uZi5pZ25vcmVFcnJvcnMpO1xuXG4gICAgICBpZiAodGhpcy53aWxkY2FyZCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVyVHJlZSA9IHt9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGxvZ1Bvc3NpYmxlTWVtb3J5TGVhayhjb3VudCwgZXZlbnROYW1lKSB7XG4gICAgdmFyIGVycm9yTXNnID0gJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAnbGVhayBkZXRlY3RlZC4gJyArIGNvdW50ICsgJyBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJztcblxuICAgIGlmKHRoaXMudmVyYm9zZU1lbW9yeUxlYWspe1xuICAgICAgZXJyb3JNc2cgKz0gJyBFdmVudCBuYW1lOiAnICsgZXZlbnROYW1lICsgJy4nO1xuICAgIH1cblxuICAgIGlmKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmVtaXRXYXJuaW5nKXtcbiAgICAgIHZhciBlID0gbmV3IEVycm9yKGVycm9yTXNnKTtcbiAgICAgIGUubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgZS5lbWl0dGVyID0gdGhpcztcbiAgICAgIGUuY291bnQgPSBjb3VudDtcbiAgICAgIHByb2Nlc3MuZW1pdFdhcm5pbmcoZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JNc2cpO1xuXG4gICAgICBpZiAoY29uc29sZS50cmFjZSl7XG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgdG9BcnJheSA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgdmFyIG4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHN3aXRjaCAobikge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gW107XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiBbYV07XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBbYSwgYl07XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB2YXIgYXJyID0gbmV3IEFycmF5KG4pO1xuICAgICAgICB3aGlsZSAobi0tKSB7XG4gICAgICAgICAgYXJyW25dID0gYXJndW1lbnRzW25dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIHRvT2JqZWN0KGtleXMsIHZhbHVlcykge1xuICAgIHZhciBvYmogPSB7fTtcbiAgICB2YXIga2V5O1xuICAgIHZhciBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgdmFsdWVzQ291bnQgPSB2YWx1ZXMgPyB2YWx1ZXMubGVuZ3RoIDogMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgb2JqW2tleV0gPSBpIDwgdmFsdWVzQ291bnQgPyB2YWx1ZXNbaV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBmdW5jdGlvbiBUYXJnZXRPYnNlcnZlcihlbWl0dGVyLCB0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLl9lbWl0dGVyID0gZW1pdHRlcjtcbiAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XG4gICAgdGhpcy5fbGlzdGVuZXJzID0ge307XG4gICAgdGhpcy5fbGlzdGVuZXJzQ291bnQgPSAwO1xuXG4gICAgdmFyIG9uLCBvZmY7XG5cbiAgICBpZiAob3B0aW9ucy5vbiB8fCBvcHRpb25zLm9mZikge1xuICAgICAgb24gPSBvcHRpb25zLm9uO1xuICAgICAgb2ZmID0gb3B0aW9ucy5vZmY7XG4gICAgfVxuXG4gICAgaWYgKHRhcmdldC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICBvbiA9IHRhcmdldC5hZGRFdmVudExpc3RlbmVyO1xuICAgICAgb2ZmID0gdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXI7XG4gICAgfSBlbHNlIGlmICh0YXJnZXQuYWRkTGlzdGVuZXIpIHtcbiAgICAgIG9uID0gdGFyZ2V0LmFkZExpc3RlbmVyO1xuICAgICAgb2ZmID0gdGFyZ2V0LnJlbW92ZUxpc3RlbmVyO1xuICAgIH0gZWxzZSBpZiAodGFyZ2V0Lm9uKSB7XG4gICAgICBvbiA9IHRhcmdldC5vbjtcbiAgICAgIG9mZiA9IHRhcmdldC5vZmY7XG4gICAgfVxuXG4gICAgaWYgKCFvbiAmJiAhb2ZmKSB7XG4gICAgICB0aHJvdyBFcnJvcigndGFyZ2V0IGRvZXMgbm90IGltcGxlbWVudCBhbnkga25vd24gZXZlbnQgQVBJJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCdvbiBtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvZmYgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcignb2ZmIG1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICB0aGlzLl9vbiA9IG9uO1xuICAgIHRoaXMuX29mZiA9IG9mZjtcblxuICAgIHZhciBfb2JzZXJ2ZXJzPSBlbWl0dGVyLl9vYnNlcnZlcnM7XG4gICAgaWYoX29ic2VydmVycyl7XG4gICAgICBfb2JzZXJ2ZXJzLnB1c2godGhpcyk7XG4gICAgfWVsc2V7XG4gICAgICBlbWl0dGVyLl9vYnNlcnZlcnM9IFt0aGlzXTtcbiAgICB9XG4gIH1cblxuICBPYmplY3QuYXNzaWduKFRhcmdldE9ic2VydmVyLnByb3RvdHlwZSwge1xuICAgIHN1YnNjcmliZTogZnVuY3Rpb24oZXZlbnQsIGxvY2FsRXZlbnQsIHJlZHVjZXIpe1xuICAgICAgdmFyIG9ic2VydmVyPSB0aGlzO1xuICAgICAgdmFyIHRhcmdldD0gdGhpcy5fdGFyZ2V0O1xuICAgICAgdmFyIGVtaXR0ZXI9IHRoaXMuX2VtaXR0ZXI7XG4gICAgICB2YXIgbGlzdGVuZXJzPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgICB2YXIgaGFuZGxlcj0gZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIGFyZ3M9IHRvQXJyYXkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgdmFyIGV2ZW50T2JqPSB7XG4gICAgICAgICAgZGF0YTogYXJncyxcbiAgICAgICAgICBuYW1lOiBsb2NhbEV2ZW50LFxuICAgICAgICAgIG9yaWdpbmFsOiBldmVudFxuICAgICAgICB9O1xuICAgICAgICBpZihyZWR1Y2VyKXtcbiAgICAgICAgICB2YXIgcmVzdWx0PSByZWR1Y2VyLmNhbGwodGFyZ2V0LCBldmVudE9iaik7XG4gICAgICAgICAgaWYocmVzdWx0IT09ZmFsc2Upe1xuICAgICAgICAgICAgZW1pdHRlci5lbWl0LmFwcGx5KGVtaXR0ZXIsIFtldmVudE9iai5uYW1lXS5jb25jYXQoYXJncykpXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbWl0dGVyLmVtaXQuYXBwbHkoZW1pdHRlciwgW2xvY2FsRXZlbnRdLmNvbmNhdChhcmdzKSk7XG4gICAgICB9O1xuXG5cbiAgICAgIGlmKGxpc3RlbmVyc1tldmVudF0pe1xuICAgICAgICB0aHJvdyBFcnJvcignRXZlbnQgXFwnJyArIGV2ZW50ICsgJ1xcJyBpcyBhbHJlYWR5IGxpc3RlbmluZycpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9saXN0ZW5lcnNDb3VudCsrO1xuXG4gICAgICBpZihlbWl0dGVyLl9uZXdMaXN0ZW5lciAmJiBlbWl0dGVyLl9yZW1vdmVMaXN0ZW5lciAmJiAhb2JzZXJ2ZXIuX29uTmV3TGlzdGVuZXIpe1xuXG4gICAgICAgIHRoaXMuX29uTmV3TGlzdGVuZXIgPSBmdW5jdGlvbiAoX2V2ZW50KSB7XG4gICAgICAgICAgaWYgKF9ldmVudCA9PT0gbG9jYWxFdmVudCAmJiBsaXN0ZW5lcnNbZXZlbnRdID09PSBudWxsKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnNbZXZlbnRdID0gaGFuZGxlcjtcbiAgICAgICAgICAgIG9ic2VydmVyLl9vbi5jYWxsKHRhcmdldCwgZXZlbnQsIGhhbmRsZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBlbWl0dGVyLm9uKCduZXdMaXN0ZW5lcicsIHRoaXMuX29uTmV3TGlzdGVuZXIpO1xuXG4gICAgICAgIHRoaXMuX29uUmVtb3ZlTGlzdGVuZXI9IGZ1bmN0aW9uKF9ldmVudCl7XG4gICAgICAgICAgaWYoX2V2ZW50ID09PSBsb2NhbEV2ZW50ICYmICFlbWl0dGVyLmhhc0xpc3RlbmVycyhfZXZlbnQpICYmIGxpc3RlbmVyc1tldmVudF0pe1xuICAgICAgICAgICAgbGlzdGVuZXJzW2V2ZW50XT0gbnVsbDtcbiAgICAgICAgICAgIG9ic2VydmVyLl9vZmYuY2FsbCh0YXJnZXQsIGV2ZW50LCBoYW5kbGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgbGlzdGVuZXJzW2V2ZW50XT0gbnVsbDtcblxuICAgICAgICBlbWl0dGVyLm9uKCdyZW1vdmVMaXN0ZW5lcicsIHRoaXMuX29uUmVtb3ZlTGlzdGVuZXIpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGxpc3RlbmVyc1tldmVudF09IGhhbmRsZXI7XG4gICAgICAgIG9ic2VydmVyLl9vbi5jYWxsKHRhcmdldCwgZXZlbnQsIGhhbmRsZXIpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgdmFyIG9ic2VydmVyPSB0aGlzO1xuICAgICAgdmFyIGxpc3RlbmVycz0gdGhpcy5fbGlzdGVuZXJzO1xuICAgICAgdmFyIGVtaXR0ZXI9IHRoaXMuX2VtaXR0ZXI7XG4gICAgICB2YXIgaGFuZGxlcjtcbiAgICAgIHZhciBldmVudHM7XG4gICAgICB2YXIgb2ZmPSB0aGlzLl9vZmY7XG4gICAgICB2YXIgdGFyZ2V0PSB0aGlzLl90YXJnZXQ7XG4gICAgICB2YXIgaTtcblxuICAgICAgaWYoZXZlbnQgJiYgdHlwZW9mIGV2ZW50IT09J3N0cmluZycpe1xuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ2V2ZW50IG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2xlYXJSZWZzKCl7XG4gICAgICAgIGlmKG9ic2VydmVyLl9vbk5ld0xpc3RlbmVyKXtcbiAgICAgICAgICBlbWl0dGVyLm9mZignbmV3TGlzdGVuZXInLCBvYnNlcnZlci5fb25OZXdMaXN0ZW5lcik7XG4gICAgICAgICAgZW1pdHRlci5vZmYoJ3JlbW92ZUxpc3RlbmVyJywgb2JzZXJ2ZXIuX29uUmVtb3ZlTGlzdGVuZXIpO1xuICAgICAgICAgIG9ic2VydmVyLl9vbk5ld0xpc3RlbmVyPSBudWxsO1xuICAgICAgICAgIG9ic2VydmVyLl9vblJlbW92ZUxpc3RlbmVyPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleD0gZmluZFRhcmdldEluZGV4LmNhbGwoZW1pdHRlciwgb2JzZXJ2ZXIpO1xuICAgICAgICBlbWl0dGVyLl9vYnNlcnZlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cblxuICAgICAgaWYoZXZlbnQpe1xuICAgICAgICBoYW5kbGVyPSBsaXN0ZW5lcnNbZXZlbnRdO1xuICAgICAgICBpZighaGFuZGxlcikgcmV0dXJuO1xuICAgICAgICBvZmYuY2FsbCh0YXJnZXQsIGV2ZW50LCBoYW5kbGVyKTtcbiAgICAgICAgZGVsZXRlIGxpc3RlbmVyc1tldmVudF07XG4gICAgICAgIGlmKCEtLXRoaXMuX2xpc3RlbmVyc0NvdW50KXtcbiAgICAgICAgICBjbGVhclJlZnMoKTtcbiAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIGV2ZW50cz0gb3duS2V5cyhsaXN0ZW5lcnMpO1xuICAgICAgICBpPSBldmVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZShpLS0+MCl7XG4gICAgICAgICAgZXZlbnQ9IGV2ZW50c1tpXTtcbiAgICAgICAgICBvZmYuY2FsbCh0YXJnZXQsIGV2ZW50LCBsaXN0ZW5lcnNbZXZlbnRdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9saXN0ZW5lcnM9IHt9O1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnNDb3VudD0gMDtcbiAgICAgICAgY2xlYXJSZWZzKCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiByZXNvbHZlT3B0aW9ucyhvcHRpb25zLCBzY2hlbWEsIHJlZHVjZXJzLCBhbGxvd1Vua25vd24pIHtcbiAgICB2YXIgY29tcHV0ZWRPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgc2NoZW1hKTtcblxuICAgIGlmICghb3B0aW9ucykgcmV0dXJuIGNvbXB1dGVkT3B0aW9ucztcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcignb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCcpXG4gICAgfVxuXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIG9wdGlvbiwgdmFsdWU7XG4gICAgdmFyIHJlZHVjZXI7XG5cbiAgICBmdW5jdGlvbiByZWplY3QocmVhc29uKSB7XG4gICAgICB0aHJvdyBFcnJvcignSW52YWxpZCBcIicgKyBvcHRpb24gKyAnXCIgb3B0aW9uIHZhbHVlJyArIChyZWFzb24gPyAnLiBSZWFzb246ICcgKyByZWFzb24gOiAnJykpXG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgb3B0aW9uID0ga2V5c1tpXTtcbiAgICAgIGlmICghYWxsb3dVbmtub3duICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKHNjaGVtYSwgb3B0aW9uKSkge1xuICAgICAgICB0aHJvdyBFcnJvcignVW5rbm93biBcIicgKyBvcHRpb24gKyAnXCIgb3B0aW9uJyk7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IG9wdGlvbnNbb3B0aW9uXTtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlZHVjZXIgPSByZWR1Y2Vyc1tvcHRpb25dO1xuICAgICAgICBjb21wdXRlZE9wdGlvbnNbb3B0aW9uXSA9IHJlZHVjZXIgPyByZWR1Y2VyKHZhbHVlLCByZWplY3QpIDogdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb21wdXRlZE9wdGlvbnM7XG4gIH1cblxuICBmdW5jdGlvbiBjb25zdHJ1Y3RvclJlZHVjZXIodmFsdWUsIHJlamVjdCkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicgfHwgIXZhbHVlLmhhc093blByb3BlcnR5KCdwcm90b3R5cGUnKSkge1xuICAgICAgcmVqZWN0KCd2YWx1ZSBtdXN0IGJlIGEgY29uc3RydWN0b3InKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFrZVR5cGVSZWR1Y2VyKHR5cGVzKSB7XG4gICAgdmFyIG1lc3NhZ2U9ICd2YWx1ZSBtdXN0IGJlIHR5cGUgb2YgJyArIHR5cGVzLmpvaW4oJ3wnKTtcbiAgICB2YXIgbGVuPSB0eXBlcy5sZW5ndGg7XG4gICAgdmFyIGZpcnN0VHlwZT0gdHlwZXNbMF07XG4gICAgdmFyIHNlY29uZFR5cGU9IHR5cGVzWzFdO1xuXG4gICAgaWYgKGxlbiA9PT0gMSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2LCByZWplY3QpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2ID09PSBmaXJzdFR5cGUpIHtcbiAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgfVxuICAgICAgICByZWplY3QobWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGxlbiA9PT0gMikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2LCByZWplY3QpIHtcbiAgICAgICAgdmFyIGtpbmQ9IHR5cGVvZiB2O1xuICAgICAgICBpZiAoa2luZCA9PT0gZmlyc3RUeXBlIHx8IGtpbmQgPT09IHNlY29uZFR5cGUpIHJldHVybiB2O1xuICAgICAgICByZWplY3QobWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2LCByZWplY3QpIHtcbiAgICAgIHZhciBraW5kID0gdHlwZW9mIHY7XG4gICAgICB2YXIgaSA9IGxlbjtcbiAgICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICAgIGlmIChraW5kID09PSB0eXBlc1tpXSkgcmV0dXJuIHY7XG4gICAgICB9XG4gICAgICByZWplY3QobWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGZ1bmN0aW9uUmVkdWNlcj0gbWFrZVR5cGVSZWR1Y2VyKFsnZnVuY3Rpb24nXSk7XG5cbiAgdmFyIG9iamVjdEZ1bmN0aW9uUmVkdWNlcj0gbWFrZVR5cGVSZWR1Y2VyKFsnb2JqZWN0JywgJ2Z1bmN0aW9uJ10pO1xuXG4gIGZ1bmN0aW9uIG1ha2VDYW5jZWxhYmxlUHJvbWlzZShQcm9taXNlLCBleGVjdXRvciwgb3B0aW9ucykge1xuICAgIHZhciBpc0NhbmNlbGFibGU7XG4gICAgdmFyIGNhbGxiYWNrcztcbiAgICB2YXIgdGltZXI9IDA7XG4gICAgdmFyIHN1YnNjcmlwdGlvbkNsb3NlZDtcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCwgb25DYW5jZWwpIHtcbiAgICAgIG9wdGlvbnM9IHJlc29sdmVPcHRpb25zKG9wdGlvbnMsIHtcbiAgICAgICAgdGltZW91dDogMCxcbiAgICAgICAgb3ZlcmxvYWQ6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIHRpbWVvdXQ6IGZ1bmN0aW9uKHZhbHVlLCByZWplY3Qpe1xuICAgICAgICAgIHZhbHVlKj0gMTtcbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJyB8fCB2YWx1ZSA8IDAgfHwgIU51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJlamVjdCgndGltZW91dCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlzQ2FuY2VsYWJsZSA9ICFvcHRpb25zLm92ZXJsb2FkICYmIHR5cGVvZiBQcm9taXNlLnByb3RvdHlwZS5jYW5jZWwgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9uQ2FuY2VsID09PSAnZnVuY3Rpb24nO1xuXG4gICAgICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAgICAgY2FsbGJhY2tzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZXIpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgIHRpbWVyID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgX3Jlc29sdmU9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBfcmVqZWN0PSBmdW5jdGlvbihlcnIpe1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfTtcblxuICAgICAgaWYgKGlzQ2FuY2VsYWJsZSkge1xuICAgICAgICBleGVjdXRvcihfcmVzb2x2ZSwgX3JlamVjdCwgb25DYW5jZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2tzID0gW2Z1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgICAgX3JlamVjdChyZWFzb24gfHwgRXJyb3IoJ2NhbmNlbGVkJykpO1xuICAgICAgICB9XTtcbiAgICAgICAgZXhlY3V0b3IoX3Jlc29sdmUsIF9yZWplY3QsIGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgIGlmIChzdWJzY3JpcHRpb25DbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdVbmFibGUgdG8gc3Vic2NyaWJlIG9uIGNhbmNlbCBldmVudCBhc3luY2hyb25vdXNseScpXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcignb25DYW5jZWwgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKGNiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHN1YnNjcmlwdGlvbkNsb3NlZD0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMudGltZW91dCA+IDApIHtcbiAgICAgICAgdGltZXI9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICB2YXIgcmVhc29uPSBFcnJvcigndGltZW91dCcpO1xuICAgICAgICAgIHJlYXNvbi5jb2RlID0gJ0VUSU1FRE9VVCdcbiAgICAgICAgICB0aW1lcj0gMDtcbiAgICAgICAgICBwcm9taXNlLmNhbmNlbChyZWFzb24pO1xuICAgICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgICB9LCBvcHRpb25zLnRpbWVvdXQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCFpc0NhbmNlbGFibGUpIHtcbiAgICAgIHByb21pc2UuY2FuY2VsID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICBpZiAoIWNhbGxiYWNrcykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuZ3RoID0gY2FsbGJhY2tzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNhbGxiYWNrc1tpXShyZWFzb24pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGludGVybmFsIGNhbGxiYWNrIHRvIHJlamVjdCB0aGUgcHJvbWlzZVxuICAgICAgICBjYWxsYmFja3NbMF0ocmVhc29uKTtcbiAgICAgICAgY2FsbGJhY2tzID0gbnVsbDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kVGFyZ2V0SW5kZXgob2JzZXJ2ZXIpIHtcbiAgICB2YXIgb2JzZXJ2ZXJzID0gdGhpcy5fb2JzZXJ2ZXJzO1xuICAgIGlmKCFvYnNlcnZlcnMpe1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICB2YXIgbGVuID0gb2JzZXJ2ZXJzLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAob2JzZXJ2ZXJzW2ldLl90YXJnZXQgPT09IG9ic2VydmVyKSByZXR1cm4gaTtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLy8gQXR0ZW50aW9uLCBmdW5jdGlvbiByZXR1cm4gdHlwZSBub3cgaXMgYXJyYXksIGFsd2F5cyAhXG4gIC8vIEl0IGhhcyB6ZXJvIGVsZW1lbnRzIGlmIG5vIGFueSBtYXRjaGVzIGZvdW5kIGFuZCBvbmUgb3IgbW9yZVxuICAvLyBlbGVtZW50cyAobGVhZnMpIGlmIHRoZXJlIGFyZSBtYXRjaGVzXG4gIC8vXG4gIGZ1bmN0aW9uIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZSwgaSwgdHlwZUxlbmd0aCkge1xuICAgIGlmICghdHJlZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGkgPT09IDApIHtcbiAgICAgIHZhciBraW5kID0gdHlwZW9mIHR5cGU7XG4gICAgICBpZiAoa2luZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIG5zLCBuLCBsID0gMCwgaiA9IDAsIGRlbGltaXRlciA9IHRoaXMuZGVsaW1pdGVyLCBkbCA9IGRlbGltaXRlci5sZW5ndGg7XG4gICAgICAgIGlmICgobiA9IHR5cGUuaW5kZXhPZihkZWxpbWl0ZXIpKSAhPT0gLTEpIHtcbiAgICAgICAgICBucyA9IG5ldyBBcnJheSg1KTtcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBuc1tsKytdID0gdHlwZS5zbGljZShqLCBuKTtcbiAgICAgICAgICAgIGogPSBuICsgZGw7XG4gICAgICAgICAgfSB3aGlsZSAoKG4gPSB0eXBlLmluZGV4T2YoZGVsaW1pdGVyLCBqKSkgIT09IC0xKTtcblxuICAgICAgICAgIG5zW2wrK10gPSB0eXBlLnNsaWNlKGopO1xuICAgICAgICAgIHR5cGUgPSBucztcbiAgICAgICAgICB0eXBlTGVuZ3RoID0gbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0eXBlID0gW3R5cGVdO1xuICAgICAgICAgIHR5cGVMZW5ndGggPSAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGtpbmQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHR5cGVMZW5ndGggPSB0eXBlLmxlbmd0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHR5cGUgPSBbdHlwZV07XG4gICAgICAgIHR5cGVMZW5ndGggPSAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsaXN0ZW5lcnM9IG51bGwsIGJyYW5jaCwgeFRyZWUsIHh4VHJlZSwgaXNvbGF0ZWRCcmFuY2gsIGVuZFJlYWNoZWQsIGN1cnJlbnRUeXBlID0gdHlwZVtpXSxcbiAgICAgICAgbmV4dFR5cGUgPSB0eXBlW2kgKyAxXSwgYnJhbmNoZXMsIF9saXN0ZW5lcnM7XG5cbiAgICBpZiAoaSA9PT0gdHlwZUxlbmd0aCkge1xuICAgICAgLy9cbiAgICAgIC8vIElmIGF0IHRoZSBlbmQgb2YgdGhlIGV2ZW50KHMpIGxpc3QgYW5kIHRoZSB0cmVlIGhhcyBsaXN0ZW5lcnNcbiAgICAgIC8vIGludm9rZSB0aG9zZSBsaXN0ZW5lcnMuXG4gICAgICAvL1xuXG4gICAgICBpZih0cmVlLl9saXN0ZW5lcnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0cmVlLl9saXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBoYW5kbGVycyAmJiBoYW5kbGVycy5wdXNoKHRyZWUuX2xpc3RlbmVycyk7XG4gICAgICAgICAgbGlzdGVuZXJzID0gW3RyZWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhhbmRsZXJzICYmIGhhbmRsZXJzLnB1c2guYXBwbHkoaGFuZGxlcnMsIHRyZWUuX2xpc3RlbmVycyk7XG4gICAgICAgICAgbGlzdGVuZXJzID0gW3RyZWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcblxuICAgICAgaWYgKGN1cnJlbnRUeXBlID09PSAnKicpIHtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgdGhlIGV2ZW50IGVtaXR0ZWQgaXMgJyonIGF0IHRoaXMgcGFydFxuICAgICAgICAvLyBvciB0aGVyZSBpcyBhIGNvbmNyZXRlIG1hdGNoIGF0IHRoaXMgcGF0Y2hcbiAgICAgICAgLy9cbiAgICAgICAgYnJhbmNoZXMgPSBvd25LZXlzKHRyZWUpO1xuICAgICAgICBuID0gYnJhbmNoZXMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAobi0tID4gMCkge1xuICAgICAgICAgIGJyYW5jaCA9IGJyYW5jaGVzW25dO1xuICAgICAgICAgIGlmIChicmFuY2ggIT09ICdfbGlzdGVuZXJzJykge1xuICAgICAgICAgICAgX2xpc3RlbmVycyA9IHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZVticmFuY2hdLCBpICsgMSwgdHlwZUxlbmd0aCk7XG4gICAgICAgICAgICBpZiAoX2xpc3RlbmVycykge1xuICAgICAgICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2guYXBwbHkobGlzdGVuZXJzLCBfbGlzdGVuZXJzKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSBfbGlzdGVuZXJzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0ZW5lcnM7XG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnRUeXBlID09PSAnKionKSB7XG4gICAgICAgIGVuZFJlYWNoZWQgPSAoaSArIDEgPT09IHR5cGVMZW5ndGggfHwgKGkgKyAyID09PSB0eXBlTGVuZ3RoICYmIG5leHRUeXBlID09PSAnKicpKTtcbiAgICAgICAgaWYgKGVuZFJlYWNoZWQgJiYgdHJlZS5fbGlzdGVuZXJzKSB7XG4gICAgICAgICAgLy8gVGhlIG5leHQgZWxlbWVudCBoYXMgYSBfbGlzdGVuZXJzLCBhZGQgaXQgdG8gdGhlIGhhbmRsZXJzLlxuICAgICAgICAgIGxpc3RlbmVycyA9IHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZSwgdHlwZUxlbmd0aCwgdHlwZUxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBicmFuY2hlcyA9IG93bktleXModHJlZSk7XG4gICAgICAgIG4gPSBicmFuY2hlcy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChuLS0gPiAwKSB7XG4gICAgICAgICAgYnJhbmNoID0gYnJhbmNoZXNbbl07XG4gICAgICAgICAgaWYgKGJyYW5jaCAhPT0gJ19saXN0ZW5lcnMnKSB7XG4gICAgICAgICAgICBpZiAoYnJhbmNoID09PSAnKicgfHwgYnJhbmNoID09PSAnKionKSB7XG4gICAgICAgICAgICAgIGlmICh0cmVlW2JyYW5jaF0uX2xpc3RlbmVycyAmJiAhZW5kUmVhY2hlZCkge1xuICAgICAgICAgICAgICAgIF9saXN0ZW5lcnMgPSBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgdHlwZUxlbmd0aCwgdHlwZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKF9saXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2guYXBwbHkobGlzdGVuZXJzLCBfbGlzdGVuZXJzKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycyA9IF9saXN0ZW5lcnM7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF9saXN0ZW5lcnMgPSBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbYnJhbmNoXSwgaSwgdHlwZUxlbmd0aCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJyYW5jaCA9PT0gbmV4dFR5cGUpIHtcbiAgICAgICAgICAgICAgX2xpc3RlbmVycyA9IHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgdHJlZVticmFuY2hdLCBpICsgMiwgdHlwZUxlbmd0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBObyBtYXRjaCBvbiB0aGlzIG9uZSwgc2hpZnQgaW50byB0aGUgdHJlZSBidXQgbm90IGluIHRoZSB0eXBlIGFycmF5LlxuICAgICAgICAgICAgICBfbGlzdGVuZXJzID0gc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB0cmVlW2JyYW5jaF0sIGksIHR5cGVMZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF9saXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoLmFwcGx5KGxpc3RlbmVycywgX2xpc3RlbmVycyk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzID0gX2xpc3RlbmVycztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdGVuZXJzO1xuICAgICAgfSBlbHNlIGlmICh0cmVlW2N1cnJlbnRUeXBlXSkge1xuICAgICAgICBsaXN0ZW5lcnMgPSBzZWFyY2hMaXN0ZW5lclRyZWUoaGFuZGxlcnMsIHR5cGUsIHRyZWVbY3VycmVudFR5cGVdLCBpICsgMSwgdHlwZUxlbmd0aCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgICB4VHJlZSA9IHRyZWVbJyonXTtcbiAgICBpZiAoeFRyZWUpIHtcbiAgICAgIC8vXG4gICAgICAvLyBJZiB0aGUgbGlzdGVuZXIgdHJlZSB3aWxsIGFsbG93IGFueSBtYXRjaCBmb3IgdGhpcyBwYXJ0LFxuICAgICAgLy8gdGhlbiByZWN1cnNpdmVseSBleHBsb3JlIGFsbCBicmFuY2hlcyBvZiB0aGUgdHJlZVxuICAgICAgLy9cbiAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeFRyZWUsIGkgKyAxLCB0eXBlTGVuZ3RoKTtcbiAgICB9XG5cbiAgICB4eFRyZWUgPSB0cmVlWycqKiddO1xuICAgIGlmICh4eFRyZWUpIHtcbiAgICAgIGlmIChpIDwgdHlwZUxlbmd0aCkge1xuICAgICAgICBpZiAoeHhUcmVlLl9saXN0ZW5lcnMpIHtcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgbGlzdGVuZXIgb24gYSAnKionLCBpdCB3aWxsIGNhdGNoIGFsbCwgc28gYWRkIGl0cyBoYW5kbGVyLlxuICAgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlLCB0eXBlTGVuZ3RoLCB0eXBlTGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJ1aWxkIGFycmF5cyBvZiBtYXRjaGluZyBuZXh0IGJyYW5jaGVzIGFuZCBvdGhlcnMuXG4gICAgICAgIGJyYW5jaGVzPSBvd25LZXlzKHh4VHJlZSk7XG4gICAgICAgIG49IGJyYW5jaGVzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUobi0tPjApe1xuICAgICAgICAgIGJyYW5jaD0gYnJhbmNoZXNbbl07XG4gICAgICAgICAgaWYgKGJyYW5jaCAhPT0gJ19saXN0ZW5lcnMnKSB7XG4gICAgICAgICAgICBpZiAoYnJhbmNoID09PSBuZXh0VHlwZSkge1xuICAgICAgICAgICAgICAvLyBXZSBrbm93IHRoZSBuZXh0IGVsZW1lbnQgd2lsbCBtYXRjaCwgc28ganVtcCB0d2ljZS5cbiAgICAgICAgICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB4eFRyZWVbYnJhbmNoXSwgaSArIDIsIHR5cGVMZW5ndGgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChicmFuY2ggPT09IGN1cnJlbnRUeXBlKSB7XG4gICAgICAgICAgICAgIC8vIEN1cnJlbnQgbm9kZSBtYXRjaGVzLCBtb3ZlIGludG8gdGhlIHRyZWUuXG4gICAgICAgICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlW2JyYW5jaF0sIGkgKyAxLCB0eXBlTGVuZ3RoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlzb2xhdGVkQnJhbmNoID0ge307XG4gICAgICAgICAgICAgIGlzb2xhdGVkQnJhbmNoW2JyYW5jaF0gPSB4eFRyZWVbYnJhbmNoXTtcbiAgICAgICAgICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB7JyoqJzogaXNvbGF0ZWRCcmFuY2h9LCBpICsgMSwgdHlwZUxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHh4VHJlZS5fbGlzdGVuZXJzKSB7XG4gICAgICAgIC8vIFdlIGhhdmUgcmVhY2hlZCB0aGUgZW5kIGFuZCBzdGlsbCBvbiBhICcqKidcbiAgICAgICAgc2VhcmNoTGlzdGVuZXJUcmVlKGhhbmRsZXJzLCB0eXBlLCB4eFRyZWUsIHR5cGVMZW5ndGgsIHR5cGVMZW5ndGgpO1xuICAgICAgfSBlbHNlIGlmICh4eFRyZWVbJyonXSAmJiB4eFRyZWVbJyonXS5fbGlzdGVuZXJzKSB7XG4gICAgICAgIHNlYXJjaExpc3RlbmVyVHJlZShoYW5kbGVycywgdHlwZSwgeHhUcmVlWycqJ10sIHR5cGVMZW5ndGgsIHR5cGVMZW5ndGgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBsaXN0ZW5lcnM7XG4gIH1cblxuICBmdW5jdGlvbiBncm93TGlzdGVuZXJUcmVlKHR5cGUsIGxpc3RlbmVyLCBwcmVwZW5kKSB7XG4gICAgdmFyIGxlbiA9IDAsIGogPSAwLCBpLCBkZWxpbWl0ZXIgPSB0aGlzLmRlbGltaXRlciwgZGw9IGRlbGltaXRlci5sZW5ndGgsIG5zO1xuXG4gICAgaWYodHlwZW9mIHR5cGU9PT0nc3RyaW5nJykge1xuICAgICAgaWYgKChpID0gdHlwZS5pbmRleE9mKGRlbGltaXRlcikpICE9PSAtMSkge1xuICAgICAgICBucyA9IG5ldyBBcnJheSg1KTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIG5zW2xlbisrXSA9IHR5cGUuc2xpY2UoaiwgaSk7XG4gICAgICAgICAgaiA9IGkgKyBkbDtcbiAgICAgICAgfSB3aGlsZSAoKGkgPSB0eXBlLmluZGV4T2YoZGVsaW1pdGVyLCBqKSkgIT09IC0xKTtcblxuICAgICAgICBuc1tsZW4rK10gPSB0eXBlLnNsaWNlKGopO1xuICAgICAgfWVsc2V7XG4gICAgICAgIG5zPSBbdHlwZV07XG4gICAgICAgIGxlbj0gMTtcbiAgICAgIH1cbiAgICB9ZWxzZXtcbiAgICAgIG5zPSB0eXBlO1xuICAgICAgbGVuPSB0eXBlLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIExvb2tzIGZvciB0d28gY29uc2VjdXRpdmUgJyoqJywgaWYgc28sIGRvbid0IGFkZCB0aGUgZXZlbnQgYXQgYWxsLlxuICAgIC8vXG4gICAgaWYgKGxlbiA+IDEpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgKyAxIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKG5zW2ldID09PSAnKionICYmIG5zW2kgKyAxXSA9PT0gJyoqJykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG5cbiAgICB2YXIgdHJlZSA9IHRoaXMubGlzdGVuZXJUcmVlLCBuYW1lO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBuYW1lID0gbnNbaV07XG5cbiAgICAgIHRyZWUgPSB0cmVlW25hbWVdIHx8ICh0cmVlW25hbWVdID0ge30pO1xuXG4gICAgICBpZiAoaSA9PT0gbGVuIC0gMSkge1xuICAgICAgICBpZiAoIXRyZWUuX2xpc3RlbmVycykge1xuICAgICAgICAgIHRyZWUuX2xpc3RlbmVycyA9IGxpc3RlbmVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0eXBlb2YgdHJlZS5fbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMgPSBbdHJlZS5fbGlzdGVuZXJzXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocHJlcGVuZCkge1xuICAgICAgICAgICAgdHJlZS5fbGlzdGVuZXJzLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmVlLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAhdHJlZS5fbGlzdGVuZXJzLndhcm5lZCAmJlxuICAgICAgICAgICAgICB0aGlzLl9tYXhMaXN0ZW5lcnMgPiAwICYmXG4gICAgICAgICAgICAgIHRyZWUuX2xpc3RlbmVycy5sZW5ndGggPiB0aGlzLl9tYXhMaXN0ZW5lcnNcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRyZWUuX2xpc3RlbmVycy53YXJuZWQgPSB0cnVlO1xuICAgICAgICAgICAgbG9nUG9zc2libGVNZW1vcnlMZWFrLmNhbGwodGhpcywgdHJlZS5fbGlzdGVuZXJzLmxlbmd0aCwgbmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gY29sbGVjdFRyZWVFdmVudHModHJlZSwgZXZlbnRzLCByb290LCBhc0FycmF5KXtcbiAgICAgdmFyIGJyYW5jaGVzPSBvd25LZXlzKHRyZWUpO1xuICAgICB2YXIgaT0gYnJhbmNoZXMubGVuZ3RoO1xuICAgICB2YXIgYnJhbmNoLCBicmFuY2hOYW1lLCBwYXRoO1xuICAgICB2YXIgaGFzTGlzdGVuZXJzPSB0cmVlWydfbGlzdGVuZXJzJ107XG4gICAgIHZhciBpc0FycmF5UGF0aDtcblxuICAgICB3aGlsZShpLS0+MCl7XG4gICAgICAgICBicmFuY2hOYW1lPSBicmFuY2hlc1tpXTtcblxuICAgICAgICAgYnJhbmNoPSB0cmVlW2JyYW5jaE5hbWVdO1xuXG4gICAgICAgICBpZihicmFuY2hOYW1lPT09J19saXN0ZW5lcnMnKXtcbiAgICAgICAgICAgICBwYXRoPSByb290O1xuICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgIHBhdGggPSByb290ID8gcm9vdC5jb25jYXQoYnJhbmNoTmFtZSkgOiBbYnJhbmNoTmFtZV07XG4gICAgICAgICB9XG5cbiAgICAgICAgIGlzQXJyYXlQYXRoPSBhc0FycmF5IHx8IHR5cGVvZiBicmFuY2hOYW1lPT09J3N5bWJvbCc7XG5cbiAgICAgICAgIGhhc0xpc3RlbmVycyAmJiBldmVudHMucHVzaChpc0FycmF5UGF0aD8gcGF0aCA6IHBhdGguam9pbih0aGlzLmRlbGltaXRlcikpO1xuXG4gICAgICAgICBpZih0eXBlb2YgYnJhbmNoPT09J29iamVjdCcpe1xuICAgICAgICAgICAgIGNvbGxlY3RUcmVlRXZlbnRzLmNhbGwodGhpcywgYnJhbmNoLCBldmVudHMsIHBhdGgsIGlzQXJyYXlQYXRoKTtcbiAgICAgICAgIH1cbiAgICAgfVxuXG4gICAgIHJldHVybiBldmVudHM7XG4gIH1cblxuICBmdW5jdGlvbiByZWN1cnNpdmVseUdhcmJhZ2VDb2xsZWN0KHJvb3QpIHtcbiAgICB2YXIga2V5cyA9IG93bktleXMocm9vdCk7XG4gICAgdmFyIGk9IGtleXMubGVuZ3RoO1xuICAgIHZhciBvYmosIGtleSwgZmxhZztcbiAgICB3aGlsZShpLS0+MCl7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgb2JqID0gcm9vdFtrZXldO1xuXG4gICAgICBpZihvYmope1xuICAgICAgICAgIGZsYWc9IHRydWU7XG4gICAgICAgICAgaWYoa2V5ICE9PSAnX2xpc3RlbmVycycgJiYgIXJlY3Vyc2l2ZWx5R2FyYmFnZUNvbGxlY3Qob2JqKSl7XG4gICAgICAgICAgICAgZGVsZXRlIHJvb3Rba2V5XTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZsYWc7XG4gIH1cblxuICBmdW5jdGlvbiBMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgbGlzdGVuZXIpe1xuICAgIHRoaXMuZW1pdHRlcj0gZW1pdHRlcjtcbiAgICB0aGlzLmV2ZW50PSBldmVudDtcbiAgICB0aGlzLmxpc3RlbmVyPSBsaXN0ZW5lcjtcbiAgfVxuXG4gIExpc3RlbmVyLnByb3RvdHlwZS5vZmY9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5lbWl0dGVyLm9mZih0aGlzLmV2ZW50LCB0aGlzLmxpc3RlbmVyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBmdW5jdGlvbiBzZXR1cExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgb3B0aW9ucyl7XG4gICAgICBpZiAob3B0aW9ucyA9PT0gdHJ1ZSkge1xuICAgICAgICBwcm9taXNpZnkgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb25zID09PSBmYWxzZSkge1xuICAgICAgICBhc3luYyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIW9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdvcHRpb25zIHNob3VsZCBiZSBhbiBvYmplY3Qgb3IgdHJ1ZScpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhc3luYyA9IG9wdGlvbnMuYXN5bmM7XG4gICAgICAgIHZhciBwcm9taXNpZnkgPSBvcHRpb25zLnByb21pc2lmeTtcbiAgICAgICAgdmFyIG5leHRUaWNrID0gb3B0aW9ucy5uZXh0VGljaztcbiAgICAgICAgdmFyIG9iamVjdGlmeSA9IG9wdGlvbnMub2JqZWN0aWZ5O1xuICAgICAgfVxuXG4gICAgICBpZiAoYXN5bmMgfHwgbmV4dFRpY2sgfHwgcHJvbWlzaWZ5KSB7XG4gICAgICAgIHZhciBfbGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgdmFyIF9vcmlnaW4gPSBsaXN0ZW5lci5fb3JpZ2luIHx8IGxpc3RlbmVyO1xuXG4gICAgICAgIGlmIChuZXh0VGljayAmJiAhbmV4dFRpY2tTdXBwb3J0ZWQpIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcigncHJvY2Vzcy5uZXh0VGljayBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvbWlzaWZ5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwcm9taXNpZnkgPSBsaXN0ZW5lci5jb25zdHJ1Y3Rvci5uYW1lID09PSAnQXN5bmNGdW5jdGlvbic7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICAgICAgdmFyIGV2ZW50ID0gdGhpcy5ldmVudDtcblxuICAgICAgICAgIHJldHVybiBwcm9taXNpZnkgPyAobmV4dFRpY2sgPyBQcm9taXNlLnJlc29sdmUoKSA6IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICBfc2V0SW1tZWRpYXRlKHJlc29sdmUpO1xuICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29udGV4dC5ldmVudCA9IGV2ZW50O1xuICAgICAgICAgICAgcmV0dXJuIF9saXN0ZW5lci5hcHBseShjb250ZXh0LCBhcmdzKVxuICAgICAgICAgIH0pKSA6IChuZXh0VGljayA/IHByb2Nlc3MubmV4dFRpY2sgOiBfc2V0SW1tZWRpYXRlKShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb250ZXh0LmV2ZW50ID0gZXZlbnQ7XG4gICAgICAgICAgICBfbGlzdGVuZXIuYXBwbHkoY29udGV4dCwgYXJncylcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBsaXN0ZW5lci5fYXN5bmMgPSB0cnVlO1xuICAgICAgICBsaXN0ZW5lci5fb3JpZ2luID0gX29yaWdpbjtcbiAgICAgIH1cblxuICAgIHJldHVybiBbbGlzdGVuZXIsIG9iamVjdGlmeT8gbmV3IExpc3RlbmVyKHRoaXMsIGV2ZW50LCBsaXN0ZW5lcik6IHRoaXNdO1xuICB9XG5cbiAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKGNvbmYpIHtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICB0aGlzLl9uZXdMaXN0ZW5lciA9IGZhbHNlO1xuICAgIHRoaXMuX3JlbW92ZUxpc3RlbmVyID0gZmFsc2U7XG4gICAgdGhpcy52ZXJib3NlTWVtb3J5TGVhayA9IGZhbHNlO1xuICAgIGNvbmZpZ3VyZS5jYWxsKHRoaXMsIGNvbmYpO1xuICB9XG5cbiAgRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlcjIgPSBFdmVudEVtaXR0ZXI7IC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGZvciBleHBvcnRpbmcgRXZlbnRFbWl0dGVyIHByb3BlcnR5XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5Ubz0gZnVuY3Rpb24odGFyZ2V0LCBldmVudHMsIG9wdGlvbnMpe1xuICAgIGlmKHR5cGVvZiB0YXJnZXQhPT0nb2JqZWN0Jyl7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ3RhcmdldCBtdXN0cyBiZSBhbiBvYmplY3QnKTtcbiAgICB9XG5cbiAgICB2YXIgZW1pdHRlcj0gdGhpcztcblxuICAgIG9wdGlvbnMgPSByZXNvbHZlT3B0aW9ucyhvcHRpb25zLCB7XG4gICAgICBvbjogdW5kZWZpbmVkLFxuICAgICAgb2ZmOiB1bmRlZmluZWQsXG4gICAgICByZWR1Y2VyczogdW5kZWZpbmVkXG4gICAgfSwge1xuICAgICAgb246IGZ1bmN0aW9uUmVkdWNlcixcbiAgICAgIG9mZjogZnVuY3Rpb25SZWR1Y2VyLFxuICAgICAgcmVkdWNlcnM6IG9iamVjdEZ1bmN0aW9uUmVkdWNlclxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gbGlzdGVuKGV2ZW50cyl7XG4gICAgICBpZih0eXBlb2YgZXZlbnRzIT09J29iamVjdCcpe1xuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ2V2ZW50cyBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVkdWNlcnM9IG9wdGlvbnMucmVkdWNlcnM7XG4gICAgICB2YXIgaW5kZXg9IGZpbmRUYXJnZXRJbmRleC5jYWxsKGVtaXR0ZXIsIHRhcmdldCk7XG4gICAgICB2YXIgb2JzZXJ2ZXI7XG5cbiAgICAgIGlmKGluZGV4PT09LTEpe1xuICAgICAgICBvYnNlcnZlcj0gbmV3IFRhcmdldE9ic2VydmVyKGVtaXR0ZXIsIHRhcmdldCwgb3B0aW9ucyk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgb2JzZXJ2ZXI9IGVtaXR0ZXIuX29ic2VydmVyc1tpbmRleF07XG4gICAgICB9XG5cbiAgICAgIHZhciBrZXlzPSBvd25LZXlzKGV2ZW50cyk7XG4gICAgICB2YXIgbGVuPSBrZXlzLmxlbmd0aDtcbiAgICAgIHZhciBldmVudDtcbiAgICAgIHZhciBpc1NpbmdsZVJlZHVjZXI9IHR5cGVvZiByZWR1Y2Vycz09PSdmdW5jdGlvbic7XG5cbiAgICAgIGZvcih2YXIgaT0wOyBpPGxlbjsgaSsrKXtcbiAgICAgICAgZXZlbnQ9IGtleXNbaV07XG4gICAgICAgIG9ic2VydmVyLnN1YnNjcmliZShcbiAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgZXZlbnRzW2V2ZW50XSB8fCBldmVudCxcbiAgICAgICAgICAgIGlzU2luZ2xlUmVkdWNlciA/IHJlZHVjZXJzIDogcmVkdWNlcnMgJiYgcmVkdWNlcnNbZXZlbnRdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaXNBcnJheShldmVudHMpP1xuICAgICAgICBsaXN0ZW4odG9PYmplY3QoZXZlbnRzKSkgOlxuICAgICAgICAodHlwZW9mIGV2ZW50cz09PSdzdHJpbmcnPyBsaXN0ZW4odG9PYmplY3QoZXZlbnRzLnNwbGl0KC9cXHMrLykpKTogbGlzdGVuKGV2ZW50cykpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zdG9wTGlzdGVuaW5nVG8gPSBmdW5jdGlvbiAodGFyZ2V0LCBldmVudCkge1xuICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLl9vYnNlcnZlcnM7XG5cbiAgICBpZighb2JzZXJ2ZXJzKXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgaSA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgdmFyIG9ic2VydmVyO1xuICAgIHZhciBtYXRjaGVkPSBmYWxzZTtcblxuICAgIGlmKHRhcmdldCAmJiB0eXBlb2YgdGFyZ2V0IT09J29iamVjdCcpe1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCd0YXJnZXQgc2hvdWxkIGJlIGFuIG9iamVjdCcpO1xuICAgIH1cblxuICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICBvYnNlcnZlciA9IG9ic2VydmVyc1tpXTtcbiAgICAgIGlmICghdGFyZ2V0IHx8IG9ic2VydmVyLl90YXJnZXQgPT09IHRhcmdldCkge1xuICAgICAgICBvYnNlcnZlci51bnN1YnNjcmliZShldmVudCk7XG4gICAgICAgIG1hdGNoZWQ9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdGNoZWQ7XG4gIH07XG5cbiAgLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhblxuICAvLyAxMCBsaXN0ZW5lcnMgYXJlIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2hcbiAgLy8gaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG4gIC8vXG4gIC8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuICAvLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmRlbGltaXRlciA9ICcuJztcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgICBpZiAobiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICAgICAgaWYgKCF0aGlzLl9jb25mKSB0aGlzLl9jb25mID0ge307XG4gICAgICB0aGlzLl9jb25mLm1heExpc3RlbmVycyA9IG47XG4gICAgfVxuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX21heExpc3RlbmVycztcbiAgfTtcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50ID0gJyc7XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuX29uY2UoZXZlbnQsIGZuLCBmYWxzZSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQsIGZuLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuX29uY2UoZXZlbnQsIGZuLCB0cnVlLCBvcHRpb25zKTtcbiAgfTtcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuLCBwcmVwZW5kLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hbnkoZXZlbnQsIDEsIGZuLCBwcmVwZW5kLCBvcHRpb25zKTtcbiAgfTtcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm1hbnkgPSBmdW5jdGlvbihldmVudCwgdHRsLCBmbiwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLl9tYW55KGV2ZW50LCB0dGwsIGZuLCBmYWxzZSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kTWFueSA9IGZ1bmN0aW9uKGV2ZW50LCB0dGwsIGZuLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hbnkoZXZlbnQsIHR0bCwgZm4sIHRydWUsIG9wdGlvbnMpO1xuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21hbnkgPSBmdW5jdGlvbihldmVudCwgdHRsLCBmbiwgcHJlcGVuZCwgb3B0aW9ucykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbWFueSBvbmx5IGFjY2VwdHMgaW5zdGFuY2VzIG9mIEZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdGVuZXIoKSB7XG4gICAgICBpZiAoLS10dGwgPT09IDApIHtcbiAgICAgICAgc2VsZi5vZmYoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGxpc3RlbmVyLl9vcmlnaW4gPSBmbjtcblxuICAgIHJldHVybiB0aGlzLl9vbihldmVudCwgbGlzdGVuZXIsIHByZXBlbmQsIG9wdGlvbnMpO1xuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy5fZXZlbnRzICYmICF0aGlzLl9hbGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLl9ldmVudHMgfHwgaW5pdC5jYWxsKHRoaXMpO1xuXG4gICAgdmFyIHR5cGUgPSBhcmd1bWVudHNbMF0sIG5zLCB3aWxkY2FyZD0gdGhpcy53aWxkY2FyZDtcbiAgICB2YXIgYXJncyxsLGksaiwgY29udGFpbnNTeW1ib2w7XG5cbiAgICBpZiAodHlwZSA9PT0gJ25ld0xpc3RlbmVyJyAmJiAhdGhpcy5fbmV3TGlzdGVuZXIpIHtcbiAgICAgIGlmICghdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAod2lsZGNhcmQpIHtcbiAgICAgIG5zPSB0eXBlO1xuICAgICAgaWYodHlwZSE9PSduZXdMaXN0ZW5lcicgJiYgdHlwZSE9PSdyZW1vdmVMaXN0ZW5lcicpe1xuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgbCA9IHR5cGUubGVuZ3RoO1xuICAgICAgICAgIGlmIChzeW1ib2xzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZVtpXSA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgICAgICAgICBjb250YWluc1N5bWJvbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFjb250YWluc1N5bWJvbCkge1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuam9pbih0aGlzLmRlbGltaXRlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFsID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB2YXIgaGFuZGxlcjtcblxuICAgIGlmICh0aGlzLl9hbGwgJiYgdGhpcy5fYWxsLmxlbmd0aCkge1xuICAgICAgaGFuZGxlciA9IHRoaXMuX2FsbC5zbGljZSgpO1xuXG4gICAgICBmb3IgKGkgPSAwLCBsID0gaGFuZGxlci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XG4gICAgICAgIHN3aXRjaCAoYWwpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGhhbmRsZXJbaV0uY2FsbCh0aGlzLCB0eXBlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGhhbmRsZXJbaV0uY2FsbCh0aGlzLCB0eXBlLCBhcmd1bWVudHNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMsIHR5cGUsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBoYW5kbGVyW2ldLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAod2lsZGNhcmQpIHtcbiAgICAgIGhhbmRsZXIgPSBbXTtcbiAgICAgIHNlYXJjaExpc3RlbmVyVHJlZS5jYWxsKHRoaXMsIGhhbmRsZXIsIG5zLCB0aGlzLmxpc3RlbmVyVHJlZSwgMCwgbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XG4gICAgICAgIHN3aXRjaCAoYWwpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsIC0gMSk7XG4gICAgICAgICAgZm9yIChqID0gMTsgaiA8IGFsOyBqKyspIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgLy8gbmVlZCB0byBtYWtlIGNvcHkgb2YgaGFuZGxlcnMgYmVjYXVzZSBsaXN0IGNhbiBjaGFuZ2UgaW4gdGhlIG1pZGRsZVxuICAgICAgICAvLyBvZiBlbWl0IGNhbGxcbiAgICAgICAgaGFuZGxlciA9IGhhbmRsZXIuc2xpY2UoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFuZGxlciAmJiBoYW5kbGVyLmxlbmd0aCkge1xuICAgICAgaWYgKGFsID4gMykge1xuICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsIC0gMSk7XG4gICAgICAgIGZvciAoaiA9IDE7IGogPCBhbDsgaisrKSBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDAsIGwgPSBoYW5kbGVyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0aGlzLmV2ZW50ID0gdHlwZTtcbiAgICAgICAgc3dpdGNoIChhbCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgaGFuZGxlcltpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBoYW5kbGVyW2ldLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGhhbmRsZXJbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMuaWdub3JlRXJyb3JzICYmICF0aGlzLl9hbGwgJiYgdHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgaWYgKGFyZ3VtZW50c1sxXSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGFyZ3VtZW50c1sxXTsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuY2F1Z2h0LCB1bnNwZWNpZmllZCAnZXJyb3InIGV2ZW50LlwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gISF0aGlzLl9hbGw7XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0QXN5bmMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cyAmJiAhdGhpcy5fYWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcblxuICAgIHZhciB0eXBlID0gYXJndW1lbnRzWzBdLCB3aWxkY2FyZD0gdGhpcy53aWxkY2FyZCwgbnMsIGNvbnRhaW5zU3ltYm9sO1xuICAgIHZhciBhcmdzLGwsaSxqO1xuXG4gICAgaWYgKHR5cGUgPT09ICduZXdMaXN0ZW5lcicgJiYgIXRoaXMuX25ld0xpc3RlbmVyKSB7XG4gICAgICAgIGlmICghdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUoW2ZhbHNlXSk7IH1cbiAgICB9XG5cbiAgICBpZiAod2lsZGNhcmQpIHtcbiAgICAgIG5zPSB0eXBlO1xuICAgICAgaWYodHlwZSE9PSduZXdMaXN0ZW5lcicgJiYgdHlwZSE9PSdyZW1vdmVMaXN0ZW5lcicpe1xuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgbCA9IHR5cGUubGVuZ3RoO1xuICAgICAgICAgIGlmIChzeW1ib2xzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZVtpXSA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgICAgICAgICBjb250YWluc1N5bWJvbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFjb250YWluc1N5bWJvbCkge1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuam9pbih0aGlzLmRlbGltaXRlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHByb21pc2VzPSBbXTtcblxuICAgIHZhciBhbCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgdmFyIGhhbmRsZXI7XG5cbiAgICBpZiAodGhpcy5fYWxsKSB7XG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5fYWxsLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0aGlzLmV2ZW50ID0gdHlwZTtcbiAgICAgICAgc3dpdGNoIChhbCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLl9hbGxbaV0uY2FsbCh0aGlzLCB0eXBlKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMuX2FsbFtpXS5jYWxsKHRoaXMsIHR5cGUsIGFyZ3VtZW50c1sxXSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLl9hbGxbaV0uY2FsbCh0aGlzLCB0eXBlLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHByb21pc2VzLnB1c2godGhpcy5fYWxsW2ldLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHdpbGRjYXJkKSB7XG4gICAgICBoYW5kbGVyID0gW107XG4gICAgICBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBoYW5kbGVyLCBucywgdGhpcy5saXN0ZW5lclRyZWUsIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5ldmVudCA9IHR5cGU7XG4gICAgICBzd2l0Y2ggKGFsKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlci5jYWxsKHRoaXMpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFsIC0gMSk7XG4gICAgICAgIGZvciAoaiA9IDE7IGogPCBhbDsgaisrKSBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGhhbmRsZXIgJiYgaGFuZGxlci5sZW5ndGgpIHtcbiAgICAgIGhhbmRsZXIgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgICBpZiAoYWwgPiAzKSB7XG4gICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYWwgLSAxKTtcbiAgICAgICAgZm9yIChqID0gMTsgaiA8IGFsOyBqKyspIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgfVxuICAgICAgZm9yIChpID0gMCwgbCA9IGhhbmRsZXIubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRoaXMuZXZlbnQgPSB0eXBlO1xuICAgICAgICBzd2l0Y2ggKGFsKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXJbaV0uY2FsbCh0aGlzKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZXJbaV0uY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHByb21pc2VzLnB1c2goaGFuZGxlcltpXS5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVyW2ldLmFwcGx5KHRoaXMsIGFyZ3MpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaWdub3JlRXJyb3JzICYmICF0aGlzLl9hbGwgJiYgdHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgaWYgKGFyZ3VtZW50c1sxXSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChhcmd1bWVudHNbMV0pOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiVW5jYXVnaHQsIHVuc3BlY2lmaWVkICdlcnJvcicgZXZlbnQuXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuX29uKHR5cGUsIGxpc3RlbmVyLCBmYWxzZSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLl9vbih0eXBlLCBsaXN0ZW5lciwgdHJ1ZSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbkFueSA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgcmV0dXJuIHRoaXMuX29uQW55KGZuLCBmYWxzZSk7XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kQW55ID0gZnVuY3Rpb24oZm4pIHtcbiAgICByZXR1cm4gdGhpcy5fb25BbnkoZm4sIHRydWUpO1xuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX29uQW55ID0gZnVuY3Rpb24oZm4sIHByZXBlbmQpe1xuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignb25Bbnkgb25seSBhY2NlcHRzIGluc3RhbmNlcyBvZiBGdW5jdGlvbicpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fYWxsKSB7XG4gICAgICB0aGlzLl9hbGwgPSBbXTtcbiAgICB9XG5cbiAgICAvLyBBZGQgdGhlIGZ1bmN0aW9uIHRvIHRoZSBldmVudCBsaXN0ZW5lciBjb2xsZWN0aW9uLlxuICAgIGlmKHByZXBlbmQpe1xuICAgICAgdGhpcy5fYWxsLnVuc2hpZnQoZm4pO1xuICAgIH1lbHNle1xuICAgICAgdGhpcy5fYWxsLnB1c2goZm4pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX29uID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIHByZXBlbmQsIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuX29uQW55KHR5cGUsIGxpc3RlbmVyKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignb24gb25seSBhY2NlcHRzIGluc3RhbmNlcyBvZiBGdW5jdGlvbicpO1xuICAgIH1cbiAgICB0aGlzLl9ldmVudHMgfHwgaW5pdC5jYWxsKHRoaXMpO1xuXG4gICAgdmFyIHJldHVyblZhbHVlPSB0aGlzLCB0ZW1wO1xuXG4gICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGVtcCA9IHNldHVwTGlzdGVuZXIuY2FsbCh0aGlzLCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgICBsaXN0ZW5lciA9IHRlbXBbMF07XG4gICAgICByZXR1cm5WYWx1ZSA9IHRlbXBbMV07XG4gICAgfVxuXG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PSBcIm5ld0xpc3RlbmVyc1wiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyc1wiLlxuICAgIGlmICh0aGlzLl9uZXdMaXN0ZW5lcikge1xuICAgICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy53aWxkY2FyZCkge1xuICAgICAgZ3Jvd0xpc3RlbmVyVHJlZS5jYWxsKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCBwcmVwZW5kKTtcbiAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSkge1xuICAgICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9ldmVudHNbdHlwZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gQ2hhbmdlIHRvIGFycmF5LlxuICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYWRkXG4gICAgICBpZihwcmVwZW5kKXtcbiAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICAgIGlmIChcbiAgICAgICAgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgJiZcbiAgICAgICAgdGhpcy5fbWF4TGlzdGVuZXJzID4gMCAmJlxuICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gdGhpcy5fbWF4TGlzdGVuZXJzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICAgIGxvZ1Bvc3NpYmxlTWVtb3J5TGVhay5jYWxsKHRoaXMsIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgsIHR5cGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgfTtcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdyZW1vdmVMaXN0ZW5lciBvbmx5IHRha2VzIGluc3RhbmNlcyBvZiBGdW5jdGlvbicpO1xuICAgIH1cblxuICAgIHZhciBoYW5kbGVycyxsZWFmcz1bXTtcblxuICAgIGlmKHRoaXMud2lsZGNhcmQpIHtcbiAgICAgIHZhciBucyA9IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyA/IHR5cGUuc3BsaXQodGhpcy5kZWxpbWl0ZXIpIDogdHlwZS5zbGljZSgpO1xuICAgICAgbGVhZnMgPSBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBudWxsLCBucywgdGhpcy5saXN0ZW5lclRyZWUsIDApO1xuICAgICAgaWYoIWxlYWZzKSByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZG9lcyBub3QgdXNlIGxpc3RlbmVycygpLCBzbyBubyBzaWRlIGVmZmVjdCBvZiBjcmVhdGluZyBfZXZlbnRzW3R5cGVdXG4gICAgICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSkgcmV0dXJuIHRoaXM7XG4gICAgICBoYW5kbGVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICAgIGxlYWZzLnB1c2goe19saXN0ZW5lcnM6aGFuZGxlcnN9KTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpTGVhZj0wOyBpTGVhZjxsZWFmcy5sZW5ndGg7IGlMZWFmKyspIHtcbiAgICAgIHZhciBsZWFmID0gbGVhZnNbaUxlYWZdO1xuICAgICAgaGFuZGxlcnMgPSBsZWFmLl9saXN0ZW5lcnM7XG4gICAgICBpZiAoaXNBcnJheShoYW5kbGVycykpIHtcblxuICAgICAgICB2YXIgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gaGFuZGxlcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoaGFuZGxlcnNbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgICAoaGFuZGxlcnNbaV0ubGlzdGVuZXIgJiYgaGFuZGxlcnNbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB8fFxuICAgICAgICAgICAgKGhhbmRsZXJzW2ldLl9vcmlnaW4gJiYgaGFuZGxlcnNbaV0uX29yaWdpbiA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZih0aGlzLndpbGRjYXJkKSB7XG4gICAgICAgICAgbGVhZi5fbGlzdGVuZXJzLnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFuZGxlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgaWYodGhpcy53aWxkY2FyZCkge1xuICAgICAgICAgICAgZGVsZXRlIGxlYWYuX2xpc3RlbmVycztcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIiwgdHlwZSwgbGlzdGVuZXIpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaGFuZGxlcnMgPT09IGxpc3RlbmVyIHx8XG4gICAgICAgIChoYW5kbGVycy5saXN0ZW5lciAmJiBoYW5kbGVycy5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHx8XG4gICAgICAgIChoYW5kbGVycy5fb3JpZ2luICYmIGhhbmRsZXJzLl9vcmlnaW4gPT09IGxpc3RlbmVyKSkge1xuICAgICAgICBpZih0aGlzLndpbGRjYXJkKSB7XG4gICAgICAgICAgZGVsZXRlIGxlYWYuX2xpc3RlbmVycztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLCB0eXBlLCBsaXN0ZW5lcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5saXN0ZW5lclRyZWUgJiYgcmVjdXJzaXZlbHlHYXJiYWdlQ29sbGVjdCh0aGlzLmxpc3RlbmVyVHJlZSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZkFueSA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgdmFyIGkgPSAwLCBsID0gMCwgZm5zO1xuICAgIGlmIChmbiAmJiB0aGlzLl9hbGwgJiYgdGhpcy5fYWxsLmxlbmd0aCA+IDApIHtcbiAgICAgIGZucyA9IHRoaXMuX2FsbDtcbiAgICAgIGZvcihpID0gMCwgbCA9IGZucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYoZm4gPT09IGZuc1tpXSkge1xuICAgICAgICAgIGZucy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgaWYgKHRoaXMuX3JlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJBbnlcIiwgZm4pO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZucyA9IHRoaXMuX2FsbDtcbiAgICAgIGlmICh0aGlzLl9yZW1vdmVMaXN0ZW5lcikge1xuICAgICAgICBmb3IoaSA9IDAsIGwgPSBmbnMubGVuZ3RoOyBpIDwgbDsgaSsrKVxuICAgICAgICAgIHRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyQW55XCIsIGZuc1tpXSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9hbGwgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmO1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAhdGhpcy5fZXZlbnRzIHx8IGluaXQuY2FsbCh0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGlmICh0aGlzLndpbGRjYXJkKSB7XG4gICAgICB2YXIgbGVhZnMgPSBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBudWxsLCB0eXBlLCB0aGlzLmxpc3RlbmVyVHJlZSwgMCksIGxlYWYsIGk7XG4gICAgICBpZiAoIWxlYWZzKSByZXR1cm4gdGhpcztcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZWFmcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZWFmID0gbGVhZnNbaV07XG4gICAgICAgIGxlYWYuX2xpc3RlbmVycyA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLmxpc3RlbmVyVHJlZSAmJiByZWN1cnNpdmVseUdhcmJhZ2VDb2xsZWN0KHRoaXMubGlzdGVuZXJUcmVlKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2V2ZW50cykge1xuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgIHZhciBfZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgIHZhciBrZXlzLCBsaXN0ZW5lcnMsIGFsbExpc3RlbmVycztcbiAgICB2YXIgaTtcbiAgICB2YXIgbGlzdGVuZXJUcmVlO1xuXG4gICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHRoaXMud2lsZGNhcmQpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ2V2ZW50IG5hbWUgcmVxdWlyZWQgZm9yIHdpbGRjYXJkIGVtaXR0ZXInKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFfZXZlbnRzKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cblxuICAgICAga2V5cyA9IG93bktleXMoX2V2ZW50cyk7XG4gICAgICBpID0ga2V5cy5sZW5ndGg7XG4gICAgICBhbGxMaXN0ZW5lcnMgPSBbXTtcbiAgICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICAgIGxpc3RlbmVycyA9IF9ldmVudHNba2V5c1tpXV07XG4gICAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgYWxsTGlzdGVuZXJzLnB1c2gobGlzdGVuZXJzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbGxMaXN0ZW5lcnMucHVzaC5hcHBseShhbGxMaXN0ZW5lcnMsIGxpc3RlbmVycyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhbGxMaXN0ZW5lcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLndpbGRjYXJkKSB7XG4gICAgICAgIGxpc3RlbmVyVHJlZT0gdGhpcy5saXN0ZW5lclRyZWU7XG4gICAgICAgIGlmKCFsaXN0ZW5lclRyZWUpIHJldHVybiBbXTtcbiAgICAgICAgdmFyIGhhbmRsZXJzID0gW107XG4gICAgICAgIHZhciBucyA9IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyA/IHR5cGUuc3BsaXQodGhpcy5kZWxpbWl0ZXIpIDogdHlwZS5zbGljZSgpO1xuICAgICAgICBzZWFyY2hMaXN0ZW5lclRyZWUuY2FsbCh0aGlzLCBoYW5kbGVycywgbnMsIGxpc3RlbmVyVHJlZSwgMCk7XG4gICAgICAgIHJldHVybiBoYW5kbGVycztcbiAgICAgIH1cblxuICAgICAgaWYgKCFfZXZlbnRzKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gX2V2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKCFsaXN0ZW5lcnMpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicgPyBbbGlzdGVuZXJzXSA6IGxpc3RlbmVycztcbiAgICB9XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24obnNBc0FycmF5KXtcbiAgICB2YXIgX2V2ZW50cz0gdGhpcy5fZXZlbnRzO1xuICAgIHJldHVybiB0aGlzLndpbGRjYXJkPyBjb2xsZWN0VHJlZUV2ZW50cy5jYWxsKHRoaXMsIHRoaXMubGlzdGVuZXJUcmVlLCBbXSwgbnVsbCwgbnNBc0FycmF5KSA6IChfZXZlbnRzPyBvd25LZXlzKF9ldmVudHMpIDogW10pO1xuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lcnModHlwZSkubGVuZ3RoO1xuICB9O1xuXG4gIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuaGFzTGlzdGVuZXJzID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICBpZiAodGhpcy53aWxkY2FyZCkge1xuICAgICAgdmFyIGhhbmRsZXJzID0gW107XG4gICAgICB2YXIgbnMgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyB0eXBlLnNwbGl0KHRoaXMuZGVsaW1pdGVyKSA6IHR5cGUuc2xpY2UoKTtcbiAgICAgIHNlYXJjaExpc3RlbmVyVHJlZS5jYWxsKHRoaXMsIGhhbmRsZXJzLCBucywgdGhpcy5saXN0ZW5lclRyZWUsIDApO1xuICAgICAgcmV0dXJuIGhhbmRsZXJzLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgdmFyIF9ldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgdmFyIF9hbGwgPSB0aGlzLl9hbGw7XG5cbiAgICByZXR1cm4gISEoX2FsbCAmJiBfYWxsLmxlbmd0aCB8fCBfZXZlbnRzICYmICh0eXBlID09PSB1bmRlZmluZWQgPyBvd25LZXlzKF9ldmVudHMpLmxlbmd0aCA6IF9ldmVudHNbdHlwZV0pKTtcbiAgfTtcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyc0FueSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgaWYodGhpcy5fYWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWxsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgfTtcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLndhaXRGb3IgPSBmdW5jdGlvbiAoZXZlbnQsIG9wdGlvbnMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2Ygb3B0aW9ucztcbiAgICBpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIG9wdGlvbnMgPSB7dGltZW91dDogb3B0aW9uc307XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBvcHRpb25zID0ge2ZpbHRlcjogb3B0aW9uc307XG4gICAgfVxuXG4gICAgb3B0aW9ucz0gcmVzb2x2ZU9wdGlvbnMob3B0aW9ucywge1xuICAgICAgdGltZW91dDogMCxcbiAgICAgIGZpbHRlcjogdW5kZWZpbmVkLFxuICAgICAgaGFuZGxlRXJyb3I6IGZhbHNlLFxuICAgICAgUHJvbWlzZTogUHJvbWlzZSxcbiAgICAgIG92ZXJsb2FkOiBmYWxzZVxuICAgIH0sIHtcbiAgICAgIGZpbHRlcjogZnVuY3Rpb25SZWR1Y2VyLFxuICAgICAgUHJvbWlzZTogY29uc3RydWN0b3JSZWR1Y2VyXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbWFrZUNhbmNlbGFibGVQcm9taXNlKG9wdGlvbnMuUHJvbWlzZSwgZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCwgb25DYW5jZWwpIHtcbiAgICAgIGZ1bmN0aW9uIGxpc3RlbmVyKCkge1xuICAgICAgICB2YXIgZmlsdGVyPSBvcHRpb25zLmZpbHRlcjtcbiAgICAgICAgaWYgKGZpbHRlciAmJiAhZmlsdGVyLmFwcGx5KHNlbGYsIGFyZ3VtZW50cykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5vZmYoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuaGFuZGxlRXJyb3IpIHtcbiAgICAgICAgICB2YXIgZXJyID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgIGVyciA/IHJlamVjdChlcnIpIDogcmVzb2x2ZSh0b0FycmF5LmFwcGx5KG51bGwsIGFyZ3VtZW50cykuc2xpY2UoMSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUodG9BcnJheS5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBvbkNhbmNlbChmdW5jdGlvbigpe1xuICAgICAgICBzZWxmLm9mZihldmVudCwgbGlzdGVuZXIpO1xuICAgICAgfSk7XG5cbiAgICAgIHNlbGYuX29uKGV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xuICAgIH0sIHtcbiAgICAgIHRpbWVvdXQ6IG9wdGlvbnMudGltZW91dCxcbiAgICAgIG92ZXJsb2FkOiBvcHRpb25zLm92ZXJsb2FkXG4gICAgfSlcbiAgfTtcblxuICBmdW5jdGlvbiBvbmNlKGVtaXR0ZXIsIG5hbWUsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zPSByZXNvbHZlT3B0aW9ucyhvcHRpb25zLCB7XG4gICAgICBQcm9taXNlOiBQcm9taXNlLFxuICAgICAgdGltZW91dDogMCxcbiAgICAgIG92ZXJsb2FkOiBmYWxzZVxuICAgIH0sIHtcbiAgICAgIFByb21pc2U6IGNvbnN0cnVjdG9yUmVkdWNlclxuICAgIH0pO1xuXG4gICAgdmFyIF9Qcm9taXNlPSBvcHRpb25zLlByb21pc2U7XG5cbiAgICByZXR1cm4gbWFrZUNhbmNlbGFibGVQcm9taXNlKF9Qcm9taXNlLCBmdW5jdGlvbihyZXNvbHZlLCByZWplY3QsIG9uQ2FuY2VsKXtcbiAgICAgIHZhciBoYW5kbGVyO1xuICAgICAgaWYgKHR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaGFuZGxlcj0gIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXNvbHZlKHRvQXJyYXkuYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgb25DYW5jZWwoZnVuY3Rpb24oKXtcbiAgICAgICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgaGFuZGxlcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgICAge29uY2U6IHRydWV9XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbigpe1xuICAgICAgICBlcnJvckxpc3RlbmVyICYmIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgZXJyb3JMaXN0ZW5lcik7XG4gICAgICAgIHJlc29sdmUodG9BcnJheS5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBlcnJvckxpc3RlbmVyO1xuXG4gICAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgICBlcnJvckxpc3RlbmVyID0gZnVuY3Rpb24gKGVycil7XG4gICAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihuYW1lLCBldmVudExpc3RlbmVyKTtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfTtcblxuICAgICAgICBlbWl0dGVyLm9uY2UoJ2Vycm9yJywgZXJyb3JMaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIG9uQ2FuY2VsKGZ1bmN0aW9uKCl7XG4gICAgICAgIGVycm9yTGlzdGVuZXIgJiYgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihuYW1lLCBldmVudExpc3RlbmVyKTtcbiAgICAgIH0pO1xuXG4gICAgICBlbWl0dGVyLm9uY2UobmFtZSwgZXZlbnRMaXN0ZW5lcik7XG4gICAgfSwge1xuICAgICAgdGltZW91dDogb3B0aW9ucy50aW1lb3V0LFxuICAgICAgb3ZlcmxvYWQ6IG9wdGlvbnMub3ZlcmxvYWRcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBwcm90b3R5cGU9IEV2ZW50RW1pdHRlci5wcm90b3R5cGU7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRXZlbnRFbWl0dGVyLCB7XG4gICAgZGVmYXVsdE1heExpc3RlbmVyczoge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBwcm90b3R5cGUuX21heExpc3RlbmVycztcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgbiA8IDAgfHwgTnVtYmVyLmlzTmFOKG4pKSB7XG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCduIG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyJylcbiAgICAgICAgfVxuICAgICAgICBwcm90b3R5cGUuX21heExpc3RlbmVycyA9IG47XG4gICAgICB9LFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgb25jZToge1xuICAgICAgdmFsdWU6IG9uY2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocHJvdG90eXBlLCB7XG4gICAgICBfbWF4TGlzdGVuZXJzOiB7XG4gICAgICAgICAgdmFsdWU6IGRlZmF1bHRNYXhMaXN0ZW5lcnMsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9LFxuICAgICAgX29ic2VydmVyczoge3ZhbHVlOiBudWxsLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfVxuICB9KTtcblxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gRXZlbnRFbWl0dGVyO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gZ2xvYmFsIGZvciBhbnkga2luZCBvZiBlbnZpcm9ubWVudC5cbiAgICB2YXIgX2dsb2JhbD0gbmV3IEZ1bmN0aW9uKCcnLCdyZXR1cm4gdGhpcycpKCk7XG4gICAgX2dsb2JhbC5FdmVudEVtaXR0ZXIyID0gRXZlbnRFbWl0dGVyO1xuICB9XG59KCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/eventemitter2/lib/eventemitter2.js\n"));

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=C%3A%5CUsers%5Cfendr%5COneDrive%5CBureau%5CZoom%20App%5Cprisma%20demo%5CZuum(zoom-clone)%5Cpages%5Croom.js&page=%2Froom!":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=C%3A%5CUsers%5Cfendr%5COneDrive%5CBureau%5CZoom%20App%5Cprisma%20demo%5CZuum(zoom-clone)%5Cpages%5Croom.js&page=%2Froom! ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/room\",\n      function () {\n        return __webpack_require__(/*! ./pages/room.js */ \"./pages/room.js\");\n      }\n    ]);\n    if(true) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/room\"])\n      });\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWNsaWVudC1wYWdlcy1sb2FkZXIuanM/YWJzb2x1dGVQYWdlUGF0aD1DJTNBJTVDVXNlcnMlNUNmZW5kciU1Q09uZURyaXZlJTVDQnVyZWF1JTVDWm9vbSUyMEFwcCU1Q3ByaXNtYSUyMGRlbW8lNUNadXVtKHpvb20tY2xvbmUpJTVDcGFnZXMlNUNyb29tLmpzJnBhZ2U9JTJGcm9vbSEuanMiLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUJBQU8sQ0FBQyx3Q0FBaUI7QUFDeEM7QUFDQTtBQUNBLE9BQU8sSUFBVTtBQUNqQixNQUFNLFVBQVU7QUFDaEI7QUFDQSxPQUFPO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvPzExODQiXSwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgKHdpbmRvdy5fX05FWFRfUCA9IHdpbmRvdy5fX05FWFRfUCB8fCBbXSkucHVzaChbXG4gICAgICBcIi9yb29tXCIsXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXF1aXJlKFwiLi9wYWdlcy9yb29tLmpzXCIpO1xuICAgICAgfVxuICAgIF0pO1xuICAgIGlmKG1vZHVsZS5ob3QpIHtcbiAgICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5fX05FWFRfUC5wdXNoKFtcIi9yb29tXCJdKVxuICAgICAgfSk7XG4gICAgfVxuICAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=C%3A%5CUsers%5Cfendr%5COneDrive%5CBureau%5CZoom%20App%5Cprisma%20demo%5CZuum(zoom-clone)%5Cpages%5Croom.js&page=%2Froom!\n"));

/***/ }),

/***/ "./components/rooms/JoinRoom.js":
/*!**************************************!*\
  !*** ./components/rooms/JoinRoom.js ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/react */ \"./node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @100mslive/react-sdk */ \"./node_modules/@100mslive/react-sdk/dist/index.js\");\n/* harmony import */ var _zuum_Room__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../zuum/Room */ \"./components/zuum/Room.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\nfunction JoinRoom() {\n    _s();\n    const { data: session , status  } = (0,next_auth_react__WEBPACK_IMPORTED_MODULE_3__.useSession)();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const endpoint = \"https://prod-in2.100ms.live/hmsapi/zuum.app.100ms.live/\";\n    const hmsActions = (0,_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_5__.useHMSActions)();\n    const isConnected = (0,_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_5__.useHMSStore)(_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_5__.selectIsConnectedToRoom);\n    const [inputValues, setInputValues] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [room, setRooms] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [RoomId, SetRoomId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const handleInputChange = (e)=>{\n        setInputValues(e.target.value);\n    };\n    const getRoom = (e)=>{\n        SetRoomId(e.target.value);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (status === \"unauthenticated\") {\n            router.push(\"/\");\n        }\n    }, [\n        status\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const timerx = setTimeout(()=>{\n            fetchUniqueRoom();\n            console.log(\"runned\");\n        }, 1000);\n        return ()=>clearTimeout(timerx);\n    }, []);\n    const fetchUniqueRoom = ()=>{\n        return fetch(\"http://localhost:3000/api/rooms/roomId\").then((res)=>res.json()).then((data)=>setRooms(data));\n    };\n    // connected to hms\n    async function UserIsHost() {\n        const fetchtoken = async ()=>{\n            const response = await fetch(\"\".concat(endpoint, \"api/token\"), {\n                method: \"POST\",\n                body: JSON.stringify({\n                    user_id: \"1\",\n                    role: \"host\",\n                    type: \"app\",\n                    room_id: RoomId\n                })\n            });\n            const { token  } = await response.json();\n            return token;\n        };\n        // connected to hms\n        const token = await fetchtoken(inputValues);\n        hmsActions.join({\n            userName: inputValues,\n            authToken: token,\n            settings: {\n                isAudioMuted: false\n            }\n        });\n    }\n    async function UserIsGuest() {\n        const fetchtoken = async ()=>{\n            const response = await fetch(\"\".concat(endpoint, \"api/token\"), {\n                method: \"POST\",\n                body: JSON.stringify({\n                    user_id: \"1\",\n                    role: \"guest\",\n                    type: \"app\",\n                    room_id: RoomId\n                })\n            });\n            const { token  } = await response.json();\n            return token;\n        };\n        // connected to hms\n        const token = await fetchtoken(inputValues);\n        hmsActions.join({\n            userName: inputValues,\n            authToken: token,\n            settings: {\n                isAudioMuted: false\n            }\n        });\n    }\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        if (RoomId !== room.roomId) {\n            UserIsGuest();\n            return;\n        }\n        UserIsHost();\n        return;\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        window.onunload = ()=>{\n            hmsActions.leave();\n        };\n    }, [\n        hmsActions\n    ]);\n    const sendBack = (e)=>{\n        router.push(\"/list\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: !isConnected ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \" h-screen flex justify-center items-center bg-slate-100\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \" flex flex-col gap-6 mt-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"text\",\n                        placeholder: \"Insert your Name\",\n                        value: inputValues,\n                        onChange: handleInputChange,\n                        className: \" relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm\",\n                        required: true\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\rooms\\\\JoinRoom.js\",\n                        lineNumber: 160,\n                        columnNumber: 1\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"text\",\n                        placeholder: \"Paste a Room ID\",\n                        value: RoomId,\n                        onChange: getRoom,\n                        className: \" relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm\",\n                        required: true\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\rooms\\\\JoinRoom.js\",\n                        lineNumber: 168,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleSubmit,\n                                type: \"submit\",\n                                className: \"group relative flex w-full justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",\n                                children: \"Join a Room\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\rooms\\\\JoinRoom.js\",\n                                lineNumber: 177,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: sendBack,\n                                className: \"group mt-5 relative flex w-full justify-center rounded-md border border-transparent bg-red-600 py-2 px-4 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2\",\n                                children: \"Back\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\rooms\\\\JoinRoom.js\",\n                                lineNumber: 184,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\rooms\\\\JoinRoom.js\",\n                        lineNumber: 176,\n                        columnNumber: 18\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\rooms\\\\JoinRoom.js\",\n                lineNumber: 159,\n                columnNumber: 1\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\rooms\\\\JoinRoom.js\",\n            lineNumber: 155,\n            columnNumber: 5\n        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_zuum_Room__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n            fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\rooms\\\\JoinRoom.js\",\n            lineNumber: 196,\n            columnNumber: 9\n        }, this)\n    }, void 0, false);\n}\n_s(JoinRoom, \"MQgv6S8DmF1wjsef2t3fAQuw/cg=\", false, function() {\n    return [\n        next_auth_react__WEBPACK_IMPORTED_MODULE_3__.useSession,\n        next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_5__.useHMSActions,\n        _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_5__.useHMSStore\n    ];\n});\n_c = JoinRoom;\n/* harmony default export */ __webpack_exports__[\"default\"] = (JoinRoom);\nvar _c;\n$RefreshReg$(_c, \"JoinRoom\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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V0YsS0FBS3dDLE1BQU0sRUFBRTtZQUUxQkg7WUFDQTtRQUNGLENBQUM7UUFDRGpCO1FBR0E7SUFHRjtJQUVBckMsZ0RBQVNBLENBQUMsSUFBTTtRQUNkMEQsT0FBT0MsUUFBUSxHQUFHLElBQU07WUFDdkI5QyxXQUFXK0MsS0FBSztRQUNqQjtJQUNELEdBQUc7UUFBQy9DO0tBQVc7SUFFZixNQUFNZ0QsV0FBVyxDQUFDdkMsSUFBTTtRQUN2QlgsT0FBT2UsSUFBSSxDQUFDO0lBQ2I7SUFHRCxxQkFDRTtrQkFDQyxDQUFDWiw0QkFFRiw4REFBQ2dEO1lBQUlDLFdBQVU7c0JBSW5CLDRFQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2YsOERBQUNDO3dCQUNXbEIsTUFBSzt3QkFDTG1CLGFBQVk7d0JBQ1p6QyxPQUFPVDt3QkFDUG1ELFVBQVU3Qzt3QkFDVjBDLFdBQVU7d0JBQ1ZJLFFBQVE7Ozs7OztrQ0FFWiw4REFBQ0g7d0JBQ0dsQixNQUFLO3dCQUNMbUIsYUFBWTt3QkFDWnpDLE9BQU9MO3dCQUNQK0MsVUFBVXpDO3dCQUNWc0MsV0FBVTt3QkFDVkksUUFBUTs7Ozs7O2tDQUVILDhEQUFDTDs7MENBQ0osOERBQUNNO2dDQUFPQyxTQUFTZDtnQ0FDZlQsTUFBSztnQ0FDTGlCLFdBQVU7MENBQ1g7Ozs7OzswQ0FJRCw4REFBQ0s7Z0NBQU9DLFNBQVNSO2dDQUNmRSxXQUFVOzBDQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2lDQVVQLDhEQUFDekQsa0RBQUlBOzs7O2dCQUNOOztBQU9QO0dBbE1TQzs7UUFDMEJMLHVEQUFVQTtRQUMxQkQsa0RBQVNBO1FBRUxHLCtEQUFhQTtRQUNaQyw2REFBV0E7OztLQUwxQkU7QUFvTVQsK0RBQWVBLFFBQVFBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9yb29tcy9Kb2luUm9vbS5qcz8xMWI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0fSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xyXG5pbXBvcnQge3VzZVNlc3Npb259IGZyb20gXCJuZXh0LWF1dGgvcmVhY3RcIlxyXG5pbXBvcnQgeyBzZWxlY3RJc0Nvbm5lY3RlZFRvUm9vbSxcclxuICB1c2VITVNBY3Rpb25zLFxyXG4gIHVzZUhNU1N0b3JlLFxyXG59IGZyb20gXCJAMTAwbXNsaXZlL3JlYWN0LXNka1wiO1xyXG5pbXBvcnQgUm9vbSBmcm9tIFwiLi4venV1bS9Sb29tXCI7XHJcblxyXG5mdW5jdGlvbiBKb2luUm9vbSgpIHtcclxuICBjb25zdCB7IGRhdGE6IHNlc3Npb24sIHN0YXR1c30gPSB1c2VTZXNzaW9uKClcclxuICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG4gICAgY29uc3QgZW5kcG9pbnQgPSBcImh0dHBzOi8vcHJvZC1pbjIuMTAwbXMubGl2ZS9obXNhcGkvenV1bS5hcHAuMTAwbXMubGl2ZS9cIjtcclxuICAgIGNvbnN0IGhtc0FjdGlvbnMgPSB1c2VITVNBY3Rpb25zKCk7XHJcbiAgICBjb25zdCBpc0Nvbm5lY3RlZCA9IHVzZUhNU1N0b3JlKHNlbGVjdElzQ29ubmVjdGVkVG9Sb29tKTtcclxuICAgIGNvbnN0IFtpbnB1dFZhbHVlcywgc2V0SW5wdXRWYWx1ZXNdID0gdXNlU3RhdGUoXCJcIik7XHJcbiAgIFxyXG5cclxuICBjb25zdCBbcm9vbSwgc2V0Um9vbXNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFtSb29tSWQsIFNldFJvb21JZF0gPSB1c2VTdGF0ZSgnJyk7XHJcblxyXG5cclxuICBjb25zdCBoYW5kbGVJbnB1dENoYW5nZSA9IChlKSA9PiB7XHJcbiAgICBzZXRJbnB1dFZhbHVlcyhlLnRhcmdldC52YWx1ZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0Um9vbSA9IChlKSA9PiB7XHJcbiAgICBTZXRSb29tSWQoZS50YXJnZXQudmFsdWUpO1xyXG4gIH1cclxuXHJcblxyXG4gXHJcblxyXG5cclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChzdGF0dXMgPT09IFwidW5hdXRoZW50aWNhdGVkXCIpIHtcclxuICAgICAgcm91dGVyLnB1c2goJy8nKTtcclxuICAgIH1cclxuICB9LCBbc3RhdHVzXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCB0aW1lcnggPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgIGZldGNoVW5pcXVlUm9vbSgpO1xyXG4gICAgY29uc29sZS5sb2coXCJydW5uZWRcIilcclxuICAgIH0sIDEwMDApO1xyXG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcngpO1xyXG4gIH0sIFtdKTtcclxuXHJcblxyXG4gIGNvbnN0IGZldGNoVW5pcXVlUm9vbSA9ICgpID0+IHtcclxuICAgIFxyXG4gICAgcmV0dXJuIGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3Jvb21zL3Jvb21JZGApXHJcbiAgICAudGhlbigocmVzKT0+cmVzLmpzb24oKSlcclxuICAgIC50aGVuKChkYXRhKSA9PiBzZXRSb29tcyhkYXRhKSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gY29ubmVjdGVkIHRvIGhtc1xyXG4gIGFzeW5jIGZ1bmN0aW9uIFVzZXJJc0hvc3QoKSB7XHJcbiAgICBjb25zdCBmZXRjaHRva2VuID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2VuZHBvaW50fWFwaS90b2tlbmAsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHVzZXJfaWQ6IFwiMVwiLFxyXG4gICAgICAgICAgcm9sZTogXCJob3N0XCIsIFxyXG4gICAgICAgICAgdHlwZTogXCJhcHBcIixcclxuICAgICAgICAgIHJvb21faWQ6IFJvb21JZCwgXHJcbiAgICAgICAgfSksXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCB7IHRva2VuIH0gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIHJldHVybiB0b2tlbjtcclxuICAgICAgXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBcclxuICAgICAvLyBjb25uZWN0ZWQgdG8gaG1zXHJcbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGZldGNodG9rZW4oaW5wdXRWYWx1ZXMpO1xyXG4gICAgaG1zQWN0aW9ucy5qb2luKHtcclxuICAgICAgdXNlck5hbWU6IGlucHV0VmFsdWVzLFxyXG4gICAgICBhdXRoVG9rZW46IHRva2VuLFxyXG4gICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgIGlzQXVkaW9NdXRlZDogZmFsc2UsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuXHJcblxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBVc2VySXNHdWVzdCgpIHtcclxuXHJcbiAgICBjb25zdCBmZXRjaHRva2VuID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2VuZHBvaW50fWFwaS90b2tlbmAsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHVzZXJfaWQ6IFwiMVwiLFxyXG4gICAgICAgICAgcm9sZTogXCJndWVzdFwiLCBcclxuICAgICAgICAgIHR5cGU6IFwiYXBwXCIsXHJcbiAgICAgICAgICByb29tX2lkOiBSb29tSWQsIFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgeyB0b2tlbiB9ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICByZXR1cm4gdG9rZW47XHJcbiAgICAgIFxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgXHJcbiAgICAgLy8gY29ubmVjdGVkIHRvIGhtc1xyXG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCBmZXRjaHRva2VuKGlucHV0VmFsdWVzKTtcclxuICAgIGhtc0FjdGlvbnMuam9pbih7XHJcbiAgICAgIHVzZXJOYW1lOiBpbnB1dFZhbHVlcyxcclxuICAgICAgYXV0aFRva2VuOiB0b2tlbixcclxuICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICBpc0F1ZGlvTXV0ZWQ6IGZhbHNlLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICBcclxuICB9XHJcblxyXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAoUm9vbUlkICE9PSByb29tLnJvb21JZCkge1xyXG4gICAgXHJcbiAgICAgIFVzZXJJc0d1ZXN0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFVzZXJJc0hvc3QoKTtcclxuICAgIFxyXG4gICAgXHJcbiAgICByZXR1cm47XHJcblxyXG4gICBcclxuICB9O1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgd2luZG93Lm9udW5sb2FkID0gKCkgPT4ge1xyXG4gICAgIGhtc0FjdGlvbnMubGVhdmUoKTtcclxuICAgIH07XHJcbiAgIH0sIFtobXNBY3Rpb25zXSk7XHJcblxyXG4gICBjb25zdCBzZW5kQmFjayA9IChlKSA9PiB7XHJcbiAgICByb3V0ZXIucHVzaChcIi9saXN0XCIpXHJcbiAgIH1cclxuXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgeyFpc0Nvbm5lY3RlZD8gKFxyXG4gICAgICBcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiIGgtc2NyZWVuIGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIGJnLXNsYXRlLTEwMFwiPlxyXG4gICAgICBcclxuICBcclxuXHJcbjxkaXYgY2xhc3NOYW1lPVwiIGZsZXggZmxleC1jb2wgZ2FwLTYgbXQtOFwiPlxyXG48aW5wdXRcclxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkluc2VydCB5b3VyIE5hbWVcIlxyXG4gICAgICAgICAgICB2YWx1ZT17aW5wdXRWYWx1ZXN9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVJbnB1dENoYW5nZX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiIHJlbGF0aXZlIGJsb2NrIHctZnVsbCBhcHBlYXJhbmNlLW5vbmUgcm91bmRlZC1ub25lIHJvdW5kZWQtdC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTMgcHktMiB0ZXh0LWdyYXktOTAwIHBsYWNlaG9sZGVyLWdyYXktNTAwIGZvY3VzOnotMTAgZm9jdXM6Ym9yZGVyLWluZGlnby01MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctaW5kaWdvLTUwMCBzbTp0ZXh0LXNtXCJcclxuICAgICAgICAgICAgcmVxdWlyZWRcclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQYXN0ZSBhIFJvb20gSURcIlxyXG4gICAgICAgICAgICB2YWx1ZT17Um9vbUlkfVxyXG4gICAgICAgICAgICBvbkNoYW5nZT17Z2V0Um9vbX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiIHJlbGF0aXZlIGJsb2NrIHctZnVsbCBhcHBlYXJhbmNlLW5vbmUgcm91bmRlZC1ub25lIHJvdW5kZWQtdC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTMgcHktMiB0ZXh0LWdyYXktOTAwIHBsYWNlaG9sZGVyLWdyYXktNTAwIGZvY3VzOnotMTAgZm9jdXM6Ym9yZGVyLWluZGlnby01MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctaW5kaWdvLTUwMCBzbTp0ZXh0LXNtXCJcclxuICAgICAgICAgICAgcmVxdWlyZWRcclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVN1Ym1pdH1cclxuICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ3JvdXAgcmVsYXRpdmUgZmxleCB3LWZ1bGwganVzdGlmeS1jZW50ZXIgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IGJnLWluZGlnby02MDAgcHktMiBweC00IHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC13aGl0ZSBob3ZlcjpiZy1pbmRpZ28tNzAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1pbmRpZ28tNTAwIGZvY3VzOnJpbmctb2Zmc2V0LTJcIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBKb2luIGEgUm9vbVxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17c2VuZEJhY2t9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJncm91cCAgbXQtNSByZWxhdGl2ZSBmbGV4IHctZnVsbCBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItdHJhbnNwYXJlbnQgYmctcmVkLTYwMCBweS0yIHB4LTQgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXdoaXRlIGhvdmVyOmJnLXJlZC03MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXJlZC01MDAgZm9jdXM6cmluZy1vZmZzZXQtMlwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIEJhY2sgXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICAgICk6KFxyXG4gICAgICAgIDxSb29tLz5cclxuICAgICAgKX1cclxuICAgICAgPC8+XHJcbiAgICBcclxuICAgIFxyXG4gIFxyXG4gIFxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgSm9pblJvb207XHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUm91dGVyIiwidXNlU2Vzc2lvbiIsInNlbGVjdElzQ29ubmVjdGVkVG9Sb29tIiwidXNlSE1TQWN0aW9ucyIsInVzZUhNU1N0b3JlIiwiUm9vbSIsIkpvaW5Sb29tIiwiZGF0YSIsInNlc3Npb24iLCJzdGF0dXMiLCJyb3V0ZXIiLCJlbmRwb2ludCIsImhtc0FjdGlvbnMiLCJpc0Nvbm5lY3RlZCIsImlucHV0VmFsdWVzIiwic2V0SW5wdXRWYWx1ZXMiLCJyb29tIiwic2V0Um9vbXMiLCJSb29tSWQiLCJTZXRSb29tSWQiLCJoYW5kbGVJbnB1dENoYW5nZSIsImUiLCJ0YXJnZXQiLCJ2YWx1ZSIsImdldFJvb20iLCJwdXNoIiwidGltZXJ4Iiwic2V0VGltZW91dCIsImZldGNoVW5pcXVlUm9vbSIsImNvbnNvbGUiLCJsb2ciLCJjbGVhclRpbWVvdXQiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJqc29uIiwiVXNlcklzSG9zdCIsImZldGNodG9rZW4iLCJyZXNwb25zZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidXNlcl9pZCIsInJvbGUiLCJ0eXBlIiwicm9vbV9pZCIsInRva2VuIiwiam9pbiIsInVzZXJOYW1lIiwiYXV0aFRva2VuIiwic2V0dGluZ3MiLCJpc0F1ZGlvTXV0ZWQiLCJVc2VySXNHdWVzdCIsImhhbmRsZVN1Ym1pdCIsInByZXZlbnREZWZhdWx0Iiwicm9vbUlkIiwid2luZG93Iiwib251bmxvYWQiLCJsZWF2ZSIsInNlbmRCYWNrIiwiZGl2IiwiY2xhc3NOYW1lIiwiaW5wdXQiLCJwbGFjZWhvbGRlciIsIm9uQ2hhbmdlIiwicmVxdWlyZWQiLCJidXR0b24iLCJvbkNsaWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/rooms/JoinRoom.js\n"));

/***/ }),

/***/ "./components/zuum/Room.js":
/*!*********************************!*\
  !*** ./components/zuum/Room.js ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _RoomControls_Controls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RoomControls/Controls */ \"./components/zuum/RoomControls/Controls.js\");\n/* harmony import */ var _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @100mslive/react-sdk */ \"./node_modules/@100mslive/react-sdk/dist/index.js\");\n/* harmony import */ var _VideoSpaces__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./VideoSpaces */ \"./components/zuum/VideoSpaces.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\nfunction Room() {\n    _s();\n    const localPeer = (0,_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_4__.useHMSStore)(_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_4__.selectLocalPeer);\n    const host = localPeer.roleName === \"host\";\n    const guest = localPeer.roleName === \"guest\";\n    const peers = (0,_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_4__.useHMSStore)(_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_4__.selectPeers);\n    const hmsActions = (0,_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_4__.useHMSActions)();\n    const allMessages = (0,_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_4__.useHMSStore)(_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_4__.selectHMSMessages); // get all messages\n    const [inputValues, setInputValues] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [visible, isVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleInputChange = (e)=>{\n        setInputValues(e.target.value);\n    };\n    const sendMessage = ()=>{\n        hmsActions.sendBroadcastMessage(inputValues);\n        setInputValues(\"\");\n    };\n    const setVisibility = (dat)=>{\n        isVisible(dat);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \" relative h-screen flex justify-center items-center px-12 bg-slate-800 flex-row gap-8 overflow-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \" h-5/6 bg-slate-600 shadow-md w-3/5 rounded-2xl\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"flex flex-col w-full h-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \" h-3/5 w-full rounded-2xl\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \" top-0 right-0 z-10 py-3 px-6 grid grid-cols-3 gap-3 overflow-y-auto\",\n                                children: [\n                                    localPeer && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_VideoSpaces__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                        peer: localPeer,\n                                        isLocal: true\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                                        lineNumber: 44,\n                                        columnNumber: 23\n                                    }, this),\n                                    peers && peers.filter((peer)=>!peer.isLocal).map((peer)=>{\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_VideoSpaces__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                                isLocal: false,\n                                                peer: peer\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                                                lineNumber: 51,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false);\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                                lineNumber: 43,\n                                columnNumber: 11\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                            lineNumber: 42,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \" h-2/5 w-full flex flex-col gap-8 py-3 px-5\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-max px-4 bg-slate-500 h-12 rounded-md\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_RoomControls_Controls__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    switches: setVisibility\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                                    lineNumber: 61,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                                lineNumber: 59,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                            lineNumber: 57,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                    lineNumber: 41,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                lineNumber: 40,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \" z-10 rounded-md w-1/4 h-5/6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \" relative h-full w-full pb-20\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \" relative w-full h-full bg-gray-500 overflow-y-scroll\",\n                            children: allMessages.map((msg)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-col gap-2 bg-gray-900 m-3 py-2 px-2 rounded-md\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-white text-2xl font-thin opacity-75\",\n                                            children: msg.senderName\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                                            lineNumber: 75,\n                                            columnNumber: 13\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-white text-xl\",\n                                            children: msg.message\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                                            lineNumber: 79,\n                                            columnNumber: 13\n                                        }, this)\n                                    ]\n                                }, msg.id, true, {\n                                    fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                                    lineNumber: 71,\n                                    columnNumber: 11\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                            lineNumber: 69,\n                            columnNumber: 7\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \" absolute w-full rounded-2xl bottom-0 bg-slate-900 py-3 px-5 flex flex-row gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"text\",\n                                    placeholder: \"Write a Message\",\n                                    value: inputValues,\n                                    onChange: handleInputChange,\n                                    required: true,\n                                    className: \" focus:outline-none flex-1 px-2 py-3 rounded-md text-white bg-slate-900\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                                    lineNumber: 84,\n                                    columnNumber: 9\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \" btn flex-1 text-white bg-blue-600 py-3 px-10 rounded-md\",\n                                    onClick: sendMessage,\n                                    children: \"Send\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                                    lineNumber: 92,\n                                    columnNumber: 9\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                            lineNumber: 83,\n                            columnNumber: 7\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                    lineNumber: 67,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n                lineNumber: 66,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\Room.js\",\n        lineNumber: 39,\n        columnNumber: 5\n    }, this);\n}\n_s(Room, \"rx9CJZJHd5o1/cARMMYbac4ljz8=\", false, function() {\n    return [\n        _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_4__.useHMSStore,\n        _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_4__.useHMSStore,\n        _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_4__.useHMSActions,\n        _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_4__.useHMSStore\n    ];\n});\n_c = Room;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Room);\nvar _c;\n$RefreshReg$(_c, \"Room\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL3p1dW0vUm9vbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOztBQUFzQztBQUNTO0FBT2pCO0FBRVU7QUFHeEMsU0FBU1MsT0FBTzs7SUFDZCxNQUFNQyxZQUFZUCxpRUFBV0EsQ0FBQ0MsaUVBQWVBO0lBQzdDLE1BQU1PLE9BQU9ELFVBQVVFLFFBQVEsS0FBSztJQUNwQyxNQUFNQyxRQUFRSCxVQUFVRSxRQUFRLEtBQUs7SUFDckMsTUFBTUUsUUFBUVgsaUVBQVdBLENBQUNFLDZEQUFXQTtJQUVyQyxNQUFNVSxhQUFhVCxtRUFBYUE7SUFDaEMsTUFBTVUsY0FBY2IsaUVBQVdBLENBQUNJLG1FQUFpQkEsR0FBRyxtQkFBbUI7SUFDdkUsTUFBTSxDQUFDVSxhQUFhQyxlQUFlLEdBQUdqQiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNrQixTQUFTQyxVQUFVLEdBQUduQiwrQ0FBUUEsQ0FBQyxLQUFLO0lBSTNDLE1BQU1vQixvQkFBb0IsQ0FBQ0MsSUFBTTtRQUMvQkosZUFBZUksRUFBRUMsTUFBTSxDQUFDQyxLQUFLO0lBQy9CO0lBQ0EsTUFBTUMsY0FBYyxJQUFNO1FBQ3hCVixXQUFXVyxvQkFBb0IsQ0FBQ1Q7UUFDaENDLGVBQWU7SUFDakI7SUFDQSxNQUFNUyxnQkFBZ0IsQ0FBQ0MsTUFBUTtRQUM3QlIsVUFBVVE7SUFDWjtJQUVBLHFCQUNFLDhEQUFDQztRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0Q7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNDO29CQUFLRCxXQUFVOztzQ0FDZCw4REFBQ0Q7NEJBQUlDLFdBQVU7c0NBQ2YsNEVBQUNEO2dDQUFJQyxXQUFVOztvQ0FDaEJwQiwyQkFBYSw4REFBQ0Ysb0RBQVdBO3dDQUFDd0IsTUFBTXRCO3dDQUFXdUIsU0FBUyxJQUFJOzs7Ozs7b0NBQ3hEbkIsU0FDQ0EsTUFDR29CLE1BQU0sQ0FBQyxDQUFDRixPQUFTLENBQUNBLEtBQUtDLE9BQU8sRUFDOUJFLEdBQUcsQ0FBQyxDQUFDSCxPQUFTO3dDQUNiLHFCQUNFO3NEQUNFLDRFQUFDeEIsb0RBQVdBO2dEQUFDeUIsU0FBUyxLQUFLO2dEQUFFRCxNQUFNQTs7Ozs7OztvQ0FHekM7Ozs7Ozs7Ozs7OztzQ0FHRiw4REFBQ0Q7NEJBQUtELFdBQVU7c0NBRWQsNEVBQUNEO2dDQUFJQyxXQUFVOzBDQUViLDRFQUFDNUIsOERBQVFBO29DQUFDa0MsVUFBVVQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFLNUIsOERBQUNJO2dCQUFLRCxXQUFVOzBCQUNaLDRFQUFDRDtvQkFBSUMsV0FBVTs7c0NBRW5CLDhEQUFDRDs0QkFBSUMsV0FBVTtzQ0FDWmQsWUFBWW1CLEdBQUcsQ0FBQyxDQUFDRSxvQkFDaEIsOERBQUNSO29DQUNDQyxXQUFVOztzREFHViw4REFBQ0M7NENBQUtELFdBQVU7c0RBQ2JPLElBQUlDLFVBQVU7Ozs7OztzREFHakIsOERBQUNQOzRDQUFLRCxXQUFVO3NEQUFzQk8sSUFBSUUsT0FBTzs7Ozs7OzttQ0FONUNGLElBQUlHLEVBQUU7Ozs7Ozs7Ozs7c0NBVWpCLDhEQUFDWDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNXO29DQUNDQyxNQUFLO29DQUNMQyxhQUFZO29DQUNabkIsT0FBT1A7b0NBQ1AyQixVQUFVdkI7b0NBQ1Z3QixRQUFRO29DQUNSZixXQUFVOzs7Ozs7OENBRVosOERBQUNnQjtvQ0FDQ2hCLFdBQVU7b0NBQ1ZpQixTQUFTdEI7OENBQ1Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU1Q7R0ExRlNoQjs7UUFDV04sNkRBQVdBO1FBR2ZBLDZEQUFXQTtRQUVORywrREFBYUE7UUFDWkgsNkRBQVdBOzs7S0FQeEJNO0FBNEZULCtEQUFlQSxJQUFJQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvenV1bS9Sb29tLmpzPzJlMDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSZWFjdCwgdXNlU3RhdGV9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgQ29udHJvbHMgZnJvbSBcIi4vUm9vbUNvbnRyb2xzL0NvbnRyb2xzXCI7XHJcbmltcG9ydCB7XHJcbiAgdXNlSE1TU3RvcmUsXHJcbiAgc2VsZWN0TG9jYWxQZWVyLFxyXG4gIHNlbGVjdFBlZXJzLFxyXG4gIHVzZUhNU0FjdGlvbnMsXHJcbiAgc2VsZWN0SE1TTWVzc2FnZXMsXHJcbn0gZnJvbSBcIkAxMDBtc2xpdmUvcmVhY3Qtc2RrXCI7XHJcblxyXG5pbXBvcnQgVmlkZW9TcGFjZXMgZnJvbSBcIi4vVmlkZW9TcGFjZXNcIjtcclxuXHJcblxyXG5mdW5jdGlvbiBSb29tKCkge1xyXG4gIGNvbnN0IGxvY2FsUGVlciA9IHVzZUhNU1N0b3JlKHNlbGVjdExvY2FsUGVlcik7XHJcbiAgY29uc3QgaG9zdCA9IGxvY2FsUGVlci5yb2xlTmFtZSA9PT0gXCJob3N0XCI7XHJcbiAgY29uc3QgZ3Vlc3QgPSBsb2NhbFBlZXIucm9sZU5hbWUgPT09IFwiZ3Vlc3RcIjtcclxuICBjb25zdCBwZWVycyA9IHVzZUhNU1N0b3JlKHNlbGVjdFBlZXJzKTtcclxuXHJcbiAgY29uc3QgaG1zQWN0aW9ucyA9IHVzZUhNU0FjdGlvbnMoKTtcclxuICBjb25zdCBhbGxNZXNzYWdlcyA9IHVzZUhNU1N0b3JlKHNlbGVjdEhNU01lc3NhZ2VzKTsgLy8gZ2V0IGFsbCBtZXNzYWdlc1xyXG4gIGNvbnN0IFtpbnB1dFZhbHVlcywgc2V0SW5wdXRWYWx1ZXNdID0gdXNlU3RhdGUoXCJcIik7XHJcbiAgY29uc3QgW3Zpc2libGUsIGlzVmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgXHJcblxyXG5cclxuICBjb25zdCBoYW5kbGVJbnB1dENoYW5nZSA9IChlKSA9PiB7XHJcbiAgICBzZXRJbnB1dFZhbHVlcyhlLnRhcmdldC52YWx1ZSk7XHJcbiAgfTtcclxuICBjb25zdCBzZW5kTWVzc2FnZSA9ICgpID0+IHtcclxuICAgIGhtc0FjdGlvbnMuc2VuZEJyb2FkY2FzdE1lc3NhZ2UoaW5wdXRWYWx1ZXMpO1xyXG4gICAgc2V0SW5wdXRWYWx1ZXMoXCJcIik7XHJcbiAgfTtcclxuICBjb25zdCBzZXRWaXNpYmlsaXR5ID0gKGRhdCkgPT4ge1xyXG4gICAgaXNWaXNpYmxlKGRhdCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiIHJlbGF0aXZlIGgtc2NyZWVuIGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIHB4LTEyIGJnLXNsYXRlLTgwMCBmbGV4LXJvdyBnYXAtOCBvdmVyZmxvdy1oaWRkZW5cIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCIgaC01LzYgYmctc2xhdGUtNjAwIHNoYWRvdy1tZCB3LTMvNSByb3VuZGVkLTJ4bFwiPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgdy1mdWxsIGgtZnVsbFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgaC0zLzUgdy1mdWxsIHJvdW5kZWQtMnhsXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB0b3AtMCByaWdodC0wIHotMTAgcHktMyBweC02IGdyaWQgZ3JpZC1jb2xzLTMgZ2FwLTMgb3ZlcmZsb3cteS1hdXRvXCI+XHJcbiAgICAgICAge2xvY2FsUGVlciAmJiA8VmlkZW9TcGFjZXMgcGVlcj17bG9jYWxQZWVyfSBpc0xvY2FsPXt0cnVlfSAvPn1cclxuICAgICAgICB7cGVlcnMgJiZcclxuICAgICAgICAgIHBlZXJzXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKHBlZXIpID0+ICFwZWVyLmlzTG9jYWwpXHJcbiAgICAgICAgICAgIC5tYXAoKHBlZXIpID0+IHtcclxuICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAgPFZpZGVvU3BhY2VzIGlzTG9jYWw9e2ZhbHNlfSBwZWVyPXtwZWVyfSAvPlxyXG4gICAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCIgaC0yLzUgdy1mdWxsIGZsZXggZmxleC1jb2wgZ2FwLTggcHktMyBweC01XCI+XHJcbiAgICAgICAgIFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctbWF4IHB4LTQgYmctc2xhdGUtNTAwIGgtMTIgcm91bmRlZC1tZFwiPlxyXG4gICAgICAgICAgICAgIHsvKiBDb250cm9scyAqL31cclxuICAgICAgICAgICAgICA8Q29udHJvbHMgc3dpdGNoZXM9e3NldFZpc2liaWxpdHl9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIiB6LTEwIHJvdW5kZWQtbWQgdy0xLzQgaC01LzZcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIHJlbGF0aXZlIGgtZnVsbCB3LWZ1bGwgcGItMjBcIj5cclxuICAgICAgey8qIENoYXQgaW50ZXJmYWNlICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIiByZWxhdGl2ZSB3LWZ1bGwgaC1mdWxsIGJnLWdyYXktNTAwIG92ZXJmbG93LXktc2Nyb2xsXCI+XHJcbiAgICAgICAge2FsbE1lc3NhZ2VzLm1hcCgobXNnKSA9PiAoXHJcbiAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTIgYmctZ3JheS05MDAgbS0zIHB5LTIgcHgtMiByb3VuZGVkLW1kXCJcclxuICAgICAgICAgICAga2V5PXttc2cuaWR9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC0yeGwgZm9udC10aGluIG9wYWNpdHktNzVcIj5cclxuICAgICAgICAgICAgICB7bXNnLnNlbmRlck5hbWV9XHJcbiAgICAgICAgICAgICAgey8qIHtjb25zb2xlLmxvZyhtc2cudGltZSl9ICovfVxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC14bFwiPnttc2cubWVzc2FnZX08L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGFic29sdXRlIHctZnVsbCByb3VuZGVkLTJ4bCBib3R0b20tMCBiZy1zbGF0ZS05MDAgcHktMyBweC01IGZsZXggZmxleC1yb3cgZ2FwLTRcIj5cclxuICAgICAgICA8aW5wdXRcclxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiV3JpdGUgYSBNZXNzYWdlXCJcclxuICAgICAgICAgIHZhbHVlPXtpbnB1dFZhbHVlc31cclxuICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVJbnB1dENoYW5nZX1cclxuICAgICAgICAgIHJlcXVpcmVkXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCIgZm9jdXM6b3V0bGluZS1ub25lIGZsZXgtMSBweC0yIHB5LTMgcm91bmRlZC1tZCB0ZXh0LXdoaXRlIGJnLXNsYXRlLTkwMFwiXHJcbiAgICAgICAgLz5cclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCIgYnRuIGZsZXgtMSB0ZXh0LXdoaXRlIGJnLWJsdWUtNjAwIHB5LTMgcHgtMTAgcm91bmRlZC1tZFwiXHJcbiAgICAgICAgICBvbkNsaWNrPXtzZW5kTWVzc2FnZX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICBTZW5kXHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICAgIDwvc3Bhbj5cclxuICAgIDwvZGl2PlxyXG4gICAgXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUm9vbTsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsIkNvbnRyb2xzIiwidXNlSE1TU3RvcmUiLCJzZWxlY3RMb2NhbFBlZXIiLCJzZWxlY3RQZWVycyIsInVzZUhNU0FjdGlvbnMiLCJzZWxlY3RITVNNZXNzYWdlcyIsIlZpZGVvU3BhY2VzIiwiUm9vbSIsImxvY2FsUGVlciIsImhvc3QiLCJyb2xlTmFtZSIsImd1ZXN0IiwicGVlcnMiLCJobXNBY3Rpb25zIiwiYWxsTWVzc2FnZXMiLCJpbnB1dFZhbHVlcyIsInNldElucHV0VmFsdWVzIiwidmlzaWJsZSIsImlzVmlzaWJsZSIsImhhbmRsZUlucHV0Q2hhbmdlIiwiZSIsInRhcmdldCIsInZhbHVlIiwic2VuZE1lc3NhZ2UiLCJzZW5kQnJvYWRjYXN0TWVzc2FnZSIsInNldFZpc2liaWxpdHkiLCJkYXQiLCJkaXYiLCJjbGFzc05hbWUiLCJzcGFuIiwicGVlciIsImlzTG9jYWwiLCJmaWx0ZXIiLCJtYXAiLCJzd2l0Y2hlcyIsIm1zZyIsInNlbmRlck5hbWUiLCJtZXNzYWdlIiwiaWQiLCJpbnB1dCIsInR5cGUiLCJwbGFjZWhvbGRlciIsIm9uQ2hhbmdlIiwicmVxdWlyZWQiLCJidXR0b24iLCJvbkNsaWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/zuum/Room.js\n"));

/***/ }),

/***/ "./components/zuum/RoomControls/Controls.js":
/*!**************************************************!*\
  !*** ./components/zuum/RoomControls/Controls.js ***!
  \**************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @100mslive/react-sdk */ \"./node_modules/@100mslive/react-sdk/dist/index.js\");\n\nvar _s = $RefreshSig$();\n\n\n\nfunction Controls(param) {\n    let { switches  } = param;\n    _s();\n    const hmsActions = (0,_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.useHMSActions)();\n    const localPeer = (0,_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.useHMSStore)(_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.selectLocalPeer);\n    const host = localPeer.roleName === \"host\";\n    const peers = (0,_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.useHMSStore)(_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.selectPeers);\n    const isLocalAudioEnabled = (0,_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.useHMSStore)(_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.selectIsLocalAudioEnabled);\n    const isLocalVideoEnabled = (0,_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.useHMSStore)(_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.selectIsLocalVideoEnabled);\n    const isLocalScreenShared = (0,_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.useHMSStore)(_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.selectIsLocalScreenShared);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const SwitchAudio = async ()=>{\n        //toggle audio enabled\n        await hmsActions.setLocalAudioEnabled(!isLocalAudioEnabled);\n    };\n    const SwitchVideo = async ()=>{\n        //toggle video enabled\n        await hmsActions.setLocalVideoEnabled(!isLocalVideoEnabled);\n    };\n    const ExitRoom = ()=>{\n        hmsActions.leave();\n        //exit a room\n        router.push(\"/list\");\n    };\n    const permissions = (0,_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.useHMSStore)(_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.selectPermissions);\n    const endRoom = async ()=>{\n        //end the meeting\n        try {\n            const lock = false; // A value of true disallow rejoins\n            const reason = \"Meeting is over\";\n            await hmsActions.endRoom(lock, reason);\n        } catch (error) {\n            // Permission denied or not connected to room\n            console.error(error);\n        }\n        router.push(\"/list\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \" w-full h-full flex flex-row gap-2 justify-center items-center text-white font-semibold\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \" uppercase px-5 py-2 hover:bg-blue-600\",\n                onClick: SwitchVideo,\n                children: isLocalVideoEnabled ? \"On Video\" : \"Off Video\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\RoomControls\\\\Controls.js\",\n                lineNumber: 58,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \" uppercase px-5 py-2 hover:bg-blue-600\",\n                onClick: SwitchAudio,\n                children: isLocalAudioEnabled ? \"On Audio\" : \"Off Audio\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\RoomControls\\\\Controls.js\",\n                lineNumber: 64,\n                columnNumber: 7\n            }, this),\n            host ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: permissions.endRoom ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    className: \" uppercase px-5 py-2 hover:bg-blue-600\",\n                    onClick: endRoom,\n                    children: \"Exit Meeting\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\RoomControls\\\\Controls.js\",\n                    lineNumber: 73,\n                    columnNumber: 13\n                }, this) : null\n            }, void 0, false) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    className: \" uppercase px-5 py-2 hover:bg-blue-600\",\n                    onClick: ExitRoom,\n                    children: \"Exit Meeting\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\RoomControls\\\\Controls.js\",\n                    lineNumber: 83,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\RoomControls\\\\Controls.js\",\n        lineNumber: 57,\n        columnNumber: 5\n    }, this);\n}\n_s(Controls, \"rw43PsINrsH9w/Xi6N+N3MqMuTw=\", false, function() {\n    return [\n        _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.useHMSActions,\n        _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.useHMSStore,\n        _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.useHMSStore,\n        _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.useHMSStore,\n        _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.useHMSStore,\n        _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.useHMSStore,\n        next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.useHMSStore\n    ];\n});\n_c = Controls;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Controls);\nvar _c;\n$RefreshReg$(_c, \"Controls\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL3p1dW0vUm9vbUNvbnRyb2xzL0NvbnRyb2xzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7O0FBQTBCO0FBQ2M7QUFVVjtBQUU5QixTQUFTVSxTQUFTLEtBQVksRUFBRTtRQUFkLEVBQUVDLFNBQVEsRUFBRSxHQUFaOztJQUNoQixNQUFNQyxhQUFhVixtRUFBYUE7SUFDaEMsTUFBTVcsWUFBWVYsaUVBQVdBLENBQUNFLGlFQUFlQTtJQUM3QyxNQUFNUyxPQUFPRCxVQUFVRSxRQUFRLEtBQUs7SUFDcEMsTUFBTUMsUUFBUWIsaUVBQVdBLENBQUNDLDZEQUFXQTtJQUNyQyxNQUFNYSxzQkFBc0JkLGlFQUFXQSxDQUFDRywyRUFBeUJBO0lBQ2pFLE1BQU1ZLHNCQUFzQmYsaUVBQVdBLENBQUNJLDJFQUF5QkE7SUFDakUsTUFBTVksc0JBQXNCaEIsaUVBQVdBLENBQUNNLDJFQUF5QkE7SUFDakUsTUFBTVcsU0FBU25CLHNEQUFTQTtJQUV4QixNQUFNb0IsY0FBYyxVQUFZO1FBQzlCLHNCQUFzQjtRQUN0QixNQUFNVCxXQUFXVSxvQkFBb0IsQ0FBQyxDQUFDTDtJQUN6QztJQUdBLE1BQU1NLGNBQWMsVUFBWTtRQUM5QixzQkFBc0I7UUFDdEIsTUFBTVgsV0FBV1ksb0JBQW9CLENBQUMsQ0FBQ047SUFDekM7SUFFQSxNQUFNTyxXQUFXLElBQU07UUFDckJiLFdBQVdjLEtBQUs7UUFDaEIsYUFBYTtRQUNiTixPQUFPTyxJQUFJLENBQUM7SUFDZDtJQUVBLE1BQU1DLGNBQWN6QixpRUFBV0EsQ0FBQ0ssbUVBQWlCQTtJQUVqRCxNQUFNcUIsVUFBVSxVQUFZO1FBQzFCLGlCQUFpQjtRQUNqQixJQUFJO1lBQ0YsTUFBTUMsT0FBTyxLQUFLLEVBQUUsbUNBQW1DO1lBQ3ZELE1BQU1DLFNBQVM7WUFDZixNQUFNbkIsV0FBV2lCLE9BQU8sQ0FBQ0MsTUFBTUM7UUFDakMsRUFBRSxPQUFPQyxPQUFPO1lBQ2QsNkNBQTZDO1lBQzdDQyxRQUFRRCxLQUFLLENBQUNBO1FBQ2hCO1FBQ0FaLE9BQU9PLElBQUksQ0FBQztJQUNkO0lBRUEscUJBQ0UsOERBQUNPO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDQztnQkFDQ0QsV0FBVTtnQkFDVkUsU0FBU2Q7MEJBRVJMLHNCQUFzQixhQUFhLFdBQVc7Ozs7OzswQkFFakQsOERBQUNrQjtnQkFDQ0QsV0FBVTtnQkFDVkUsU0FBU2hCOzBCQUVSSixzQkFBc0IsYUFBYSxXQUFXOzs7Ozs7WUFFaERILHFCQUNDOzBCQUNHYyxZQUFZQyxPQUFPLGlCQUNsQiw4REFBQ087b0JBQ0NELFdBQVU7b0JBQ1ZFLFNBQVNSOzhCQUNWOzs7OzsyQkFHQyxJQUFJOzhDQUdWOzBCQUNFLDRFQUFDTztvQkFDQ0QsV0FBVTtvQkFDVkUsU0FBU1o7OEJBQ1Y7Ozs7Ozs2QkFJSjs7Ozs7OztBQUdQO0dBL0VTZjs7UUFDWVIsK0RBQWFBO1FBQ2RDLDZEQUFXQTtRQUVmQSw2REFBV0E7UUFDR0EsNkRBQVdBO1FBQ1hBLDZEQUFXQTtRQUNYQSw2REFBV0E7UUFDeEJGLGtEQUFTQTtRQW1CSkUsNkRBQVdBOzs7S0EzQnhCTztBQWdGVCwrREFBZUEsUUFBUUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL3p1dW0vUm9vbUNvbnRyb2xzL0NvbnRyb2xzLmpzP2E4ZDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XHJcbmltcG9ydCB7XHJcbiAgdXNlSE1TQWN0aW9ucyxcclxuICB1c2VITVNTdG9yZSxcclxuICBzZWxlY3RQZWVycyxcclxuICBzZWxlY3RMb2NhbFBlZXIsXHJcbiAgc2VsZWN0SXNMb2NhbEF1ZGlvRW5hYmxlZCxcclxuICBzZWxlY3RJc0xvY2FsVmlkZW9FbmFibGVkLFxyXG4gIHNlbGVjdFBlcm1pc3Npb25zLFxyXG4gIHNlbGVjdElzTG9jYWxTY3JlZW5TaGFyZWQsXHJcbn0gZnJvbSBcIkAxMDBtc2xpdmUvcmVhY3Qtc2RrXCI7XHJcblxyXG5mdW5jdGlvbiBDb250cm9scyh7IHN3aXRjaGVzIH0pIHtcclxuICBjb25zdCBobXNBY3Rpb25zID0gdXNlSE1TQWN0aW9ucygpO1xyXG4gIGNvbnN0IGxvY2FsUGVlciA9IHVzZUhNU1N0b3JlKHNlbGVjdExvY2FsUGVlcik7XHJcbiAgY29uc3QgaG9zdCA9IGxvY2FsUGVlci5yb2xlTmFtZSA9PT0gXCJob3N0XCI7XHJcbiAgY29uc3QgcGVlcnMgPSB1c2VITVNTdG9yZShzZWxlY3RQZWVycyk7XHJcbiAgY29uc3QgaXNMb2NhbEF1ZGlvRW5hYmxlZCA9IHVzZUhNU1N0b3JlKHNlbGVjdElzTG9jYWxBdWRpb0VuYWJsZWQpO1xyXG4gIGNvbnN0IGlzTG9jYWxWaWRlb0VuYWJsZWQgPSB1c2VITVNTdG9yZShzZWxlY3RJc0xvY2FsVmlkZW9FbmFibGVkKTtcclxuICBjb25zdCBpc0xvY2FsU2NyZWVuU2hhcmVkID0gdXNlSE1TU3RvcmUoc2VsZWN0SXNMb2NhbFNjcmVlblNoYXJlZCk7XHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcblxyXG4gIGNvbnN0IFN3aXRjaEF1ZGlvID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgLy90b2dnbGUgYXVkaW8gZW5hYmxlZFxyXG4gICAgYXdhaXQgaG1zQWN0aW9ucy5zZXRMb2NhbEF1ZGlvRW5hYmxlZCghaXNMb2NhbEF1ZGlvRW5hYmxlZCk7XHJcbiAgfTtcclxuXHJcblxyXG4gIGNvbnN0IFN3aXRjaFZpZGVvID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgLy90b2dnbGUgdmlkZW8gZW5hYmxlZFxyXG4gICAgYXdhaXQgaG1zQWN0aW9ucy5zZXRMb2NhbFZpZGVvRW5hYmxlZCghaXNMb2NhbFZpZGVvRW5hYmxlZCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgRXhpdFJvb20gPSAoKSA9PiB7XHJcbiAgICBobXNBY3Rpb25zLmxlYXZlKCk7XHJcbiAgICAvL2V4aXQgYSByb29tXHJcbiAgICByb3V0ZXIucHVzaChcIi9saXN0XCIpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHBlcm1pc3Npb25zID0gdXNlSE1TU3RvcmUoc2VsZWN0UGVybWlzc2lvbnMpO1xyXG5cclxuICBjb25zdCBlbmRSb29tID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgLy9lbmQgdGhlIG1lZXRpbmdcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGxvY2sgPSBmYWxzZTsgLy8gQSB2YWx1ZSBvZiB0cnVlIGRpc2FsbG93IHJlam9pbnNcclxuICAgICAgY29uc3QgcmVhc29uID0gXCJNZWV0aW5nIGlzIG92ZXJcIjtcclxuICAgICAgYXdhaXQgaG1zQWN0aW9ucy5lbmRSb29tKGxvY2ssIHJlYXNvbik7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBQZXJtaXNzaW9uIGRlbmllZCBvciBub3QgY29ubmVjdGVkIHRvIHJvb21cclxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICB9XHJcbiAgICByb3V0ZXIucHVzaChcIi9saXN0XCIpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIiB3LWZ1bGwgaC1mdWxsIGZsZXggZmxleC1yb3cgZ2FwLTIganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZFwiPlxyXG4gICAgICA8YnV0dG9uXHJcbiAgICAgICAgY2xhc3NOYW1lPVwiIHVwcGVyY2FzZSBweC01IHB5LTIgaG92ZXI6YmctYmx1ZS02MDBcIlxyXG4gICAgICAgIG9uQ2xpY2s9e1N3aXRjaFZpZGVvfVxyXG4gICAgICA+XHJcbiAgICAgICAge2lzTG9jYWxWaWRlb0VuYWJsZWQgPyBcIk9uIFZpZGVvXCIgOiBcIk9mZiBWaWRlb1wifVxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgICAgPGJ1dHRvblxyXG4gICAgICAgIGNsYXNzTmFtZT1cIiB1cHBlcmNhc2UgcHgtNSBweS0yIGhvdmVyOmJnLWJsdWUtNjAwXCJcclxuICAgICAgICBvbkNsaWNrPXtTd2l0Y2hBdWRpb31cclxuICAgICAgPlxyXG4gICAgICAgIHtpc0xvY2FsQXVkaW9FbmFibGVkID8gXCJPbiBBdWRpb1wiIDogXCJPZmYgQXVkaW9cIn1cclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIHtob3N0ID8gKFxyXG4gICAgICAgIDw+XHJcbiAgICAgICAgICB7cGVybWlzc2lvbnMuZW5kUm9vbSA/IChcclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIiB1cHBlcmNhc2UgcHgtNSBweS0yIGhvdmVyOmJnLWJsdWUtNjAwXCJcclxuICAgICAgICAgICAgICBvbkNsaWNrPXtlbmRSb29tfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgRXhpdCBNZWV0aW5nXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgKSA6IG51bGx9XHJcbiAgICAgICAgPC8+XHJcbiAgICAgICkgOiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiIHVwcGVyY2FzZSBweC01IHB5LTIgaG92ZXI6YmctYmx1ZS02MDBcIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXtFeGl0Um9vbX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgRXhpdCBNZWV0aW5nXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8Lz5cclxuICAgICAgKX1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbHM7Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlUm91dGVyIiwidXNlSE1TQWN0aW9ucyIsInVzZUhNU1N0b3JlIiwic2VsZWN0UGVlcnMiLCJzZWxlY3RMb2NhbFBlZXIiLCJzZWxlY3RJc0xvY2FsQXVkaW9FbmFibGVkIiwic2VsZWN0SXNMb2NhbFZpZGVvRW5hYmxlZCIsInNlbGVjdFBlcm1pc3Npb25zIiwic2VsZWN0SXNMb2NhbFNjcmVlblNoYXJlZCIsIkNvbnRyb2xzIiwic3dpdGNoZXMiLCJobXNBY3Rpb25zIiwibG9jYWxQZWVyIiwiaG9zdCIsInJvbGVOYW1lIiwicGVlcnMiLCJpc0xvY2FsQXVkaW9FbmFibGVkIiwiaXNMb2NhbFZpZGVvRW5hYmxlZCIsImlzTG9jYWxTY3JlZW5TaGFyZWQiLCJyb3V0ZXIiLCJTd2l0Y2hBdWRpbyIsInNldExvY2FsQXVkaW9FbmFibGVkIiwiU3dpdGNoVmlkZW8iLCJzZXRMb2NhbFZpZGVvRW5hYmxlZCIsIkV4aXRSb29tIiwibGVhdmUiLCJwdXNoIiwicGVybWlzc2lvbnMiLCJlbmRSb29tIiwibG9jayIsInJlYXNvbiIsImVycm9yIiwiY29uc29sZSIsImRpdiIsImNsYXNzTmFtZSIsImJ1dHRvbiIsIm9uQ2xpY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/zuum/RoomControls/Controls.js\n"));

/***/ }),

/***/ "./components/zuum/VideoSpaces.js":
/*!****************************************!*\
  !*** ./components/zuum/VideoSpaces.js ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @100mslive/react-sdk */ \"./node_modules/@100mslive/react-sdk/dist/index.js\");\n\nvar _s = $RefreshSig$();\n\n\nfunction VideoSpaces(param) {\n    let { peer , islocal  } = param;\n    _s();\n    const hmsActions = (0,_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_2__.useHMSActions)();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoTrack = (0,_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_2__.useHMSStore)((0,_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_2__.selectCameraStreamByPeerID)(peer.id));\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (async ()=>{\n            if (videoRef.current && videoTrack) {\n                if (videoTrack.enabled) {\n                    await hmsActions.attachVideo(videoTrack.id, videoRef.current);\n                } else {\n                    await hmsActions.detachVideo(videoTrack.id, videoRef.current);\n                }\n            }\n        })();\n    }, [\n        videoTrack\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \" flex m-1\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                    ref: videoRef,\n                    autoPlay: true,\n                    playsInline: true,\n                    muted: false,\n                    className: 'object-cover h-64 w-64 rounded-lg mt-12 shadow-lg \" '.concat(islocal ? \"mirror\" : \"bg-gray-400\")\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\VideoSpaces.js\",\n                    lineNumber: 28,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"top-0 w-full absolute flex justify-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"px-2 py-1 text-sm bg-gray-900 text-white mt-2 ml-2 rounded-lg\",\n                        children: \"\".concat(peer.name)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\VideoSpaces.js\",\n                        lineNumber: 38,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\VideoSpaces.js\",\n                    lineNumber: 37,\n                    columnNumber: 8\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\VideoSpaces.js\",\n            lineNumber: 27,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\components\\\\zuum\\\\VideoSpaces.js\",\n        lineNumber: 26,\n        columnNumber: 5\n    }, this);\n}\n_s(VideoSpaces, \"tQ4hhssNuwNxEDWZ9oJYyOYjHpk=\", false, function() {\n    return [\n        _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_2__.useHMSActions,\n        _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_2__.useHMSStore\n    ];\n});\n_c = VideoSpaces;\n/* harmony default export */ __webpack_exports__[\"default\"] = (VideoSpaces);\nvar _c;\n$RefreshReg$(_c, \"VideoSpaces\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL3p1dW0vVmlkZW9TcGFjZXMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0FBQWlEO0FBTW5CO0FBQzlCLFNBQVNPLFlBQVksS0FBaUIsRUFBRTtRQUFuQixFQUFFQyxLQUFJLEVBQUVDLFFBQU8sRUFBRSxHQUFqQjs7SUFDbkIsTUFBTUMsYUFBYVAsbUVBQWFBO0lBQ2hDLE1BQU1RLFdBQVdULDZDQUFNQSxDQUFDLElBQUk7SUFDNUIsTUFBTVUsYUFBYVIsaUVBQVdBLENBQUNFLGdGQUEwQkEsQ0FBQ0UsS0FBS0ssRUFBRTtJQUVqRVosZ0RBQVNBLENBQUMsSUFBTTtRQUNiLFdBQVk7WUFDWCxJQUFJVSxTQUFTRyxPQUFPLElBQUlGLFlBQVk7Z0JBQ2xDLElBQUlBLFdBQVdHLE9BQU8sRUFBRTtvQkFDdEIsTUFBTUwsV0FBV00sV0FBVyxDQUFDSixXQUFXQyxFQUFFLEVBQUVGLFNBQVNHLE9BQU87Z0JBQzlELE9BQU87b0JBQ0wsTUFBTUosV0FBV08sV0FBVyxDQUFDTCxXQUFXQyxFQUFFLEVBQUVGLFNBQVNHLE9BQU87Z0JBQzlELENBQUM7WUFDSCxDQUFDO1FBQ0g7SUFDRixHQUFHO1FBQUNGO0tBQVc7SUFFZixxQkFDRSw4REFBQ007UUFBSUMsV0FBVTtrQkFDYiw0RUFBQ0Q7WUFBSUMsV0FBVTs7OEJBQ2IsOERBQUNDO29CQUNDQyxLQUFLVjtvQkFDTFcsVUFBVSxJQUFJO29CQUNkQyxXQUFXO29CQUNYQyxPQUFPLEtBQUs7b0JBQ1pMLFdBQVcsdURBRVYsT0FEQ1YsVUFBVSxXQUFXLGFBQWE7Ozs7Ozs4QkFHdkMsOERBQUNTO29CQUFJQyxXQUFVOzhCQUNaLDRFQUFDRDt3QkFBSUMsV0FBVTtrQ0FBaUUsR0FBYSxPQUFWWCxLQUFLaUIsSUFBSTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUt0RztHQW5DU2xCOztRQUNZSiwrREFBYUE7UUFFYkMsNkRBQVdBOzs7S0FIdkJHO0FBcUNULCtEQUFlQSxXQUFXQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvenV1bS9WaWRlb1NwYWNlcy5qcz8wMDE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0LCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQge1xyXG4gIHVzZUhNU0FjdGlvbnMsXHJcbiAgdXNlSE1TU3RvcmUsXHJcbiAgc2VsZWN0TG9jYWxQZWVyLFxyXG4gIHNlbGVjdENhbWVyYVN0cmVhbUJ5UGVlcklELFxyXG59IGZyb20gXCJAMTAwbXNsaXZlL3JlYWN0LXNka1wiO1xyXG5mdW5jdGlvbiBWaWRlb1NwYWNlcyh7IHBlZXIsIGlzbG9jYWwgfSkge1xyXG4gIGNvbnN0IGhtc0FjdGlvbnMgPSB1c2VITVNBY3Rpb25zKCk7XHJcbiAgY29uc3QgdmlkZW9SZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgY29uc3QgdmlkZW9UcmFjayA9IHVzZUhNU1N0b3JlKHNlbGVjdENhbWVyYVN0cmVhbUJ5UGVlcklEKHBlZXIuaWQpKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIChhc3luYyAoKSA9PiB7XHJcbiAgICAgIGlmICh2aWRlb1JlZi5jdXJyZW50ICYmIHZpZGVvVHJhY2spIHtcclxuICAgICAgICBpZiAodmlkZW9UcmFjay5lbmFibGVkKSB7XHJcbiAgICAgICAgICBhd2FpdCBobXNBY3Rpb25zLmF0dGFjaFZpZGVvKHZpZGVvVHJhY2suaWQsIHZpZGVvUmVmLmN1cnJlbnQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhd2FpdCBobXNBY3Rpb25zLmRldGFjaFZpZGVvKHZpZGVvVHJhY2suaWQsIHZpZGVvUmVmLmN1cnJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSkoKTtcclxuICB9LCBbdmlkZW9UcmFja10pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCIgZmxleCBtLTFcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxyXG4gICAgICAgIDx2aWRlb1xyXG4gICAgICAgICAgcmVmPXt2aWRlb1JlZn1cclxuICAgICAgICAgIGF1dG9QbGF5PXt0cnVlfVxyXG4gICAgICAgICAgcGxheXNJbmxpbmVcclxuICAgICAgICAgIG11dGVkPXtmYWxzZX1cclxuICAgICAgICAgIGNsYXNzTmFtZT17YG9iamVjdC1jb3ZlciBoLTY0IHctNjQgcm91bmRlZC1sZyBtdC0xMiBzaGFkb3ctbGcgXCIgJHtcclxuICAgICAgICAgICAgaXNsb2NhbCA/IFwibWlycm9yXCIgOiBcImJnLWdyYXktNDAwXCJcclxuICAgICAgICAgIH1gfVxyXG4gICAgICAgID48L3ZpZGVvPlxyXG4gICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3AtMCB3LWZ1bGwgYWJzb2x1dGUgZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC0yIHB5LTEgdGV4dC1zbSBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIG10LTIgbWwtMiByb3VuZGVkLWxnXCI+e2Ake3BlZXIubmFtZX1gfTwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFZpZGVvU3BhY2VzOyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZUhNU0FjdGlvbnMiLCJ1c2VITVNTdG9yZSIsInNlbGVjdExvY2FsUGVlciIsInNlbGVjdENhbWVyYVN0cmVhbUJ5UGVlcklEIiwiVmlkZW9TcGFjZXMiLCJwZWVyIiwiaXNsb2NhbCIsImhtc0FjdGlvbnMiLCJ2aWRlb1JlZiIsInZpZGVvVHJhY2siLCJpZCIsImN1cnJlbnQiLCJlbmFibGVkIiwiYXR0YWNoVmlkZW8iLCJkZXRhY2hWaWRlbyIsImRpdiIsImNsYXNzTmFtZSIsInZpZGVvIiwicmVmIiwiYXV0b1BsYXkiLCJwbGF5c0lubGluZSIsIm11dGVkIiwibmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/zuum/VideoSpaces.js\n"));

/***/ }),

/***/ "./pages/room.js":
/*!***********************!*\
  !*** ./pages/room.js ***!
  \***********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_rooms_JoinRoom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/rooms/JoinRoom */ \"./components/rooms/JoinRoom.js\");\n/* harmony import */ var _100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @100mslive/react-sdk */ \"./node_modules/@100mslive/react-sdk/dist/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/react */ \"./node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_2__);\n\nvar _s = $RefreshSig$();\n\n\n\nfunction RoomPage() {\n    _s();\n    const { data: session , status  } = (0,next_auth_react__WEBPACK_IMPORTED_MODULE_2__.useSession)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_100mslive_react_sdk__WEBPACK_IMPORTED_MODULE_3__.HMSRoomProvider, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_rooms_JoinRoom__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {}, void 0, false, {\n                fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\pages\\\\room.js\",\n                lineNumber: 14,\n                columnNumber: 5\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\pages\\\\room.js\",\n            lineNumber: 12,\n            columnNumber: 5\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\fendr\\\\OneDrive\\\\Bureau\\\\Zoom App\\\\prisma demo\\\\Zuum(zoom-clone)\\\\pages\\\\room.js\",\n        lineNumber: 11,\n        columnNumber: 10\n    }, this);\n}\n_s(RoomPage, \"3ajMGNIhBt/rk5+NunbH9KXs66I=\", false, function() {\n    return [\n        next_auth_react__WEBPACK_IMPORTED_MODULE_2__.useSession\n    ];\n});\n_c = RoomPage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (RoomPage);\nvar _c;\n$RefreshReg$(_c, \"RoomPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9yb29tLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFBb0Q7QUFFRztBQUNKO0FBSW5ELFNBQVNJLFdBQVc7O0lBQ2xCLE1BQU0sRUFBRUMsTUFBTUMsUUFBTyxFQUFFQyxPQUFNLEVBQUMsR0FBR0osMkRBQVVBO0lBRTNDLHFCQUFPLDhEQUFDSztrQkFDTiw0RUFBQ1AsaUVBQWVBO3NCQUVoQiw0RUFBQ0Qsa0VBQVFBOzs7Ozs7Ozs7Ozs7Ozs7QUFNYjtHQVpTSTs7UUFDMEJELHVEQUFVQTs7O0tBRHBDQztBQWNULCtEQUFlQSxRQUFRQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3BhZ2VzL3Jvb20uanM/N2E2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSm9pblJvb20gZnJvbSBcIi4uL2NvbXBvbmVudHMvcm9vbXMvSm9pblJvb21cIjtcclxuXHJcbmltcG9ydCB7IEhNU1Jvb21Qcm92aWRlciB9IGZyb20gXCJAMTAwbXNsaXZlL3JlYWN0LXNka1wiO1xyXG5pbXBvcnQge3NpZ25PdXQsIHVzZVNlc3Npb259IGZyb20gXCJuZXh0LWF1dGgvcmVhY3RcIlxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBSb29tUGFnZSgpIHtcclxuICBjb25zdCB7IGRhdGE6IHNlc3Npb24sIHN0YXR1c30gPSB1c2VTZXNzaW9uKClcclxuIFxyXG4gIHJldHVybiA8ZGl2PlxyXG4gICAgPEhNU1Jvb21Qcm92aWRlcj5cclxuXHJcbiAgICA8Sm9pblJvb20vPlxyXG5cclxuICAgIDwvSE1TUm9vbVByb3ZpZGVyPlxyXG4gICAgXHJcbiAgICBcclxuICAgIDwvZGl2PlxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSb29tUGFnZTsiXSwibmFtZXMiOlsiSm9pblJvb20iLCJITVNSb29tUHJvdmlkZXIiLCJzaWduT3V0IiwidXNlU2Vzc2lvbiIsIlJvb21QYWdlIiwiZGF0YSIsInNlc3Npb24iLCJzdGF0dXMiLCJkaXYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/room.js\n"));

/***/ }),

/***/ "./node_modules/react-intersection-observer/react-intersection-observer.m.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/react-intersection-observer/react-intersection-observer.m.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InView\": function() { return /* binding */ InView; },\n/* harmony export */   \"default\": function() { return /* binding */ InView; },\n/* harmony export */   \"defaultFallbackInView\": function() { return /* binding */ defaultFallbackInView; },\n/* harmony export */   \"observe\": function() { return /* binding */ observe; },\n/* harmony export */   \"useInView\": function() { return /* binding */ useInView; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar observerMap = new Map();\nvar RootIds = new WeakMap();\nvar rootId = 0;\nvar unsupportedValue = undefined;\n/**\r\n * What should be the default behavior if the IntersectionObserver is unsupported?\r\n * Ideally the polyfill has been loaded, you can have the following happen:\r\n * - `undefined`: Throw an error\r\n * - `true` or `false`: Set the `inView` value to this regardless of intersection state\r\n * **/\n\nfunction defaultFallbackInView(inView) {\n  unsupportedValue = inView;\n}\n/**\r\n * Generate a unique ID for the root element\r\n * @param root\r\n */\n\nfunction getRootId(root) {\n  if (!root) return '0';\n  if (RootIds.has(root)) return RootIds.get(root);\n  rootId += 1;\n  RootIds.set(root, rootId.toString());\n  return RootIds.get(root);\n}\n/**\r\n * Convert the options to a string Id, based on the values.\r\n * Ensures we can reuse the same observer when observing elements with the same options.\r\n * @param options\r\n */\n\n\nfunction optionsToId(options) {\n  return Object.keys(options).sort().filter(function (key) {\n    return options[key] !== undefined;\n  }).map(function (key) {\n    return key + \"_\" + (key === 'root' ? getRootId(options.root) : options[key]);\n  }).toString();\n}\n\nfunction createObserver(options) {\n  // Create a unique ID for this observer instance, based on the root, root margin and threshold.\n  var id = optionsToId(options);\n  var instance = observerMap.get(id);\n\n  if (!instance) {\n    // Create a map of elements this observer is going to observe. Each element has a list of callbacks that should be triggered, once it comes into view.\n    var elements = new Map();\n    var thresholds;\n    var observer = new IntersectionObserver(function (entries) {\n      entries.forEach(function (entry) {\n        var _elements$get;\n\n        // While it would be nice if you could just look at isIntersecting to determine if the component is inside the viewport, browsers can't agree on how to use it.\n        // -Firefox ignores `threshold` when considering `isIntersecting`, so it will never be false again if `threshold` is > 0\n        var inView = entry.isIntersecting && thresholds.some(function (threshold) {\n          return entry.intersectionRatio >= threshold;\n        }); // @ts-ignore support IntersectionObserver v2\n\n        if (options.trackVisibility && typeof entry.isVisible === 'undefined') {\n          // The browser doesn't support Intersection Observer v2, falling back to v1 behavior.\n          // @ts-ignore\n          entry.isVisible = inView;\n        }\n\n        (_elements$get = elements.get(entry.target)) == null ? void 0 : _elements$get.forEach(function (callback) {\n          callback(inView, entry);\n        });\n      });\n    }, options); // Ensure we have a valid thresholds array. If not, use the threshold from the options\n\n    thresholds = observer.thresholds || (Array.isArray(options.threshold) ? options.threshold : [options.threshold || 0]);\n    instance = {\n      id: id,\n      observer: observer,\n      elements: elements\n    };\n    observerMap.set(id, instance);\n  }\n\n  return instance;\n}\n/**\r\n * @param element - DOM Element to observe\r\n * @param callback - Callback function to trigger when intersection status changes\r\n * @param options - Intersection Observer options\r\n * @param fallbackInView - Fallback inView value.\r\n * @return Function - Cleanup function that should be triggered to unregister the observer\r\n */\n\n\nfunction observe(element, callback, options, fallbackInView) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (fallbackInView === void 0) {\n    fallbackInView = unsupportedValue;\n  }\n\n  if (typeof window.IntersectionObserver === 'undefined' && fallbackInView !== undefined) {\n    var bounds = element.getBoundingClientRect();\n    callback(fallbackInView, {\n      isIntersecting: fallbackInView,\n      target: element,\n      intersectionRatio: typeof options.threshold === 'number' ? options.threshold : 0,\n      time: 0,\n      boundingClientRect: bounds,\n      intersectionRect: bounds,\n      rootBounds: bounds\n    });\n    return function () {// Nothing to cleanup\n    };\n  } // An observer with the same options can be reused, so lets use this fact\n\n\n  var _createObserver = createObserver(options),\n      id = _createObserver.id,\n      observer = _createObserver.observer,\n      elements = _createObserver.elements; // Register the callback listener for this element\n\n\n  var callbacks = elements.get(element) || [];\n\n  if (!elements.has(element)) {\n    elements.set(element, callbacks);\n  }\n\n  callbacks.push(callback);\n  observer.observe(element);\n  return function unobserve() {\n    // Remove the callback from the callback list\n    callbacks.splice(callbacks.indexOf(callback), 1);\n\n    if (callbacks.length === 0) {\n      // No more callback exists for element, so destroy it\n      elements[\"delete\"](element);\n      observer.unobserve(element);\n    }\n\n    if (elements.size === 0) {\n      // No more elements are being observer by this instance, so destroy it\n      observer.disconnect();\n      observerMap[\"delete\"](id);\n    }\n  };\n}\n\nvar _excluded = [\"children\", \"as\", \"triggerOnce\", \"threshold\", \"root\", \"rootMargin\", \"onChange\", \"skip\", \"trackVisibility\", \"delay\", \"initialInView\", \"fallbackInView\"];\n\nfunction isPlainChildren(props) {\n  return typeof props.children !== 'function';\n}\n/**\r\n ## Render props\r\n\n To use the `<InView>` component, you pass it a function. It will be called\r\n whenever the state changes, with the new value of `inView`. In addition to the\r\n `inView` prop, children also receive a `ref` that should be set on the\r\n containing DOM element. This is the element that the IntersectionObserver will\r\n monitor.\r\n\n If you need it, you can also access the\r\n [`IntersectionObserverEntry`](https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry)\r\n on `entry`, giving you access to all the details about the current intersection\r\n state.\r\n\n ```jsx\r\n import { InView } from 'react-intersection-observer';\r\n\n const Component = () => (\r\n <InView>\r\n {({ inView, ref, entry }) => (\r\n      <div ref={ref}>\r\n        <h2>{`Header inside viewport ${inView}.`}</h2>\r\n      </div>\r\n    )}\r\n </InView>\r\n );\r\n\n export default Component;\r\n ```\r\n\n ## Plain children\r\n\n You can pass any element to the `<InView />`, and it will handle creating the\r\n wrapping DOM element. Add a handler to the `onChange` method, and control the\r\n state in your own component. Any extra props you add to `<InView>` will be\r\n passed to the HTML element, allowing you set the `className`, `style`, etc.\r\n\n ```jsx\r\n import { InView } from 'react-intersection-observer';\r\n\n const Component = () => (\r\n <InView as=\"div\" onChange={(inView, entry) => console.log('Inview:', inView)}>\r\n <h2>Plain children are always rendered. Use onChange to monitor state.</h2>\r\n </InView>\r\n );\r\n\n export default Component;\r\n ```\r\n */\n\n\nvar InView = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(InView, _React$Component);\n\n  function InView(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.node = null;\n    _this._unobserveCb = null;\n\n    _this.handleNode = function (node) {\n      if (_this.node) {\n        // Clear the old observer, before we start observing a new element\n        _this.unobserve();\n\n        if (!node && !_this.props.triggerOnce && !_this.props.skip) {\n          // Reset the state if we get a new node, and we aren't ignoring updates\n          _this.setState({\n            inView: !!_this.props.initialInView,\n            entry: undefined\n          });\n        }\n      }\n\n      _this.node = node ? node : null;\n\n      _this.observeNode();\n    };\n\n    _this.handleChange = function (inView, entry) {\n      if (inView && _this.props.triggerOnce) {\n        // If `triggerOnce` is true, we should stop observing the element.\n        _this.unobserve();\n      }\n\n      if (!isPlainChildren(_this.props)) {\n        // Store the current State, so we can pass it to the children in the next render update\n        // There's no reason to update the state for plain children, since it's not used in the rendering.\n        _this.setState({\n          inView: inView,\n          entry: entry\n        });\n      }\n\n      if (_this.props.onChange) {\n        // If the user is actively listening for onChange, always trigger it\n        _this.props.onChange(inView, entry);\n      }\n    };\n\n    _this.state = {\n      inView: !!props.initialInView,\n      entry: undefined\n    };\n    return _this;\n  }\n\n  var _proto = InView.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    // If a IntersectionObserver option changed, reinit the observer\n    if (prevProps.rootMargin !== this.props.rootMargin || prevProps.root !== this.props.root || prevProps.threshold !== this.props.threshold || prevProps.skip !== this.props.skip || prevProps.trackVisibility !== this.props.trackVisibility || prevProps.delay !== this.props.delay) {\n      this.unobserve();\n      this.observeNode();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.unobserve();\n    this.node = null;\n  };\n\n  _proto.observeNode = function observeNode() {\n    if (!this.node || this.props.skip) return;\n    var _this$props = this.props,\n        threshold = _this$props.threshold,\n        root = _this$props.root,\n        rootMargin = _this$props.rootMargin,\n        trackVisibility = _this$props.trackVisibility,\n        delay = _this$props.delay,\n        fallbackInView = _this$props.fallbackInView;\n    this._unobserveCb = observe(this.node, this.handleChange, {\n      threshold: threshold,\n      root: root,\n      rootMargin: rootMargin,\n      // @ts-ignore\n      trackVisibility: trackVisibility,\n      // @ts-ignore\n      delay: delay\n    }, fallbackInView);\n  };\n\n  _proto.unobserve = function unobserve() {\n    if (this._unobserveCb) {\n      this._unobserveCb();\n\n      this._unobserveCb = null;\n    }\n  };\n\n  _proto.render = function render() {\n    if (!isPlainChildren(this.props)) {\n      var _this$state = this.state,\n          inView = _this$state.inView,\n          entry = _this$state.entry;\n      return this.props.children({\n        inView: inView,\n        entry: entry,\n        ref: this.handleNode\n      });\n    }\n\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        as = _this$props2.as,\n        props = _objectWithoutPropertiesLoose(_this$props2, _excluded);\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(as || 'div', _extends({\n      ref: this.handleNode\n    }, props), children);\n  };\n\n  return InView;\n}(react__WEBPACK_IMPORTED_MODULE_0__.Component);\nInView.displayName = 'InView';\nInView.defaultProps = {\n  threshold: 0,\n  triggerOnce: false,\n  initialInView: false\n};\n\n/**\r\n * React Hooks make it easy to monitor the `inView` state of your components. Call\r\n * the `useInView` hook with the (optional) [options](#options) you need. It will\r\n * return an array containing a `ref`, the `inView` status and the current\r\n * [`entry`](https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry).\r\n * Assign the `ref` to the DOM element you want to monitor, and the hook will\r\n * report the status.\r\n *\r\n * @example\r\n * ```jsx\r\n * import React from 'react';\r\n * import { useInView } from 'react-intersection-observer';\r\n *\r\n * const Component = () => {\r\n *   const { ref, inView, entry } = useInView({\r\n *       threshold: 0,\r\n *   });\r\n *\r\n *   return (\r\n *     <div ref={ref}>\r\n *       <h2>{`Header inside viewport ${inView}.`}</h2>\r\n *     </div>\r\n *   );\r\n * };\r\n * ```\r\n */\n\nfunction useInView(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      threshold = _ref.threshold,\n      delay = _ref.delay,\n      trackVisibility = _ref.trackVisibility,\n      rootMargin = _ref.rootMargin,\n      root = _ref.root,\n      triggerOnce = _ref.triggerOnce,\n      skip = _ref.skip,\n      initialInView = _ref.initialInView,\n      fallbackInView = _ref.fallbackInView;\n\n  var unobserve = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState({\n    inView: !!initialInView\n  }),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  var setRef = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (node) {\n    if (unobserve.current !== undefined) {\n      unobserve.current();\n      unobserve.current = undefined;\n    } // Skip creating the observer\n\n\n    if (skip) return;\n\n    if (node) {\n      unobserve.current = observe(node, function (inView, entry) {\n        setState({\n          inView: inView,\n          entry: entry\n        });\n\n        if (entry.isIntersecting && triggerOnce && unobserve.current) {\n          // If it should only trigger once, unobserve the element after it's inView\n          unobserve.current();\n          unobserve.current = undefined;\n        }\n      }, {\n        root: root,\n        rootMargin: rootMargin,\n        threshold: threshold,\n        // @ts-ignore\n        trackVisibility: trackVisibility,\n        // @ts-ignore\n        delay: delay\n      }, fallbackInView);\n    }\n  }, // We break the rule here, because we aren't including the actual `threshold` variable\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [// If the threshold is an array, convert it to a string so it won't change between renders.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  Array.isArray(threshold) ? threshold.toString() : threshold, root, rootMargin, triggerOnce, skip, trackVisibility, fallbackInView, delay]);\n  /* eslint-disable-next-line */\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (!unobserve.current && state.entry && !triggerOnce && !skip) {\n      // If we don't have a ref, then reset the state (unless the hook is set to only `triggerOnce` or `skip`)\n      // This ensures we correctly reflect the current state - If you aren't observing anything, then nothing is inView\n      setState({\n        inView: !!initialInView\n      });\n    }\n  });\n  var result = [setRef, state.inView, state.entry]; // Support object destructuring, by adding the specific values.\n\n  result.ref = result[0];\n  result.inView = result[1];\n  result.entry = result[2];\n  return result;\n}\n\n\n//# sourceMappingURL=react-intersection-observer.m.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtaW50ZXJzZWN0aW9uLW9ic2VydmVyL3JlYWN0LWludGVyc2VjdGlvbi1vYnNlcnZlci5tLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBK0I7QUFDRzs7QUFFbEM7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLHVCQUF1QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxHQUFHOztBQUVaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSyxZQUFZOztBQUVqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWludGVyc2VjdGlvbi1vYnNlcnZlci9yZWFjdC1pbnRlcnNlY3Rpb24tb2JzZXJ2ZXIubS5qcz9hYTQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuXG4gIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfTtcblxuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIG9ic2VydmVyTWFwID0gbmV3IE1hcCgpO1xudmFyIFJvb3RJZHMgPSBuZXcgV2Vha01hcCgpO1xudmFyIHJvb3RJZCA9IDA7XG52YXIgdW5zdXBwb3J0ZWRWYWx1ZSA9IHVuZGVmaW5lZDtcbi8qKlxyXG4gKiBXaGF0IHNob3VsZCBiZSB0aGUgZGVmYXVsdCBiZWhhdmlvciBpZiB0aGUgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgaXMgdW5zdXBwb3J0ZWQ/XHJcbiAqIElkZWFsbHkgdGhlIHBvbHlmaWxsIGhhcyBiZWVuIGxvYWRlZCwgeW91IGNhbiBoYXZlIHRoZSBmb2xsb3dpbmcgaGFwcGVuOlxyXG4gKiAtIGB1bmRlZmluZWRgOiBUaHJvdyBhbiBlcnJvclxyXG4gKiAtIGB0cnVlYCBvciBgZmFsc2VgOiBTZXQgdGhlIGBpblZpZXdgIHZhbHVlIHRvIHRoaXMgcmVnYXJkbGVzcyBvZiBpbnRlcnNlY3Rpb24gc3RhdGVcclxuICogKiovXG5cbmZ1bmN0aW9uIGRlZmF1bHRGYWxsYmFja0luVmlldyhpblZpZXcpIHtcbiAgdW5zdXBwb3J0ZWRWYWx1ZSA9IGluVmlldztcbn1cbi8qKlxyXG4gKiBHZW5lcmF0ZSBhIHVuaXF1ZSBJRCBmb3IgdGhlIHJvb3QgZWxlbWVudFxyXG4gKiBAcGFyYW0gcm9vdFxyXG4gKi9cblxuZnVuY3Rpb24gZ2V0Um9vdElkKHJvb3QpIHtcbiAgaWYgKCFyb290KSByZXR1cm4gJzAnO1xuICBpZiAoUm9vdElkcy5oYXMocm9vdCkpIHJldHVybiBSb290SWRzLmdldChyb290KTtcbiAgcm9vdElkICs9IDE7XG4gIFJvb3RJZHMuc2V0KHJvb3QsIHJvb3RJZC50b1N0cmluZygpKTtcbiAgcmV0dXJuIFJvb3RJZHMuZ2V0KHJvb3QpO1xufVxuLyoqXHJcbiAqIENvbnZlcnQgdGhlIG9wdGlvbnMgdG8gYSBzdHJpbmcgSWQsIGJhc2VkIG9uIHRoZSB2YWx1ZXMuXHJcbiAqIEVuc3VyZXMgd2UgY2FuIHJldXNlIHRoZSBzYW1lIG9ic2VydmVyIHdoZW4gb2JzZXJ2aW5nIGVsZW1lbnRzIHdpdGggdGhlIHNhbWUgb3B0aW9ucy5cclxuICogQHBhcmFtIG9wdGlvbnNcclxuICovXG5cblxuZnVuY3Rpb24gb3B0aW9uc1RvSWQob3B0aW9ucykge1xuICByZXR1cm4gT2JqZWN0LmtleXMob3B0aW9ucykuc29ydCgpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIG9wdGlvbnNba2V5XSAhPT0gdW5kZWZpbmVkO1xuICB9KS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBrZXkgKyBcIl9cIiArIChrZXkgPT09ICdyb290JyA/IGdldFJvb3RJZChvcHRpb25zLnJvb3QpIDogb3B0aW9uc1trZXldKTtcbiAgfSkudG9TdHJpbmcoKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlT2JzZXJ2ZXIob3B0aW9ucykge1xuICAvLyBDcmVhdGUgYSB1bmlxdWUgSUQgZm9yIHRoaXMgb2JzZXJ2ZXIgaW5zdGFuY2UsIGJhc2VkIG9uIHRoZSByb290LCByb290IG1hcmdpbiBhbmQgdGhyZXNob2xkLlxuICB2YXIgaWQgPSBvcHRpb25zVG9JZChvcHRpb25zKTtcbiAgdmFyIGluc3RhbmNlID0gb2JzZXJ2ZXJNYXAuZ2V0KGlkKTtcblxuICBpZiAoIWluc3RhbmNlKSB7XG4gICAgLy8gQ3JlYXRlIGEgbWFwIG9mIGVsZW1lbnRzIHRoaXMgb2JzZXJ2ZXIgaXMgZ29pbmcgdG8gb2JzZXJ2ZS4gRWFjaCBlbGVtZW50IGhhcyBhIGxpc3Qgb2YgY2FsbGJhY2tzIHRoYXQgc2hvdWxkIGJlIHRyaWdnZXJlZCwgb25jZSBpdCBjb21lcyBpbnRvIHZpZXcuXG4gICAgdmFyIGVsZW1lbnRzID0gbmV3IE1hcCgpO1xuICAgIHZhciB0aHJlc2hvbGRzO1xuICAgIHZhciBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihmdW5jdGlvbiAoZW50cmllcykge1xuICAgICAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICB2YXIgX2VsZW1lbnRzJGdldDtcblxuICAgICAgICAvLyBXaGlsZSBpdCB3b3VsZCBiZSBuaWNlIGlmIHlvdSBjb3VsZCBqdXN0IGxvb2sgYXQgaXNJbnRlcnNlY3RpbmcgdG8gZGV0ZXJtaW5lIGlmIHRoZSBjb21wb25lbnQgaXMgaW5zaWRlIHRoZSB2aWV3cG9ydCwgYnJvd3NlcnMgY2FuJ3QgYWdyZWUgb24gaG93IHRvIHVzZSBpdC5cbiAgICAgICAgLy8gLUZpcmVmb3ggaWdub3JlcyBgdGhyZXNob2xkYCB3aGVuIGNvbnNpZGVyaW5nIGBpc0ludGVyc2VjdGluZ2AsIHNvIGl0IHdpbGwgbmV2ZXIgYmUgZmFsc2UgYWdhaW4gaWYgYHRocmVzaG9sZGAgaXMgPiAwXG4gICAgICAgIHZhciBpblZpZXcgPSBlbnRyeS5pc0ludGVyc2VjdGluZyAmJiB0aHJlc2hvbGRzLnNvbWUoZnVuY3Rpb24gKHRocmVzaG9sZCkge1xuICAgICAgICAgIHJldHVybiBlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+PSB0aHJlc2hvbGQ7XG4gICAgICAgIH0pOyAvLyBAdHMtaWdub3JlIHN1cHBvcnQgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgdjJcblxuICAgICAgICBpZiAob3B0aW9ucy50cmFja1Zpc2liaWxpdHkgJiYgdHlwZW9mIGVudHJ5LmlzVmlzaWJsZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAvLyBUaGUgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgSW50ZXJzZWN0aW9uIE9ic2VydmVyIHYyLCBmYWxsaW5nIGJhY2sgdG8gdjEgYmVoYXZpb3IuXG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIGVudHJ5LmlzVmlzaWJsZSA9IGluVmlldztcbiAgICAgICAgfVxuXG4gICAgICAgIChfZWxlbWVudHMkZ2V0ID0gZWxlbWVudHMuZ2V0KGVudHJ5LnRhcmdldCkpID09IG51bGwgPyB2b2lkIDAgOiBfZWxlbWVudHMkZ2V0LmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgY2FsbGJhY2soaW5WaWV3LCBlbnRyeSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSwgb3B0aW9ucyk7IC8vIEVuc3VyZSB3ZSBoYXZlIGEgdmFsaWQgdGhyZXNob2xkcyBhcnJheS4gSWYgbm90LCB1c2UgdGhlIHRocmVzaG9sZCBmcm9tIHRoZSBvcHRpb25zXG5cbiAgICB0aHJlc2hvbGRzID0gb2JzZXJ2ZXIudGhyZXNob2xkcyB8fCAoQXJyYXkuaXNBcnJheShvcHRpb25zLnRocmVzaG9sZCkgPyBvcHRpb25zLnRocmVzaG9sZCA6IFtvcHRpb25zLnRocmVzaG9sZCB8fCAwXSk7XG4gICAgaW5zdGFuY2UgPSB7XG4gICAgICBpZDogaWQsXG4gICAgICBvYnNlcnZlcjogb2JzZXJ2ZXIsXG4gICAgICBlbGVtZW50czogZWxlbWVudHNcbiAgICB9O1xuICAgIG9ic2VydmVyTWFwLnNldChpZCwgaW5zdGFuY2UpO1xuICB9XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuLyoqXHJcbiAqIEBwYXJhbSBlbGVtZW50IC0gRE9NIEVsZW1lbnQgdG8gb2JzZXJ2ZVxyXG4gKiBAcGFyYW0gY2FsbGJhY2sgLSBDYWxsYmFjayBmdW5jdGlvbiB0byB0cmlnZ2VyIHdoZW4gaW50ZXJzZWN0aW9uIHN0YXR1cyBjaGFuZ2VzXHJcbiAqIEBwYXJhbSBvcHRpb25zIC0gSW50ZXJzZWN0aW9uIE9ic2VydmVyIG9wdGlvbnNcclxuICogQHBhcmFtIGZhbGxiYWNrSW5WaWV3IC0gRmFsbGJhY2sgaW5WaWV3IHZhbHVlLlxyXG4gKiBAcmV0dXJuIEZ1bmN0aW9uIC0gQ2xlYW51cCBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSB0cmlnZ2VyZWQgdG8gdW5yZWdpc3RlciB0aGUgb2JzZXJ2ZXJcclxuICovXG5cblxuZnVuY3Rpb24gb2JzZXJ2ZShlbGVtZW50LCBjYWxsYmFjaywgb3B0aW9ucywgZmFsbGJhY2tJblZpZXcpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIGlmIChmYWxsYmFja0luVmlldyA9PT0gdm9pZCAwKSB7XG4gICAgZmFsbGJhY2tJblZpZXcgPSB1bnN1cHBvcnRlZFZhbHVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB3aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPT09ICd1bmRlZmluZWQnICYmIGZhbGxiYWNrSW5WaWV3ICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgYm91bmRzID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjYWxsYmFjayhmYWxsYmFja0luVmlldywge1xuICAgICAgaXNJbnRlcnNlY3Rpbmc6IGZhbGxiYWNrSW5WaWV3LFxuICAgICAgdGFyZ2V0OiBlbGVtZW50LFxuICAgICAgaW50ZXJzZWN0aW9uUmF0aW86IHR5cGVvZiBvcHRpb25zLnRocmVzaG9sZCA9PT0gJ251bWJlcicgPyBvcHRpb25zLnRocmVzaG9sZCA6IDAsXG4gICAgICB0aW1lOiAwLFxuICAgICAgYm91bmRpbmdDbGllbnRSZWN0OiBib3VuZHMsXG4gICAgICBpbnRlcnNlY3Rpb25SZWN0OiBib3VuZHMsXG4gICAgICByb290Qm91bmRzOiBib3VuZHNcbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkgey8vIE5vdGhpbmcgdG8gY2xlYW51cFxuICAgIH07XG4gIH0gLy8gQW4gb2JzZXJ2ZXIgd2l0aCB0aGUgc2FtZSBvcHRpb25zIGNhbiBiZSByZXVzZWQsIHNvIGxldHMgdXNlIHRoaXMgZmFjdFxuXG5cbiAgdmFyIF9jcmVhdGVPYnNlcnZlciA9IGNyZWF0ZU9ic2VydmVyKG9wdGlvbnMpLFxuICAgICAgaWQgPSBfY3JlYXRlT2JzZXJ2ZXIuaWQsXG4gICAgICBvYnNlcnZlciA9IF9jcmVhdGVPYnNlcnZlci5vYnNlcnZlcixcbiAgICAgIGVsZW1lbnRzID0gX2NyZWF0ZU9ic2VydmVyLmVsZW1lbnRzOyAvLyBSZWdpc3RlciB0aGUgY2FsbGJhY2sgbGlzdGVuZXIgZm9yIHRoaXMgZWxlbWVudFxuXG5cbiAgdmFyIGNhbGxiYWNrcyA9IGVsZW1lbnRzLmdldChlbGVtZW50KSB8fCBbXTtcblxuICBpZiAoIWVsZW1lbnRzLmhhcyhlbGVtZW50KSkge1xuICAgIGVsZW1lbnRzLnNldChlbGVtZW50LCBjYWxsYmFja3MpO1xuICB9XG5cbiAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpO1xuICByZXR1cm4gZnVuY3Rpb24gdW5vYnNlcnZlKCkge1xuICAgIC8vIFJlbW92ZSB0aGUgY2FsbGJhY2sgZnJvbSB0aGUgY2FsbGJhY2sgbGlzdFxuICAgIGNhbGxiYWNrcy5zcGxpY2UoY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spLCAxKTtcblxuICAgIGlmIChjYWxsYmFja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBObyBtb3JlIGNhbGxiYWNrIGV4aXN0cyBmb3IgZWxlbWVudCwgc28gZGVzdHJveSBpdFxuICAgICAgZWxlbWVudHNbXCJkZWxldGVcIl0oZWxlbWVudCk7XG4gICAgICBvYnNlcnZlci51bm9ic2VydmUoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnRzLnNpemUgPT09IDApIHtcbiAgICAgIC8vIE5vIG1vcmUgZWxlbWVudHMgYXJlIGJlaW5nIG9ic2VydmVyIGJ5IHRoaXMgaW5zdGFuY2UsIHNvIGRlc3Ryb3kgaXRcbiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIG9ic2VydmVyTWFwW1wiZGVsZXRlXCJdKGlkKTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJjaGlsZHJlblwiLCBcImFzXCIsIFwidHJpZ2dlck9uY2VcIiwgXCJ0aHJlc2hvbGRcIiwgXCJyb290XCIsIFwicm9vdE1hcmdpblwiLCBcIm9uQ2hhbmdlXCIsIFwic2tpcFwiLCBcInRyYWNrVmlzaWJpbGl0eVwiLCBcImRlbGF5XCIsIFwiaW5pdGlhbEluVmlld1wiLCBcImZhbGxiYWNrSW5WaWV3XCJdO1xuXG5mdW5jdGlvbiBpc1BsYWluQ2hpbGRyZW4ocHJvcHMpIHtcbiAgcmV0dXJuIHR5cGVvZiBwcm9wcy5jaGlsZHJlbiAhPT0gJ2Z1bmN0aW9uJztcbn1cbi8qKlxyXG4gIyMgUmVuZGVyIHByb3BzXHJcblxuIFRvIHVzZSB0aGUgYDxJblZpZXc+YCBjb21wb25lbnQsIHlvdSBwYXNzIGl0IGEgZnVuY3Rpb24uIEl0IHdpbGwgYmUgY2FsbGVkXHJcbiB3aGVuZXZlciB0aGUgc3RhdGUgY2hhbmdlcywgd2l0aCB0aGUgbmV3IHZhbHVlIG9mIGBpblZpZXdgLiBJbiBhZGRpdGlvbiB0byB0aGVcclxuIGBpblZpZXdgIHByb3AsIGNoaWxkcmVuIGFsc28gcmVjZWl2ZSBhIGByZWZgIHRoYXQgc2hvdWxkIGJlIHNldCBvbiB0aGVcclxuIGNvbnRhaW5pbmcgRE9NIGVsZW1lbnQuIFRoaXMgaXMgdGhlIGVsZW1lbnQgdGhhdCB0aGUgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgd2lsbFxyXG4gbW9uaXRvci5cclxuXG4gSWYgeW91IG5lZWQgaXQsIHlvdSBjYW4gYWxzbyBhY2Nlc3MgdGhlXHJcbiBbYEludGVyc2VjdGlvbk9ic2VydmVyRW50cnlgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSlcclxuIG9uIGBlbnRyeWAsIGdpdmluZyB5b3UgYWNjZXNzIHRvIGFsbCB0aGUgZGV0YWlscyBhYm91dCB0aGUgY3VycmVudCBpbnRlcnNlY3Rpb25cclxuIHN0YXRlLlxyXG5cbiBgYGBqc3hcclxuIGltcG9ydCB7IEluVmlldyB9IGZyb20gJ3JlYWN0LWludGVyc2VjdGlvbi1vYnNlcnZlcic7XHJcblxuIGNvbnN0IENvbXBvbmVudCA9ICgpID0+IChcclxuIDxJblZpZXc+XHJcbiB7KHsgaW5WaWV3LCByZWYsIGVudHJ5IH0pID0+IChcclxuICAgICAgPGRpdiByZWY9e3JlZn0+XHJcbiAgICAgICAgPGgyPntgSGVhZGVyIGluc2lkZSB2aWV3cG9ydCAke2luVmlld30uYH08L2gyPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICl9XHJcbiA8L0luVmlldz5cclxuICk7XHJcblxuIGV4cG9ydCBkZWZhdWx0IENvbXBvbmVudDtcclxuIGBgYFxyXG5cbiAjIyBQbGFpbiBjaGlsZHJlblxyXG5cbiBZb3UgY2FuIHBhc3MgYW55IGVsZW1lbnQgdG8gdGhlIGA8SW5WaWV3IC8+YCwgYW5kIGl0IHdpbGwgaGFuZGxlIGNyZWF0aW5nIHRoZVxyXG4gd3JhcHBpbmcgRE9NIGVsZW1lbnQuIEFkZCBhIGhhbmRsZXIgdG8gdGhlIGBvbkNoYW5nZWAgbWV0aG9kLCBhbmQgY29udHJvbCB0aGVcclxuIHN0YXRlIGluIHlvdXIgb3duIGNvbXBvbmVudC4gQW55IGV4dHJhIHByb3BzIHlvdSBhZGQgdG8gYDxJblZpZXc+YCB3aWxsIGJlXHJcbiBwYXNzZWQgdG8gdGhlIEhUTUwgZWxlbWVudCwgYWxsb3dpbmcgeW91IHNldCB0aGUgYGNsYXNzTmFtZWAsIGBzdHlsZWAsIGV0Yy5cclxuXG4gYGBganN4XHJcbiBpbXBvcnQgeyBJblZpZXcgfSBmcm9tICdyZWFjdC1pbnRlcnNlY3Rpb24tb2JzZXJ2ZXInO1xyXG5cbiBjb25zdCBDb21wb25lbnQgPSAoKSA9PiAoXHJcbiA8SW5WaWV3IGFzPVwiZGl2XCIgb25DaGFuZ2U9eyhpblZpZXcsIGVudHJ5KSA9PiBjb25zb2xlLmxvZygnSW52aWV3OicsIGluVmlldyl9PlxyXG4gPGgyPlBsYWluIGNoaWxkcmVuIGFyZSBhbHdheXMgcmVuZGVyZWQuIFVzZSBvbkNoYW5nZSB0byBtb25pdG9yIHN0YXRlLjwvaDI+XHJcbiA8L0luVmlldz5cclxuICk7XHJcblxuIGV4cG9ydCBkZWZhdWx0IENvbXBvbmVudDtcclxuIGBgYFxyXG4gKi9cblxuXG52YXIgSW5WaWV3ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKEluVmlldywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gSW5WaWV3KHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgX3RoaXMubm9kZSA9IG51bGw7XG4gICAgX3RoaXMuX3Vub2JzZXJ2ZUNiID0gbnVsbDtcblxuICAgIF90aGlzLmhhbmRsZU5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgaWYgKF90aGlzLm5vZGUpIHtcbiAgICAgICAgLy8gQ2xlYXIgdGhlIG9sZCBvYnNlcnZlciwgYmVmb3JlIHdlIHN0YXJ0IG9ic2VydmluZyBhIG5ldyBlbGVtZW50XG4gICAgICAgIF90aGlzLnVub2JzZXJ2ZSgpO1xuXG4gICAgICAgIGlmICghbm9kZSAmJiAhX3RoaXMucHJvcHMudHJpZ2dlck9uY2UgJiYgIV90aGlzLnByb3BzLnNraXApIHtcbiAgICAgICAgICAvLyBSZXNldCB0aGUgc3RhdGUgaWYgd2UgZ2V0IGEgbmV3IG5vZGUsIGFuZCB3ZSBhcmVuJ3QgaWdub3JpbmcgdXBkYXRlc1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGluVmlldzogISFfdGhpcy5wcm9wcy5pbml0aWFsSW5WaWV3LFxuICAgICAgICAgICAgZW50cnk6IHVuZGVmaW5lZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIF90aGlzLm5vZGUgPSBub2RlID8gbm9kZSA6IG51bGw7XG5cbiAgICAgIF90aGlzLm9ic2VydmVOb2RlKCk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChpblZpZXcsIGVudHJ5KSB7XG4gICAgICBpZiAoaW5WaWV3ICYmIF90aGlzLnByb3BzLnRyaWdnZXJPbmNlKSB7XG4gICAgICAgIC8vIElmIGB0cmlnZ2VyT25jZWAgaXMgdHJ1ZSwgd2Ugc2hvdWxkIHN0b3Agb2JzZXJ2aW5nIHRoZSBlbGVtZW50LlxuICAgICAgICBfdGhpcy51bm9ic2VydmUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1BsYWluQ2hpbGRyZW4oX3RoaXMucHJvcHMpKSB7XG4gICAgICAgIC8vIFN0b3JlIHRoZSBjdXJyZW50IFN0YXRlLCBzbyB3ZSBjYW4gcGFzcyBpdCB0byB0aGUgY2hpbGRyZW4gaW4gdGhlIG5leHQgcmVuZGVyIHVwZGF0ZVxuICAgICAgICAvLyBUaGVyZSdzIG5vIHJlYXNvbiB0byB1cGRhdGUgdGhlIHN0YXRlIGZvciBwbGFpbiBjaGlsZHJlbiwgc2luY2UgaXQncyBub3QgdXNlZCBpbiB0aGUgcmVuZGVyaW5nLlxuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaW5WaWV3OiBpblZpZXcsXG4gICAgICAgICAgZW50cnk6IGVudHJ5XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25DaGFuZ2UpIHtcbiAgICAgICAgLy8gSWYgdGhlIHVzZXIgaXMgYWN0aXZlbHkgbGlzdGVuaW5nIGZvciBvbkNoYW5nZSwgYWx3YXlzIHRyaWdnZXIgaXRcbiAgICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2UoaW5WaWV3LCBlbnRyeSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgaW5WaWV3OiAhIXByb3BzLmluaXRpYWxJblZpZXcsXG4gICAgICBlbnRyeTogdW5kZWZpbmVkXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gSW5WaWV3LnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIC8vIElmIGEgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgb3B0aW9uIGNoYW5nZWQsIHJlaW5pdCB0aGUgb2JzZXJ2ZXJcbiAgICBpZiAocHJldlByb3BzLnJvb3RNYXJnaW4gIT09IHRoaXMucHJvcHMucm9vdE1hcmdpbiB8fCBwcmV2UHJvcHMucm9vdCAhPT0gdGhpcy5wcm9wcy5yb290IHx8IHByZXZQcm9wcy50aHJlc2hvbGQgIT09IHRoaXMucHJvcHMudGhyZXNob2xkIHx8IHByZXZQcm9wcy5za2lwICE9PSB0aGlzLnByb3BzLnNraXAgfHwgcHJldlByb3BzLnRyYWNrVmlzaWJpbGl0eSAhPT0gdGhpcy5wcm9wcy50cmFja1Zpc2liaWxpdHkgfHwgcHJldlByb3BzLmRlbGF5ICE9PSB0aGlzLnByb3BzLmRlbGF5KSB7XG4gICAgICB0aGlzLnVub2JzZXJ2ZSgpO1xuICAgICAgdGhpcy5vYnNlcnZlTm9kZSgpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnVub2JzZXJ2ZSgpO1xuICAgIHRoaXMubm9kZSA9IG51bGw7XG4gIH07XG5cbiAgX3Byb3RvLm9ic2VydmVOb2RlID0gZnVuY3Rpb24gb2JzZXJ2ZU5vZGUoKSB7XG4gICAgaWYgKCF0aGlzLm5vZGUgfHwgdGhpcy5wcm9wcy5za2lwKSByZXR1cm47XG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgdGhyZXNob2xkID0gX3RoaXMkcHJvcHMudGhyZXNob2xkLFxuICAgICAgICByb290ID0gX3RoaXMkcHJvcHMucm9vdCxcbiAgICAgICAgcm9vdE1hcmdpbiA9IF90aGlzJHByb3BzLnJvb3RNYXJnaW4sXG4gICAgICAgIHRyYWNrVmlzaWJpbGl0eSA9IF90aGlzJHByb3BzLnRyYWNrVmlzaWJpbGl0eSxcbiAgICAgICAgZGVsYXkgPSBfdGhpcyRwcm9wcy5kZWxheSxcbiAgICAgICAgZmFsbGJhY2tJblZpZXcgPSBfdGhpcyRwcm9wcy5mYWxsYmFja0luVmlldztcbiAgICB0aGlzLl91bm9ic2VydmVDYiA9IG9ic2VydmUodGhpcy5ub2RlLCB0aGlzLmhhbmRsZUNoYW5nZSwge1xuICAgICAgdGhyZXNob2xkOiB0aHJlc2hvbGQsXG4gICAgICByb290OiByb290LFxuICAgICAgcm9vdE1hcmdpbjogcm9vdE1hcmdpbixcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHRyYWNrVmlzaWJpbGl0eTogdHJhY2tWaXNpYmlsaXR5LFxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgZGVsYXk6IGRlbGF5XG4gICAgfSwgZmFsbGJhY2tJblZpZXcpO1xuICB9O1xuXG4gIF9wcm90by51bm9ic2VydmUgPSBmdW5jdGlvbiB1bm9ic2VydmUoKSB7XG4gICAgaWYgKHRoaXMuX3Vub2JzZXJ2ZUNiKSB7XG4gICAgICB0aGlzLl91bm9ic2VydmVDYigpO1xuXG4gICAgICB0aGlzLl91bm9ic2VydmVDYiA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgaWYgKCFpc1BsYWluQ2hpbGRyZW4odGhpcy5wcm9wcykpIHtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgaW5WaWV3ID0gX3RoaXMkc3RhdGUuaW5WaWV3LFxuICAgICAgICAgIGVudHJ5ID0gX3RoaXMkc3RhdGUuZW50cnk7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbih7XG4gICAgICAgIGluVmlldzogaW5WaWV3LFxuICAgICAgICBlbnRyeTogZW50cnksXG4gICAgICAgIHJlZjogdGhpcy5oYW5kbGVOb2RlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wczIuY2hpbGRyZW4sXG4gICAgICAgIGFzID0gX3RoaXMkcHJvcHMyLmFzLFxuICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF90aGlzJHByb3BzMiwgX2V4Y2x1ZGVkKTtcblxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChhcyB8fCAnZGl2JywgX2V4dGVuZHMoe1xuICAgICAgcmVmOiB0aGlzLmhhbmRsZU5vZGVcbiAgICB9LCBwcm9wcyksIGNoaWxkcmVuKTtcbiAgfTtcblxuICByZXR1cm4gSW5WaWV3O1xufShSZWFjdC5Db21wb25lbnQpO1xuSW5WaWV3LmRpc3BsYXlOYW1lID0gJ0luVmlldyc7XG5JblZpZXcuZGVmYXVsdFByb3BzID0ge1xuICB0aHJlc2hvbGQ6IDAsXG4gIHRyaWdnZXJPbmNlOiBmYWxzZSxcbiAgaW5pdGlhbEluVmlldzogZmFsc2Vcbn07XG5cbi8qKlxyXG4gKiBSZWFjdCBIb29rcyBtYWtlIGl0IGVhc3kgdG8gbW9uaXRvciB0aGUgYGluVmlld2Agc3RhdGUgb2YgeW91ciBjb21wb25lbnRzLiBDYWxsXHJcbiAqIHRoZSBgdXNlSW5WaWV3YCBob29rIHdpdGggdGhlIChvcHRpb25hbCkgW29wdGlvbnNdKCNvcHRpb25zKSB5b3UgbmVlZC4gSXQgd2lsbFxyXG4gKiByZXR1cm4gYW4gYXJyYXkgY29udGFpbmluZyBhIGByZWZgLCB0aGUgYGluVmlld2Agc3RhdHVzIGFuZCB0aGUgY3VycmVudFxyXG4gKiBbYGVudHJ5YF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ludGVyc2VjdGlvbk9ic2VydmVyRW50cnkpLlxyXG4gKiBBc3NpZ24gdGhlIGByZWZgIHRvIHRoZSBET00gZWxlbWVudCB5b3Ugd2FudCB0byBtb25pdG9yLCBhbmQgdGhlIGhvb2sgd2lsbFxyXG4gKiByZXBvcnQgdGhlIHN0YXR1cy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBganN4XHJcbiAqIGltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbiAqIGltcG9ydCB7IHVzZUluVmlldyB9IGZyb20gJ3JlYWN0LWludGVyc2VjdGlvbi1vYnNlcnZlcic7XHJcbiAqXHJcbiAqIGNvbnN0IENvbXBvbmVudCA9ICgpID0+IHtcclxuICogICBjb25zdCB7IHJlZiwgaW5WaWV3LCBlbnRyeSB9ID0gdXNlSW5WaWV3KHtcclxuICogICAgICAgdGhyZXNob2xkOiAwLFxyXG4gKiAgIH0pO1xyXG4gKlxyXG4gKiAgIHJldHVybiAoXHJcbiAqICAgICA8ZGl2IHJlZj17cmVmfT5cclxuICogICAgICAgPGgyPntgSGVhZGVyIGluc2lkZSB2aWV3cG9ydCAke2luVmlld30uYH08L2gyPlxyXG4gKiAgICAgPC9kaXY+XHJcbiAqICAgKTtcclxuICogfTtcclxuICogYGBgXHJcbiAqL1xuXG5mdW5jdGlvbiB1c2VJblZpZXcoX3RlbXApIHtcbiAgdmFyIF9yZWYgPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcCxcbiAgICAgIHRocmVzaG9sZCA9IF9yZWYudGhyZXNob2xkLFxuICAgICAgZGVsYXkgPSBfcmVmLmRlbGF5LFxuICAgICAgdHJhY2tWaXNpYmlsaXR5ID0gX3JlZi50cmFja1Zpc2liaWxpdHksXG4gICAgICByb290TWFyZ2luID0gX3JlZi5yb290TWFyZ2luLFxuICAgICAgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgIHRyaWdnZXJPbmNlID0gX3JlZi50cmlnZ2VyT25jZSxcbiAgICAgIHNraXAgPSBfcmVmLnNraXAsXG4gICAgICBpbml0aWFsSW5WaWV3ID0gX3JlZi5pbml0aWFsSW5WaWV3LFxuICAgICAgZmFsbGJhY2tJblZpZXcgPSBfcmVmLmZhbGxiYWNrSW5WaWV3O1xuXG4gIHZhciB1bm9ic2VydmUgPSBSZWFjdC51c2VSZWYoKTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoe1xuICAgIGluVmlldzogISFpbml0aWFsSW5WaWV3XG4gIH0pLFxuICAgICAgc3RhdGUgPSBfUmVhY3QkdXNlU3RhdGVbMF0sXG4gICAgICBzZXRTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZVsxXTtcblxuICB2YXIgc2V0UmVmID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKG5vZGUpIHtcbiAgICBpZiAodW5vYnNlcnZlLmN1cnJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdW5vYnNlcnZlLmN1cnJlbnQoKTtcbiAgICAgIHVub2JzZXJ2ZS5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgIH0gLy8gU2tpcCBjcmVhdGluZyB0aGUgb2JzZXJ2ZXJcblxuXG4gICAgaWYgKHNraXApIHJldHVybjtcblxuICAgIGlmIChub2RlKSB7XG4gICAgICB1bm9ic2VydmUuY3VycmVudCA9IG9ic2VydmUobm9kZSwgZnVuY3Rpb24gKGluVmlldywgZW50cnkpIHtcbiAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgIGluVmlldzogaW5WaWV3LFxuICAgICAgICAgIGVudHJ5OiBlbnRyeVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcgJiYgdHJpZ2dlck9uY2UgJiYgdW5vYnNlcnZlLmN1cnJlbnQpIHtcbiAgICAgICAgICAvLyBJZiBpdCBzaG91bGQgb25seSB0cmlnZ2VyIG9uY2UsIHVub2JzZXJ2ZSB0aGUgZWxlbWVudCBhZnRlciBpdCdzIGluVmlld1xuICAgICAgICAgIHVub2JzZXJ2ZS5jdXJyZW50KCk7XG4gICAgICAgICAgdW5vYnNlcnZlLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgcm9vdDogcm9vdCxcbiAgICAgICAgcm9vdE1hcmdpbjogcm9vdE1hcmdpbixcbiAgICAgICAgdGhyZXNob2xkOiB0aHJlc2hvbGQsXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdHJhY2tWaXNpYmlsaXR5OiB0cmFja1Zpc2liaWxpdHksXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgZGVsYXk6IGRlbGF5XG4gICAgICB9LCBmYWxsYmFja0luVmlldyk7XG4gICAgfVxuICB9LCAvLyBXZSBicmVhayB0aGUgcnVsZSBoZXJlLCBiZWNhdXNlIHdlIGFyZW4ndCBpbmNsdWRpbmcgdGhlIGFjdHVhbCBgdGhyZXNob2xkYCB2YXJpYWJsZVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIFsvLyBJZiB0aGUgdGhyZXNob2xkIGlzIGFuIGFycmF5LCBjb252ZXJ0IGl0IHRvIGEgc3RyaW5nIHNvIGl0IHdvbid0IGNoYW5nZSBiZXR3ZWVuIHJlbmRlcnMuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgQXJyYXkuaXNBcnJheSh0aHJlc2hvbGQpID8gdGhyZXNob2xkLnRvU3RyaW5nKCkgOiB0aHJlc2hvbGQsIHJvb3QsIHJvb3RNYXJnaW4sIHRyaWdnZXJPbmNlLCBza2lwLCB0cmFja1Zpc2liaWxpdHksIGZhbGxiYWNrSW5WaWV3LCBkZWxheV0pO1xuICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgKi9cblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghdW5vYnNlcnZlLmN1cnJlbnQgJiYgc3RhdGUuZW50cnkgJiYgIXRyaWdnZXJPbmNlICYmICFza2lwKSB7XG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgcmVmLCB0aGVuIHJlc2V0IHRoZSBzdGF0ZSAodW5sZXNzIHRoZSBob29rIGlzIHNldCB0byBvbmx5IGB0cmlnZ2VyT25jZWAgb3IgYHNraXBgKVxuICAgICAgLy8gVGhpcyBlbnN1cmVzIHdlIGNvcnJlY3RseSByZWZsZWN0IHRoZSBjdXJyZW50IHN0YXRlIC0gSWYgeW91IGFyZW4ndCBvYnNlcnZpbmcgYW55dGhpbmcsIHRoZW4gbm90aGluZyBpcyBpblZpZXdcbiAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgaW5WaWV3OiAhIWluaXRpYWxJblZpZXdcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIHZhciByZXN1bHQgPSBbc2V0UmVmLCBzdGF0ZS5pblZpZXcsIHN0YXRlLmVudHJ5XTsgLy8gU3VwcG9ydCBvYmplY3QgZGVzdHJ1Y3R1cmluZywgYnkgYWRkaW5nIHRoZSBzcGVjaWZpYyB2YWx1ZXMuXG5cbiAgcmVzdWx0LnJlZiA9IHJlc3VsdFswXTtcbiAgcmVzdWx0LmluVmlldyA9IHJlc3VsdFsxXTtcbiAgcmVzdWx0LmVudHJ5ID0gcmVzdWx0WzJdO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgeyBJblZpZXcsIEluVmlldyBhcyBkZWZhdWx0LCBkZWZhdWx0RmFsbGJhY2tJblZpZXcsIG9ic2VydmUsIHVzZUluVmlldyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhY3QtaW50ZXJzZWN0aW9uLW9ic2VydmVyLm0uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-intersection-observer/react-intersection-observer.m.js\n"));

/***/ }),

/***/ "./node_modules/react-resize-detector/build/index.esm.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-resize-detector/build/index.esm.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ResizeDetector; },\n/* harmony export */   \"useResizeDetector\": function() { return /* binding */ useResizeDetector; },\n/* harmony export */   \"withResizeDetector\": function() { return /* binding */ withResizeDetector; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof __webpack_require__.g !== 'undefined' ? __webpack_require__.g : typeof self !== 'undefined' ? self : {};/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\nfunction isObject$3(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nvar isObject_1 = isObject$3;/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal$1 = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\nvar _freeGlobal = freeGlobal$1;var freeGlobal = _freeGlobal;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root$2 = freeGlobal || freeSelf || Function('return this')();\n\nvar _root = root$2;var root$1 = _root;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now$1 = function() {\n  return root$1.Date.now();\n};\n\nvar now_1 = now$1;/** Used to match a single whitespace character. */\n\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex$1(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nvar _trimmedEndIndex = trimmedEndIndex$1;var trimmedEndIndex = _trimmedEndIndex;\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim$1(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nvar _baseTrim = baseTrim$1;var root = _root;\n\n/** Built-in value references. */\nvar Symbol$2 = root.Symbol;\n\nvar _Symbol = Symbol$2;var Symbol$1 = _Symbol;\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto$1.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$1.toString;\n\n/** Built-in value references. */\nvar symToStringTag$1 = Symbol$1 ? Symbol$1.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag$1(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag$1),\n      tag = value[symToStringTag$1];\n\n  try {\n    value[symToStringTag$1] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString$1.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag$1] = tag;\n    } else {\n      delete value[symToStringTag$1];\n    }\n  }\n  return result;\n}\n\nvar _getRawTag = getRawTag$1;/** Used for built-in method references. */\n\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString$1(value) {\n  return nativeObjectToString.call(value);\n}\n\nvar _objectToString = objectToString$1;var Symbol = _Symbol,\n    getRawTag = _getRawTag,\n    objectToString = _objectToString;\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag$1(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nvar _baseGetTag = baseGetTag$1;/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\nfunction isObjectLike$1(value) {\n  return value != null && typeof value == 'object';\n}\n\nvar isObjectLike_1 = isObjectLike$1;var baseGetTag = _baseGetTag,\n    isObjectLike = isObjectLike_1;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol$1(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nvar isSymbol_1 = isSymbol$1;var baseTrim = _baseTrim,\n    isObject$2 = isObject_1,\n    isSymbol = isSymbol_1;\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber$1(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject$2(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject$2(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nvar toNumber_1 = toNumber$1;var isObject$1 = isObject_1,\n    now = now_1,\n    toNumber = toNumber_1;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT$1 = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce$1(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT$1);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject$1(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nvar debounce_1 = debounce$1;var debounce = debounce_1,\n    isObject = isObject_1;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nvar throttle_1 = throttle;var patchResizeHandler = function (resizeCallback, refreshMode, refreshRate, refreshOptions) {\r\n    switch (refreshMode) {\r\n        case 'debounce':\r\n            return debounce_1(resizeCallback, refreshRate, refreshOptions);\r\n        case 'throttle':\r\n            return throttle_1(resizeCallback, refreshRate, refreshOptions);\r\n        default:\r\n            return resizeCallback;\r\n    }\r\n};\r\nvar isFunction = function (fn) { return typeof fn === 'function'; };\r\nvar isSSR = function () { return typeof window === 'undefined'; };\r\nvar isDOMElement = function (element) { return element instanceof Element || element instanceof HTMLDocument; };\r\nvar createNotifier = function (onResize, setSize, handleWidth, handleHeight) {\r\n    return function (_a) {\r\n        var width = _a.width, height = _a.height;\r\n        setSize(function (prev) {\r\n            if (prev.width === width && prev.height === height) {\r\n                // skip if dimensions haven't changed\r\n                return prev;\r\n            }\r\n            if ((prev.width === width && !handleHeight) || (prev.height === height && !handleWidth)) {\r\n                // process `handleHeight/handleWidth` props\r\n                return prev;\r\n            }\r\n            if (onResize && isFunction(onResize)) {\r\n                onResize(width, height);\r\n            }\r\n            return { width: width, height: height };\r\n        });\r\n    };\r\n};var ResizeDetector = /** @class */ (function (_super) {\r\n    __extends(ResizeDetector, _super);\r\n    function ResizeDetector(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.cancelHandler = function () {\r\n            if (_this.resizeHandler && _this.resizeHandler.cancel) {\r\n                // cancel debounced handler\r\n                _this.resizeHandler.cancel();\r\n                _this.resizeHandler = null;\r\n            }\r\n        };\r\n        _this.attachObserver = function () {\r\n            var _a = _this.props, targetRef = _a.targetRef, observerOptions = _a.observerOptions;\r\n            if (isSSR()) {\r\n                return;\r\n            }\r\n            if (targetRef && targetRef.current) {\r\n                _this.targetRef.current = targetRef.current;\r\n            }\r\n            var element = _this.getElement();\r\n            if (!element) {\r\n                // can't find element to observe\r\n                return;\r\n            }\r\n            if (_this.observableElement && _this.observableElement === element) {\r\n                // element is already observed\r\n                return;\r\n            }\r\n            _this.observableElement = element;\r\n            _this.resizeObserver.observe(element, observerOptions);\r\n        };\r\n        _this.getElement = function () {\r\n            var _a = _this.props, querySelector = _a.querySelector, targetDomEl = _a.targetDomEl;\r\n            if (isSSR())\r\n                return null;\r\n            // in case we pass a querySelector\r\n            if (querySelector)\r\n                return document.querySelector(querySelector);\r\n            // in case we pass a DOM element\r\n            if (targetDomEl && isDOMElement(targetDomEl))\r\n                return targetDomEl;\r\n            // in case we pass a React ref using React.createRef()\r\n            if (_this.targetRef && isDOMElement(_this.targetRef.current))\r\n                return _this.targetRef.current;\r\n            // the worse case when we don't receive any information from the parent and the library doesn't add any wrappers\r\n            // we have to use a deprecated `findDOMNode` method in order to find a DOM element to attach to\r\n            var currentElement = (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.findDOMNode)(_this);\r\n            if (!currentElement)\r\n                return null;\r\n            var renderType = _this.getRenderType();\r\n            switch (renderType) {\r\n                case 'renderProp':\r\n                    return currentElement;\r\n                case 'childFunction':\r\n                    return currentElement;\r\n                case 'child':\r\n                    return currentElement;\r\n                case 'childArray':\r\n                    return currentElement;\r\n                default:\r\n                    return currentElement.parentElement;\r\n            }\r\n        };\r\n        _this.createResizeHandler = function (entries) {\r\n            var _a = _this.props, _b = _a.handleWidth, handleWidth = _b === void 0 ? true : _b, _c = _a.handleHeight, handleHeight = _c === void 0 ? true : _c, onResize = _a.onResize;\r\n            if (!handleWidth && !handleHeight)\r\n                return;\r\n            var notifyResize = createNotifier(onResize, _this.setState.bind(_this), handleWidth, handleHeight);\r\n            entries.forEach(function (entry) {\r\n                var _a = (entry && entry.contentRect) || {}, width = _a.width, height = _a.height;\r\n                var shouldSetSize = !_this.skipOnMount && !isSSR();\r\n                if (shouldSetSize) {\r\n                    notifyResize({ width: width, height: height });\r\n                }\r\n                _this.skipOnMount = false;\r\n            });\r\n        };\r\n        _this.getRenderType = function () {\r\n            var _a = _this.props, render = _a.render, children = _a.children;\r\n            if (isFunction(render)) {\r\n                // DEPRECATED. Use `Child Function Pattern` instead\r\n                return 'renderProp';\r\n            }\r\n            if (isFunction(children)) {\r\n                return 'childFunction';\r\n            }\r\n            if ((0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(children)) {\r\n                return 'child';\r\n            }\r\n            if (Array.isArray(children)) {\r\n                // DEPRECATED. Wrap children with a single parent\r\n                return 'childArray';\r\n            }\r\n            // DEPRECATED. Use `Child Function Pattern` instead\r\n            return 'parent';\r\n        };\r\n        var skipOnMount = props.skipOnMount, refreshMode = props.refreshMode, _a = props.refreshRate, refreshRate = _a === void 0 ? 1000 : _a, refreshOptions = props.refreshOptions;\r\n        _this.state = {\r\n            width: undefined,\r\n            height: undefined\r\n        };\r\n        _this.skipOnMount = skipOnMount;\r\n        _this.targetRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)();\r\n        _this.observableElement = null;\r\n        if (isSSR()) {\r\n            return _this;\r\n        }\r\n        _this.resizeHandler = patchResizeHandler(_this.createResizeHandler, refreshMode, refreshRate, refreshOptions);\r\n        _this.resizeObserver = new window.ResizeObserver(_this.resizeHandler);\r\n        return _this;\r\n    }\r\n    ResizeDetector.prototype.componentDidMount = function () {\r\n        this.attachObserver();\r\n    };\r\n    ResizeDetector.prototype.componentDidUpdate = function () {\r\n        this.attachObserver();\r\n    };\r\n    ResizeDetector.prototype.componentWillUnmount = function () {\r\n        if (isSSR()) {\r\n            return;\r\n        }\r\n        this.observableElement = null;\r\n        this.resizeObserver.disconnect();\r\n        this.cancelHandler();\r\n    };\r\n    ResizeDetector.prototype.render = function () {\r\n        var _a = this.props, render = _a.render, children = _a.children, _b = _a.nodeType, WrapperTag = _b === void 0 ? 'div' : _b;\r\n        var _c = this.state, width = _c.width, height = _c.height;\r\n        var childProps = { width: width, height: height, targetRef: this.targetRef };\r\n        var renderType = this.getRenderType();\r\n        var typedChildren;\r\n        switch (renderType) {\r\n            case 'renderProp':\r\n                return render && render(childProps);\r\n            case 'childFunction':\r\n                typedChildren = children;\r\n                return typedChildren(childProps);\r\n            case 'child':\r\n                // @TODO bug prone logic\r\n                typedChildren = children;\r\n                if (typedChildren.type && typeof typedChildren.type === 'string') {\r\n                    // child is a native DOM elements such as div, span etc\r\n                    childProps.targetRef; var nativeProps = __rest(childProps, [\"targetRef\"]);\r\n                    return (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(typedChildren, nativeProps);\r\n                }\r\n                // class or functional component otherwise\r\n                return (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(typedChildren, childProps);\r\n            case 'childArray':\r\n                typedChildren = children;\r\n                return typedChildren.map(function (el) { return !!el && (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(el, childProps); });\r\n            default:\r\n                return react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrapperTag, null);\r\n        }\r\n    };\r\n    return ResizeDetector;\r\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent));function withResizeDetector(ComponentInner, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var ResizeDetectorHOC = /** @class */ (function (_super) {\r\n        __extends(ResizeDetectorHOC, _super);\r\n        function ResizeDetectorHOC() {\r\n            var _this = _super !== null && _super.apply(this, arguments) || this;\r\n            _this.ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)();\r\n            return _this;\r\n        }\r\n        ResizeDetectorHOC.prototype.render = function () {\r\n            var _a = this.props, forwardedRef = _a.forwardedRef, rest = __rest(_a, [\"forwardedRef\"]);\r\n            var targetRef = forwardedRef !== null && forwardedRef !== void 0 ? forwardedRef : this.ref;\r\n            return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResizeDetector, __assign({}, options, { targetRef: targetRef }),\r\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(ComponentInner, __assign({ targetRef: targetRef }, rest))));\r\n        };\r\n        return ResizeDetectorHOC;\r\n    }(react__WEBPACK_IMPORTED_MODULE_0__.Component));\r\n    function forwardRefWrapper(props, ref) {\r\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResizeDetectorHOC, __assign({}, props, { forwardedRef: ref }));\r\n    }\r\n    var name = ComponentInner.displayName || ComponentInner.name;\r\n    forwardRefWrapper.displayName = \"withResizeDetector(\".concat(name, \")\");\r\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(forwardRefWrapper);\r\n}var useEnhancedEffect = isSSR() ? react__WEBPACK_IMPORTED_MODULE_0__.useEffect : react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect;\r\nfunction useResizeDetector(props) {\r\n    if (props === void 0) { props = {}; }\r\n    var _a = props.skipOnMount, skipOnMount = _a === void 0 ? false : _a, refreshMode = props.refreshMode, _b = props.refreshRate, refreshRate = _b === void 0 ? 1000 : _b, refreshOptions = props.refreshOptions, _c = props.handleWidth, handleWidth = _c === void 0 ? true : _c, _d = props.handleHeight, handleHeight = _d === void 0 ? true : _d, targetRef = props.targetRef, observerOptions = props.observerOptions, onResize = props.onResize;\r\n    var skipResize = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(skipOnMount);\r\n    var localRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\r\n    var ref = (targetRef !== null && targetRef !== void 0 ? targetRef : localRef);\r\n    var resizeHandler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\r\n    var _e = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\r\n        width: undefined,\r\n        height: undefined\r\n    }), size = _e[0], setSize = _e[1];\r\n    useEnhancedEffect(function () {\r\n        if (isSSR()) {\r\n            return;\r\n        }\r\n        var notifyResize = createNotifier(onResize, setSize, handleWidth, handleHeight);\r\n        var resizeCallback = function (entries) {\r\n            if (!handleWidth && !handleHeight)\r\n                return;\r\n            entries.forEach(function (entry) {\r\n                var _a = (entry && entry.contentRect) || {}, width = _a.width, height = _a.height;\r\n                var shouldSetSize = !skipResize.current && !isSSR();\r\n                if (shouldSetSize) {\r\n                    notifyResize({ width: width, height: height });\r\n                }\r\n                skipResize.current = false;\r\n            });\r\n        };\r\n        resizeHandler.current = patchResizeHandler(resizeCallback, refreshMode, refreshRate, refreshOptions);\r\n        var resizeObserver = new window.ResizeObserver(resizeHandler.current);\r\n        if (ref.current) {\r\n            // Something wrong with typings here...\r\n            resizeObserver.observe(ref.current, observerOptions);\r\n        }\r\n        return function () {\r\n            resizeObserver.disconnect();\r\n            var patchedResizeHandler = resizeHandler.current;\r\n            if (patchedResizeHandler && patchedResizeHandler.cancel) {\r\n                patchedResizeHandler.cancel();\r\n            }\r\n        };\r\n    }, [refreshMode, refreshRate, refreshOptions, handleWidth, handleHeight, onResize, observerOptions, ref.current]);\r\n    return __assign({ ref: ref }, size);\r\n}//# sourceMappingURL=index.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVzaXplLWRldGVjdG9yL2J1aWxkL2luZGV4LmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXVNO0FBQ3ZNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ25GLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsY0FBYztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsc0hBQXNILHFCQUFNLG1CQUFtQixxQkFBTSwyQ0FBMkM7QUFDak07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNEJBQTRCOztBQUU1Qjs7QUFFQSwrQkFBK0I7O0FBRS9CO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxtQkFBbUI7O0FBRW5CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0I7O0FBRWxCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFB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OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDRCQUE0QjtBQUM1Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRLFdBQVc7QUFDOUIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxtQkFBbUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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VUFBVTtBQUNoQyxDQUF3RSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVzaXplLWRldGVjdG9yL2J1aWxkL2luZGV4LmVzbS5qcz8wMTQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCphcyBSZWFjdCBmcm9tJ3JlYWN0JztpbXBvcnQge2Nsb25lRWxlbWVudCxpc1ZhbGlkRWxlbWVudCxjcmVhdGVSZWYsUHVyZUNvbXBvbmVudCxDb21wb25lbnQsZm9yd2FyZFJlZix1c2VSZWYsdXNlU3RhdGUsdXNlRWZmZWN0LHVzZUxheW91dEVmZmVjdH1mcm9tJ3JlYWN0JztpbXBvcnQge2ZpbmRET01Ob2RlfWZyb20ncmVhY3QtZG9tJzsvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn12YXIgY29tbW9uanNHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fTsvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5cbmZ1bmN0aW9uIGlzT2JqZWN0JDModmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbnZhciBpc09iamVjdF8xID0gaXNPYmplY3QkMzsvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xuXG52YXIgZnJlZUdsb2JhbCQxID0gdHlwZW9mIGNvbW1vbmpzR2xvYmFsID09ICdvYmplY3QnICYmIGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGNvbW1vbmpzR2xvYmFsO1xuXG52YXIgX2ZyZWVHbG9iYWwgPSBmcmVlR2xvYmFsJDE7dmFyIGZyZWVHbG9iYWwgPSBfZnJlZUdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290JDIgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbnZhciBfcm9vdCA9IHJvb3QkMjt2YXIgcm9vdCQxID0gX3Jvb3Q7XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3ckMSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gcm9vdCQxLkRhdGUubm93KCk7XG59O1xuXG52YXIgbm93XzEgPSBub3ckMTsvKiogVXNlZCB0byBtYXRjaCBhIHNpbmdsZSB3aGl0ZXNwYWNlIGNoYXJhY3Rlci4gKi9cblxudmFyIHJlV2hpdGVzcGFjZSA9IC9cXHMvO1xuXG4vKipcbiAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2VcbiAqIGNoYXJhY3RlciBvZiBgc3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIuXG4gKi9cbmZ1bmN0aW9uIHRyaW1tZWRFbmRJbmRleCQxKHN0cmluZykge1xuICB2YXIgaW5kZXggPSBzdHJpbmcubGVuZ3RoO1xuXG4gIHdoaWxlIChpbmRleC0tICYmIHJlV2hpdGVzcGFjZS50ZXN0KHN0cmluZy5jaGFyQXQoaW5kZXgpKSkge31cbiAgcmV0dXJuIGluZGV4O1xufVxuXG52YXIgX3RyaW1tZWRFbmRJbmRleCA9IHRyaW1tZWRFbmRJbmRleCQxO3ZhciB0cmltbWVkRW5kSW5kZXggPSBfdHJpbW1lZEVuZEluZGV4O1xuXG4vKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIHdoaXRlc3BhY2UuICovXG52YXIgcmVUcmltU3RhcnQgPSAvXlxccysvO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRyaW1gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiYXNlVHJpbSQxKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nXG4gICAgPyBzdHJpbmcuc2xpY2UoMCwgdHJpbW1lZEVuZEluZGV4KHN0cmluZykgKyAxKS5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJylcbiAgICA6IHN0cmluZztcbn1cblxudmFyIF9iYXNlVHJpbSA9IGJhc2VUcmltJDE7dmFyIHJvb3QgPSBfcm9vdDtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sJDIgPSByb290LlN5bWJvbDtcblxudmFyIF9TeW1ib2wgPSBTeW1ib2wkMjt2YXIgU3ltYm9sJDEgPSBfU3ltYm9sO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8kMSA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8kMS5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nJDEgPSBvYmplY3RQcm90byQxLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyQxID0gU3ltYm9sJDEgPyBTeW1ib2wkMS50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWckMSh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyQxKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnJDFdO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWckMV0gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmckMS5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZyQxXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnJDFdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG52YXIgX2dldFJhd1RhZyA9IGdldFJhd1RhZyQxOy8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cblxudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyQxKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxudmFyIF9vYmplY3RUb1N0cmluZyA9IG9iamVjdFRvU3RyaW5nJDE7dmFyIFN5bWJvbCA9IF9TeW1ib2wsXG4gICAgZ2V0UmF3VGFnID0gX2dldFJhd1RhZyxcbiAgICBvYmplY3RUb1N0cmluZyA9IF9vYmplY3RUb1N0cmluZztcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXSc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyQxKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxudmFyIF9iYXNlR2V0VGFnID0gYmFzZUdldFRhZyQxOy8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSQxKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxudmFyIGlzT2JqZWN0TGlrZV8xID0gaXNPYmplY3RMaWtlJDE7dmFyIGJhc2VHZXRUYWcgPSBfYmFzZUdldFRhZyxcbiAgICBpc09iamVjdExpa2UgPSBpc09iamVjdExpa2VfMTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sJDEodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbnZhciBpc1N5bWJvbF8xID0gaXNTeW1ib2wkMTt2YXIgYmFzZVRyaW0gPSBfYmFzZVRyaW0sXG4gICAgaXNPYmplY3QkMiA9IGlzT2JqZWN0XzEsXG4gICAgaXNTeW1ib2wgPSBpc1N5bWJvbF8xO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBOQU4gPSAwIC8gMDtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIkMSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCQyKHZhbHVlKSkge1xuICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICB2YWx1ZSA9IGlzT2JqZWN0JDIob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gYmFzZVRyaW0odmFsdWUpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxudmFyIHRvTnVtYmVyXzEgPSB0b051bWJlciQxO3ZhciBpc09iamVjdCQxID0gaXNPYmplY3RfMSxcbiAgICBub3cgPSBub3dfMSxcbiAgICB0b051bWJlciA9IHRvTnVtYmVyXzE7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQkMSA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAqIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICpcbiAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICogICAnbGVhZGluZyc6IHRydWUsXG4gKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gKiB9KSk7XG4gKlxuICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gZGVib3VuY2UkMShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsYXN0QXJncyxcbiAgICAgIGxhc3RUaGlzLFxuICAgICAgbWF4V2FpdCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRpbWVySWQsXG4gICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUJDEpO1xuICB9XG4gIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICBpZiAoaXNPYmplY3QkMShvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgcmV0dXJuIG1heGluZ1xuICAgICAgPyBuYXRpdmVNaW4odGltZVdhaXRpbmcsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKVxuICAgICAgOiB0aW1lV2FpdGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgIH1cbiAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgfVxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG5cbnZhciBkZWJvdW5jZV8xID0gZGVib3VuY2UkMTt2YXIgZGVib3VuY2UgPSBkZWJvdW5jZV8xLFxuICAgIGlzT2JqZWN0ID0gaXNPYmplY3RfMTtcblxuLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgdGhyb3R0bGVkIGZ1bmN0aW9uIHRoYXQgb25seSBpbnZva2VzIGBmdW5jYCBhdCBtb3N0IG9uY2UgcGVyXG4gKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICogbWV0aG9kIHRvIGNhbmNlbCBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0b1xuICogaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgXG4gKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gKiB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWQgd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlXG4gKiB0aHJvdHRsZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIHRocm90dGxlZCBmdW5jdGlvbiByZXR1cm4gdGhlXG4gKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBpbnZvY2F0aW9ucyB0by5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gKlxuICogLy8gSW52b2tlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXMuXG4gKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdGhyb3R0bGVkKTtcbiAqXG4gKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgdGhyb3R0bGVkLmNhbmNlbCk7XG4gKi9cbmZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGxlYWRpbmcgPSB0cnVlLFxuICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAnbGVhZGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG4gIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCB7XG4gICAgJ2xlYWRpbmcnOiBsZWFkaW5nLFxuICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAndHJhaWxpbmcnOiB0cmFpbGluZ1xuICB9KTtcbn1cblxudmFyIHRocm90dGxlXzEgPSB0aHJvdHRsZTt2YXIgcGF0Y2hSZXNpemVIYW5kbGVyID0gZnVuY3Rpb24gKHJlc2l6ZUNhbGxiYWNrLCByZWZyZXNoTW9kZSwgcmVmcmVzaFJhdGUsIHJlZnJlc2hPcHRpb25zKSB7XHJcbiAgICBzd2l0Y2ggKHJlZnJlc2hNb2RlKSB7XHJcbiAgICAgICAgY2FzZSAnZGVib3VuY2UnOlxyXG4gICAgICAgICAgICByZXR1cm4gZGVib3VuY2VfMShyZXNpemVDYWxsYmFjaywgcmVmcmVzaFJhdGUsIHJlZnJlc2hPcHRpb25zKTtcclxuICAgICAgICBjYXNlICd0aHJvdHRsZSc6XHJcbiAgICAgICAgICAgIHJldHVybiB0aHJvdHRsZV8xKHJlc2l6ZUNhbGxiYWNrLCByZWZyZXNoUmF0ZSwgcmVmcmVzaE9wdGlvbnMpO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHJldHVybiByZXNpemVDYWxsYmFjaztcclxuICAgIH1cclxufTtcclxudmFyIGlzRnVuY3Rpb24gPSBmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJzsgfTtcclxudmFyIGlzU1NSID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCc7IH07XHJcbnZhciBpc0RPTUVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCkgeyByZXR1cm4gZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxEb2N1bWVudDsgfTtcclxudmFyIGNyZWF0ZU5vdGlmaWVyID0gZnVuY3Rpb24gKG9uUmVzaXplLCBzZXRTaXplLCBoYW5kbGVXaWR0aCwgaGFuZGxlSGVpZ2h0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgdmFyIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcclxuICAgICAgICBzZXRTaXplKGZ1bmN0aW9uIChwcmV2KSB7XHJcbiAgICAgICAgICAgIGlmIChwcmV2LndpZHRoID09PSB3aWR0aCAmJiBwcmV2LmhlaWdodCA9PT0gaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBza2lwIGlmIGRpbWVuc2lvbnMgaGF2ZW4ndCBjaGFuZ2VkXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKHByZXYud2lkdGggPT09IHdpZHRoICYmICFoYW5kbGVIZWlnaHQpIHx8IChwcmV2LmhlaWdodCA9PT0gaGVpZ2h0ICYmICFoYW5kbGVXaWR0aCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIHByb2Nlc3MgYGhhbmRsZUhlaWdodC9oYW5kbGVXaWR0aGAgcHJvcHNcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvblJlc2l6ZSAmJiBpc0Z1bmN0aW9uKG9uUmVzaXplKSkge1xyXG4gICAgICAgICAgICAgICAgb25SZXNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufTt2YXIgUmVzaXplRGV0ZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUmVzaXplRGV0ZWN0b3IsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSZXNpemVEZXRlY3Rvcihwcm9wcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNhbmNlbEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5yZXNpemVIYW5kbGVyICYmIF90aGlzLnJlc2l6ZUhhbmRsZXIuY2FuY2VsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjYW5jZWwgZGVib3VuY2VkIGhhbmRsZXJcclxuICAgICAgICAgICAgICAgIF90aGlzLnJlc2l6ZUhhbmRsZXIuY2FuY2VsKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXNpemVIYW5kbGVyID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuYXR0YWNoT2JzZXJ2ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCB0YXJnZXRSZWYgPSBfYS50YXJnZXRSZWYsIG9ic2VydmVyT3B0aW9ucyA9IF9hLm9ic2VydmVyT3B0aW9ucztcclxuICAgICAgICAgICAgaWYgKGlzU1NSKCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0UmVmICYmIHRhcmdldFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50YXJnZXRSZWYuY3VycmVudCA9IHRhcmdldFJlZi5jdXJyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMuZ2V0RWxlbWVudCgpO1xyXG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNhbid0IGZpbmQgZWxlbWVudCB0byBvYnNlcnZlXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLm9ic2VydmFibGVFbGVtZW50ICYmIF90aGlzLm9ic2VydmFibGVFbGVtZW50ID09PSBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBlbGVtZW50IGlzIGFscmVhZHkgb2JzZXJ2ZWRcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5vYnNlcnZhYmxlRWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIF90aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZWxlbWVudCwgb2JzZXJ2ZXJPcHRpb25zKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLmdldEVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBxdWVyeVNlbGVjdG9yID0gX2EucXVlcnlTZWxlY3RvciwgdGFyZ2V0RG9tRWwgPSBfYS50YXJnZXREb21FbDtcclxuICAgICAgICAgICAgaWYgKGlzU1NSKCkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgLy8gaW4gY2FzZSB3ZSBwYXNzIGEgcXVlcnlTZWxlY3RvclxyXG4gICAgICAgICAgICBpZiAocXVlcnlTZWxlY3RvcilcclxuICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHF1ZXJ5U2VsZWN0b3IpO1xyXG4gICAgICAgICAgICAvLyBpbiBjYXNlIHdlIHBhc3MgYSBET00gZWxlbWVudFxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0RG9tRWwgJiYgaXNET01FbGVtZW50KHRhcmdldERvbUVsKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXREb21FbDtcclxuICAgICAgICAgICAgLy8gaW4gY2FzZSB3ZSBwYXNzIGEgUmVhY3QgcmVmIHVzaW5nIFJlYWN0LmNyZWF0ZVJlZigpXHJcbiAgICAgICAgICAgIGlmIChfdGhpcy50YXJnZXRSZWYgJiYgaXNET01FbGVtZW50KF90aGlzLnRhcmdldFJlZi5jdXJyZW50KSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy50YXJnZXRSZWYuY3VycmVudDtcclxuICAgICAgICAgICAgLy8gdGhlIHdvcnNlIGNhc2Ugd2hlbiB3ZSBkb24ndCByZWNlaXZlIGFueSBpbmZvcm1hdGlvbiBmcm9tIHRoZSBwYXJlbnQgYW5kIHRoZSBsaWJyYXJ5IGRvZXNuJ3QgYWRkIGFueSB3cmFwcGVyc1xyXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIHRvIHVzZSBhIGRlcHJlY2F0ZWQgYGZpbmRET01Ob2RlYCBtZXRob2QgaW4gb3JkZXIgdG8gZmluZCBhIERPTSBlbGVtZW50IHRvIGF0dGFjaCB0b1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudEVsZW1lbnQgPSBmaW5kRE9NTm9kZShfdGhpcyk7XHJcbiAgICAgICAgICAgIGlmICghY3VycmVudEVsZW1lbnQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgdmFyIHJlbmRlclR5cGUgPSBfdGhpcy5nZXRSZW5kZXJUeXBlKCk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAocmVuZGVyVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmVuZGVyUHJvcCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY2hpbGRGdW5jdGlvbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY2hpbGQnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2NoaWxkQXJyYXknOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLmNyZWF0ZVJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbiAoZW50cmllcykge1xyXG4gICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgX2IgPSBfYS5oYW5kbGVXaWR0aCwgaGFuZGxlV2lkdGggPSBfYiA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9iLCBfYyA9IF9hLmhhbmRsZUhlaWdodCwgaGFuZGxlSGVpZ2h0ID0gX2MgPT09IHZvaWQgMCA/IHRydWUgOiBfYywgb25SZXNpemUgPSBfYS5vblJlc2l6ZTtcclxuICAgICAgICAgICAgaWYgKCFoYW5kbGVXaWR0aCAmJiAhaGFuZGxlSGVpZ2h0KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB2YXIgbm90aWZ5UmVzaXplID0gY3JlYXRlTm90aWZpZXIob25SZXNpemUsIF90aGlzLnNldFN0YXRlLmJpbmQoX3RoaXMpLCBoYW5kbGVXaWR0aCwgaGFuZGxlSGVpZ2h0KTtcclxuICAgICAgICAgICAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hID0gKGVudHJ5ICYmIGVudHJ5LmNvbnRlbnRSZWN0KSB8fCB7fSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgdmFyIHNob3VsZFNldFNpemUgPSAhX3RoaXMuc2tpcE9uTW91bnQgJiYgIWlzU1NSKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkU2V0U2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdGlmeVJlc2l6ZSh7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5za2lwT25Nb3VudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLmdldFJlbmRlclR5cGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCByZW5kZXIgPSBfYS5yZW5kZXIsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHJlbmRlcikpIHtcclxuICAgICAgICAgICAgICAgIC8vIERFUFJFQ0FURUQuIFVzZSBgQ2hpbGQgRnVuY3Rpb24gUGF0dGVybmAgaW5zdGVhZFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdyZW5kZXJQcm9wJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnY2hpbGRGdW5jdGlvbic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdjaGlsZCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBERVBSRUNBVEVELiBXcmFwIGNoaWxkcmVuIHdpdGggYSBzaW5nbGUgcGFyZW50XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2NoaWxkQXJyYXknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIERFUFJFQ0FURUQuIFVzZSBgQ2hpbGQgRnVuY3Rpb24gUGF0dGVybmAgaW5zdGVhZFxyXG4gICAgICAgICAgICByZXR1cm4gJ3BhcmVudCc7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgc2tpcE9uTW91bnQgPSBwcm9wcy5za2lwT25Nb3VudCwgcmVmcmVzaE1vZGUgPSBwcm9wcy5yZWZyZXNoTW9kZSwgX2EgPSBwcm9wcy5yZWZyZXNoUmF0ZSwgcmVmcmVzaFJhdGUgPSBfYSA9PT0gdm9pZCAwID8gMTAwMCA6IF9hLCByZWZyZXNoT3B0aW9ucyA9IHByb3BzLnJlZnJlc2hPcHRpb25zO1xyXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICB3aWR0aDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHVuZGVmaW5lZFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuc2tpcE9uTW91bnQgPSBza2lwT25Nb3VudDtcclxuICAgICAgICBfdGhpcy50YXJnZXRSZWYgPSBjcmVhdGVSZWYoKTtcclxuICAgICAgICBfdGhpcy5vYnNlcnZhYmxlRWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgaWYgKGlzU1NSKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfdGhpcy5yZXNpemVIYW5kbGVyID0gcGF0Y2hSZXNpemVIYW5kbGVyKF90aGlzLmNyZWF0ZVJlc2l6ZUhhbmRsZXIsIHJlZnJlc2hNb2RlLCByZWZyZXNoUmF0ZSwgcmVmcmVzaE9wdGlvbnMpO1xyXG4gICAgICAgIF90aGlzLnJlc2l6ZU9ic2VydmVyID0gbmV3IHdpbmRvdy5SZXNpemVPYnNlcnZlcihfdGhpcy5yZXNpemVIYW5kbGVyKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBSZXNpemVEZXRlY3Rvci5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5hdHRhY2hPYnNlcnZlcigpO1xyXG4gICAgfTtcclxuICAgIFJlc2l6ZURldGVjdG9yLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5hdHRhY2hPYnNlcnZlcigpO1xyXG4gICAgfTtcclxuICAgIFJlc2l6ZURldGVjdG9yLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoaXNTU1IoKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZUVsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIHRoaXMuY2FuY2VsSGFuZGxlcigpO1xyXG4gICAgfTtcclxuICAgIFJlc2l6ZURldGVjdG9yLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgcmVuZGVyID0gX2EucmVuZGVyLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBfYiA9IF9hLm5vZGVUeXBlLCBXcmFwcGVyVGFnID0gX2IgPT09IHZvaWQgMCA/ICdkaXYnIDogX2I7XHJcbiAgICAgICAgdmFyIF9jID0gdGhpcy5zdGF0ZSwgd2lkdGggPSBfYy53aWR0aCwgaGVpZ2h0ID0gX2MuaGVpZ2h0O1xyXG4gICAgICAgIHZhciBjaGlsZFByb3BzID0geyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0LCB0YXJnZXRSZWY6IHRoaXMudGFyZ2V0UmVmIH07XHJcbiAgICAgICAgdmFyIHJlbmRlclR5cGUgPSB0aGlzLmdldFJlbmRlclR5cGUoKTtcclxuICAgICAgICB2YXIgdHlwZWRDaGlsZHJlbjtcclxuICAgICAgICBzd2l0Y2ggKHJlbmRlclR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAncmVuZGVyUHJvcCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGVyICYmIHJlbmRlcihjaGlsZFByb3BzKTtcclxuICAgICAgICAgICAgY2FzZSAnY2hpbGRGdW5jdGlvbic6XHJcbiAgICAgICAgICAgICAgICB0eXBlZENoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZWRDaGlsZHJlbihjaGlsZFByb3BzKTtcclxuICAgICAgICAgICAgY2FzZSAnY2hpbGQnOlxyXG4gICAgICAgICAgICAgICAgLy8gQFRPRE8gYnVnIHByb25lIGxvZ2ljXHJcbiAgICAgICAgICAgICAgICB0eXBlZENoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZWRDaGlsZHJlbi50eXBlICYmIHR5cGVvZiB0eXBlZENoaWxkcmVuLnR5cGUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hpbGQgaXMgYSBuYXRpdmUgRE9NIGVsZW1lbnRzIHN1Y2ggYXMgZGl2LCBzcGFuIGV0Y1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkUHJvcHMudGFyZ2V0UmVmOyB2YXIgbmF0aXZlUHJvcHMgPSBfX3Jlc3QoY2hpbGRQcm9wcywgW1widGFyZ2V0UmVmXCJdKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xvbmVFbGVtZW50KHR5cGVkQ2hpbGRyZW4sIG5hdGl2ZVByb3BzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGNsYXNzIG9yIGZ1bmN0aW9uYWwgY29tcG9uZW50IG90aGVyd2lzZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsb25lRWxlbWVudCh0eXBlZENoaWxkcmVuLCBjaGlsZFByb3BzKTtcclxuICAgICAgICAgICAgY2FzZSAnY2hpbGRBcnJheSc6XHJcbiAgICAgICAgICAgICAgICB0eXBlZENoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZWRDaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGVsKSB7IHJldHVybiAhIWVsICYmIGNsb25lRWxlbWVudChlbCwgY2hpbGRQcm9wcyk7IH0pO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlclRhZywgbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBSZXNpemVEZXRlY3RvcjtcclxufShQdXJlQ29tcG9uZW50KSk7ZnVuY3Rpb24gd2l0aFJlc2l6ZURldGVjdG9yKENvbXBvbmVudElubmVyLCBvcHRpb25zKSB7XHJcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxyXG4gICAgdmFyIFJlc2l6ZURldGVjdG9ySE9DID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhSZXNpemVEZXRlY3RvckhPQywgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBSZXNpemVEZXRlY3RvckhPQygpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICAgICAgICAgIF90aGlzLnJlZiA9IGNyZWF0ZVJlZigpO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFJlc2l6ZURldGVjdG9ySE9DLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGZvcndhcmRlZFJlZiA9IF9hLmZvcndhcmRlZFJlZiwgcmVzdCA9IF9fcmVzdChfYSwgW1wiZm9yd2FyZGVkUmVmXCJdKTtcclxuICAgICAgICAgICAgdmFyIHRhcmdldFJlZiA9IGZvcndhcmRlZFJlZiAhPT0gbnVsbCAmJiBmb3J3YXJkZWRSZWYgIT09IHZvaWQgMCA/IGZvcndhcmRlZFJlZiA6IHRoaXMucmVmO1xyXG4gICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVzaXplRGV0ZWN0b3IsIF9fYXNzaWduKHt9LCBvcHRpb25zLCB7IHRhcmdldFJlZjogdGFyZ2V0UmVmIH0pLFxyXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnRJbm5lciwgX19hc3NpZ24oeyB0YXJnZXRSZWY6IHRhcmdldFJlZiB9LCByZXN0KSkpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBSZXNpemVEZXRlY3RvckhPQztcclxuICAgIH0oQ29tcG9uZW50KSk7XHJcbiAgICBmdW5jdGlvbiBmb3J3YXJkUmVmV3JhcHBlcihwcm9wcywgcmVmKSB7XHJcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVzaXplRGV0ZWN0b3JIT0MsIF9fYXNzaWduKHt9LCBwcm9wcywgeyBmb3J3YXJkZWRSZWY6IHJlZiB9KSk7XHJcbiAgICB9XHJcbiAgICB2YXIgbmFtZSA9IENvbXBvbmVudElubmVyLmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudElubmVyLm5hbWU7XHJcbiAgICBmb3J3YXJkUmVmV3JhcHBlci5kaXNwbGF5TmFtZSA9IFwid2l0aFJlc2l6ZURldGVjdG9yKFwiLmNvbmNhdChuYW1lLCBcIilcIik7XHJcbiAgICByZXR1cm4gZm9yd2FyZFJlZihmb3J3YXJkUmVmV3JhcHBlcik7XHJcbn12YXIgdXNlRW5oYW5jZWRFZmZlY3QgPSBpc1NTUigpID8gdXNlRWZmZWN0IDogdXNlTGF5b3V0RWZmZWN0O1xyXG5mdW5jdGlvbiB1c2VSZXNpemVEZXRlY3Rvcihwcm9wcykge1xyXG4gICAgaWYgKHByb3BzID09PSB2b2lkIDApIHsgcHJvcHMgPSB7fTsgfVxyXG4gICAgdmFyIF9hID0gcHJvcHMuc2tpcE9uTW91bnQsIHNraXBPbk1vdW50ID0gX2EgPT09IHZvaWQgMCA/IGZhbHNlIDogX2EsIHJlZnJlc2hNb2RlID0gcHJvcHMucmVmcmVzaE1vZGUsIF9iID0gcHJvcHMucmVmcmVzaFJhdGUsIHJlZnJlc2hSYXRlID0gX2IgPT09IHZvaWQgMCA/IDEwMDAgOiBfYiwgcmVmcmVzaE9wdGlvbnMgPSBwcm9wcy5yZWZyZXNoT3B0aW9ucywgX2MgPSBwcm9wcy5oYW5kbGVXaWR0aCwgaGFuZGxlV2lkdGggPSBfYyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9jLCBfZCA9IHByb3BzLmhhbmRsZUhlaWdodCwgaGFuZGxlSGVpZ2h0ID0gX2QgPT09IHZvaWQgMCA/IHRydWUgOiBfZCwgdGFyZ2V0UmVmID0gcHJvcHMudGFyZ2V0UmVmLCBvYnNlcnZlck9wdGlvbnMgPSBwcm9wcy5vYnNlcnZlck9wdGlvbnMsIG9uUmVzaXplID0gcHJvcHMub25SZXNpemU7XHJcbiAgICB2YXIgc2tpcFJlc2l6ZSA9IHVzZVJlZihza2lwT25Nb3VudCk7XHJcbiAgICB2YXIgbG9jYWxSZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgICB2YXIgcmVmID0gKHRhcmdldFJlZiAhPT0gbnVsbCAmJiB0YXJnZXRSZWYgIT09IHZvaWQgMCA/IHRhcmdldFJlZiA6IGxvY2FsUmVmKTtcclxuICAgIHZhciByZXNpemVIYW5kbGVyID0gdXNlUmVmKCk7XHJcbiAgICB2YXIgX2UgPSB1c2VTdGF0ZSh7XHJcbiAgICAgICAgd2lkdGg6IHVuZGVmaW5lZCxcclxuICAgICAgICBoZWlnaHQ6IHVuZGVmaW5lZFxyXG4gICAgfSksIHNpemUgPSBfZVswXSwgc2V0U2l6ZSA9IF9lWzFdO1xyXG4gICAgdXNlRW5oYW5jZWRFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChpc1NTUigpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG5vdGlmeVJlc2l6ZSA9IGNyZWF0ZU5vdGlmaWVyKG9uUmVzaXplLCBzZXRTaXplLCBoYW5kbGVXaWR0aCwgaGFuZGxlSGVpZ2h0KTtcclxuICAgICAgICB2YXIgcmVzaXplQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZW50cmllcykge1xyXG4gICAgICAgICAgICBpZiAoIWhhbmRsZVdpZHRoICYmICFoYW5kbGVIZWlnaHQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfYSA9IChlbnRyeSAmJiBlbnRyeS5jb250ZW50UmVjdCkgfHwge30sIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHZhciBzaG91bGRTZXRTaXplID0gIXNraXBSZXNpemUuY3VycmVudCAmJiAhaXNTU1IoKTtcclxuICAgICAgICAgICAgICAgIGlmIChzaG91bGRTZXRTaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm90aWZ5UmVzaXplKHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNraXBSZXNpemUuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlc2l6ZUhhbmRsZXIuY3VycmVudCA9IHBhdGNoUmVzaXplSGFuZGxlcihyZXNpemVDYWxsYmFjaywgcmVmcmVzaE1vZGUsIHJlZnJlc2hSYXRlLCByZWZyZXNoT3B0aW9ucyk7XHJcbiAgICAgICAgdmFyIHJlc2l6ZU9ic2VydmVyID0gbmV3IHdpbmRvdy5SZXNpemVPYnNlcnZlcihyZXNpemVIYW5kbGVyLmN1cnJlbnQpO1xyXG4gICAgICAgIGlmIChyZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICAvLyBTb21ldGhpbmcgd3Jvbmcgd2l0aCB0eXBpbmdzIGhlcmUuLi5cclxuICAgICAgICAgICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShyZWYuY3VycmVudCwgb2JzZXJ2ZXJPcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICB2YXIgcGF0Y2hlZFJlc2l6ZUhhbmRsZXIgPSByZXNpemVIYW5kbGVyLmN1cnJlbnQ7XHJcbiAgICAgICAgICAgIGlmIChwYXRjaGVkUmVzaXplSGFuZGxlciAmJiBwYXRjaGVkUmVzaXplSGFuZGxlci5jYW5jZWwpIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoZWRSZXNpemVIYW5kbGVyLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0sIFtyZWZyZXNoTW9kZSwgcmVmcmVzaFJhdGUsIHJlZnJlc2hPcHRpb25zLCBoYW5kbGVXaWR0aCwgaGFuZGxlSGVpZ2h0LCBvblJlc2l6ZSwgb2JzZXJ2ZXJPcHRpb25zLCByZWYuY3VycmVudF0pO1xyXG4gICAgcmV0dXJuIF9fYXNzaWduKHsgcmVmOiByZWYgfSwgc2l6ZSk7XHJcbn1leHBvcnR7UmVzaXplRGV0ZWN0b3IgYXMgZGVmYXVsdCx1c2VSZXNpemVEZXRlY3Rvcix3aXRoUmVzaXplRGV0ZWN0b3J9Oy8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-resize-detector/build/index.esm.js\n"));

/***/ }),

/***/ "./node_modules/reselect/es/index.js":
/*!*******************************************!*\
  !*** ./node_modules/reselect/es/index.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createSelector\": function() { return /* binding */ createSelector; },\n/* harmony export */   \"createSelectorCreator\": function() { return /* binding */ createSelectorCreator; },\n/* harmony export */   \"createStructuredSelector\": function() { return /* binding */ createStructuredSelector; },\n/* harmony export */   \"defaultMemoize\": function() { return /* binding */ defaultMemoize; }\n/* harmony export */ });\nfunction defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nfunction createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nvar createSelector = createSelectorCreator(defaultMemoize);\n\nfunction createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVzZWxlY3QvZXMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVPO0FBQ1AsK0ZBQStGLGFBQWE7QUFDNUc7QUFDQTs7QUFFQTtBQUNBLHdFQUF3RSxlQUFlO0FBQ3ZGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsWUFBWTtBQUNsQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTzs7QUFFQTtBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx5RUFBeUUsZUFBZTtBQUN4RjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNULEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVzZWxlY3QvZXMvaW5kZXguanM/NWQ2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBkZWZhdWx0RXF1YWxpdHlDaGVjayhhLCBiKSB7XG4gIHJldHVybiBhID09PSBiO1xufVxuXG5mdW5jdGlvbiBhcmVBcmd1bWVudHNTaGFsbG93bHlFcXVhbChlcXVhbGl0eUNoZWNrLCBwcmV2LCBuZXh0KSB7XG4gIGlmIChwcmV2ID09PSBudWxsIHx8IG5leHQgPT09IG51bGwgfHwgcHJldi5sZW5ndGggIT09IG5leHQubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gRG8gdGhpcyBpbiBhIGZvciBsb29wIChhbmQgbm90IGEgYGZvckVhY2hgIG9yIGFuIGBldmVyeWApIHNvIHdlIGNhbiBkZXRlcm1pbmUgZXF1YWxpdHkgYXMgZmFzdCBhcyBwb3NzaWJsZS5cbiAgdmFyIGxlbmd0aCA9IHByZXYubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFlcXVhbGl0eUNoZWNrKHByZXZbaV0sIG5leHRbaV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0TWVtb2l6ZShmdW5jKSB7XG4gIHZhciBlcXVhbGl0eUNoZWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBkZWZhdWx0RXF1YWxpdHlDaGVjaztcblxuICB2YXIgbGFzdEFyZ3MgPSBudWxsO1xuICB2YXIgbGFzdFJlc3VsdCA9IG51bGw7XG4gIC8vIHdlIHJlZmVyZW5jZSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgdGhlbSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uc1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICghYXJlQXJndW1lbnRzU2hhbGxvd2x5RXF1YWwoZXF1YWxpdHlDaGVjaywgbGFzdEFyZ3MsIGFyZ3VtZW50cykpIHtcbiAgICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICBsYXN0UmVzdWx0ID0gZnVuYy5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICB9O1xufVxuXG5mdW5jdGlvbiBnZXREZXBlbmRlbmNpZXMoZnVuY3MpIHtcbiAgdmFyIGRlcGVuZGVuY2llcyA9IEFycmF5LmlzQXJyYXkoZnVuY3NbMF0pID8gZnVuY3NbMF0gOiBmdW5jcztcblxuICBpZiAoIWRlcGVuZGVuY2llcy5ldmVyeShmdW5jdGlvbiAoZGVwKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkZXAgPT09ICdmdW5jdGlvbic7XG4gIH0pKSB7XG4gICAgdmFyIGRlcGVuZGVuY3lUeXBlcyA9IGRlcGVuZGVuY2llcy5tYXAoZnVuY3Rpb24gKGRlcCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBkZXA7XG4gICAgfSkuam9pbignLCAnKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlbGVjdG9yIGNyZWF0b3JzIGV4cGVjdCBhbGwgaW5wdXQtc2VsZWN0b3JzIHRvIGJlIGZ1bmN0aW9ucywgJyArICgnaW5zdGVhZCByZWNlaXZlZCB0aGUgZm9sbG93aW5nIHR5cGVzOiBbJyArIGRlcGVuZGVuY3lUeXBlcyArICddJykpO1xuICB9XG5cbiAgcmV0dXJuIGRlcGVuZGVuY2llcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcihtZW1vaXplKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtZW1vaXplT3B0aW9ucyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBtZW1vaXplT3B0aW9uc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgZnVuY3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICB2YXIgcmVjb21wdXRhdGlvbnMgPSAwO1xuICAgIHZhciByZXN1bHRGdW5jID0gZnVuY3MucG9wKCk7XG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IGdldERlcGVuZGVuY2llcyhmdW5jcyk7XG5cbiAgICB2YXIgbWVtb2l6ZWRSZXN1bHRGdW5jID0gbWVtb2l6ZS5hcHBseSh1bmRlZmluZWQsIFtmdW5jdGlvbiAoKSB7XG4gICAgICByZWNvbXB1dGF0aW9ucysrO1xuICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGZvciBwZXJmb3JtYW5jZS5cbiAgICAgIHJldHVybiByZXN1bHRGdW5jLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfV0uY29uY2F0KG1lbW9pemVPcHRpb25zKSk7XG5cbiAgICAvLyBJZiBhIHNlbGVjdG9yIGlzIGNhbGxlZCB3aXRoIHRoZSBleGFjdCBzYW1lIGFyZ3VtZW50cyB3ZSBkb24ndCBuZWVkIHRvIHRyYXZlcnNlIG91ciBkZXBlbmRlbmNpZXMgYWdhaW4uXG4gICAgdmFyIHNlbGVjdG9yID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGFyYW1zID0gW107XG4gICAgICB2YXIgbGVuZ3RoID0gZGVwZW5kZW5jaWVzLmxlbmd0aDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBhcHBseSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgYW5kIG11dGF0ZSBhIGxvY2FsIGxpc3Qgb2YgcGFyYW1zIGZvciBwZXJmb3JtYW5jZS5cbiAgICAgICAgcGFyYW1zLnB1c2goZGVwZW5kZW5jaWVzW2ldLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xuICAgICAgfVxuXG4gICAgICAvLyBhcHBseSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgZm9yIHBlcmZvcm1hbmNlLlxuICAgICAgcmV0dXJuIG1lbW9pemVkUmVzdWx0RnVuYy5hcHBseShudWxsLCBwYXJhbXMpO1xuICAgIH0pO1xuXG4gICAgc2VsZWN0b3IucmVzdWx0RnVuYyA9IHJlc3VsdEZ1bmM7XG4gICAgc2VsZWN0b3IuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzO1xuICAgIHNlbGVjdG9yLnJlY29tcHV0YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlY29tcHV0YXRpb25zO1xuICAgIH07XG4gICAgc2VsZWN0b3IucmVzZXRSZWNvbXB1dGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZWNvbXB1dGF0aW9ucyA9IDA7XG4gICAgfTtcbiAgICByZXR1cm4gc2VsZWN0b3I7XG4gIH07XG59XG5cbmV4cG9ydCB2YXIgY3JlYXRlU2VsZWN0b3IgPSBjcmVhdGVTZWxlY3RvckNyZWF0b3IoZGVmYXVsdE1lbW9pemUpO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yKHNlbGVjdG9ycykge1xuICB2YXIgc2VsZWN0b3JDcmVhdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBjcmVhdGVTZWxlY3RvcjtcblxuICBpZiAodHlwZW9mIHNlbGVjdG9ycyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciBleHBlY3RzIGZpcnN0IGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCAnICsgKCd3aGVyZSBlYWNoIHByb3BlcnR5IGlzIGEgc2VsZWN0b3IsIGluc3RlYWQgcmVjZWl2ZWQgYSAnICsgdHlwZW9mIHNlbGVjdG9ycykpO1xuICB9XG4gIHZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMoc2VsZWN0b3JzKTtcbiAgcmV0dXJuIHNlbGVjdG9yQ3JlYXRvcihvYmplY3RLZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHNlbGVjdG9yc1trZXldO1xuICB9KSwgZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgdmFsdWVzID0gQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgIHZhbHVlc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXMucmVkdWNlKGZ1bmN0aW9uIChjb21wb3NpdGlvbiwgdmFsdWUsIGluZGV4KSB7XG4gICAgICBjb21wb3NpdGlvbltvYmplY3RLZXlzW2luZGV4XV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiBjb21wb3NpdGlvbjtcbiAgICB9LCB7fSk7XG4gIH0pO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/reselect/es/index.js\n"));

/***/ }),

/***/ "./node_modules/sdp-transform/lib/grammar.js":
/*!***************************************************!*\
  !*** ./node_modules/sdp-transform/lib/grammar.js ***!
  \***************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var grammar = module.exports = {\n  v: [{\n    name: 'version',\n    reg: /^(\\d*)$/\n  }],\n  o: [{\n    // o=- 20518 0 IN IP4 203.0.113.1\n    // NB: sessionId will be a String in most cases because it is huge\n    name: 'origin',\n    reg: /^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,\n    names: ['username', 'sessionId', 'sessionVersion', 'netType', 'ipVer', 'address'],\n    format: '%s %s %d %s IP%d %s'\n  }],\n  // default parsing of these only (though some of these feel outdated)\n  s: [{ name: 'name' }],\n  i: [{ name: 'description' }],\n  u: [{ name: 'uri' }],\n  e: [{ name: 'email' }],\n  p: [{ name: 'phone' }],\n  z: [{ name: 'timezones' }], // TODO: this one can actually be parsed properly...\n  r: [{ name: 'repeats' }],   // TODO: this one can also be parsed properly\n  // k: [{}], // outdated thing ignored\n  t: [{\n    // t=0 0\n    name: 'timing',\n    reg: /^(\\d*) (\\d*)/,\n    names: ['start', 'stop'],\n    format: '%d %d'\n  }],\n  c: [{\n    // c=IN IP4 10.47.197.26\n    name: 'connection',\n    reg: /^IN IP(\\d) (\\S*)/,\n    names: ['version', 'ip'],\n    format: 'IN IP%d %s'\n  }],\n  b: [{\n    // b=AS:4000\n    push: 'bandwidth',\n    reg: /^(TIAS|AS|CT|RR|RS):(\\d*)/,\n    names: ['type', 'limit'],\n    format: '%s:%s'\n  }],\n  m: [{\n    // m=video 51744 RTP/AVP 126 97 98 34 31\n    // NB: special - pushes to session\n    // TODO: rtp/fmtp should be filtered by the payloads found here?\n    reg: /^(\\w*) (\\d*) ([\\w/]*)(?: (.*))?/,\n    names: ['type', 'port', 'protocol', 'payloads'],\n    format: '%s %d %s %s'\n  }],\n  a: [\n    {\n      // a=rtpmap:110 opus/48000/2\n      push: 'rtp',\n      reg: /^rtpmap:(\\d*) ([\\w\\-.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,\n      names: ['payload', 'codec', 'rate', 'encoding'],\n      format: function (o) {\n        return (o.encoding)\n          ? 'rtpmap:%d %s/%s/%s'\n          : o.rate\n            ? 'rtpmap:%d %s/%s'\n            : 'rtpmap:%d %s';\n      }\n    },\n    {\n      // a=fmtp:108 profile-level-id=24;object=23;bitrate=64000\n      // a=fmtp:111 minptime=10; useinbandfec=1\n      push: 'fmtp',\n      reg: /^fmtp:(\\d*) ([\\S| ]*)/,\n      names: ['payload', 'config'],\n      format: 'fmtp:%d %s'\n    },\n    {\n      // a=control:streamid=0\n      name: 'control',\n      reg: /^control:(.*)/,\n      format: 'control:%s'\n    },\n    {\n      // a=rtcp:65179 IN IP4 193.84.77.194\n      name: 'rtcp',\n      reg: /^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,\n      names: ['port', 'netType', 'ipVer', 'address'],\n      format: function (o) {\n        return (o.address != null)\n          ? 'rtcp:%d %s IP%d %s'\n          : 'rtcp:%d';\n      }\n    },\n    {\n      // a=rtcp-fb:98 trr-int 100\n      push: 'rtcpFbTrrInt',\n      reg: /^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,\n      names: ['payload', 'value'],\n      format: 'rtcp-fb:%s trr-int %d'\n    },\n    {\n      // a=rtcp-fb:98 nack rpsi\n      push: 'rtcpFb',\n      reg: /^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,\n      names: ['payload', 'type', 'subtype'],\n      format: function (o) {\n        return (o.subtype != null)\n          ? 'rtcp-fb:%s %s %s'\n          : 'rtcp-fb:%s %s';\n      }\n    },\n    {\n      // a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n      // a=extmap:1/recvonly URI-gps-string\n      // a=extmap:3 urn:ietf:params:rtp-hdrext:encrypt urn:ietf:params:rtp-hdrext:smpte-tc 25@600/24\n      push: 'ext',\n      reg: /^extmap:(\\d+)(?:\\/(\\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\\S*)(?: (\\S*))?/,\n      names: ['value', 'direction', 'encrypt-uri', 'uri', 'config'],\n      format: function (o) {\n        return (\n          'extmap:%d' +\n          (o.direction ? '/%s' : '%v') +\n          (o['encrypt-uri'] ? ' %s' : '%v') +\n          ' %s' +\n          (o.config ? ' %s' : '')\n        );\n      }\n    },\n    {\n      // a=extmap-allow-mixed\n      name: 'extmapAllowMixed',\n      reg: /^(extmap-allow-mixed)/\n    },\n    {\n      // a=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:PS1uQCVeeCFCanVmcjkpPywjNWhcYD0mXXtxaVBR|2^20|1:32\n      push: 'crypto',\n      reg: /^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,\n      names: ['id', 'suite', 'config', 'sessionConfig'],\n      format: function (o) {\n        return (o.sessionConfig != null)\n          ? 'crypto:%d %s %s %s'\n          : 'crypto:%d %s %s';\n      }\n    },\n    {\n      // a=setup:actpass\n      name: 'setup',\n      reg: /^setup:(\\w*)/,\n      format: 'setup:%s'\n    },\n    {\n      // a=connection:new\n      name: 'connectionType',\n      reg: /^connection:(new|existing)/,\n      format: 'connection:%s'\n    },\n    {\n      // a=mid:1\n      name: 'mid',\n      reg: /^mid:([^\\s]*)/,\n      format: 'mid:%s'\n    },\n    {\n      // a=msid:0c8b064d-d807-43b4-b434-f92a889d8587 98178685-d409-46e0-8e16-7ef0db0db64a\n      name: 'msid',\n      reg: /^msid:(.*)/,\n      format: 'msid:%s'\n    },\n    {\n      // a=ptime:20\n      name: 'ptime',\n      reg: /^ptime:(\\d*(?:\\.\\d*)*)/,\n      format: 'ptime:%d'\n    },\n    {\n      // a=maxptime:60\n      name: 'maxptime',\n      reg: /^maxptime:(\\d*(?:\\.\\d*)*)/,\n      format: 'maxptime:%d'\n    },\n    {\n      // a=sendrecv\n      name: 'direction',\n      reg: /^(sendrecv|recvonly|sendonly|inactive)/\n    },\n    {\n      // a=ice-lite\n      name: 'icelite',\n      reg: /^(ice-lite)/\n    },\n    {\n      // a=ice-ufrag:F7gI\n      name: 'iceUfrag',\n      reg: /^ice-ufrag:(\\S*)/,\n      format: 'ice-ufrag:%s'\n    },\n    {\n      // a=ice-pwd:x9cml/YzichV2+XlhiMu8g\n      name: 'icePwd',\n      reg: /^ice-pwd:(\\S*)/,\n      format: 'ice-pwd:%s'\n    },\n    {\n      // a=fingerprint:SHA-1 00:11:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF:00:11:22:33\n      name: 'fingerprint',\n      reg: /^fingerprint:(\\S*) (\\S*)/,\n      names: ['type', 'hash'],\n      format: 'fingerprint:%s %s'\n    },\n    {\n      // a=candidate:0 1 UDP 2113667327 203.0.113.1 54400 typ host\n      // a=candidate:1162875081 1 udp 2113937151 192.168.34.75 60017 typ host generation 0 network-id 3 network-cost 10\n      // a=candidate:3289912957 2 udp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 generation 0 network-id 3 network-cost 10\n      // a=candidate:229815620 1 tcp 1518280447 192.168.150.19 60017 typ host tcptype active generation 0 network-id 3 network-cost 10\n      // a=candidate:3289912957 2 tcp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 tcptype passive generation 0 network-id 3 network-cost 10\n      push:'candidates',\n      reg: /^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?(?: network-id (\\d*))?(?: network-cost (\\d*))?/,\n      names: ['foundation', 'component', 'transport', 'priority', 'ip', 'port', 'type', 'raddr', 'rport', 'tcptype', 'generation', 'network-id', 'network-cost'],\n      format: function (o) {\n        var str = 'candidate:%s %d %s %d %s %d typ %s';\n\n        str += (o.raddr != null) ? ' raddr %s rport %d' : '%v%v';\n\n        // NB: candidate has three optional chunks, so %void middles one if it's missing\n        str += (o.tcptype != null) ? ' tcptype %s' : '%v';\n\n        if (o.generation != null) {\n          str += ' generation %d';\n        }\n\n        str += (o['network-id'] != null) ? ' network-id %d' : '%v';\n        str += (o['network-cost'] != null) ? ' network-cost %d' : '%v';\n        return str;\n      }\n    },\n    {\n      // a=end-of-candidates (keep after the candidates line for readability)\n      name: 'endOfCandidates',\n      reg: /^(end-of-candidates)/\n    },\n    {\n      // a=remote-candidates:1 203.0.113.1 54400 2 203.0.113.1 54401 ...\n      name: 'remoteCandidates',\n      reg: /^remote-candidates:(.*)/,\n      format: 'remote-candidates:%s'\n    },\n    {\n      // a=ice-options:google-ice\n      name: 'iceOptions',\n      reg: /^ice-options:(\\S*)/,\n      format: 'ice-options:%s'\n    },\n    {\n      // a=ssrc:2566107569 cname:t9YU8M1UxTF8Y1A1\n      push: 'ssrcs',\n      reg: /^ssrc:(\\d*) ([\\w_-]*)(?::(.*))?/,\n      names: ['id', 'attribute', 'value'],\n      format: function (o) {\n        var str = 'ssrc:%d';\n        if (o.attribute != null) {\n          str += ' %s';\n          if (o.value != null) {\n            str += ':%s';\n          }\n        }\n        return str;\n      }\n    },\n    {\n      // a=ssrc-group:FEC 1 2\n      // a=ssrc-group:FEC-FR 3004364195 1080772241\n      push: 'ssrcGroups',\n      // token-char = %x21 / %x23-27 / %x2A-2B / %x2D-2E / %x30-39 / %x41-5A / %x5E-7E\n      reg: /^ssrc-group:([\\x21\\x23\\x24\\x25\\x26\\x27\\x2A\\x2B\\x2D\\x2E\\w]*) (.*)/,\n      names: ['semantics', 'ssrcs'],\n      format: 'ssrc-group:%s %s'\n    },\n    {\n      // a=msid-semantic: WMS Jvlam5X3SX1OP6pn20zWogvaKJz5Hjf9OnlV\n      name: 'msidSemantic',\n      reg: /^msid-semantic:\\s?(\\w*) (\\S*)/,\n      names: ['semantic', 'token'],\n      format: 'msid-semantic: %s %s' // space after ':' is not accidental\n    },\n    {\n      // a=group:BUNDLE audio video\n      push: 'groups',\n      reg: /^group:(\\w*) (.*)/,\n      names: ['type', 'mids'],\n      format: 'group:%s %s'\n    },\n    {\n      // a=rtcp-mux\n      name: 'rtcpMux',\n      reg: /^(rtcp-mux)/\n    },\n    {\n      // a=rtcp-rsize\n      name: 'rtcpRsize',\n      reg: /^(rtcp-rsize)/\n    },\n    {\n      // a=sctpmap:5000 webrtc-datachannel 1024\n      name: 'sctpmap',\n      reg: /^sctpmap:([\\w_/]*) (\\S*)(?: (\\S*))?/,\n      names: ['sctpmapNumber', 'app', 'maxMessageSize'],\n      format: function (o) {\n        return (o.maxMessageSize != null)\n          ? 'sctpmap:%s %s %s'\n          : 'sctpmap:%s %s';\n      }\n    },\n    {\n      // a=x-google-flag:conference\n      name: 'xGoogleFlag',\n      reg: /^x-google-flag:([^\\s]*)/,\n      format: 'x-google-flag:%s'\n    },\n    {\n      // a=rid:1 send max-width=1280;max-height=720;max-fps=30;depend=0\n      push: 'rids',\n      reg: /^rid:([\\d\\w]+) (\\w+)(?: ([\\S| ]*))?/,\n      names: ['id', 'direction', 'params'],\n      format: function (o) {\n        return (o.params) ? 'rid:%s %s %s' : 'rid:%s %s';\n      }\n    },\n    {\n      // a=imageattr:97 send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320] recv [x=330,y=250]\n      // a=imageattr:* send [x=800,y=640] recv *\n      // a=imageattr:100 recv [x=320,y=240]\n      push: 'imageattrs',\n      reg: new RegExp(\n        // a=imageattr:97\n        '^imageattr:(\\\\d+|\\\\*)' +\n        // send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320]\n        '[\\\\s\\\\t]+(send|recv)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*)' +\n        // recv [x=330,y=250]\n        '(?:[\\\\s\\\\t]+(recv|send)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*))?'\n      ),\n      names: ['pt', 'dir1', 'attrs1', 'dir2', 'attrs2'],\n      format: function (o) {\n        return 'imageattr:%s %s %s' + (o.dir2 ? ' %s %s' : '');\n      }\n    },\n    {\n      // a=simulcast:send 1,2,3;~4,~5 recv 6;~7,~8\n      // a=simulcast:recv 1;4,5 send 6;7\n      name: 'simulcast',\n      reg: new RegExp(\n        // a=simulcast:\n        '^simulcast:' +\n        // send 1,2,3;~4,~5\n        '(send|recv) ([a-zA-Z0-9\\\\-_~;,]+)' +\n        // space + recv 6;~7,~8\n        '(?:\\\\s?(send|recv) ([a-zA-Z0-9\\\\-_~;,]+))?' +\n        // end\n        '$'\n      ),\n      names: ['dir1', 'list1', 'dir2', 'list2'],\n      format: function (o) {\n        return 'simulcast:%s %s' + (o.dir2 ? ' %s %s' : '');\n      }\n    },\n    {\n      // old simulcast draft 03 (implemented by Firefox)\n      //   https://tools.ietf.org/html/draft-ietf-mmusic-sdp-simulcast-03\n      // a=simulcast: recv pt=97;98 send pt=97\n      // a=simulcast: send rid=5;6;7 paused=6,7\n      name: 'simulcast_03',\n      reg: /^simulcast:[\\s\\t]+([\\S+\\s\\t]+)$/,\n      names: ['value'],\n      format: 'simulcast: %s'\n    },\n    {\n      // a=framerate:25\n      // a=framerate:29.97\n      name: 'framerate',\n      reg: /^framerate:(\\d+(?:$|\\.\\d+))/,\n      format: 'framerate:%s'\n    },\n    {\n      // RFC4570\n      // a=source-filter: incl IN IP4 239.5.2.31 10.1.15.5\n      name: 'sourceFilter',\n      reg: /^source-filter: *(excl|incl) (\\S*) (IP4|IP6|\\*) (\\S*) (.*)/,\n      names: ['filterMode', 'netType', 'addressTypes', 'destAddress', 'srcList'],\n      format: 'source-filter: %s %s %s %s %s'\n    },\n    {\n      // a=bundle-only\n      name: 'bundleOnly',\n      reg: /^(bundle-only)/\n    },\n    {\n      // a=label:1\n      name: 'label',\n      reg: /^label:(.+)/,\n      format: 'label:%s'\n    },\n    {\n      // RFC version 26 for SCTP over DTLS\n      // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-5\n      name: 'sctpPort',\n      reg: /^sctp-port:(\\d+)$/,\n      format: 'sctp-port:%s'\n    },\n    {\n      // RFC version 26 for SCTP over DTLS\n      // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-6\n      name: 'maxMessageSize',\n      reg: /^max-message-size:(\\d+)$/,\n      format: 'max-message-size:%s'\n    },\n    {\n      // RFC7273\n      // a=ts-refclk:ptp=IEEE1588-2008:39-A7-94-FF-FE-07-CB-D0:37\n      push:'tsRefClocks',\n      reg: /^ts-refclk:([^\\s=]*)(?:=(\\S*))?/,\n      names: ['clksrc', 'clksrcExt'],\n      format: function (o) {\n        return 'ts-refclk:%s' + (o.clksrcExt != null ? '=%s' : '');\n      }\n    },\n    {\n      // RFC7273\n      // a=mediaclk:direct=963214424\n      name:'mediaClk',\n      reg: /^mediaclk:(?:id=(\\S*))? *([^\\s=]*)(?:=(\\S*))?(?: *rate=(\\d+)\\/(\\d+))?/,\n      names: ['id', 'mediaClockName', 'mediaClockValue', 'rateNumerator', 'rateDenominator'],\n      format: function (o) {\n        var str = 'mediaclk:';\n        str += (o.id != null ? 'id=%s %s' : '%v%s');\n        str += (o.mediaClockValue != null ? '=%s' : '');\n        str += (o.rateNumerator != null ? ' rate=%s' : '');\n        str += (o.rateDenominator != null ? '/%s' : '');\n        return str;\n      }\n    },\n    {\n      // a=keywds:keywords\n      name: 'keywords',\n      reg: /^keywds:(.+)$/,\n      format: 'keywds:%s'\n    },\n    {\n      // a=content:main\n      name: 'content',\n      reg: /^content:(.+)/,\n      format: 'content:%s'\n    },\n    // BFCP https://tools.ietf.org/html/rfc4583\n    {\n      // a=floorctrl:c-s\n      name: 'bfcpFloorCtrl',\n      reg: /^floorctrl:(c-only|s-only|c-s)/,\n      format: 'floorctrl:%s'\n    },\n    {\n      // a=confid:1\n      name: 'bfcpConfId',\n      reg: /^confid:(\\d+)/,\n      format: 'confid:%s'\n    },\n    {\n      // a=userid:1\n      name: 'bfcpUserId',\n      reg: /^userid:(\\d+)/,\n      format: 'userid:%s'\n    },\n    {\n      // a=floorid:1\n      name: 'bfcpFloorId',\n      reg: /^floorid:(.+) (?:m-stream|mstrm):(.+)/,\n      names: ['id', 'mStream'],\n      format: 'floorid:%s mstrm:%s'\n    },\n    {\n      // any a= that we don't understand is kept verbatim on media.invalid\n      push: 'invalid',\n      names: ['value']\n    }\n  ]\n};\n\n// set sensible defaults to avoid polluting the grammar with boring details\nObject.keys(grammar).forEach(function (key) {\n  var objs = grammar[key];\n  objs.forEach(function (obj) {\n    if (!obj.reg) {\n      obj.reg = /(.*)/;\n    }\n    if (!obj.format) {\n      obj.format = '%s';\n    }\n  });\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2RwLXRyYW5zZm9ybS9saWIvZ3JhbW1hci5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFFBQVEsY0FBYztBQUN0QixRQUFRLHFCQUFxQjtBQUM3QixRQUFRLGFBQWE7QUFDckIsUUFBUSxlQUFlO0FBQ3ZCLFFBQVEsZUFBZTtBQUN2QixRQUFRLG1CQUFtQjtBQUMzQixRQUFRLGlCQUFpQjtBQUN6QixXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3Q0FBd0MsVUFBVTtBQUNsRCxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxxQ0FBcUMsZUFBZSxXQUFXO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0MsNEJBQTRCLFdBQVc7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIsc0NBQXNDO0FBQ3RDLDBCQUEwQjtBQUMxQiw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLGlDQUFpQyxFQUFFO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3NkcC10cmFuc2Zvcm0vbGliL2dyYW1tYXIuanM/MzNiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ3JhbW1hciA9IG1vZHVsZS5leHBvcnRzID0ge1xuICB2OiBbe1xuICAgIG5hbWU6ICd2ZXJzaW9uJyxcbiAgICByZWc6IC9eKFxcZCopJC9cbiAgfV0sXG4gIG86IFt7XG4gICAgLy8gbz0tIDIwNTE4IDAgSU4gSVA0IDIwMy4wLjExMy4xXG4gICAgLy8gTkI6IHNlc3Npb25JZCB3aWxsIGJlIGEgU3RyaW5nIGluIG1vc3QgY2FzZXMgYmVjYXVzZSBpdCBpcyBodWdlXG4gICAgbmFtZTogJ29yaWdpbicsXG4gICAgcmVnOiAvXihcXFMqKSAoXFxkKikgKFxcZCopIChcXFMqKSBJUChcXGQpIChcXFMqKS8sXG4gICAgbmFtZXM6IFsndXNlcm5hbWUnLCAnc2Vzc2lvbklkJywgJ3Nlc3Npb25WZXJzaW9uJywgJ25ldFR5cGUnLCAnaXBWZXInLCAnYWRkcmVzcyddLFxuICAgIGZvcm1hdDogJyVzICVzICVkICVzIElQJWQgJXMnXG4gIH1dLFxuICAvLyBkZWZhdWx0IHBhcnNpbmcgb2YgdGhlc2Ugb25seSAodGhvdWdoIHNvbWUgb2YgdGhlc2UgZmVlbCBvdXRkYXRlZClcbiAgczogW3sgbmFtZTogJ25hbWUnIH1dLFxuICBpOiBbeyBuYW1lOiAnZGVzY3JpcHRpb24nIH1dLFxuICB1OiBbeyBuYW1lOiAndXJpJyB9XSxcbiAgZTogW3sgbmFtZTogJ2VtYWlsJyB9XSxcbiAgcDogW3sgbmFtZTogJ3Bob25lJyB9XSxcbiAgejogW3sgbmFtZTogJ3RpbWV6b25lcycgfV0sIC8vIFRPRE86IHRoaXMgb25lIGNhbiBhY3R1YWxseSBiZSBwYXJzZWQgcHJvcGVybHkuLi5cbiAgcjogW3sgbmFtZTogJ3JlcGVhdHMnIH1dLCAgIC8vIFRPRE86IHRoaXMgb25lIGNhbiBhbHNvIGJlIHBhcnNlZCBwcm9wZXJseVxuICAvLyBrOiBbe31dLCAvLyBvdXRkYXRlZCB0aGluZyBpZ25vcmVkXG4gIHQ6IFt7XG4gICAgLy8gdD0wIDBcbiAgICBuYW1lOiAndGltaW5nJyxcbiAgICByZWc6IC9eKFxcZCopIChcXGQqKS8sXG4gICAgbmFtZXM6IFsnc3RhcnQnLCAnc3RvcCddLFxuICAgIGZvcm1hdDogJyVkICVkJ1xuICB9XSxcbiAgYzogW3tcbiAgICAvLyBjPUlOIElQNCAxMC40Ny4xOTcuMjZcbiAgICBuYW1lOiAnY29ubmVjdGlvbicsXG4gICAgcmVnOiAvXklOIElQKFxcZCkgKFxcUyopLyxcbiAgICBuYW1lczogWyd2ZXJzaW9uJywgJ2lwJ10sXG4gICAgZm9ybWF0OiAnSU4gSVAlZCAlcydcbiAgfV0sXG4gIGI6IFt7XG4gICAgLy8gYj1BUzo0MDAwXG4gICAgcHVzaDogJ2JhbmR3aWR0aCcsXG4gICAgcmVnOiAvXihUSUFTfEFTfENUfFJSfFJTKTooXFxkKikvLFxuICAgIG5hbWVzOiBbJ3R5cGUnLCAnbGltaXQnXSxcbiAgICBmb3JtYXQ6ICclczolcydcbiAgfV0sXG4gIG06IFt7XG4gICAgLy8gbT12aWRlbyA1MTc0NCBSVFAvQVZQIDEyNiA5NyA5OCAzNCAzMVxuICAgIC8vIE5COiBzcGVjaWFsIC0gcHVzaGVzIHRvIHNlc3Npb25cbiAgICAvLyBUT0RPOiBydHAvZm10cCBzaG91bGQgYmUgZmlsdGVyZWQgYnkgdGhlIHBheWxvYWRzIGZvdW5kIGhlcmU/XG4gICAgcmVnOiAvXihcXHcqKSAoXFxkKikgKFtcXHcvXSopKD86ICguKikpPy8sXG4gICAgbmFtZXM6IFsndHlwZScsICdwb3J0JywgJ3Byb3RvY29sJywgJ3BheWxvYWRzJ10sXG4gICAgZm9ybWF0OiAnJXMgJWQgJXMgJXMnXG4gIH1dLFxuICBhOiBbXG4gICAge1xuICAgICAgLy8gYT1ydHBtYXA6MTEwIG9wdXMvNDgwMDAvMlxuICAgICAgcHVzaDogJ3J0cCcsXG4gICAgICByZWc6IC9ecnRwbWFwOihcXGQqKSAoW1xcd1xcLS5dKikoPzpcXHMqXFwvKFxcZCopKD86XFxzKlxcLyhcXFMqKSk/KT8vLFxuICAgICAgbmFtZXM6IFsncGF5bG9hZCcsICdjb2RlYycsICdyYXRlJywgJ2VuY29kaW5nJ10sXG4gICAgICBmb3JtYXQ6IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIHJldHVybiAoby5lbmNvZGluZylcbiAgICAgICAgICA/ICdydHBtYXA6JWQgJXMvJXMvJXMnXG4gICAgICAgICAgOiBvLnJhdGVcbiAgICAgICAgICAgID8gJ3J0cG1hcDolZCAlcy8lcydcbiAgICAgICAgICAgIDogJ3J0cG1hcDolZCAlcyc7XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPWZtdHA6MTA4IHByb2ZpbGUtbGV2ZWwtaWQ9MjQ7b2JqZWN0PTIzO2JpdHJhdGU9NjQwMDBcbiAgICAgIC8vIGE9Zm10cDoxMTEgbWlucHRpbWU9MTA7IHVzZWluYmFuZGZlYz0xXG4gICAgICBwdXNoOiAnZm10cCcsXG4gICAgICByZWc6IC9eZm10cDooXFxkKikgKFtcXFN8IF0qKS8sXG4gICAgICBuYW1lczogWydwYXlsb2FkJywgJ2NvbmZpZyddLFxuICAgICAgZm9ybWF0OiAnZm10cDolZCAlcydcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9Y29udHJvbDpzdHJlYW1pZD0wXG4gICAgICBuYW1lOiAnY29udHJvbCcsXG4gICAgICByZWc6IC9eY29udHJvbDooLiopLyxcbiAgICAgIGZvcm1hdDogJ2NvbnRyb2w6JXMnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPXJ0Y3A6NjUxNzkgSU4gSVA0IDE5My44NC43Ny4xOTRcbiAgICAgIG5hbWU6ICdydGNwJyxcbiAgICAgIHJlZzogL15ydGNwOihcXGQqKSg/OiAoXFxTKikgSVAoXFxkKSAoXFxTKikpPy8sXG4gICAgICBuYW1lczogWydwb3J0JywgJ25ldFR5cGUnLCAnaXBWZXInLCAnYWRkcmVzcyddLFxuICAgICAgZm9ybWF0OiBmdW5jdGlvbiAobykge1xuICAgICAgICByZXR1cm4gKG8uYWRkcmVzcyAhPSBudWxsKVxuICAgICAgICAgID8gJ3J0Y3A6JWQgJXMgSVAlZCAlcydcbiAgICAgICAgICA6ICdydGNwOiVkJztcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9cnRjcC1mYjo5OCB0cnItaW50IDEwMFxuICAgICAgcHVzaDogJ3J0Y3BGYlRyckludCcsXG4gICAgICByZWc6IC9ecnRjcC1mYjooXFwqfFxcZCopIHRyci1pbnQgKFxcZCopLyxcbiAgICAgIG5hbWVzOiBbJ3BheWxvYWQnLCAndmFsdWUnXSxcbiAgICAgIGZvcm1hdDogJ3J0Y3AtZmI6JXMgdHJyLWludCAlZCdcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9cnRjcC1mYjo5OCBuYWNrIHJwc2lcbiAgICAgIHB1c2g6ICdydGNwRmInLFxuICAgICAgcmVnOiAvXnJ0Y3AtZmI6KFxcKnxcXGQqKSAoW1xcdy1fXSopKD86IChbXFx3LV9dKikpPy8sXG4gICAgICBuYW1lczogWydwYXlsb2FkJywgJ3R5cGUnLCAnc3VidHlwZSddLFxuICAgICAgZm9ybWF0OiBmdW5jdGlvbiAobykge1xuICAgICAgICByZXR1cm4gKG8uc3VidHlwZSAhPSBudWxsKVxuICAgICAgICAgID8gJ3J0Y3AtZmI6JXMgJXMgJXMnXG4gICAgICAgICAgOiAncnRjcC1mYjolcyAlcyc7XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPWV4dG1hcDoyIHVybjppZXRmOnBhcmFtczpydHAtaGRyZXh0OnRvZmZzZXRcbiAgICAgIC8vIGE9ZXh0bWFwOjEvcmVjdm9ubHkgVVJJLWdwcy1zdHJpbmdcbiAgICAgIC8vIGE9ZXh0bWFwOjMgdXJuOmlldGY6cGFyYW1zOnJ0cC1oZHJleHQ6ZW5jcnlwdCB1cm46aWV0ZjpwYXJhbXM6cnRwLWhkcmV4dDpzbXB0ZS10YyAyNUA2MDAvMjRcbiAgICAgIHB1c2g6ICdleHQnLFxuICAgICAgcmVnOiAvXmV4dG1hcDooXFxkKykoPzpcXC8oXFx3KykpPyg/OiAodXJuOmlldGY6cGFyYW1zOnJ0cC1oZHJleHQ6ZW5jcnlwdCkpPyAoXFxTKikoPzogKFxcUyopKT8vLFxuICAgICAgbmFtZXM6IFsndmFsdWUnLCAnZGlyZWN0aW9uJywgJ2VuY3J5cHQtdXJpJywgJ3VyaScsICdjb25maWcnXSxcbiAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAnZXh0bWFwOiVkJyArXG4gICAgICAgICAgKG8uZGlyZWN0aW9uID8gJy8lcycgOiAnJXYnKSArXG4gICAgICAgICAgKG9bJ2VuY3J5cHQtdXJpJ10gPyAnICVzJyA6ICcldicpICtcbiAgICAgICAgICAnICVzJyArXG4gICAgICAgICAgKG8uY29uZmlnID8gJyAlcycgOiAnJylcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9ZXh0bWFwLWFsbG93LW1peGVkXG4gICAgICBuYW1lOiAnZXh0bWFwQWxsb3dNaXhlZCcsXG4gICAgICByZWc6IC9eKGV4dG1hcC1hbGxvdy1taXhlZCkvXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPWNyeXB0bzoxIEFFU19DTV8xMjhfSE1BQ19TSEExXzgwIGlubGluZTpQUzF1UUNWZWVDRkNhblZtY2prcFB5d2pOV2hjWUQwbVhYdHhhVkJSfDJeMjB8MTozMlxuICAgICAgcHVzaDogJ2NyeXB0bycsXG4gICAgICByZWc6IC9eY3J5cHRvOihcXGQqKSAoW1xcd19dKikgKFxcUyopKD86IChcXFMqKSk/LyxcbiAgICAgIG5hbWVzOiBbJ2lkJywgJ3N1aXRlJywgJ2NvbmZpZycsICdzZXNzaW9uQ29uZmlnJ10sXG4gICAgICBmb3JtYXQ6IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIHJldHVybiAoby5zZXNzaW9uQ29uZmlnICE9IG51bGwpXG4gICAgICAgICAgPyAnY3J5cHRvOiVkICVzICVzICVzJ1xuICAgICAgICAgIDogJ2NyeXB0bzolZCAlcyAlcyc7XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPXNldHVwOmFjdHBhc3NcbiAgICAgIG5hbWU6ICdzZXR1cCcsXG4gICAgICByZWc6IC9ec2V0dXA6KFxcdyopLyxcbiAgICAgIGZvcm1hdDogJ3NldHVwOiVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1jb25uZWN0aW9uOm5ld1xuICAgICAgbmFtZTogJ2Nvbm5lY3Rpb25UeXBlJyxcbiAgICAgIHJlZzogL15jb25uZWN0aW9uOihuZXd8ZXhpc3RpbmcpLyxcbiAgICAgIGZvcm1hdDogJ2Nvbm5lY3Rpb246JXMnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPW1pZDoxXG4gICAgICBuYW1lOiAnbWlkJyxcbiAgICAgIHJlZzogL15taWQ6KFteXFxzXSopLyxcbiAgICAgIGZvcm1hdDogJ21pZDolcydcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9bXNpZDowYzhiMDY0ZC1kODA3LTQzYjQtYjQzNC1mOTJhODg5ZDg1ODcgOTgxNzg2ODUtZDQwOS00NmUwLThlMTYtN2VmMGRiMGRiNjRhXG4gICAgICBuYW1lOiAnbXNpZCcsXG4gICAgICByZWc6IC9ebXNpZDooLiopLyxcbiAgICAgIGZvcm1hdDogJ21zaWQ6JXMnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPXB0aW1lOjIwXG4gICAgICBuYW1lOiAncHRpbWUnLFxuICAgICAgcmVnOiAvXnB0aW1lOihcXGQqKD86XFwuXFxkKikqKS8sXG4gICAgICBmb3JtYXQ6ICdwdGltZTolZCdcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9bWF4cHRpbWU6NjBcbiAgICAgIG5hbWU6ICdtYXhwdGltZScsXG4gICAgICByZWc6IC9ebWF4cHRpbWU6KFxcZCooPzpcXC5cXGQqKSopLyxcbiAgICAgIGZvcm1hdDogJ21heHB0aW1lOiVkJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1zZW5kcmVjdlxuICAgICAgbmFtZTogJ2RpcmVjdGlvbicsXG4gICAgICByZWc6IC9eKHNlbmRyZWN2fHJlY3Zvbmx5fHNlbmRvbmx5fGluYWN0aXZlKS9cbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9aWNlLWxpdGVcbiAgICAgIG5hbWU6ICdpY2VsaXRlJyxcbiAgICAgIHJlZzogL14oaWNlLWxpdGUpL1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1pY2UtdWZyYWc6RjdnSVxuICAgICAgbmFtZTogJ2ljZVVmcmFnJyxcbiAgICAgIHJlZzogL15pY2UtdWZyYWc6KFxcUyopLyxcbiAgICAgIGZvcm1hdDogJ2ljZS11ZnJhZzolcydcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9aWNlLXB3ZDp4OWNtbC9ZemljaFYyK1hsaGlNdThnXG4gICAgICBuYW1lOiAnaWNlUHdkJyxcbiAgICAgIHJlZzogL15pY2UtcHdkOihcXFMqKS8sXG4gICAgICBmb3JtYXQ6ICdpY2UtcHdkOiVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1maW5nZXJwcmludDpTSEEtMSAwMDoxMToyMjozMzo0NDo1NTo2Njo3Nzo4ODo5OTpBQTpCQjpDQzpERDpFRTpGRjowMDoxMToyMjozM1xuICAgICAgbmFtZTogJ2ZpbmdlcnByaW50JyxcbiAgICAgIHJlZzogL15maW5nZXJwcmludDooXFxTKikgKFxcUyopLyxcbiAgICAgIG5hbWVzOiBbJ3R5cGUnLCAnaGFzaCddLFxuICAgICAgZm9ybWF0OiAnZmluZ2VycHJpbnQ6JXMgJXMnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPWNhbmRpZGF0ZTowIDEgVURQIDIxMTM2NjczMjcgMjAzLjAuMTEzLjEgNTQ0MDAgdHlwIGhvc3RcbiAgICAgIC8vIGE9Y2FuZGlkYXRlOjExNjI4NzUwODEgMSB1ZHAgMjExMzkzNzE1MSAxOTIuMTY4LjM0Ljc1IDYwMDE3IHR5cCBob3N0IGdlbmVyYXRpb24gMCBuZXR3b3JrLWlkIDMgbmV0d29yay1jb3N0IDEwXG4gICAgICAvLyBhPWNhbmRpZGF0ZTozMjg5OTEyOTU3IDIgdWRwIDE4NDU1MDE2OTUgMTkzLjg0Ljc3LjE5NCA2MDAxNyB0eXAgc3JmbHggcmFkZHIgMTkyLjE2OC4zNC43NSBycG9ydCA2MDAxNyBnZW5lcmF0aW9uIDAgbmV0d29yay1pZCAzIG5ldHdvcmstY29zdCAxMFxuICAgICAgLy8gYT1jYW5kaWRhdGU6MjI5ODE1NjIwIDEgdGNwIDE1MTgyODA0NDcgMTkyLjE2OC4xNTAuMTkgNjAwMTcgdHlwIGhvc3QgdGNwdHlwZSBhY3RpdmUgZ2VuZXJhdGlvbiAwIG5ldHdvcmstaWQgMyBuZXR3b3JrLWNvc3QgMTBcbiAgICAgIC8vIGE9Y2FuZGlkYXRlOjMyODk5MTI5NTcgMiB0Y3AgMTg0NTUwMTY5NSAxOTMuODQuNzcuMTk0IDYwMDE3IHR5cCBzcmZseCByYWRkciAxOTIuMTY4LjM0Ljc1IHJwb3J0IDYwMDE3IHRjcHR5cGUgcGFzc2l2ZSBnZW5lcmF0aW9uIDAgbmV0d29yay1pZCAzIG5ldHdvcmstY29zdCAxMFxuICAgICAgcHVzaDonY2FuZGlkYXRlcycsXG4gICAgICByZWc6IC9eY2FuZGlkYXRlOihcXFMqKSAoXFxkKikgKFxcUyopIChcXGQqKSAoXFxTKikgKFxcZCopIHR5cCAoXFxTKikoPzogcmFkZHIgKFxcUyopIHJwb3J0IChcXGQqKSk/KD86IHRjcHR5cGUgKFxcUyopKT8oPzogZ2VuZXJhdGlvbiAoXFxkKikpPyg/OiBuZXR3b3JrLWlkIChcXGQqKSk/KD86IG5ldHdvcmstY29zdCAoXFxkKikpPy8sXG4gICAgICBuYW1lczogWydmb3VuZGF0aW9uJywgJ2NvbXBvbmVudCcsICd0cmFuc3BvcnQnLCAncHJpb3JpdHknLCAnaXAnLCAncG9ydCcsICd0eXBlJywgJ3JhZGRyJywgJ3Jwb3J0JywgJ3RjcHR5cGUnLCAnZ2VuZXJhdGlvbicsICduZXR3b3JrLWlkJywgJ25ldHdvcmstY29zdCddLFxuICAgICAgZm9ybWF0OiBmdW5jdGlvbiAobykge1xuICAgICAgICB2YXIgc3RyID0gJ2NhbmRpZGF0ZTolcyAlZCAlcyAlZCAlcyAlZCB0eXAgJXMnO1xuXG4gICAgICAgIHN0ciArPSAoby5yYWRkciAhPSBudWxsKSA/ICcgcmFkZHIgJXMgcnBvcnQgJWQnIDogJyV2JXYnO1xuXG4gICAgICAgIC8vIE5COiBjYW5kaWRhdGUgaGFzIHRocmVlIG9wdGlvbmFsIGNodW5rcywgc28gJXZvaWQgbWlkZGxlcyBvbmUgaWYgaXQncyBtaXNzaW5nXG4gICAgICAgIHN0ciArPSAoby50Y3B0eXBlICE9IG51bGwpID8gJyB0Y3B0eXBlICVzJyA6ICcldic7XG5cbiAgICAgICAgaWYgKG8uZ2VuZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgc3RyICs9ICcgZ2VuZXJhdGlvbiAlZCc7XG4gICAgICAgIH1cblxuICAgICAgICBzdHIgKz0gKG9bJ25ldHdvcmstaWQnXSAhPSBudWxsKSA/ICcgbmV0d29yay1pZCAlZCcgOiAnJXYnO1xuICAgICAgICBzdHIgKz0gKG9bJ25ldHdvcmstY29zdCddICE9IG51bGwpID8gJyBuZXR3b3JrLWNvc3QgJWQnIDogJyV2JztcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9ZW5kLW9mLWNhbmRpZGF0ZXMgKGtlZXAgYWZ0ZXIgdGhlIGNhbmRpZGF0ZXMgbGluZSBmb3IgcmVhZGFiaWxpdHkpXG4gICAgICBuYW1lOiAnZW5kT2ZDYW5kaWRhdGVzJyxcbiAgICAgIHJlZzogL14oZW5kLW9mLWNhbmRpZGF0ZXMpL1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1yZW1vdGUtY2FuZGlkYXRlczoxIDIwMy4wLjExMy4xIDU0NDAwIDIgMjAzLjAuMTEzLjEgNTQ0MDEgLi4uXG4gICAgICBuYW1lOiAncmVtb3RlQ2FuZGlkYXRlcycsXG4gICAgICByZWc6IC9ecmVtb3RlLWNhbmRpZGF0ZXM6KC4qKS8sXG4gICAgICBmb3JtYXQ6ICdyZW1vdGUtY2FuZGlkYXRlczolcydcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9aWNlLW9wdGlvbnM6Z29vZ2xlLWljZVxuICAgICAgbmFtZTogJ2ljZU9wdGlvbnMnLFxuICAgICAgcmVnOiAvXmljZS1vcHRpb25zOihcXFMqKS8sXG4gICAgICBmb3JtYXQ6ICdpY2Utb3B0aW9uczolcydcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9c3NyYzoyNTY2MTA3NTY5IGNuYW1lOnQ5WVU4TTFVeFRGOFkxQTFcbiAgICAgIHB1c2g6ICdzc3JjcycsXG4gICAgICByZWc6IC9ec3NyYzooXFxkKikgKFtcXHdfLV0qKSg/OjooLiopKT8vLFxuICAgICAgbmFtZXM6IFsnaWQnLCAnYXR0cmlidXRlJywgJ3ZhbHVlJ10sXG4gICAgICBmb3JtYXQ6IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIHZhciBzdHIgPSAnc3NyYzolZCc7XG4gICAgICAgIGlmIChvLmF0dHJpYnV0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgc3RyICs9ICcgJXMnO1xuICAgICAgICAgIGlmIChvLnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHN0ciArPSAnOiVzJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9c3NyYy1ncm91cDpGRUMgMSAyXG4gICAgICAvLyBhPXNzcmMtZ3JvdXA6RkVDLUZSIDMwMDQzNjQxOTUgMTA4MDc3MjI0MVxuICAgICAgcHVzaDogJ3NzcmNHcm91cHMnLFxuICAgICAgLy8gdG9rZW4tY2hhciA9ICV4MjEgLyAleDIzLTI3IC8gJXgyQS0yQiAvICV4MkQtMkUgLyAleDMwLTM5IC8gJXg0MS01QSAvICV4NUUtN0VcbiAgICAgIHJlZzogL15zc3JjLWdyb3VwOihbXFx4MjFcXHgyM1xceDI0XFx4MjVcXHgyNlxceDI3XFx4MkFcXHgyQlxceDJEXFx4MkVcXHddKikgKC4qKS8sXG4gICAgICBuYW1lczogWydzZW1hbnRpY3MnLCAnc3NyY3MnXSxcbiAgICAgIGZvcm1hdDogJ3NzcmMtZ3JvdXA6JXMgJXMnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPW1zaWQtc2VtYW50aWM6IFdNUyBKdmxhbTVYM1NYMU9QNnBuMjB6V29ndmFLSno1SGpmOU9ubFZcbiAgICAgIG5hbWU6ICdtc2lkU2VtYW50aWMnLFxuICAgICAgcmVnOiAvXm1zaWQtc2VtYW50aWM6XFxzPyhcXHcqKSAoXFxTKikvLFxuICAgICAgbmFtZXM6IFsnc2VtYW50aWMnLCAndG9rZW4nXSxcbiAgICAgIGZvcm1hdDogJ21zaWQtc2VtYW50aWM6ICVzICVzJyAvLyBzcGFjZSBhZnRlciAnOicgaXMgbm90IGFjY2lkZW50YWxcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9Z3JvdXA6QlVORExFIGF1ZGlvIHZpZGVvXG4gICAgICBwdXNoOiAnZ3JvdXBzJyxcbiAgICAgIHJlZzogL15ncm91cDooXFx3KikgKC4qKS8sXG4gICAgICBuYW1lczogWyd0eXBlJywgJ21pZHMnXSxcbiAgICAgIGZvcm1hdDogJ2dyb3VwOiVzICVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1ydGNwLW11eFxuICAgICAgbmFtZTogJ3J0Y3BNdXgnLFxuICAgICAgcmVnOiAvXihydGNwLW11eCkvXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPXJ0Y3AtcnNpemVcbiAgICAgIG5hbWU6ICdydGNwUnNpemUnLFxuICAgICAgcmVnOiAvXihydGNwLXJzaXplKS9cbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9c2N0cG1hcDo1MDAwIHdlYnJ0Yy1kYXRhY2hhbm5lbCAxMDI0XG4gICAgICBuYW1lOiAnc2N0cG1hcCcsXG4gICAgICByZWc6IC9ec2N0cG1hcDooW1xcd18vXSopIChcXFMqKSg/OiAoXFxTKikpPy8sXG4gICAgICBuYW1lczogWydzY3RwbWFwTnVtYmVyJywgJ2FwcCcsICdtYXhNZXNzYWdlU2l6ZSddLFxuICAgICAgZm9ybWF0OiBmdW5jdGlvbiAobykge1xuICAgICAgICByZXR1cm4gKG8ubWF4TWVzc2FnZVNpemUgIT0gbnVsbClcbiAgICAgICAgICA/ICdzY3RwbWFwOiVzICVzICVzJ1xuICAgICAgICAgIDogJ3NjdHBtYXA6JXMgJXMnO1xuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT14LWdvb2dsZS1mbGFnOmNvbmZlcmVuY2VcbiAgICAgIG5hbWU6ICd4R29vZ2xlRmxhZycsXG4gICAgICByZWc6IC9eeC1nb29nbGUtZmxhZzooW15cXHNdKikvLFxuICAgICAgZm9ybWF0OiAneC1nb29nbGUtZmxhZzolcydcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9cmlkOjEgc2VuZCBtYXgtd2lkdGg9MTI4MDttYXgtaGVpZ2h0PTcyMDttYXgtZnBzPTMwO2RlcGVuZD0wXG4gICAgICBwdXNoOiAncmlkcycsXG4gICAgICByZWc6IC9ecmlkOihbXFxkXFx3XSspIChcXHcrKSg/OiAoW1xcU3wgXSopKT8vLFxuICAgICAgbmFtZXM6IFsnaWQnLCAnZGlyZWN0aW9uJywgJ3BhcmFtcyddLFxuICAgICAgZm9ybWF0OiBmdW5jdGlvbiAobykge1xuICAgICAgICByZXR1cm4gKG8ucGFyYW1zKSA/ICdyaWQ6JXMgJXMgJXMnIDogJ3JpZDolcyAlcyc7XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPWltYWdlYXR0cjo5NyBzZW5kIFt4PTgwMCx5PTY0MCxzYXI9MS4xLHE9MC42XSBbeD00ODAseT0zMjBdIHJlY3YgW3g9MzMwLHk9MjUwXVxuICAgICAgLy8gYT1pbWFnZWF0dHI6KiBzZW5kIFt4PTgwMCx5PTY0MF0gcmVjdiAqXG4gICAgICAvLyBhPWltYWdlYXR0cjoxMDAgcmVjdiBbeD0zMjAseT0yNDBdXG4gICAgICBwdXNoOiAnaW1hZ2VhdHRycycsXG4gICAgICByZWc6IG5ldyBSZWdFeHAoXG4gICAgICAgIC8vIGE9aW1hZ2VhdHRyOjk3XG4gICAgICAgICdeaW1hZ2VhdHRyOihcXFxcZCt8XFxcXCopJyArXG4gICAgICAgIC8vIHNlbmQgW3g9ODAwLHk9NjQwLHNhcj0xLjEscT0wLjZdIFt4PTQ4MCx5PTMyMF1cbiAgICAgICAgJ1tcXFxcc1xcXFx0XSsoc2VuZHxyZWN2KVtcXFxcc1xcXFx0XSsoXFxcXCp8XFxcXFtcXFxcUytcXFxcXSg/OltcXFxcc1xcXFx0XStcXFxcW1xcXFxTK1xcXFxdKSopJyArXG4gICAgICAgIC8vIHJlY3YgW3g9MzMwLHk9MjUwXVxuICAgICAgICAnKD86W1xcXFxzXFxcXHRdKyhyZWN2fHNlbmQpW1xcXFxzXFxcXHRdKyhcXFxcKnxcXFxcW1xcXFxTK1xcXFxdKD86W1xcXFxzXFxcXHRdK1xcXFxbXFxcXFMrXFxcXF0pKikpPydcbiAgICAgICksXG4gICAgICBuYW1lczogWydwdCcsICdkaXIxJywgJ2F0dHJzMScsICdkaXIyJywgJ2F0dHJzMiddLFxuICAgICAgZm9ybWF0OiBmdW5jdGlvbiAobykge1xuICAgICAgICByZXR1cm4gJ2ltYWdlYXR0cjolcyAlcyAlcycgKyAoby5kaXIyID8gJyAlcyAlcycgOiAnJyk7XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhPXNpbXVsY2FzdDpzZW5kIDEsMiwzO340LH41IHJlY3YgNjt+Nyx+OFxuICAgICAgLy8gYT1zaW11bGNhc3Q6cmVjdiAxOzQsNSBzZW5kIDY7N1xuICAgICAgbmFtZTogJ3NpbXVsY2FzdCcsXG4gICAgICByZWc6IG5ldyBSZWdFeHAoXG4gICAgICAgIC8vIGE9c2ltdWxjYXN0OlxuICAgICAgICAnXnNpbXVsY2FzdDonICtcbiAgICAgICAgLy8gc2VuZCAxLDIsMzt+NCx+NVxuICAgICAgICAnKHNlbmR8cmVjdikgKFthLXpBLVowLTlcXFxcLV9+OyxdKyknICtcbiAgICAgICAgLy8gc3BhY2UgKyByZWN2IDY7fjcsfjhcbiAgICAgICAgJyg/OlxcXFxzPyhzZW5kfHJlY3YpIChbYS16QS1aMC05XFxcXC1ffjssXSspKT8nICtcbiAgICAgICAgLy8gZW5kXG4gICAgICAgICckJ1xuICAgICAgKSxcbiAgICAgIG5hbWVzOiBbJ2RpcjEnLCAnbGlzdDEnLCAnZGlyMicsICdsaXN0MiddLFxuICAgICAgZm9ybWF0OiBmdW5jdGlvbiAobykge1xuICAgICAgICByZXR1cm4gJ3NpbXVsY2FzdDolcyAlcycgKyAoby5kaXIyID8gJyAlcyAlcycgOiAnJyk7XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBvbGQgc2ltdWxjYXN0IGRyYWZ0IDAzIChpbXBsZW1lbnRlZCBieSBGaXJlZm94KVxuICAgICAgLy8gICBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtaWV0Zi1tbXVzaWMtc2RwLXNpbXVsY2FzdC0wM1xuICAgICAgLy8gYT1zaW11bGNhc3Q6IHJlY3YgcHQ9OTc7OTggc2VuZCBwdD05N1xuICAgICAgLy8gYT1zaW11bGNhc3Q6IHNlbmQgcmlkPTU7Njs3IHBhdXNlZD02LDdcbiAgICAgIG5hbWU6ICdzaW11bGNhc3RfMDMnLFxuICAgICAgcmVnOiAvXnNpbXVsY2FzdDpbXFxzXFx0XSsoW1xcUytcXHNcXHRdKykkLyxcbiAgICAgIG5hbWVzOiBbJ3ZhbHVlJ10sXG4gICAgICBmb3JtYXQ6ICdzaW11bGNhc3Q6ICVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1mcmFtZXJhdGU6MjVcbiAgICAgIC8vIGE9ZnJhbWVyYXRlOjI5Ljk3XG4gICAgICBuYW1lOiAnZnJhbWVyYXRlJyxcbiAgICAgIHJlZzogL15mcmFtZXJhdGU6KFxcZCsoPzokfFxcLlxcZCspKS8sXG4gICAgICBmb3JtYXQ6ICdmcmFtZXJhdGU6JXMnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBSRkM0NTcwXG4gICAgICAvLyBhPXNvdXJjZS1maWx0ZXI6IGluY2wgSU4gSVA0IDIzOS41LjIuMzEgMTAuMS4xNS41XG4gICAgICBuYW1lOiAnc291cmNlRmlsdGVyJyxcbiAgICAgIHJlZzogL15zb3VyY2UtZmlsdGVyOiAqKGV4Y2x8aW5jbCkgKFxcUyopIChJUDR8SVA2fFxcKikgKFxcUyopICguKikvLFxuICAgICAgbmFtZXM6IFsnZmlsdGVyTW9kZScsICduZXRUeXBlJywgJ2FkZHJlc3NUeXBlcycsICdkZXN0QWRkcmVzcycsICdzcmNMaXN0J10sXG4gICAgICBmb3JtYXQ6ICdzb3VyY2UtZmlsdGVyOiAlcyAlcyAlcyAlcyAlcydcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9YnVuZGxlLW9ubHlcbiAgICAgIG5hbWU6ICdidW5kbGVPbmx5JyxcbiAgICAgIHJlZzogL14oYnVuZGxlLW9ubHkpL1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1sYWJlbDoxXG4gICAgICBuYW1lOiAnbGFiZWwnLFxuICAgICAgcmVnOiAvXmxhYmVsOiguKykvLFxuICAgICAgZm9ybWF0OiAnbGFiZWw6JXMnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBSRkMgdmVyc2lvbiAyNiBmb3IgU0NUUCBvdmVyIERUTFNcbiAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLW1tdXNpYy1zY3RwLXNkcC0yNiNzZWN0aW9uLTVcbiAgICAgIG5hbWU6ICdzY3RwUG9ydCcsXG4gICAgICByZWc6IC9ec2N0cC1wb3J0OihcXGQrKSQvLFxuICAgICAgZm9ybWF0OiAnc2N0cC1wb3J0OiVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gUkZDIHZlcnNpb24gMjYgZm9yIFNDVFAgb3ZlciBEVExTXG4gICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtaWV0Zi1tbXVzaWMtc2N0cC1zZHAtMjYjc2VjdGlvbi02XG4gICAgICBuYW1lOiAnbWF4TWVzc2FnZVNpemUnLFxuICAgICAgcmVnOiAvXm1heC1tZXNzYWdlLXNpemU6KFxcZCspJC8sXG4gICAgICBmb3JtYXQ6ICdtYXgtbWVzc2FnZS1zaXplOiVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gUkZDNzI3M1xuICAgICAgLy8gYT10cy1yZWZjbGs6cHRwPUlFRUUxNTg4LTIwMDg6MzktQTctOTQtRkYtRkUtMDctQ0ItRDA6MzdcbiAgICAgIHB1c2g6J3RzUmVmQ2xvY2tzJyxcbiAgICAgIHJlZzogL150cy1yZWZjbGs6KFteXFxzPV0qKSg/Oj0oXFxTKikpPy8sXG4gICAgICBuYW1lczogWydjbGtzcmMnLCAnY2xrc3JjRXh0J10sXG4gICAgICBmb3JtYXQ6IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIHJldHVybiAndHMtcmVmY2xrOiVzJyArIChvLmNsa3NyY0V4dCAhPSBudWxsID8gJz0lcycgOiAnJyk7XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBSRkM3MjczXG4gICAgICAvLyBhPW1lZGlhY2xrOmRpcmVjdD05NjMyMTQ0MjRcbiAgICAgIG5hbWU6J21lZGlhQ2xrJyxcbiAgICAgIHJlZzogL15tZWRpYWNsazooPzppZD0oXFxTKikpPyAqKFteXFxzPV0qKSg/Oj0oXFxTKikpPyg/OiAqcmF0ZT0oXFxkKylcXC8oXFxkKykpPy8sXG4gICAgICBuYW1lczogWydpZCcsICdtZWRpYUNsb2NrTmFtZScsICdtZWRpYUNsb2NrVmFsdWUnLCAncmF0ZU51bWVyYXRvcicsICdyYXRlRGVub21pbmF0b3InXSxcbiAgICAgIGZvcm1hdDogZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgdmFyIHN0ciA9ICdtZWRpYWNsazonO1xuICAgICAgICBzdHIgKz0gKG8uaWQgIT0gbnVsbCA/ICdpZD0lcyAlcycgOiAnJXYlcycpO1xuICAgICAgICBzdHIgKz0gKG8ubWVkaWFDbG9ja1ZhbHVlICE9IG51bGwgPyAnPSVzJyA6ICcnKTtcbiAgICAgICAgc3RyICs9IChvLnJhdGVOdW1lcmF0b3IgIT0gbnVsbCA/ICcgcmF0ZT0lcycgOiAnJyk7XG4gICAgICAgIHN0ciArPSAoby5yYXRlRGVub21pbmF0b3IgIT0gbnVsbCA/ICcvJXMnIDogJycpO1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1rZXl3ZHM6a2V5d29yZHNcbiAgICAgIG5hbWU6ICdrZXl3b3JkcycsXG4gICAgICByZWc6IC9ea2V5d2RzOiguKykkLyxcbiAgICAgIGZvcm1hdDogJ2tleXdkczolcydcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIGE9Y29udGVudDptYWluXG4gICAgICBuYW1lOiAnY29udGVudCcsXG4gICAgICByZWc6IC9eY29udGVudDooLispLyxcbiAgICAgIGZvcm1hdDogJ2NvbnRlbnQ6JXMnXG4gICAgfSxcbiAgICAvLyBCRkNQIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM0NTgzXG4gICAge1xuICAgICAgLy8gYT1mbG9vcmN0cmw6Yy1zXG4gICAgICBuYW1lOiAnYmZjcEZsb29yQ3RybCcsXG4gICAgICByZWc6IC9eZmxvb3JjdHJsOihjLW9ubHl8cy1vbmx5fGMtcykvLFxuICAgICAgZm9ybWF0OiAnZmxvb3JjdHJsOiVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1jb25maWQ6MVxuICAgICAgbmFtZTogJ2JmY3BDb25mSWQnLFxuICAgICAgcmVnOiAvXmNvbmZpZDooXFxkKykvLFxuICAgICAgZm9ybWF0OiAnY29uZmlkOiVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT11c2VyaWQ6MVxuICAgICAgbmFtZTogJ2JmY3BVc2VySWQnLFxuICAgICAgcmVnOiAvXnVzZXJpZDooXFxkKykvLFxuICAgICAgZm9ybWF0OiAndXNlcmlkOiVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgLy8gYT1mbG9vcmlkOjFcbiAgICAgIG5hbWU6ICdiZmNwRmxvb3JJZCcsXG4gICAgICByZWc6IC9eZmxvb3JpZDooLispICg/Om0tc3RyZWFtfG1zdHJtKTooLispLyxcbiAgICAgIG5hbWVzOiBbJ2lkJywgJ21TdHJlYW0nXSxcbiAgICAgIGZvcm1hdDogJ2Zsb29yaWQ6JXMgbXN0cm06JXMnXG4gICAgfSxcbiAgICB7XG4gICAgICAvLyBhbnkgYT0gdGhhdCB3ZSBkb24ndCB1bmRlcnN0YW5kIGlzIGtlcHQgdmVyYmF0aW0gb24gbWVkaWEuaW52YWxpZFxuICAgICAgcHVzaDogJ2ludmFsaWQnLFxuICAgICAgbmFtZXM6IFsndmFsdWUnXVxuICAgIH1cbiAgXVxufTtcblxuLy8gc2V0IHNlbnNpYmxlIGRlZmF1bHRzIHRvIGF2b2lkIHBvbGx1dGluZyB0aGUgZ3JhbW1hciB3aXRoIGJvcmluZyBkZXRhaWxzXG5PYmplY3Qua2V5cyhncmFtbWFyKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgdmFyIG9ianMgPSBncmFtbWFyW2tleV07XG4gIG9ianMuZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7XG4gICAgaWYgKCFvYmoucmVnKSB7XG4gICAgICBvYmoucmVnID0gLyguKikvO1xuICAgIH1cbiAgICBpZiAoIW9iai5mb3JtYXQpIHtcbiAgICAgIG9iai5mb3JtYXQgPSAnJXMnO1xuICAgIH1cbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/sdp-transform/lib/grammar.js\n"));

/***/ }),

/***/ "./node_modules/sdp-transform/lib/index.js":
/*!*************************************************!*\
  !*** ./node_modules/sdp-transform/lib/index.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval(__webpack_require__.ts("var parser = __webpack_require__(/*! ./parser */ \"./node_modules/sdp-transform/lib/parser.js\");\nvar writer = __webpack_require__(/*! ./writer */ \"./node_modules/sdp-transform/lib/writer.js\");\n\nexports.write = writer;\nexports.parse = parser.parse;\nexports.parseParams = parser.parseParams;\nexports.parseFmtpConfig = parser.parseFmtpConfig; // Alias of parseParams().\nexports.parsePayloads = parser.parsePayloads;\nexports.parseRemoteCandidates = parser.parseRemoteCandidates;\nexports.parseImageAttributes = parser.parseImageAttributes;\nexports.parseSimulcastStreamList = parser.parseSimulcastStreamList;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2RwLXRyYW5zZm9ybS9saWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUEsYUFBYSxtQkFBTyxDQUFDLDREQUFVO0FBQy9CLGFBQWEsbUJBQU8sQ0FBQyw0REFBVTs7QUFFL0IsYUFBYTtBQUNiLGFBQWE7QUFDYixtQkFBbUI7QUFDbkIsdUJBQXVCLDJCQUEyQjtBQUNsRCxxQkFBcUI7QUFDckIsNkJBQTZCO0FBQzdCLDRCQUE0QjtBQUM1QixnQ0FBZ0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3NkcC10cmFuc2Zvcm0vbGliL2luZGV4LmpzPzZmYjIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHBhcnNlciA9IHJlcXVpcmUoJy4vcGFyc2VyJyk7XG52YXIgd3JpdGVyID0gcmVxdWlyZSgnLi93cml0ZXInKTtcblxuZXhwb3J0cy53cml0ZSA9IHdyaXRlcjtcbmV4cG9ydHMucGFyc2UgPSBwYXJzZXIucGFyc2U7XG5leHBvcnRzLnBhcnNlUGFyYW1zID0gcGFyc2VyLnBhcnNlUGFyYW1zO1xuZXhwb3J0cy5wYXJzZUZtdHBDb25maWcgPSBwYXJzZXIucGFyc2VGbXRwQ29uZmlnOyAvLyBBbGlhcyBvZiBwYXJzZVBhcmFtcygpLlxuZXhwb3J0cy5wYXJzZVBheWxvYWRzID0gcGFyc2VyLnBhcnNlUGF5bG9hZHM7XG5leHBvcnRzLnBhcnNlUmVtb3RlQ2FuZGlkYXRlcyA9IHBhcnNlci5wYXJzZVJlbW90ZUNhbmRpZGF0ZXM7XG5leHBvcnRzLnBhcnNlSW1hZ2VBdHRyaWJ1dGVzID0gcGFyc2VyLnBhcnNlSW1hZ2VBdHRyaWJ1dGVzO1xuZXhwb3J0cy5wYXJzZVNpbXVsY2FzdFN0cmVhbUxpc3QgPSBwYXJzZXIucGFyc2VTaW11bGNhc3RTdHJlYW1MaXN0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/sdp-transform/lib/index.js\n"));

/***/ }),

/***/ "./node_modules/sdp-transform/lib/parser.js":
/*!**************************************************!*\
  !*** ./node_modules/sdp-transform/lib/parser.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval(__webpack_require__.ts("var toIntIfInt = function (v) {\n  return String(Number(v)) === v ? Number(v) : v;\n};\n\nvar attachProperties = function (match, location, names, rawName) {\n  if (rawName && !names) {\n    location[rawName] = toIntIfInt(match[1]);\n  }\n  else {\n    for (var i = 0; i < names.length; i += 1) {\n      if (match[i+1] != null) {\n        location[names[i]] = toIntIfInt(match[i+1]);\n      }\n    }\n  }\n};\n\nvar parseReg = function (obj, location, content) {\n  var needsBlank = obj.name && obj.names;\n  if (obj.push && !location[obj.push]) {\n    location[obj.push] = [];\n  }\n  else if (needsBlank && !location[obj.name]) {\n    location[obj.name] = {};\n  }\n  var keyLocation = obj.push ?\n    {} :  // blank object that will be pushed\n    needsBlank ? location[obj.name] : location; // otherwise, named location or root\n\n  attachProperties(content.match(obj.reg), keyLocation, obj.names, obj.name);\n\n  if (obj.push) {\n    location[obj.push].push(keyLocation);\n  }\n};\n\nvar grammar = __webpack_require__(/*! ./grammar */ \"./node_modules/sdp-transform/lib/grammar.js\");\nvar validLine = RegExp.prototype.test.bind(/^([a-z])=(.*)/);\n\nexports.parse = function (sdp) {\n  var session = {}\n    , media = []\n    , location = session; // points at where properties go under (one of the above)\n\n  // parse lines we understand\n  sdp.split(/(\\r\\n|\\r|\\n)/).filter(validLine).forEach(function (l) {\n    var type = l[0];\n    var content = l.slice(2);\n    if (type === 'm') {\n      media.push({rtp: [], fmtp: []});\n      location = media[media.length-1]; // point at latest media line\n    }\n\n    for (var j = 0; j < (grammar[type] || []).length; j += 1) {\n      var obj = grammar[type][j];\n      if (obj.reg.test(content)) {\n        return parseReg(obj, location, content);\n      }\n    }\n  });\n\n  session.media = media; // link it up\n  return session;\n};\n\nvar paramReducer = function (acc, expr) {\n  var s = expr.split(/=(.+)/, 2);\n  if (s.length === 2) {\n    acc[s[0]] = toIntIfInt(s[1]);\n  } else if (s.length === 1 && expr.length > 1) {\n    acc[s[0]] = undefined;\n  }\n  return acc;\n};\n\nexports.parseParams = function (str) {\n  return str.split(/;\\s?/).reduce(paramReducer, {});\n};\n\n// For backward compatibility - alias will be removed in 3.0.0\nexports.parseFmtpConfig = exports.parseParams;\n\nexports.parsePayloads = function (str) {\n  return str.toString().split(' ').map(Number);\n};\n\nexports.parseRemoteCandidates = function (str) {\n  var candidates = [];\n  var parts = str.split(' ').map(toIntIfInt);\n  for (var i = 0; i < parts.length; i += 3) {\n    candidates.push({\n      component: parts[i],\n      ip: parts[i + 1],\n      port: parts[i + 2]\n    });\n  }\n  return candidates;\n};\n\nexports.parseImageAttributes = function (str) {\n  return str.split(' ').map(function (item) {\n    return item.substring(1, item.length-1).split(',').reduce(paramReducer, {});\n  });\n};\n\nexports.parseSimulcastStreamList = function (str) {\n  return str.split(';').map(function (stream) {\n    return stream.split(',').map(function (format) {\n      var scid, paused = false;\n\n      if (format[0] !== '~') {\n        scid = toIntIfInt(format);\n      } else {\n        scid = toIntIfInt(format.substring(1, format.length));\n        paused = true;\n      }\n\n      return {\n        scid: scid,\n        paused: paused\n      };\n    });\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2RwLXRyYW5zZm9ybS9saWIvcGFyc2VyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLGdEQUFnRDs7QUFFaEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYyxtQkFBTyxDQUFDLDhEQUFXO0FBQ2pDOztBQUVBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsMEJBQTBCOztBQUUxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQyx3Q0FBd0M7QUFDeEM7O0FBRUEsb0JBQW9CLGtDQUFrQztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCx5QkFBeUI7QUFDekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUI7QUFDbkIscUJBQXFCLDZCQUE2QjtBQUNsRDs7QUFFQTtBQUNBLHVCQUF1Qjs7QUFFdkIscUJBQXFCO0FBQ3JCO0FBQ0E7O0FBRUEsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQSxrQkFBa0Isa0JBQWtCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQSw0QkFBNEI7QUFDNUI7QUFDQSw4RUFBOEU7QUFDOUUsR0FBRztBQUNIOztBQUVBLGdDQUFnQztBQUNoQyxxQkFBcUI7QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3NkcC10cmFuc2Zvcm0vbGliL3BhcnNlci5qcz8zN2I3Il0sInNvdXJjZXNDb250ZW50IjpbInZhciB0b0ludElmSW50ID0gZnVuY3Rpb24gKHYpIHtcbiAgcmV0dXJuIFN0cmluZyhOdW1iZXIodikpID09PSB2ID8gTnVtYmVyKHYpIDogdjtcbn07XG5cbnZhciBhdHRhY2hQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKG1hdGNoLCBsb2NhdGlvbiwgbmFtZXMsIHJhd05hbWUpIHtcbiAgaWYgKHJhd05hbWUgJiYgIW5hbWVzKSB7XG4gICAgbG9jYXRpb25bcmF3TmFtZV0gPSB0b0ludElmSW50KG1hdGNoWzFdKTtcbiAgfVxuICBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAobWF0Y2hbaSsxXSAhPSBudWxsKSB7XG4gICAgICAgIGxvY2F0aW9uW25hbWVzW2ldXSA9IHRvSW50SWZJbnQobWF0Y2hbaSsxXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG52YXIgcGFyc2VSZWcgPSBmdW5jdGlvbiAob2JqLCBsb2NhdGlvbiwgY29udGVudCkge1xuICB2YXIgbmVlZHNCbGFuayA9IG9iai5uYW1lICYmIG9iai5uYW1lcztcbiAgaWYgKG9iai5wdXNoICYmICFsb2NhdGlvbltvYmoucHVzaF0pIHtcbiAgICBsb2NhdGlvbltvYmoucHVzaF0gPSBbXTtcbiAgfVxuICBlbHNlIGlmIChuZWVkc0JsYW5rICYmICFsb2NhdGlvbltvYmoubmFtZV0pIHtcbiAgICBsb2NhdGlvbltvYmoubmFtZV0gPSB7fTtcbiAgfVxuICB2YXIga2V5TG9jYXRpb24gPSBvYmoucHVzaCA/XG4gICAge30gOiAgLy8gYmxhbmsgb2JqZWN0IHRoYXQgd2lsbCBiZSBwdXNoZWRcbiAgICBuZWVkc0JsYW5rID8gbG9jYXRpb25bb2JqLm5hbWVdIDogbG9jYXRpb247IC8vIG90aGVyd2lzZSwgbmFtZWQgbG9jYXRpb24gb3Igcm9vdFxuXG4gIGF0dGFjaFByb3BlcnRpZXMoY29udGVudC5tYXRjaChvYmoucmVnKSwga2V5TG9jYXRpb24sIG9iai5uYW1lcywgb2JqLm5hbWUpO1xuXG4gIGlmIChvYmoucHVzaCkge1xuICAgIGxvY2F0aW9uW29iai5wdXNoXS5wdXNoKGtleUxvY2F0aW9uKTtcbiAgfVxufTtcblxudmFyIGdyYW1tYXIgPSByZXF1aXJlKCcuL2dyYW1tYXInKTtcbnZhciB2YWxpZExpbmUgPSBSZWdFeHAucHJvdG90eXBlLnRlc3QuYmluZCgvXihbYS16XSk9KC4qKS8pO1xuXG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gKHNkcCkge1xuICB2YXIgc2Vzc2lvbiA9IHt9XG4gICAgLCBtZWRpYSA9IFtdXG4gICAgLCBsb2NhdGlvbiA9IHNlc3Npb247IC8vIHBvaW50cyBhdCB3aGVyZSBwcm9wZXJ0aWVzIGdvIHVuZGVyIChvbmUgb2YgdGhlIGFib3ZlKVxuXG4gIC8vIHBhcnNlIGxpbmVzIHdlIHVuZGVyc3RhbmRcbiAgc2RwLnNwbGl0KC8oXFxyXFxufFxccnxcXG4pLykuZmlsdGVyKHZhbGlkTGluZSkuZm9yRWFjaChmdW5jdGlvbiAobCkge1xuICAgIHZhciB0eXBlID0gbFswXTtcbiAgICB2YXIgY29udGVudCA9IGwuc2xpY2UoMik7XG4gICAgaWYgKHR5cGUgPT09ICdtJykge1xuICAgICAgbWVkaWEucHVzaCh7cnRwOiBbXSwgZm10cDogW119KTtcbiAgICAgIGxvY2F0aW9uID0gbWVkaWFbbWVkaWEubGVuZ3RoLTFdOyAvLyBwb2ludCBhdCBsYXRlc3QgbWVkaWEgbGluZVxuICAgIH1cblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgKGdyYW1tYXJbdHlwZV0gfHwgW10pLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICB2YXIgb2JqID0gZ3JhbW1hclt0eXBlXVtqXTtcbiAgICAgIGlmIChvYmoucmVnLnRlc3QoY29udGVudCkpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlUmVnKG9iaiwgbG9jYXRpb24sIGNvbnRlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgc2Vzc2lvbi5tZWRpYSA9IG1lZGlhOyAvLyBsaW5rIGl0IHVwXG4gIHJldHVybiBzZXNzaW9uO1xufTtcblxudmFyIHBhcmFtUmVkdWNlciA9IGZ1bmN0aW9uIChhY2MsIGV4cHIpIHtcbiAgdmFyIHMgPSBleHByLnNwbGl0KC89KC4rKS8sIDIpO1xuICBpZiAocy5sZW5ndGggPT09IDIpIHtcbiAgICBhY2Nbc1swXV0gPSB0b0ludElmSW50KHNbMV0pO1xuICB9IGVsc2UgaWYgKHMubGVuZ3RoID09PSAxICYmIGV4cHIubGVuZ3RoID4gMSkge1xuICAgIGFjY1tzWzBdXSA9IHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4gYWNjO1xufTtcblxuZXhwb3J0cy5wYXJzZVBhcmFtcyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIHN0ci5zcGxpdCgvO1xccz8vKS5yZWR1Y2UocGFyYW1SZWR1Y2VyLCB7fSk7XG59O1xuXG4vLyBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSAtIGFsaWFzIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjAuMFxuZXhwb3J0cy5wYXJzZUZtdHBDb25maWcgPSBleHBvcnRzLnBhcnNlUGFyYW1zO1xuXG5leHBvcnRzLnBhcnNlUGF5bG9hZHMgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiBzdHIudG9TdHJpbmcoKS5zcGxpdCgnICcpLm1hcChOdW1iZXIpO1xufTtcblxuZXhwb3J0cy5wYXJzZVJlbW90ZUNhbmRpZGF0ZXMgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHZhciBjYW5kaWRhdGVzID0gW107XG4gIHZhciBwYXJ0cyA9IHN0ci5zcGxpdCgnICcpLm1hcCh0b0ludElmSW50KTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkgKz0gMykge1xuICAgIGNhbmRpZGF0ZXMucHVzaCh7XG4gICAgICBjb21wb25lbnQ6IHBhcnRzW2ldLFxuICAgICAgaXA6IHBhcnRzW2kgKyAxXSxcbiAgICAgIHBvcnQ6IHBhcnRzW2kgKyAyXVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBjYW5kaWRhdGVzO1xufTtcblxuZXhwb3J0cy5wYXJzZUltYWdlQXR0cmlidXRlcyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIHN0ci5zcGxpdCgnICcpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgIHJldHVybiBpdGVtLnN1YnN0cmluZygxLCBpdGVtLmxlbmd0aC0xKS5zcGxpdCgnLCcpLnJlZHVjZShwYXJhbVJlZHVjZXIsIHt9KTtcbiAgfSk7XG59O1xuXG5leHBvcnRzLnBhcnNlU2ltdWxjYXN0U3RyZWFtTGlzdCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIHN0ci5zcGxpdCgnOycpLm1hcChmdW5jdGlvbiAoc3RyZWFtKSB7XG4gICAgcmV0dXJuIHN0cmVhbS5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICB2YXIgc2NpZCwgcGF1c2VkID0gZmFsc2U7XG5cbiAgICAgIGlmIChmb3JtYXRbMF0gIT09ICd+Jykge1xuICAgICAgICBzY2lkID0gdG9JbnRJZkludChmb3JtYXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2NpZCA9IHRvSW50SWZJbnQoZm9ybWF0LnN1YnN0cmluZygxLCBmb3JtYXQubGVuZ3RoKSk7XG4gICAgICAgIHBhdXNlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNjaWQ6IHNjaWQsXG4gICAgICAgIHBhdXNlZDogcGF1c2VkXG4gICAgICB9O1xuICAgIH0pO1xuICB9KTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/sdp-transform/lib/parser.js\n"));

/***/ }),

/***/ "./node_modules/sdp-transform/lib/writer.js":
/*!**************************************************!*\
  !*** ./node_modules/sdp-transform/lib/writer.js ***!
  \**************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var grammar = __webpack_require__(/*! ./grammar */ \"./node_modules/sdp-transform/lib/grammar.js\");\n\n// customized util.format - discards excess arguments and can void middle ones\nvar formatRegExp = /%[sdv%]/g;\nvar format = function (formatStr) {\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  return formatStr.replace(formatRegExp, function (x) {\n    if (i >= len) {\n      return x; // missing argument\n    }\n    var arg = args[i];\n    i += 1;\n    switch (x) {\n    case '%%':\n      return '%';\n    case '%s':\n      return String(arg);\n    case '%d':\n      return Number(arg);\n    case '%v':\n      return '';\n    }\n  });\n  // NB: we discard excess arguments - they are typically undefined from makeLine\n};\n\nvar makeLine = function (type, obj, location) {\n  var str = obj.format instanceof Function ?\n    (obj.format(obj.push ? location : location[obj.name])) :\n    obj.format;\n\n  var args = [type + '=' + str];\n  if (obj.names) {\n    for (var i = 0; i < obj.names.length; i += 1) {\n      var n = obj.names[i];\n      if (obj.name) {\n        args.push(location[obj.name][n]);\n      }\n      else { // for mLine and push attributes\n        args.push(location[obj.names[i]]);\n      }\n    }\n  }\n  else {\n    args.push(location[obj.name]);\n  }\n  return format.apply(null, args);\n};\n\n// RFC specified order\n// TODO: extend this with all the rest\nvar defaultOuterOrder = [\n  'v', 'o', 's', 'i',\n  'u', 'e', 'p', 'c',\n  'b', 't', 'r', 'z', 'a'\n];\nvar defaultInnerOrder = ['i', 'c', 'b', 'a'];\n\n\nmodule.exports = function (session, opts) {\n  opts = opts || {};\n  // ensure certain properties exist\n  if (session.version == null) {\n    session.version = 0; // 'v=0' must be there (only defined version atm)\n  }\n  if (session.name == null) {\n    session.name = ' '; // 's= ' must be there if no meaningful name set\n  }\n  session.media.forEach(function (mLine) {\n    if (mLine.payloads == null) {\n      mLine.payloads = '';\n    }\n  });\n\n  var outerOrder = opts.outerOrder || defaultOuterOrder;\n  var innerOrder = opts.innerOrder || defaultInnerOrder;\n  var sdp = [];\n\n  // loop through outerOrder for matching properties on session\n  outerOrder.forEach(function (type) {\n    grammar[type].forEach(function (obj) {\n      if (obj.name in session && session[obj.name] != null) {\n        sdp.push(makeLine(type, obj, session));\n      }\n      else if (obj.push in session && session[obj.push] != null) {\n        session[obj.push].forEach(function (el) {\n          sdp.push(makeLine(type, obj, el));\n        });\n      }\n    });\n  });\n\n  // then for each media line, follow the innerOrder\n  session.media.forEach(function (mLine) {\n    sdp.push(makeLine('m', grammar.m[0], mLine));\n\n    innerOrder.forEach(function (type) {\n      grammar[type].forEach(function (obj) {\n        if (obj.name in mLine && mLine[obj.name] != null) {\n          sdp.push(makeLine(type, obj, mLine));\n        }\n        else if (obj.push in mLine && mLine[obj.push] != null) {\n          mLine[obj.push].forEach(function (el) {\n            sdp.push(makeLine(type, obj, el));\n          });\n        }\n      });\n    });\n  });\n\n  return sdp.join('\\r\\n') + '\\r\\n';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2RwLXRyYW5zZm9ybS9saWIvd3JpdGVyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBLGNBQWMsbUJBQU8sQ0FBQyw4REFBVzs7QUFFakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zZHAtdHJhbnNmb3JtL2xpYi93cml0ZXIuanM/MzZiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ3JhbW1hciA9IHJlcXVpcmUoJy4vZ3JhbW1hcicpO1xuXG4vLyBjdXN0b21pemVkIHV0aWwuZm9ybWF0IC0gZGlzY2FyZHMgZXhjZXNzIGFyZ3VtZW50cyBhbmQgY2FuIHZvaWQgbWlkZGxlIG9uZXNcbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZHYlXS9nO1xudmFyIGZvcm1hdCA9IGZ1bmN0aW9uIChmb3JtYXRTdHIpIHtcbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICByZXR1cm4gZm9ybWF0U3RyLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbiAoeCkge1xuICAgIGlmIChpID49IGxlbikge1xuICAgICAgcmV0dXJuIHg7IC8vIG1pc3NpbmcgYXJndW1lbnRcbiAgICB9XG4gICAgdmFyIGFyZyA9IGFyZ3NbaV07XG4gICAgaSArPSAxO1xuICAgIHN3aXRjaCAoeCkge1xuICAgIGNhc2UgJyUlJzpcbiAgICAgIHJldHVybiAnJSc7XG4gICAgY2FzZSAnJXMnOlxuICAgICAgcmV0dXJuIFN0cmluZyhhcmcpO1xuICAgIGNhc2UgJyVkJzpcbiAgICAgIHJldHVybiBOdW1iZXIoYXJnKTtcbiAgICBjYXNlICcldic6XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9KTtcbiAgLy8gTkI6IHdlIGRpc2NhcmQgZXhjZXNzIGFyZ3VtZW50cyAtIHRoZXkgYXJlIHR5cGljYWxseSB1bmRlZmluZWQgZnJvbSBtYWtlTGluZVxufTtcblxudmFyIG1ha2VMaW5lID0gZnVuY3Rpb24gKHR5cGUsIG9iaiwgbG9jYXRpb24pIHtcbiAgdmFyIHN0ciA9IG9iai5mb3JtYXQgaW5zdGFuY2VvZiBGdW5jdGlvbiA/XG4gICAgKG9iai5mb3JtYXQob2JqLnB1c2ggPyBsb2NhdGlvbiA6IGxvY2F0aW9uW29iai5uYW1lXSkpIDpcbiAgICBvYmouZm9ybWF0O1xuXG4gIHZhciBhcmdzID0gW3R5cGUgKyAnPScgKyBzdHJdO1xuICBpZiAob2JqLm5hbWVzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubmFtZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHZhciBuID0gb2JqLm5hbWVzW2ldO1xuICAgICAgaWYgKG9iai5uYW1lKSB7XG4gICAgICAgIGFyZ3MucHVzaChsb2NhdGlvbltvYmoubmFtZV1bbl0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7IC8vIGZvciBtTGluZSBhbmQgcHVzaCBhdHRyaWJ1dGVzXG4gICAgICAgIGFyZ3MucHVzaChsb2NhdGlvbltvYmoubmFtZXNbaV1dKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgYXJncy5wdXNoKGxvY2F0aW9uW29iai5uYW1lXSk7XG4gIH1cbiAgcmV0dXJuIGZvcm1hdC5hcHBseShudWxsLCBhcmdzKTtcbn07XG5cbi8vIFJGQyBzcGVjaWZpZWQgb3JkZXJcbi8vIFRPRE86IGV4dGVuZCB0aGlzIHdpdGggYWxsIHRoZSByZXN0XG52YXIgZGVmYXVsdE91dGVyT3JkZXIgPSBbXG4gICd2JywgJ28nLCAncycsICdpJyxcbiAgJ3UnLCAnZScsICdwJywgJ2MnLFxuICAnYicsICd0JywgJ3InLCAneicsICdhJ1xuXTtcbnZhciBkZWZhdWx0SW5uZXJPcmRlciA9IFsnaScsICdjJywgJ2InLCAnYSddO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHNlc3Npb24sIG9wdHMpIHtcbiAgb3B0cyA9IG9wdHMgfHwge307XG4gIC8vIGVuc3VyZSBjZXJ0YWluIHByb3BlcnRpZXMgZXhpc3RcbiAgaWYgKHNlc3Npb24udmVyc2lvbiA9PSBudWxsKSB7XG4gICAgc2Vzc2lvbi52ZXJzaW9uID0gMDsgLy8gJ3Y9MCcgbXVzdCBiZSB0aGVyZSAob25seSBkZWZpbmVkIHZlcnNpb24gYXRtKVxuICB9XG4gIGlmIChzZXNzaW9uLm5hbWUgPT0gbnVsbCkge1xuICAgIHNlc3Npb24ubmFtZSA9ICcgJzsgLy8gJ3M9ICcgbXVzdCBiZSB0aGVyZSBpZiBubyBtZWFuaW5nZnVsIG5hbWUgc2V0XG4gIH1cbiAgc2Vzc2lvbi5tZWRpYS5mb3JFYWNoKGZ1bmN0aW9uIChtTGluZSkge1xuICAgIGlmIChtTGluZS5wYXlsb2FkcyA9PSBudWxsKSB7XG4gICAgICBtTGluZS5wYXlsb2FkcyA9ICcnO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIG91dGVyT3JkZXIgPSBvcHRzLm91dGVyT3JkZXIgfHwgZGVmYXVsdE91dGVyT3JkZXI7XG4gIHZhciBpbm5lck9yZGVyID0gb3B0cy5pbm5lck9yZGVyIHx8IGRlZmF1bHRJbm5lck9yZGVyO1xuICB2YXIgc2RwID0gW107XG5cbiAgLy8gbG9vcCB0aHJvdWdoIG91dGVyT3JkZXIgZm9yIG1hdGNoaW5nIHByb3BlcnRpZXMgb24gc2Vzc2lvblxuICBvdXRlck9yZGVyLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICBncmFtbWFyW3R5cGVdLmZvckVhY2goZnVuY3Rpb24gKG9iaikge1xuICAgICAgaWYgKG9iai5uYW1lIGluIHNlc3Npb24gJiYgc2Vzc2lvbltvYmoubmFtZV0gIT0gbnVsbCkge1xuICAgICAgICBzZHAucHVzaChtYWtlTGluZSh0eXBlLCBvYmosIHNlc3Npb24pKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG9iai5wdXNoIGluIHNlc3Npb24gJiYgc2Vzc2lvbltvYmoucHVzaF0gIT0gbnVsbCkge1xuICAgICAgICBzZXNzaW9uW29iai5wdXNoXS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgIHNkcC5wdXNoKG1ha2VMaW5lKHR5cGUsIG9iaiwgZWwpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIHRoZW4gZm9yIGVhY2ggbWVkaWEgbGluZSwgZm9sbG93IHRoZSBpbm5lck9yZGVyXG4gIHNlc3Npb24ubWVkaWEuZm9yRWFjaChmdW5jdGlvbiAobUxpbmUpIHtcbiAgICBzZHAucHVzaChtYWtlTGluZSgnbScsIGdyYW1tYXIubVswXSwgbUxpbmUpKTtcblxuICAgIGlubmVyT3JkZXIuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgZ3JhbW1hclt0eXBlXS5mb3JFYWNoKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgaWYgKG9iai5uYW1lIGluIG1MaW5lICYmIG1MaW5lW29iai5uYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgc2RwLnB1c2gobWFrZUxpbmUodHlwZSwgb2JqLCBtTGluZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9iai5wdXNoIGluIG1MaW5lICYmIG1MaW5lW29iai5wdXNoXSAhPSBudWxsKSB7XG4gICAgICAgICAgbUxpbmVbb2JqLnB1c2hdLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICBzZHAucHVzaChtYWtlTGluZSh0eXBlLCBvYmosIGVsKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gc2RwLmpvaW4oJ1xcclxcbicpICsgJ1xcclxcbic7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/sdp-transform/lib/writer.js\n"));

/***/ }),

/***/ "./node_modules/sdp/sdp.js":
/*!*********************************!*\
  !*** ./node_modules/sdp/sdp.js ***!
  \*********************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* eslint-env node */\n\n\n// SDP helpers.\nconst SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(line => line.trim());\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  const parts = blob.split('\\nm=');\n  return parts.map((part, index) => (index > 0 ?\n    'm=' + part : part).trim() + '\\r\\n');\n};\n\n// Returns the session description.\nSDPUtils.getDescription = function(blob) {\n  const sections = SDPUtils.splitSections(blob);\n  return sections && sections[0];\n};\n\n// Returns the individual media sections.\nSDPUtils.getMediaSections = function(blob) {\n  const sections = SDPUtils.splitSections(blob);\n  sections.shift();\n  return sections;\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(line => line.indexOf(prefix) === 0);\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\n// Input can be prefixed with a=.\nSDPUtils.parseCandidate = function(line) {\n  let parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  const candidate = {\n    foundation: parts[0],\n    component: {1: 'rtp', 2: 'rtcp'}[parts[1]] || parts[1],\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    address: parts[4], // address is an alias for ip.\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7],\n  };\n\n  for (let i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compatibility.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default: // extension handling, in particular ufrag. Don't overwrite.\n        if (candidate[parts[i]] === undefined) {\n          candidate[parts[i]] = parts[i + 1];\n        }\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\n// This does not include the a= prefix!\nSDPUtils.writeCandidate = function(candidate) {\n  const sdp = [];\n  sdp.push(candidate.foundation);\n\n  const component = candidate.component;\n  if (component === 'rtp') {\n    sdp.push(1);\n  } else if (component === 'rtcp') {\n    sdp.push(2);\n  } else {\n    sdp.push(component);\n  }\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.address || candidate.ip);\n  sdp.push(candidate.port);\n\n  const type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress);\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort);\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.usernameFragment || candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.usernameFragment || candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// Sample input:\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function(line) {\n  return line.substr(14).split(' ');\n};\n\n// Parses a rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  let parts = line.substr(9).split(' ');\n  const parsed = {\n    payloadType: parseInt(parts.shift(), 10), // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  parsed.channels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  // legacy alias, got renamed back to channels in ORTC.\n  parsed.numChannels = parsed.channels;\n  return parsed;\n};\n\n// Generates a rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  let pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  const channels = codec.channels || codec.numChannels || 1;\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (channels !== 1 ? '/' + channels : '') + '\\r\\n';\n};\n\n// Parses a extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  const parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1],\n  };\n};\n\n// Generates an extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n      (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n        ? '/' + headerExtension.direction\n        : '') +\n      ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses a fmtp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  const parsed = {};\n  let kv;\n  const parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (let j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates a fmtp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  let line = '';\n  let pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    const params = [];\n    Object.keys(codec.parameters).forEach(param => {\n      if (codec.parameters[param] !== undefined) {\n        params.push(param + '=' + codec.parameters[param]);\n      } else {\n        params.push(param);\n      }\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses a rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  const parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' '),\n  };\n};\n\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  let lines = '';\n  let pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(fb => {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses a RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  const sp = line.indexOf(' ');\n  const parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10),\n  };\n  const colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Parse a ssrc-group line (see RFC 5576). Sample input:\n// a=ssrc-group:semantics 12 34\nSDPUtils.parseSsrcGroup = function(line) {\n  const parts = line.substr(13).split(' ');\n  return {\n    semantics: parts.shift(),\n    ssrcs: parts.map(ssrc => parseInt(ssrc, 10)),\n  };\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// Returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  const mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n};\n\n// Parses a fingerprint line for DTLS-SRTP.\nSDPUtils.parseFingerprint = function(line) {\n  const parts = line.substr(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1].toUpperCase(), // the definition is upper-case in RFC 4572.\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  const lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint),\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  let sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(fp => {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n\n// Parses a=crypto lines into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#dictionary-rtcsrtpsdesparameters-members\nSDPUtils.parseCryptoLine = function(line) {\n  const parts = line.substr(9).split(' ');\n  return {\n    tag: parseInt(parts[0], 10),\n    cryptoSuite: parts[1],\n    keyParams: parts[2],\n    sessionParams: parts.slice(3),\n  };\n};\n\nSDPUtils.writeCryptoLine = function(parameters) {\n  return 'a=crypto:' + parameters.tag + ' ' +\n    parameters.cryptoSuite + ' ' +\n    (typeof parameters.keyParams === 'object'\n      ? SDPUtils.writeCryptoKeyParams(parameters.keyParams)\n      : parameters.keyParams) +\n    (parameters.sessionParams ? ' ' + parameters.sessionParams.join(' ') : '') +\n    '\\r\\n';\n};\n\n// Parses the crypto key parameters into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#rtcsrtpkeyparam*\nSDPUtils.parseCryptoKeyParams = function(keyParams) {\n  if (keyParams.indexOf('inline:') !== 0) {\n    return null;\n  }\n  const parts = keyParams.substr(7).split('|');\n  return {\n    keyMethod: 'inline',\n    keySalt: parts[0],\n    lifeTime: parts[1],\n    mkiValue: parts[2] ? parts[2].split(':')[0] : undefined,\n    mkiLength: parts[2] ? parts[2].split(':')[1] : undefined,\n  };\n};\n\nSDPUtils.writeCryptoKeyParams = function(keyParams) {\n  return keyParams.keyMethod + ':'\n    + keyParams.keySalt +\n    (keyParams.lifeTime ? '|' + keyParams.lifeTime : '') +\n    (keyParams.mkiValue && keyParams.mkiLength\n      ? '|' + keyParams.mkiValue + ':' + keyParams.mkiLength\n      : '');\n};\n\n// Extracts all SDES parameters.\nSDPUtils.getCryptoParameters = function(mediaSection, sessionpart) {\n  const lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=crypto:');\n  return lines.map(SDPUtils.parseCryptoLine);\n};\n\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  const ufrag = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=ice-ufrag:')[0];\n  const pwd = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=ice-pwd:')[0];\n  if (!(ufrag && pwd)) {\n    return null;\n  }\n  return {\n    usernameFragment: ufrag.substr(12),\n    password: pwd.substr(10),\n  };\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  let sdp = 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n  if (params.iceLite) {\n    sdp += 'a=ice-lite\\r\\n';\n  }\n  return sdp;\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  const description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: [],\n  };\n  const lines = SDPUtils.splitLines(mediaSection);\n  const mline = lines[0].split(' ');\n  for (let i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    const pt = mline[i];\n    const rtpmapline = SDPUtils.matchPrefix(\n      mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      const codec = SDPUtils.parseRtpMap(rtpmapline);\n      const fmtps = SDPUtils.matchPrefix(\n        mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(line => {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  let sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(codec => {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(codec => {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  let maxptime = 0;\n  caps.codecs.forEach(codec => {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n\n  if (caps.headerExtensions) {\n    caps.headerExtensions.forEach(extension => {\n      sdp += SDPUtils.writeExtmap(extension);\n    });\n  }\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  const encodingParameters = [];\n  const description = SDPUtils.parseRtpParameters(mediaSection);\n  const hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  const hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  const ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(line => SDPUtils.parseSsrcMedia(line))\n    .filter(parts => parts.attribute === 'cname');\n  const primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  let secondarySsrc;\n\n  const flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n    .map(line => {\n      const parts = line.substr(17).split(' ');\n      return parts.map(part => parseInt(part, 10));\n    });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(codec => {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      let encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n      };\n      if (primarySsrc && secondarySsrc) {\n        encParam.rtx = {ssrc: secondarySsrc};\n      }\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: primarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red',\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc,\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  let bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95\n          - (50 * 40 * 8);\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(params => {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  const rtcpParameters = {};\n\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  const remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(line => SDPUtils.parseSsrcMedia(line))\n    .filter(obj => obj.attribute === 'cname')[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  const rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrіbute.\n  // Note that Edge does not support unmuxed RTCP.\n  const mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\nSDPUtils.writeRtcpParameters = function(rtcpParameters) {\n  let sdp = '';\n  if (rtcpParameters.reducedSize) {\n    sdp += 'a=rtcp-rsize\\r\\n';\n  }\n  if (rtcpParameters.mux) {\n    sdp += 'a=rtcp-mux\\r\\n';\n  }\n  if (rtcpParameters.ssrc !== undefined && rtcpParameters.cname) {\n    sdp += 'a=ssrc:' + rtcpParameters.ssrc +\n      ' cname:' + rtcpParameters.cname + '\\r\\n';\n  }\n  return sdp;\n};\n\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  let parts;\n  const spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  const planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(line => SDPUtils.parseSsrcMedia(line))\n    .filter(msidParts => msidParts.attribute === 'msid');\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\n// SCTP\n// parses draft-ietf-mmusic-sctp-sdp-26 first and falls back\n// to draft-ietf-mmusic-sctp-sdp-05\nSDPUtils.parseSctpDescription = function(mediaSection) {\n  const mline = SDPUtils.parseMLine(mediaSection);\n  const maxSizeLine = SDPUtils.matchPrefix(mediaSection, 'a=max-message-size:');\n  let maxMessageSize;\n  if (maxSizeLine.length > 0) {\n    maxMessageSize = parseInt(maxSizeLine[0].substr(19), 10);\n  }\n  if (isNaN(maxMessageSize)) {\n    maxMessageSize = 65536;\n  }\n  const sctpPort = SDPUtils.matchPrefix(mediaSection, 'a=sctp-port:');\n  if (sctpPort.length > 0) {\n    return {\n      port: parseInt(sctpPort[0].substr(12), 10),\n      protocol: mline.fmt,\n      maxMessageSize,\n    };\n  }\n  const sctpMapLines = SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:');\n  if (sctpMapLines.length > 0) {\n    const parts = sctpMapLines[0]\n      .substr(10)\n      .split(' ');\n    return {\n      port: parseInt(parts[0], 10),\n      protocol: parts[1],\n      maxMessageSize,\n    };\n  }\n};\n\n// SCTP\n// outputs the draft-ietf-mmusic-sctp-sdp-26 version that all browsers\n// support by now receiving in this format, unless we originally parsed\n// as the draft-ietf-mmusic-sctp-sdp-05 format (indicated by the m-line\n// protocol of DTLS/SCTP -- without UDP/ or TCP/)\nSDPUtils.writeSctpDescription = function(media, sctp) {\n  let output = [];\n  if (media.protocol !== 'DTLS/SCTP') {\n    output = [\n      'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.protocol + '\\r\\n',\n      'c=IN IP4 0.0.0.0\\r\\n',\n      'a=sctp-port:' + sctp.port + '\\r\\n',\n    ];\n  } else {\n    output = [\n      'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.port + '\\r\\n',\n      'c=IN IP4 0.0.0.0\\r\\n',\n      'a=sctpmap:' + sctp.port + ' ' + sctp.protocol + ' 65535\\r\\n',\n    ];\n  }\n  if (sctp.maxMessageSize !== undefined) {\n    output.push('a=max-message-size:' + sctp.maxMessageSize + '\\r\\n');\n  }\n  return output.join('');\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function() {\n  return Math.random().toString().substr(2, 21);\n};\n\n// Write boiler plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\n// sessUser is optional and defaults to 'thisisadapterortc'\nSDPUtils.writeSessionBoilerplate = function(sessId, sessVer, sessUser) {\n  let sessionId;\n  const version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  const user = sessUser || 'thisisadapterortc';\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=' + user + ' ' + sessionId + ' ' + version +\n        ' IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  const lines = SDPUtils.splitLines(mediaSection);\n  for (let i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  const lines = SDPUtils.splitLines(mediaSection);\n  const mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function(mediaSection) {\n  const lines = SDPUtils.splitLines(mediaSection);\n  const parts = lines[0].substr(2).split(' ');\n  return {\n    kind: parts[0],\n    port: parseInt(parts[1], 10),\n    protocol: parts[2],\n    fmt: parts.slice(3).join(' '),\n  };\n};\n\nSDPUtils.parseOLine = function(mediaSection) {\n  const line = SDPUtils.matchPrefix(mediaSection, 'o=')[0];\n  const parts = line.substr(2).split(' ');\n  return {\n    username: parts[0],\n    sessionId: parts[1],\n    sessionVersion: parseInt(parts[2], 10),\n    netType: parts[3],\n    addressType: parts[4],\n    address: parts[5],\n  };\n};\n\n// a very naive interpretation of a valid SDP.\nSDPUtils.isValidSDP = function(blob) {\n  if (typeof blob !== 'string' || blob.length === 0) {\n    return false;\n  }\n  const lines = SDPUtils.splitLines(blob);\n  for (let i = 0; i < lines.length; i++) {\n    if (lines[i].length < 2 || lines[i].charAt(1) !== '=') {\n      return false;\n    }\n    // TODO: check the modifier a bit more.\n  }\n  return true;\n};\n\n// Expose public methods.\nif (true) {\n  module.exports = SDPUtils;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2RwL3NkcC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNhOztBQUViO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0Isb0JBQW9CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQjtBQUNwQiwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNELGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTCxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixrQkFBa0IsT0FBTztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0JBQWtCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSSxJQUEwQjtBQUM5QjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zZHAvc2RwLmpzPzI4ZjMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWVudiBub2RlICovXG4ndXNlIHN0cmljdCc7XG5cbi8vIFNEUCBoZWxwZXJzLlxuY29uc3QgU0RQVXRpbHMgPSB7fTtcblxuLy8gR2VuZXJhdGUgYW4gYWxwaGFudW1lcmljIGlkZW50aWZpZXIgZm9yIGNuYW1lIG9yIG1pZHMuXG4vLyBUT0RPOiB1c2UgVVVJRHMgaW5zdGVhZD8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vamVkLzk4Mjg4M1xuU0RQVXRpbHMuZ2VuZXJhdGVJZGVudGlmaWVyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgMTApO1xufTtcblxuLy8gVGhlIFJUQ1AgQ05BTUUgdXNlZCBieSBhbGwgcGVlcmNvbm5lY3Rpb25zIGZyb20gdGhlIHNhbWUgSlMuXG5TRFBVdGlscy5sb2NhbENOYW1lID0gU0RQVXRpbHMuZ2VuZXJhdGVJZGVudGlmaWVyKCk7XG5cbi8vIFNwbGl0cyBTRFAgaW50byBsaW5lcywgZGVhbGluZyB3aXRoIGJvdGggQ1JMRiBhbmQgTEYuXG5TRFBVdGlscy5zcGxpdExpbmVzID0gZnVuY3Rpb24oYmxvYikge1xuICByZXR1cm4gYmxvYi50cmltKCkuc3BsaXQoJ1xcbicpLm1hcChsaW5lID0+IGxpbmUudHJpbSgpKTtcbn07XG4vLyBTcGxpdHMgU0RQIGludG8gc2Vzc2lvbnBhcnQgYW5kIG1lZGlhc2VjdGlvbnMuIEVuc3VyZXMgQ1JMRi5cblNEUFV0aWxzLnNwbGl0U2VjdGlvbnMgPSBmdW5jdGlvbihibG9iKSB7XG4gIGNvbnN0IHBhcnRzID0gYmxvYi5zcGxpdCgnXFxubT0nKTtcbiAgcmV0dXJuIHBhcnRzLm1hcCgocGFydCwgaW5kZXgpID0+IChpbmRleCA+IDAgP1xuICAgICdtPScgKyBwYXJ0IDogcGFydCkudHJpbSgpICsgJ1xcclxcbicpO1xufTtcblxuLy8gUmV0dXJucyB0aGUgc2Vzc2lvbiBkZXNjcmlwdGlvbi5cblNEUFV0aWxzLmdldERlc2NyaXB0aW9uID0gZnVuY3Rpb24oYmxvYikge1xuICBjb25zdCBzZWN0aW9ucyA9IFNEUFV0aWxzLnNwbGl0U2VjdGlvbnMoYmxvYik7XG4gIHJldHVybiBzZWN0aW9ucyAmJiBzZWN0aW9uc1swXTtcbn07XG5cbi8vIFJldHVybnMgdGhlIGluZGl2aWR1YWwgbWVkaWEgc2VjdGlvbnMuXG5TRFBVdGlscy5nZXRNZWRpYVNlY3Rpb25zID0gZnVuY3Rpb24oYmxvYikge1xuICBjb25zdCBzZWN0aW9ucyA9IFNEUFV0aWxzLnNwbGl0U2VjdGlvbnMoYmxvYik7XG4gIHNlY3Rpb25zLnNoaWZ0KCk7XG4gIHJldHVybiBzZWN0aW9ucztcbn07XG5cbi8vIFJldHVybnMgbGluZXMgdGhhdCBzdGFydCB3aXRoIGEgY2VydGFpbiBwcmVmaXguXG5TRFBVdGlscy5tYXRjaFByZWZpeCA9IGZ1bmN0aW9uKGJsb2IsIHByZWZpeCkge1xuICByZXR1cm4gU0RQVXRpbHMuc3BsaXRMaW5lcyhibG9iKS5maWx0ZXIobGluZSA9PiBsaW5lLmluZGV4T2YocHJlZml4KSA9PT0gMCk7XG59O1xuXG4vLyBQYXJzZXMgYW4gSUNFIGNhbmRpZGF0ZSBsaW5lLiBTYW1wbGUgaW5wdXQ6XG4vLyBjYW5kaWRhdGU6NzAyNzg2MzUwIDIgdWRwIDQxODE5OTAyIDguOC44LjggNjA3NjkgdHlwIHJlbGF5IHJhZGRyIDguOC44Ljhcbi8vIHJwb3J0IDU1OTk2XCJcbi8vIElucHV0IGNhbiBiZSBwcmVmaXhlZCB3aXRoIGE9LlxuU0RQVXRpbHMucGFyc2VDYW5kaWRhdGUgPSBmdW5jdGlvbihsaW5lKSB7XG4gIGxldCBwYXJ0cztcbiAgLy8gUGFyc2UgYm90aCB2YXJpYW50cy5cbiAgaWYgKGxpbmUuaW5kZXhPZignYT1jYW5kaWRhdGU6JykgPT09IDApIHtcbiAgICBwYXJ0cyA9IGxpbmUuc3Vic3RyaW5nKDEyKS5zcGxpdCgnICcpO1xuICB9IGVsc2Uge1xuICAgIHBhcnRzID0gbGluZS5zdWJzdHJpbmcoMTApLnNwbGl0KCcgJyk7XG4gIH1cblxuICBjb25zdCBjYW5kaWRhdGUgPSB7XG4gICAgZm91bmRhdGlvbjogcGFydHNbMF0sXG4gICAgY29tcG9uZW50OiB7MTogJ3J0cCcsIDI6ICdydGNwJ31bcGFydHNbMV1dIHx8IHBhcnRzWzFdLFxuICAgIHByb3RvY29sOiBwYXJ0c1syXS50b0xvd2VyQ2FzZSgpLFxuICAgIHByaW9yaXR5OiBwYXJzZUludChwYXJ0c1szXSwgMTApLFxuICAgIGlwOiBwYXJ0c1s0XSxcbiAgICBhZGRyZXNzOiBwYXJ0c1s0XSwgLy8gYWRkcmVzcyBpcyBhbiBhbGlhcyBmb3IgaXAuXG4gICAgcG9ydDogcGFyc2VJbnQocGFydHNbNV0sIDEwKSxcbiAgICAvLyBza2lwIHBhcnRzWzZdID09ICd0eXAnXG4gICAgdHlwZTogcGFydHNbN10sXG4gIH07XG5cbiAgZm9yIChsZXQgaSA9IDg7IGkgPCBwYXJ0cy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHN3aXRjaCAocGFydHNbaV0pIHtcbiAgICAgIGNhc2UgJ3JhZGRyJzpcbiAgICAgICAgY2FuZGlkYXRlLnJlbGF0ZWRBZGRyZXNzID0gcGFydHNbaSArIDFdO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3Jwb3J0JzpcbiAgICAgICAgY2FuZGlkYXRlLnJlbGF0ZWRQb3J0ID0gcGFyc2VJbnQocGFydHNbaSArIDFdLCAxMCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGNwdHlwZSc6XG4gICAgICAgIGNhbmRpZGF0ZS50Y3BUeXBlID0gcGFydHNbaSArIDFdO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3VmcmFnJzpcbiAgICAgICAgY2FuZGlkYXRlLnVmcmFnID0gcGFydHNbaSArIDFdOyAvLyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eS5cbiAgICAgICAgY2FuZGlkYXRlLnVzZXJuYW1lRnJhZ21lbnQgPSBwYXJ0c1tpICsgMV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDogLy8gZXh0ZW5zaW9uIGhhbmRsaW5nLCBpbiBwYXJ0aWN1bGFyIHVmcmFnLiBEb24ndCBvdmVyd3JpdGUuXG4gICAgICAgIGlmIChjYW5kaWRhdGVbcGFydHNbaV1dID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjYW5kaWRhdGVbcGFydHNbaV1dID0gcGFydHNbaSArIDFdO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2FuZGlkYXRlO1xufTtcblxuLy8gVHJhbnNsYXRlcyBhIGNhbmRpZGF0ZSBvYmplY3QgaW50byBTRFAgY2FuZGlkYXRlIGF0dHJpYnV0ZS5cbi8vIFRoaXMgZG9lcyBub3QgaW5jbHVkZSB0aGUgYT0gcHJlZml4IVxuU0RQVXRpbHMud3JpdGVDYW5kaWRhdGUgPSBmdW5jdGlvbihjYW5kaWRhdGUpIHtcbiAgY29uc3Qgc2RwID0gW107XG4gIHNkcC5wdXNoKGNhbmRpZGF0ZS5mb3VuZGF0aW9uKTtcblxuICBjb25zdCBjb21wb25lbnQgPSBjYW5kaWRhdGUuY29tcG9uZW50O1xuICBpZiAoY29tcG9uZW50ID09PSAncnRwJykge1xuICAgIHNkcC5wdXNoKDEpO1xuICB9IGVsc2UgaWYgKGNvbXBvbmVudCA9PT0gJ3J0Y3AnKSB7XG4gICAgc2RwLnB1c2goMik7XG4gIH0gZWxzZSB7XG4gICAgc2RwLnB1c2goY29tcG9uZW50KTtcbiAgfVxuICBzZHAucHVzaChjYW5kaWRhdGUucHJvdG9jb2wudG9VcHBlckNhc2UoKSk7XG4gIHNkcC5wdXNoKGNhbmRpZGF0ZS5wcmlvcml0eSk7XG4gIHNkcC5wdXNoKGNhbmRpZGF0ZS5hZGRyZXNzIHx8IGNhbmRpZGF0ZS5pcCk7XG4gIHNkcC5wdXNoKGNhbmRpZGF0ZS5wb3J0KTtcblxuICBjb25zdCB0eXBlID0gY2FuZGlkYXRlLnR5cGU7XG4gIHNkcC5wdXNoKCd0eXAnKTtcbiAgc2RwLnB1c2godHlwZSk7XG4gIGlmICh0eXBlICE9PSAnaG9zdCcgJiYgY2FuZGlkYXRlLnJlbGF0ZWRBZGRyZXNzICYmXG4gICAgICBjYW5kaWRhdGUucmVsYXRlZFBvcnQpIHtcbiAgICBzZHAucHVzaCgncmFkZHInKTtcbiAgICBzZHAucHVzaChjYW5kaWRhdGUucmVsYXRlZEFkZHJlc3MpO1xuICAgIHNkcC5wdXNoKCdycG9ydCcpO1xuICAgIHNkcC5wdXNoKGNhbmRpZGF0ZS5yZWxhdGVkUG9ydCk7XG4gIH1cbiAgaWYgKGNhbmRpZGF0ZS50Y3BUeXBlICYmIGNhbmRpZGF0ZS5wcm90b2NvbC50b0xvd2VyQ2FzZSgpID09PSAndGNwJykge1xuICAgIHNkcC5wdXNoKCd0Y3B0eXBlJyk7XG4gICAgc2RwLnB1c2goY2FuZGlkYXRlLnRjcFR5cGUpO1xuICB9XG4gIGlmIChjYW5kaWRhdGUudXNlcm5hbWVGcmFnbWVudCB8fCBjYW5kaWRhdGUudWZyYWcpIHtcbiAgICBzZHAucHVzaCgndWZyYWcnKTtcbiAgICBzZHAucHVzaChjYW5kaWRhdGUudXNlcm5hbWVGcmFnbWVudCB8fCBjYW5kaWRhdGUudWZyYWcpO1xuICB9XG4gIHJldHVybiAnY2FuZGlkYXRlOicgKyBzZHAuam9pbignICcpO1xufTtcblxuLy8gUGFyc2VzIGFuIGljZS1vcHRpb25zIGxpbmUsIHJldHVybnMgYW4gYXJyYXkgb2Ygb3B0aW9uIHRhZ3MuXG4vLyBTYW1wbGUgaW5wdXQ6XG4vLyBhPWljZS1vcHRpb25zOmZvbyBiYXJcblNEUFV0aWxzLnBhcnNlSWNlT3B0aW9ucyA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgcmV0dXJuIGxpbmUuc3Vic3RyKDE0KS5zcGxpdCgnICcpO1xufTtcblxuLy8gUGFyc2VzIGEgcnRwbWFwIGxpbmUsIHJldHVybnMgUlRDUnRwQ29kZGVjUGFyYW1ldGVycy4gU2FtcGxlIGlucHV0OlxuLy8gYT1ydHBtYXA6MTExIG9wdXMvNDgwMDAvMlxuU0RQVXRpbHMucGFyc2VSdHBNYXAgPSBmdW5jdGlvbihsaW5lKSB7XG4gIGxldCBwYXJ0cyA9IGxpbmUuc3Vic3RyKDkpLnNwbGl0KCcgJyk7XG4gIGNvbnN0IHBhcnNlZCA9IHtcbiAgICBwYXlsb2FkVHlwZTogcGFyc2VJbnQocGFydHMuc2hpZnQoKSwgMTApLCAvLyB3YXM6IGlkXG4gIH07XG5cbiAgcGFydHMgPSBwYXJ0c1swXS5zcGxpdCgnLycpO1xuXG4gIHBhcnNlZC5uYW1lID0gcGFydHNbMF07XG4gIHBhcnNlZC5jbG9ja1JhdGUgPSBwYXJzZUludChwYXJ0c1sxXSwgMTApOyAvLyB3YXM6IGNsb2NrcmF0ZVxuICBwYXJzZWQuY2hhbm5lbHMgPSBwYXJ0cy5sZW5ndGggPT09IDMgPyBwYXJzZUludChwYXJ0c1syXSwgMTApIDogMTtcbiAgLy8gbGVnYWN5IGFsaWFzLCBnb3QgcmVuYW1lZCBiYWNrIHRvIGNoYW5uZWxzIGluIE9SVEMuXG4gIHBhcnNlZC5udW1DaGFubmVscyA9IHBhcnNlZC5jaGFubmVscztcbiAgcmV0dXJuIHBhcnNlZDtcbn07XG5cbi8vIEdlbmVyYXRlcyBhIHJ0cG1hcCBsaW5lIGZyb20gUlRDUnRwQ29kZWNDYXBhYmlsaXR5IG9yXG4vLyBSVENSdHBDb2RlY1BhcmFtZXRlcnMuXG5TRFBVdGlscy53cml0ZVJ0cE1hcCA9IGZ1bmN0aW9uKGNvZGVjKSB7XG4gIGxldCBwdCA9IGNvZGVjLnBheWxvYWRUeXBlO1xuICBpZiAoY29kZWMucHJlZmVycmVkUGF5bG9hZFR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgIHB0ID0gY29kZWMucHJlZmVycmVkUGF5bG9hZFR5cGU7XG4gIH1cbiAgY29uc3QgY2hhbm5lbHMgPSBjb2RlYy5jaGFubmVscyB8fCBjb2RlYy5udW1DaGFubmVscyB8fCAxO1xuICByZXR1cm4gJ2E9cnRwbWFwOicgKyBwdCArICcgJyArIGNvZGVjLm5hbWUgKyAnLycgKyBjb2RlYy5jbG9ja1JhdGUgK1xuICAgICAgKGNoYW5uZWxzICE9PSAxID8gJy8nICsgY2hhbm5lbHMgOiAnJykgKyAnXFxyXFxuJztcbn07XG5cbi8vIFBhcnNlcyBhIGV4dG1hcCBsaW5lIChoZWFkZXJleHRlbnNpb24gZnJvbSBSRkMgNTI4NSkuIFNhbXBsZSBpbnB1dDpcbi8vIGE9ZXh0bWFwOjIgdXJuOmlldGY6cGFyYW1zOnJ0cC1oZHJleHQ6dG9mZnNldFxuLy8gYT1leHRtYXA6Mi9zZW5kb25seSB1cm46aWV0ZjpwYXJhbXM6cnRwLWhkcmV4dDp0b2Zmc2V0XG5TRFBVdGlscy5wYXJzZUV4dG1hcCA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgY29uc3QgcGFydHMgPSBsaW5lLnN1YnN0cig5KS5zcGxpdCgnICcpO1xuICByZXR1cm4ge1xuICAgIGlkOiBwYXJzZUludChwYXJ0c1swXSwgMTApLFxuICAgIGRpcmVjdGlvbjogcGFydHNbMF0uaW5kZXhPZignLycpID4gMCA/IHBhcnRzWzBdLnNwbGl0KCcvJylbMV0gOiAnc2VuZHJlY3YnLFxuICAgIHVyaTogcGFydHNbMV0sXG4gIH07XG59O1xuXG4vLyBHZW5lcmF0ZXMgYW4gZXh0bWFwIGxpbmUgZnJvbSBSVENSdHBIZWFkZXJFeHRlbnNpb25QYXJhbWV0ZXJzIG9yXG4vLyBSVENSdHBIZWFkZXJFeHRlbnNpb24uXG5TRFBVdGlscy53cml0ZUV4dG1hcCA9IGZ1bmN0aW9uKGhlYWRlckV4dGVuc2lvbikge1xuICByZXR1cm4gJ2E9ZXh0bWFwOicgKyAoaGVhZGVyRXh0ZW5zaW9uLmlkIHx8IGhlYWRlckV4dGVuc2lvbi5wcmVmZXJyZWRJZCkgK1xuICAgICAgKGhlYWRlckV4dGVuc2lvbi5kaXJlY3Rpb24gJiYgaGVhZGVyRXh0ZW5zaW9uLmRpcmVjdGlvbiAhPT0gJ3NlbmRyZWN2J1xuICAgICAgICA/ICcvJyArIGhlYWRlckV4dGVuc2lvbi5kaXJlY3Rpb25cbiAgICAgICAgOiAnJykgK1xuICAgICAgJyAnICsgaGVhZGVyRXh0ZW5zaW9uLnVyaSArICdcXHJcXG4nO1xufTtcblxuLy8gUGFyc2VzIGEgZm10cCBsaW5lLCByZXR1cm5zIGRpY3Rpb25hcnkuIFNhbXBsZSBpbnB1dDpcbi8vIGE9Zm10cDo5NiB2YnI9b247Y25nPW9uXG4vLyBBbHNvIGRlYWxzIHdpdGggdmJyPW9uOyBjbmc9b25cblNEUFV0aWxzLnBhcnNlRm10cCA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgY29uc3QgcGFyc2VkID0ge307XG4gIGxldCBrdjtcbiAgY29uc3QgcGFydHMgPSBsaW5lLnN1YnN0cihsaW5lLmluZGV4T2YoJyAnKSArIDEpLnNwbGl0KCc7Jyk7XG4gIGZvciAobGV0IGogPSAwOyBqIDwgcGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICBrdiA9IHBhcnRzW2pdLnRyaW0oKS5zcGxpdCgnPScpO1xuICAgIHBhcnNlZFtrdlswXS50cmltKCldID0ga3ZbMV07XG4gIH1cbiAgcmV0dXJuIHBhcnNlZDtcbn07XG5cbi8vIEdlbmVyYXRlcyBhIGZtdHAgbGluZSBmcm9tIFJUQ1J0cENvZGVjQ2FwYWJpbGl0eSBvciBSVENSdHBDb2RlY1BhcmFtZXRlcnMuXG5TRFBVdGlscy53cml0ZUZtdHAgPSBmdW5jdGlvbihjb2RlYykge1xuICBsZXQgbGluZSA9ICcnO1xuICBsZXQgcHQgPSBjb2RlYy5wYXlsb2FkVHlwZTtcbiAgaWYgKGNvZGVjLnByZWZlcnJlZFBheWxvYWRUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICBwdCA9IGNvZGVjLnByZWZlcnJlZFBheWxvYWRUeXBlO1xuICB9XG4gIGlmIChjb2RlYy5wYXJhbWV0ZXJzICYmIE9iamVjdC5rZXlzKGNvZGVjLnBhcmFtZXRlcnMpLmxlbmd0aCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IFtdO1xuICAgIE9iamVjdC5rZXlzKGNvZGVjLnBhcmFtZXRlcnMpLmZvckVhY2gocGFyYW0gPT4ge1xuICAgICAgaWYgKGNvZGVjLnBhcmFtZXRlcnNbcGFyYW1dICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGFyYW1zLnB1c2gocGFyYW0gKyAnPScgKyBjb2RlYy5wYXJhbWV0ZXJzW3BhcmFtXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJhbXMucHVzaChwYXJhbSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGluZSArPSAnYT1mbXRwOicgKyBwdCArICcgJyArIHBhcmFtcy5qb2luKCc7JykgKyAnXFxyXFxuJztcbiAgfVxuICByZXR1cm4gbGluZTtcbn07XG5cbi8vIFBhcnNlcyBhIHJ0Y3AtZmIgbGluZSwgcmV0dXJucyBSVENQUnRjcEZlZWRiYWNrIG9iamVjdC4gU2FtcGxlIGlucHV0OlxuLy8gYT1ydGNwLWZiOjk4IG5hY2sgcnBzaVxuU0RQVXRpbHMucGFyc2VSdGNwRmIgPSBmdW5jdGlvbihsaW5lKSB7XG4gIGNvbnN0IHBhcnRzID0gbGluZS5zdWJzdHIobGluZS5pbmRleE9mKCcgJykgKyAxKS5zcGxpdCgnICcpO1xuICByZXR1cm4ge1xuICAgIHR5cGU6IHBhcnRzLnNoaWZ0KCksXG4gICAgcGFyYW1ldGVyOiBwYXJ0cy5qb2luKCcgJyksXG4gIH07XG59O1xuXG4vLyBHZW5lcmF0ZSBhPXJ0Y3AtZmIgbGluZXMgZnJvbSBSVENSdHBDb2RlY0NhcGFiaWxpdHkgb3IgUlRDUnRwQ29kZWNQYXJhbWV0ZXJzLlxuU0RQVXRpbHMud3JpdGVSdGNwRmIgPSBmdW5jdGlvbihjb2RlYykge1xuICBsZXQgbGluZXMgPSAnJztcbiAgbGV0IHB0ID0gY29kZWMucGF5bG9hZFR5cGU7XG4gIGlmIChjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcHQgPSBjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZTtcbiAgfVxuICBpZiAoY29kZWMucnRjcEZlZWRiYWNrICYmIGNvZGVjLnJ0Y3BGZWVkYmFjay5sZW5ndGgpIHtcbiAgICAvLyBGSVhNRTogc3BlY2lhbCBoYW5kbGluZyBmb3IgdHJyLWludD9cbiAgICBjb2RlYy5ydGNwRmVlZGJhY2suZm9yRWFjaChmYiA9PiB7XG4gICAgICBsaW5lcyArPSAnYT1ydGNwLWZiOicgKyBwdCArICcgJyArIGZiLnR5cGUgK1xuICAgICAgKGZiLnBhcmFtZXRlciAmJiBmYi5wYXJhbWV0ZXIubGVuZ3RoID8gJyAnICsgZmIucGFyYW1ldGVyIDogJycpICtcbiAgICAgICAgICAnXFxyXFxuJztcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbGluZXM7XG59O1xuXG4vLyBQYXJzZXMgYSBSRkMgNTU3NiBzc3JjIG1lZGlhIGF0dHJpYnV0ZS4gU2FtcGxlIGlucHV0OlxuLy8gYT1zc3JjOjM3MzU5Mjg1NTkgY25hbWU6c29tZXRoaW5nXG5TRFBVdGlscy5wYXJzZVNzcmNNZWRpYSA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgY29uc3Qgc3AgPSBsaW5lLmluZGV4T2YoJyAnKTtcbiAgY29uc3QgcGFydHMgPSB7XG4gICAgc3NyYzogcGFyc2VJbnQobGluZS5zdWJzdHIoNywgc3AgLSA3KSwgMTApLFxuICB9O1xuICBjb25zdCBjb2xvbiA9IGxpbmUuaW5kZXhPZignOicsIHNwKTtcbiAgaWYgKGNvbG9uID4gLTEpIHtcbiAgICBwYXJ0cy5hdHRyaWJ1dGUgPSBsaW5lLnN1YnN0cihzcCArIDEsIGNvbG9uIC0gc3AgLSAxKTtcbiAgICBwYXJ0cy52YWx1ZSA9IGxpbmUuc3Vic3RyKGNvbG9uICsgMSk7XG4gIH0gZWxzZSB7XG4gICAgcGFydHMuYXR0cmlidXRlID0gbGluZS5zdWJzdHIoc3AgKyAxKTtcbiAgfVxuICByZXR1cm4gcGFydHM7XG59O1xuXG4vLyBQYXJzZSBhIHNzcmMtZ3JvdXAgbGluZSAoc2VlIFJGQyA1NTc2KS4gU2FtcGxlIGlucHV0OlxuLy8gYT1zc3JjLWdyb3VwOnNlbWFudGljcyAxMiAzNFxuU0RQVXRpbHMucGFyc2VTc3JjR3JvdXAgPSBmdW5jdGlvbihsaW5lKSB7XG4gIGNvbnN0IHBhcnRzID0gbGluZS5zdWJzdHIoMTMpLnNwbGl0KCcgJyk7XG4gIHJldHVybiB7XG4gICAgc2VtYW50aWNzOiBwYXJ0cy5zaGlmdCgpLFxuICAgIHNzcmNzOiBwYXJ0cy5tYXAoc3NyYyA9PiBwYXJzZUludChzc3JjLCAxMCkpLFxuICB9O1xufTtcblxuLy8gRXh0cmFjdHMgdGhlIE1JRCAoUkZDIDU4ODgpIGZyb20gYSBtZWRpYSBzZWN0aW9uLlxuLy8gUmV0dXJucyB0aGUgTUlEIG9yIHVuZGVmaW5lZCBpZiBubyBtaWQgbGluZSB3YXMgZm91bmQuXG5TRFBVdGlscy5nZXRNaWQgPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24pIHtcbiAgY29uc3QgbWlkID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnYT1taWQ6JylbMF07XG4gIGlmIChtaWQpIHtcbiAgICByZXR1cm4gbWlkLnN1YnN0cig2KTtcbiAgfVxufTtcblxuLy8gUGFyc2VzIGEgZmluZ2VycHJpbnQgbGluZSBmb3IgRFRMUy1TUlRQLlxuU0RQVXRpbHMucGFyc2VGaW5nZXJwcmludCA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgY29uc3QgcGFydHMgPSBsaW5lLnN1YnN0cigxNCkuc3BsaXQoJyAnKTtcbiAgcmV0dXJuIHtcbiAgICBhbGdvcml0aG06IHBhcnRzWzBdLnRvTG93ZXJDYXNlKCksIC8vIGFsZ29yaXRobSBpcyBjYXNlLXNlbnNpdGl2ZSBpbiBFZGdlLlxuICAgIHZhbHVlOiBwYXJ0c1sxXS50b1VwcGVyQ2FzZSgpLCAvLyB0aGUgZGVmaW5pdGlvbiBpcyB1cHBlci1jYXNlIGluIFJGQyA0NTcyLlxuICB9O1xufTtcblxuLy8gRXh0cmFjdHMgRFRMUyBwYXJhbWV0ZXJzIGZyb20gU0RQIG1lZGlhIHNlY3Rpb24gb3Igc2Vzc2lvbnBhcnQuXG4vLyBGSVhNRTogZm9yIGNvbnNpc3RlbmN5IHdpdGggb3RoZXIgZnVuY3Rpb25zIHRoaXMgc2hvdWxkIG9ubHlcbi8vICAgZ2V0IHRoZSBmaW5nZXJwcmludCBsaW5lIGFzIGlucHV0LiBTZWUgYWxzbyBnZXRJY2VQYXJhbWV0ZXJzLlxuU0RQVXRpbHMuZ2V0RHRsc1BhcmFtZXRlcnMgPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24sIHNlc3Npb25wYXJ0KSB7XG4gIGNvbnN0IGxpbmVzID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uICsgc2Vzc2lvbnBhcnQsXG4gICAgJ2E9ZmluZ2VycHJpbnQ6Jyk7XG4gIC8vIE5vdGU6IGE9c2V0dXAgbGluZSBpcyBpZ25vcmVkIHNpbmNlIHdlIHVzZSB0aGUgJ2F1dG8nIHJvbGUgaW4gRWRnZS5cbiAgcmV0dXJuIHtcbiAgICByb2xlOiAnYXV0bycsXG4gICAgZmluZ2VycHJpbnRzOiBsaW5lcy5tYXAoU0RQVXRpbHMucGFyc2VGaW5nZXJwcmludCksXG4gIH07XG59O1xuXG4vLyBTZXJpYWxpemVzIERUTFMgcGFyYW1ldGVycyB0byBTRFAuXG5TRFBVdGlscy53cml0ZUR0bHNQYXJhbWV0ZXJzID0gZnVuY3Rpb24ocGFyYW1zLCBzZXR1cFR5cGUpIHtcbiAgbGV0IHNkcCA9ICdhPXNldHVwOicgKyBzZXR1cFR5cGUgKyAnXFxyXFxuJztcbiAgcGFyYW1zLmZpbmdlcnByaW50cy5mb3JFYWNoKGZwID0+IHtcbiAgICBzZHAgKz0gJ2E9ZmluZ2VycHJpbnQ6JyArIGZwLmFsZ29yaXRobSArICcgJyArIGZwLnZhbHVlICsgJ1xcclxcbic7XG4gIH0pO1xuICByZXR1cm4gc2RwO1xufTtcblxuLy8gUGFyc2VzIGE9Y3J5cHRvIGxpbmVzIGludG9cbi8vICAgaHR0cHM6Ly9yYXdnaXQuY29tL2Fib2JhL2VkZ2VydGMvbWFzdGVyL21zb3J0Yy1yczQuaHRtbCNkaWN0aW9uYXJ5LXJ0Y3NydHBzZGVzcGFyYW1ldGVycy1tZW1iZXJzXG5TRFBVdGlscy5wYXJzZUNyeXB0b0xpbmUgPSBmdW5jdGlvbihsaW5lKSB7XG4gIGNvbnN0IHBhcnRzID0gbGluZS5zdWJzdHIoOSkuc3BsaXQoJyAnKTtcbiAgcmV0dXJuIHtcbiAgICB0YWc6IHBhcnNlSW50KHBhcnRzWzBdLCAxMCksXG4gICAgY3J5cHRvU3VpdGU6IHBhcnRzWzFdLFxuICAgIGtleVBhcmFtczogcGFydHNbMl0sXG4gICAgc2Vzc2lvblBhcmFtczogcGFydHMuc2xpY2UoMyksXG4gIH07XG59O1xuXG5TRFBVdGlscy53cml0ZUNyeXB0b0xpbmUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHJldHVybiAnYT1jcnlwdG86JyArIHBhcmFtZXRlcnMudGFnICsgJyAnICtcbiAgICBwYXJhbWV0ZXJzLmNyeXB0b1N1aXRlICsgJyAnICtcbiAgICAodHlwZW9mIHBhcmFtZXRlcnMua2V5UGFyYW1zID09PSAnb2JqZWN0J1xuICAgICAgPyBTRFBVdGlscy53cml0ZUNyeXB0b0tleVBhcmFtcyhwYXJhbWV0ZXJzLmtleVBhcmFtcylcbiAgICAgIDogcGFyYW1ldGVycy5rZXlQYXJhbXMpICtcbiAgICAocGFyYW1ldGVycy5zZXNzaW9uUGFyYW1zID8gJyAnICsgcGFyYW1ldGVycy5zZXNzaW9uUGFyYW1zLmpvaW4oJyAnKSA6ICcnKSArXG4gICAgJ1xcclxcbic7XG59O1xuXG4vLyBQYXJzZXMgdGhlIGNyeXB0byBrZXkgcGFyYW1ldGVycyBpbnRvXG4vLyAgIGh0dHBzOi8vcmF3Z2l0LmNvbS9hYm9iYS9lZGdlcnRjL21hc3Rlci9tc29ydGMtcnM0Lmh0bWwjcnRjc3J0cGtleXBhcmFtKlxuU0RQVXRpbHMucGFyc2VDcnlwdG9LZXlQYXJhbXMgPSBmdW5jdGlvbihrZXlQYXJhbXMpIHtcbiAgaWYgKGtleVBhcmFtcy5pbmRleE9mKCdpbmxpbmU6JykgIT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBwYXJ0cyA9IGtleVBhcmFtcy5zdWJzdHIoNykuc3BsaXQoJ3wnKTtcbiAgcmV0dXJuIHtcbiAgICBrZXlNZXRob2Q6ICdpbmxpbmUnLFxuICAgIGtleVNhbHQ6IHBhcnRzWzBdLFxuICAgIGxpZmVUaW1lOiBwYXJ0c1sxXSxcbiAgICBta2lWYWx1ZTogcGFydHNbMl0gPyBwYXJ0c1syXS5zcGxpdCgnOicpWzBdIDogdW5kZWZpbmVkLFxuICAgIG1raUxlbmd0aDogcGFydHNbMl0gPyBwYXJ0c1syXS5zcGxpdCgnOicpWzFdIDogdW5kZWZpbmVkLFxuICB9O1xufTtcblxuU0RQVXRpbHMud3JpdGVDcnlwdG9LZXlQYXJhbXMgPSBmdW5jdGlvbihrZXlQYXJhbXMpIHtcbiAgcmV0dXJuIGtleVBhcmFtcy5rZXlNZXRob2QgKyAnOidcbiAgICArIGtleVBhcmFtcy5rZXlTYWx0ICtcbiAgICAoa2V5UGFyYW1zLmxpZmVUaW1lID8gJ3wnICsga2V5UGFyYW1zLmxpZmVUaW1lIDogJycpICtcbiAgICAoa2V5UGFyYW1zLm1raVZhbHVlICYmIGtleVBhcmFtcy5ta2lMZW5ndGhcbiAgICAgID8gJ3wnICsga2V5UGFyYW1zLm1raVZhbHVlICsgJzonICsga2V5UGFyYW1zLm1raUxlbmd0aFxuICAgICAgOiAnJyk7XG59O1xuXG4vLyBFeHRyYWN0cyBhbGwgU0RFUyBwYXJhbWV0ZXJzLlxuU0RQVXRpbHMuZ2V0Q3J5cHRvUGFyYW1ldGVycyA9IGZ1bmN0aW9uKG1lZGlhU2VjdGlvbiwgc2Vzc2lvbnBhcnQpIHtcbiAgY29uc3QgbGluZXMgPSBTRFBVdGlscy5tYXRjaFByZWZpeChtZWRpYVNlY3Rpb24gKyBzZXNzaW9ucGFydCxcbiAgICAnYT1jcnlwdG86Jyk7XG4gIHJldHVybiBsaW5lcy5tYXAoU0RQVXRpbHMucGFyc2VDcnlwdG9MaW5lKTtcbn07XG5cbi8vIFBhcnNlcyBJQ0UgaW5mb3JtYXRpb24gZnJvbSBTRFAgbWVkaWEgc2VjdGlvbiBvciBzZXNzaW9ucGFydC5cbi8vIEZJWE1FOiBmb3IgY29uc2lzdGVuY3kgd2l0aCBvdGhlciBmdW5jdGlvbnMgdGhpcyBzaG91bGQgb25seVxuLy8gICBnZXQgdGhlIGljZS11ZnJhZyBhbmQgaWNlLXB3ZCBsaW5lcyBhcyBpbnB1dC5cblNEUFV0aWxzLmdldEljZVBhcmFtZXRlcnMgPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24sIHNlc3Npb25wYXJ0KSB7XG4gIGNvbnN0IHVmcmFnID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uICsgc2Vzc2lvbnBhcnQsXG4gICAgJ2E9aWNlLXVmcmFnOicpWzBdO1xuICBjb25zdCBwd2QgPSBTRFBVdGlscy5tYXRjaFByZWZpeChtZWRpYVNlY3Rpb24gKyBzZXNzaW9ucGFydCxcbiAgICAnYT1pY2UtcHdkOicpWzBdO1xuICBpZiAoISh1ZnJhZyAmJiBwd2QpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB1c2VybmFtZUZyYWdtZW50OiB1ZnJhZy5zdWJzdHIoMTIpLFxuICAgIHBhc3N3b3JkOiBwd2Quc3Vic3RyKDEwKSxcbiAgfTtcbn07XG5cbi8vIFNlcmlhbGl6ZXMgSUNFIHBhcmFtZXRlcnMgdG8gU0RQLlxuU0RQVXRpbHMud3JpdGVJY2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIGxldCBzZHAgPSAnYT1pY2UtdWZyYWc6JyArIHBhcmFtcy51c2VybmFtZUZyYWdtZW50ICsgJ1xcclxcbicgK1xuICAgICAgJ2E9aWNlLXB3ZDonICsgcGFyYW1zLnBhc3N3b3JkICsgJ1xcclxcbic7XG4gIGlmIChwYXJhbXMuaWNlTGl0ZSkge1xuICAgIHNkcCArPSAnYT1pY2UtbGl0ZVxcclxcbic7XG4gIH1cbiAgcmV0dXJuIHNkcDtcbn07XG5cbi8vIFBhcnNlcyB0aGUgU0RQIG1lZGlhIHNlY3Rpb24gYW5kIHJldHVybnMgUlRDUnRwUGFyYW1ldGVycy5cblNEUFV0aWxzLnBhcnNlUnRwUGFyYW1ldGVycyA9IGZ1bmN0aW9uKG1lZGlhU2VjdGlvbikge1xuICBjb25zdCBkZXNjcmlwdGlvbiA9IHtcbiAgICBjb2RlY3M6IFtdLFxuICAgIGhlYWRlckV4dGVuc2lvbnM6IFtdLFxuICAgIGZlY01lY2hhbmlzbXM6IFtdLFxuICAgIHJ0Y3A6IFtdLFxuICB9O1xuICBjb25zdCBsaW5lcyA9IFNEUFV0aWxzLnNwbGl0TGluZXMobWVkaWFTZWN0aW9uKTtcbiAgY29uc3QgbWxpbmUgPSBsaW5lc1swXS5zcGxpdCgnICcpO1xuICBmb3IgKGxldCBpID0gMzsgaSA8IG1saW5lLmxlbmd0aDsgaSsrKSB7IC8vIGZpbmQgYWxsIGNvZGVjcyBmcm9tIG1saW5lWzMuLl1cbiAgICBjb25zdCBwdCA9IG1saW5lW2ldO1xuICAgIGNvbnN0IHJ0cG1hcGxpbmUgPSBTRFBVdGlscy5tYXRjaFByZWZpeChcbiAgICAgIG1lZGlhU2VjdGlvbiwgJ2E9cnRwbWFwOicgKyBwdCArICcgJylbMF07XG4gICAgaWYgKHJ0cG1hcGxpbmUpIHtcbiAgICAgIGNvbnN0IGNvZGVjID0gU0RQVXRpbHMucGFyc2VSdHBNYXAocnRwbWFwbGluZSk7XG4gICAgICBjb25zdCBmbXRwcyA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KFxuICAgICAgICBtZWRpYVNlY3Rpb24sICdhPWZtdHA6JyArIHB0ICsgJyAnKTtcbiAgICAgIC8vIE9ubHkgdGhlIGZpcnN0IGE9Zm10cDo8cHQ+IGlzIGNvbnNpZGVyZWQuXG4gICAgICBjb2RlYy5wYXJhbWV0ZXJzID0gZm10cHMubGVuZ3RoID8gU0RQVXRpbHMucGFyc2VGbXRwKGZtdHBzWzBdKSA6IHt9O1xuICAgICAgY29kZWMucnRjcEZlZWRiYWNrID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgoXG4gICAgICAgIG1lZGlhU2VjdGlvbiwgJ2E9cnRjcC1mYjonICsgcHQgKyAnICcpXG4gICAgICAgIC5tYXAoU0RQVXRpbHMucGFyc2VSdGNwRmIpO1xuICAgICAgZGVzY3JpcHRpb24uY29kZWNzLnB1c2goY29kZWMpO1xuICAgICAgLy8gcGFyc2UgRkVDIG1lY2hhbmlzbXMgZnJvbSBydHBtYXAgbGluZXMuXG4gICAgICBzd2l0Y2ggKGNvZGVjLm5hbWUudG9VcHBlckNhc2UoKSkge1xuICAgICAgICBjYXNlICdSRUQnOlxuICAgICAgICBjYXNlICdVTFBGRUMnOlxuICAgICAgICAgIGRlc2NyaXB0aW9uLmZlY01lY2hhbmlzbXMucHVzaChjb2RlYy5uYW1lLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiAvLyBvbmx5IFJFRCBhbmQgVUxQRkVDIGFyZSByZWNvZ25pemVkIGFzIEZFQyBtZWNoYW5pc21zLlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBTRFBVdGlscy5tYXRjaFByZWZpeChtZWRpYVNlY3Rpb24sICdhPWV4dG1hcDonKS5mb3JFYWNoKGxpbmUgPT4ge1xuICAgIGRlc2NyaXB0aW9uLmhlYWRlckV4dGVuc2lvbnMucHVzaChTRFBVdGlscy5wYXJzZUV4dG1hcChsaW5lKSk7XG4gIH0pO1xuICAvLyBGSVhNRTogcGFyc2UgcnRjcC5cbiAgcmV0dXJuIGRlc2NyaXB0aW9uO1xufTtcblxuLy8gR2VuZXJhdGVzIHBhcnRzIG9mIHRoZSBTRFAgbWVkaWEgc2VjdGlvbiBkZXNjcmliaW5nIHRoZSBjYXBhYmlsaXRpZXMgL1xuLy8gcGFyYW1ldGVycy5cblNEUFV0aWxzLndyaXRlUnRwRGVzY3JpcHRpb24gPSBmdW5jdGlvbihraW5kLCBjYXBzKSB7XG4gIGxldCBzZHAgPSAnJztcblxuICAvLyBCdWlsZCB0aGUgbWxpbmUuXG4gIHNkcCArPSAnbT0nICsga2luZCArICcgJztcbiAgc2RwICs9IGNhcHMuY29kZWNzLmxlbmd0aCA+IDAgPyAnOScgOiAnMCc7IC8vIHJlamVjdCBpZiBubyBjb2RlY3MuXG4gIHNkcCArPSAnIFVEUC9UTFMvUlRQL1NBVlBGICc7XG4gIHNkcCArPSBjYXBzLmNvZGVjcy5tYXAoY29kZWMgPT4ge1xuICAgIGlmIChjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gY29kZWMucHJlZmVycmVkUGF5bG9hZFR5cGU7XG4gICAgfVxuICAgIHJldHVybiBjb2RlYy5wYXlsb2FkVHlwZTtcbiAgfSkuam9pbignICcpICsgJ1xcclxcbic7XG5cbiAgc2RwICs9ICdjPUlOIElQNCAwLjAuMC4wXFxyXFxuJztcbiAgc2RwICs9ICdhPXJ0Y3A6OSBJTiBJUDQgMC4wLjAuMFxcclxcbic7XG5cbiAgLy8gQWRkIGE9cnRwbWFwIGxpbmVzIGZvciBlYWNoIGNvZGVjLiBBbHNvIGZtdHAgYW5kIHJ0Y3AtZmIuXG4gIGNhcHMuY29kZWNzLmZvckVhY2goY29kZWMgPT4ge1xuICAgIHNkcCArPSBTRFBVdGlscy53cml0ZVJ0cE1hcChjb2RlYyk7XG4gICAgc2RwICs9IFNEUFV0aWxzLndyaXRlRm10cChjb2RlYyk7XG4gICAgc2RwICs9IFNEUFV0aWxzLndyaXRlUnRjcEZiKGNvZGVjKTtcbiAgfSk7XG4gIGxldCBtYXhwdGltZSA9IDA7XG4gIGNhcHMuY29kZWNzLmZvckVhY2goY29kZWMgPT4ge1xuICAgIGlmIChjb2RlYy5tYXhwdGltZSA+IG1heHB0aW1lKSB7XG4gICAgICBtYXhwdGltZSA9IGNvZGVjLm1heHB0aW1lO1xuICAgIH1cbiAgfSk7XG4gIGlmIChtYXhwdGltZSA+IDApIHtcbiAgICBzZHAgKz0gJ2E9bWF4cHRpbWU6JyArIG1heHB0aW1lICsgJ1xcclxcbic7XG4gIH1cblxuICBpZiAoY2Fwcy5oZWFkZXJFeHRlbnNpb25zKSB7XG4gICAgY2Fwcy5oZWFkZXJFeHRlbnNpb25zLmZvckVhY2goZXh0ZW5zaW9uID0+IHtcbiAgICAgIHNkcCArPSBTRFBVdGlscy53cml0ZUV4dG1hcChleHRlbnNpb24pO1xuICAgIH0pO1xuICB9XG4gIC8vIEZJWE1FOiB3cml0ZSBmZWNNZWNoYW5pc21zLlxuICByZXR1cm4gc2RwO1xufTtcblxuLy8gUGFyc2VzIHRoZSBTRFAgbWVkaWEgc2VjdGlvbiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZlxuLy8gUlRDUnRwRW5jb2RpbmdQYXJhbWV0ZXJzLlxuU0RQVXRpbHMucGFyc2VSdHBFbmNvZGluZ1BhcmFtZXRlcnMgPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24pIHtcbiAgY29uc3QgZW5jb2RpbmdQYXJhbWV0ZXJzID0gW107XG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gU0RQVXRpbHMucGFyc2VSdHBQYXJhbWV0ZXJzKG1lZGlhU2VjdGlvbik7XG4gIGNvbnN0IGhhc1JlZCA9IGRlc2NyaXB0aW9uLmZlY01lY2hhbmlzbXMuaW5kZXhPZignUkVEJykgIT09IC0xO1xuICBjb25zdCBoYXNVbHBmZWMgPSBkZXNjcmlwdGlvbi5mZWNNZWNoYW5pc21zLmluZGV4T2YoJ1VMUEZFQycpICE9PSAtMTtcblxuICAvLyBmaWx0ZXIgYT1zc3JjOi4uLiBjbmFtZTosIGlnbm9yZSBQbGFuQi1tc2lkXG4gIGNvbnN0IHNzcmNzID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnYT1zc3JjOicpXG4gICAgLm1hcChsaW5lID0+IFNEUFV0aWxzLnBhcnNlU3NyY01lZGlhKGxpbmUpKVxuICAgIC5maWx0ZXIocGFydHMgPT4gcGFydHMuYXR0cmlidXRlID09PSAnY25hbWUnKTtcbiAgY29uc3QgcHJpbWFyeVNzcmMgPSBzc3Jjcy5sZW5ndGggPiAwICYmIHNzcmNzWzBdLnNzcmM7XG4gIGxldCBzZWNvbmRhcnlTc3JjO1xuXG4gIGNvbnN0IGZsb3dzID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnYT1zc3JjLWdyb3VwOkZJRCcpXG4gICAgLm1hcChsaW5lID0+IHtcbiAgICAgIGNvbnN0IHBhcnRzID0gbGluZS5zdWJzdHIoMTcpLnNwbGl0KCcgJyk7XG4gICAgICByZXR1cm4gcGFydHMubWFwKHBhcnQgPT4gcGFyc2VJbnQocGFydCwgMTApKTtcbiAgICB9KTtcbiAgaWYgKGZsb3dzLmxlbmd0aCA+IDAgJiYgZmxvd3NbMF0ubGVuZ3RoID4gMSAmJiBmbG93c1swXVswXSA9PT0gcHJpbWFyeVNzcmMpIHtcbiAgICBzZWNvbmRhcnlTc3JjID0gZmxvd3NbMF1bMV07XG4gIH1cblxuICBkZXNjcmlwdGlvbi5jb2RlY3MuZm9yRWFjaChjb2RlYyA9PiB7XG4gICAgaWYgKGNvZGVjLm5hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1JUWCcgJiYgY29kZWMucGFyYW1ldGVycy5hcHQpIHtcbiAgICAgIGxldCBlbmNQYXJhbSA9IHtcbiAgICAgICAgc3NyYzogcHJpbWFyeVNzcmMsXG4gICAgICAgIGNvZGVjUGF5bG9hZFR5cGU6IHBhcnNlSW50KGNvZGVjLnBhcmFtZXRlcnMuYXB0LCAxMCksXG4gICAgICB9O1xuICAgICAgaWYgKHByaW1hcnlTc3JjICYmIHNlY29uZGFyeVNzcmMpIHtcbiAgICAgICAgZW5jUGFyYW0ucnR4ID0ge3NzcmM6IHNlY29uZGFyeVNzcmN9O1xuICAgICAgfVxuICAgICAgZW5jb2RpbmdQYXJhbWV0ZXJzLnB1c2goZW5jUGFyYW0pO1xuICAgICAgaWYgKGhhc1JlZCkge1xuICAgICAgICBlbmNQYXJhbSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZW5jUGFyYW0pKTtcbiAgICAgICAgZW5jUGFyYW0uZmVjID0ge1xuICAgICAgICAgIHNzcmM6IHByaW1hcnlTc3JjLFxuICAgICAgICAgIG1lY2hhbmlzbTogaGFzVWxwZmVjID8gJ3JlZCt1bHBmZWMnIDogJ3JlZCcsXG4gICAgICAgIH07XG4gICAgICAgIGVuY29kaW5nUGFyYW1ldGVycy5wdXNoKGVuY1BhcmFtKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBpZiAoZW5jb2RpbmdQYXJhbWV0ZXJzLmxlbmd0aCA9PT0gMCAmJiBwcmltYXJ5U3NyYykge1xuICAgIGVuY29kaW5nUGFyYW1ldGVycy5wdXNoKHtcbiAgICAgIHNzcmM6IHByaW1hcnlTc3JjLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gd2Ugc3VwcG9ydCBib3RoIGI9QVMgYW5kIGI9VElBUyBidXQgaW50ZXJwcmV0IEFTIGFzIFRJQVMuXG4gIGxldCBiYW5kd2lkdGggPSBTRFBVdGlscy5tYXRjaFByZWZpeChtZWRpYVNlY3Rpb24sICdiPScpO1xuICBpZiAoYmFuZHdpZHRoLmxlbmd0aCkge1xuICAgIGlmIChiYW5kd2lkdGhbMF0uaW5kZXhPZignYj1USUFTOicpID09PSAwKSB7XG4gICAgICBiYW5kd2lkdGggPSBwYXJzZUludChiYW5kd2lkdGhbMF0uc3Vic3RyKDcpLCAxMCk7XG4gICAgfSBlbHNlIGlmIChiYW5kd2lkdGhbMF0uaW5kZXhPZignYj1BUzonKSA9PT0gMCkge1xuICAgICAgLy8gdXNlIGZvcm11bGEgZnJvbSBKU0VQIHRvIGNvbnZlcnQgYj1BUyB0byBUSUFTIHZhbHVlLlxuICAgICAgYmFuZHdpZHRoID0gcGFyc2VJbnQoYmFuZHdpZHRoWzBdLnN1YnN0cig1KSwgMTApICogMTAwMCAqIDAuOTVcbiAgICAgICAgICAtICg1MCAqIDQwICogOCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJhbmR3aWR0aCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZW5jb2RpbmdQYXJhbWV0ZXJzLmZvckVhY2gocGFyYW1zID0+IHtcbiAgICAgIHBhcmFtcy5tYXhCaXRyYXRlID0gYmFuZHdpZHRoO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBlbmNvZGluZ1BhcmFtZXRlcnM7XG59O1xuXG4vLyBwYXJzZXMgaHR0cDovL2RyYWZ0Lm9ydGMub3JnLyNydGNydGNwcGFyYW1ldGVycypcblNEUFV0aWxzLnBhcnNlUnRjcFBhcmFtZXRlcnMgPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24pIHtcbiAgY29uc3QgcnRjcFBhcmFtZXRlcnMgPSB7fTtcblxuICAvLyBHZXRzIHRoZSBmaXJzdCBTU1JDLiBOb3RlIHRoYXQgd2l0aCBSVFggdGhlcmUgbWlnaHQgYmUgbXVsdGlwbGVcbiAgLy8gU1NSQ3MuXG4gIGNvbnN0IHJlbW90ZVNzcmMgPSBTRFBVdGlscy5tYXRjaFByZWZpeChtZWRpYVNlY3Rpb24sICdhPXNzcmM6JylcbiAgICAubWFwKGxpbmUgPT4gU0RQVXRpbHMucGFyc2VTc3JjTWVkaWEobGluZSkpXG4gICAgLmZpbHRlcihvYmogPT4gb2JqLmF0dHJpYnV0ZSA9PT0gJ2NuYW1lJylbMF07XG4gIGlmIChyZW1vdGVTc3JjKSB7XG4gICAgcnRjcFBhcmFtZXRlcnMuY25hbWUgPSByZW1vdGVTc3JjLnZhbHVlO1xuICAgIHJ0Y3BQYXJhbWV0ZXJzLnNzcmMgPSByZW1vdGVTc3JjLnNzcmM7XG4gIH1cblxuICAvLyBFZGdlIHVzZXMgdGhlIGNvbXBvdW5kIGF0dHJpYnV0ZSBpbnN0ZWFkIG9mIHJlZHVjZWRTaXplXG4gIC8vIGNvbXBvdW5kIGlzICFyZWR1Y2VkU2l6ZVxuICBjb25zdCByc2l6ZSA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KG1lZGlhU2VjdGlvbiwgJ2E9cnRjcC1yc2l6ZScpO1xuICBydGNwUGFyYW1ldGVycy5yZWR1Y2VkU2l6ZSA9IHJzaXplLmxlbmd0aCA+IDA7XG4gIHJ0Y3BQYXJhbWV0ZXJzLmNvbXBvdW5kID0gcnNpemUubGVuZ3RoID09PSAwO1xuXG4gIC8vIHBhcnNlcyB0aGUgcnRjcC1tdXggYXR0ctGWYnV0ZS5cbiAgLy8gTm90ZSB0aGF0IEVkZ2UgZG9lcyBub3Qgc3VwcG9ydCB1bm11eGVkIFJUQ1AuXG4gIGNvbnN0IG11eCA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KG1lZGlhU2VjdGlvbiwgJ2E9cnRjcC1tdXgnKTtcbiAgcnRjcFBhcmFtZXRlcnMubXV4ID0gbXV4Lmxlbmd0aCA+IDA7XG5cbiAgcmV0dXJuIHJ0Y3BQYXJhbWV0ZXJzO1xufTtcblxuU0RQVXRpbHMud3JpdGVSdGNwUGFyYW1ldGVycyA9IGZ1bmN0aW9uKHJ0Y3BQYXJhbWV0ZXJzKSB7XG4gIGxldCBzZHAgPSAnJztcbiAgaWYgKHJ0Y3BQYXJhbWV0ZXJzLnJlZHVjZWRTaXplKSB7XG4gICAgc2RwICs9ICdhPXJ0Y3AtcnNpemVcXHJcXG4nO1xuICB9XG4gIGlmIChydGNwUGFyYW1ldGVycy5tdXgpIHtcbiAgICBzZHAgKz0gJ2E9cnRjcC1tdXhcXHJcXG4nO1xuICB9XG4gIGlmIChydGNwUGFyYW1ldGVycy5zc3JjICE9PSB1bmRlZmluZWQgJiYgcnRjcFBhcmFtZXRlcnMuY25hbWUpIHtcbiAgICBzZHAgKz0gJ2E9c3NyYzonICsgcnRjcFBhcmFtZXRlcnMuc3NyYyArXG4gICAgICAnIGNuYW1lOicgKyBydGNwUGFyYW1ldGVycy5jbmFtZSArICdcXHJcXG4nO1xuICB9XG4gIHJldHVybiBzZHA7XG59O1xuXG5cbi8vIHBhcnNlcyBlaXRoZXIgYT1tc2lkOiBvciBhPXNzcmM6Li4uIG1zaWQgbGluZXMgYW5kIHJldHVybnNcbi8vIHRoZSBpZCBvZiB0aGUgTWVkaWFTdHJlYW0gYW5kIE1lZGlhU3RyZWFtVHJhY2suXG5TRFBVdGlscy5wYXJzZU1zaWQgPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24pIHtcbiAgbGV0IHBhcnRzO1xuICBjb25zdCBzcGVjID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnYT1tc2lkOicpO1xuICBpZiAoc3BlYy5sZW5ndGggPT09IDEpIHtcbiAgICBwYXJ0cyA9IHNwZWNbMF0uc3Vic3RyKDcpLnNwbGl0KCcgJyk7XG4gICAgcmV0dXJuIHtzdHJlYW06IHBhcnRzWzBdLCB0cmFjazogcGFydHNbMV19O1xuICB9XG4gIGNvbnN0IHBsYW5CID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnYT1zc3JjOicpXG4gICAgLm1hcChsaW5lID0+IFNEUFV0aWxzLnBhcnNlU3NyY01lZGlhKGxpbmUpKVxuICAgIC5maWx0ZXIobXNpZFBhcnRzID0+IG1zaWRQYXJ0cy5hdHRyaWJ1dGUgPT09ICdtc2lkJyk7XG4gIGlmIChwbGFuQi5sZW5ndGggPiAwKSB7XG4gICAgcGFydHMgPSBwbGFuQlswXS52YWx1ZS5zcGxpdCgnICcpO1xuICAgIHJldHVybiB7c3RyZWFtOiBwYXJ0c1swXSwgdHJhY2s6IHBhcnRzWzFdfTtcbiAgfVxufTtcblxuLy8gU0NUUFxuLy8gcGFyc2VzIGRyYWZ0LWlldGYtbW11c2ljLXNjdHAtc2RwLTI2IGZpcnN0IGFuZCBmYWxscyBiYWNrXG4vLyB0byBkcmFmdC1pZXRmLW1tdXNpYy1zY3RwLXNkcC0wNVxuU0RQVXRpbHMucGFyc2VTY3RwRGVzY3JpcHRpb24gPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24pIHtcbiAgY29uc3QgbWxpbmUgPSBTRFBVdGlscy5wYXJzZU1MaW5lKG1lZGlhU2VjdGlvbik7XG4gIGNvbnN0IG1heFNpemVMaW5lID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnYT1tYXgtbWVzc2FnZS1zaXplOicpO1xuICBsZXQgbWF4TWVzc2FnZVNpemU7XG4gIGlmIChtYXhTaXplTGluZS5sZW5ndGggPiAwKSB7XG4gICAgbWF4TWVzc2FnZVNpemUgPSBwYXJzZUludChtYXhTaXplTGluZVswXS5zdWJzdHIoMTkpLCAxMCk7XG4gIH1cbiAgaWYgKGlzTmFOKG1heE1lc3NhZ2VTaXplKSkge1xuICAgIG1heE1lc3NhZ2VTaXplID0gNjU1MzY7XG4gIH1cbiAgY29uc3Qgc2N0cFBvcnQgPSBTRFBVdGlscy5tYXRjaFByZWZpeChtZWRpYVNlY3Rpb24sICdhPXNjdHAtcG9ydDonKTtcbiAgaWYgKHNjdHBQb3J0Lmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgcG9ydDogcGFyc2VJbnQoc2N0cFBvcnRbMF0uc3Vic3RyKDEyKSwgMTApLFxuICAgICAgcHJvdG9jb2w6IG1saW5lLmZtdCxcbiAgICAgIG1heE1lc3NhZ2VTaXplLFxuICAgIH07XG4gIH1cbiAgY29uc3Qgc2N0cE1hcExpbmVzID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnYT1zY3RwbWFwOicpO1xuICBpZiAoc2N0cE1hcExpbmVzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBwYXJ0cyA9IHNjdHBNYXBMaW5lc1swXVxuICAgICAgLnN1YnN0cigxMClcbiAgICAgIC5zcGxpdCgnICcpO1xuICAgIHJldHVybiB7XG4gICAgICBwb3J0OiBwYXJzZUludChwYXJ0c1swXSwgMTApLFxuICAgICAgcHJvdG9jb2w6IHBhcnRzWzFdLFxuICAgICAgbWF4TWVzc2FnZVNpemUsXG4gICAgfTtcbiAgfVxufTtcblxuLy8gU0NUUFxuLy8gb3V0cHV0cyB0aGUgZHJhZnQtaWV0Zi1tbXVzaWMtc2N0cC1zZHAtMjYgdmVyc2lvbiB0aGF0IGFsbCBicm93c2Vyc1xuLy8gc3VwcG9ydCBieSBub3cgcmVjZWl2aW5nIGluIHRoaXMgZm9ybWF0LCB1bmxlc3Mgd2Ugb3JpZ2luYWxseSBwYXJzZWRcbi8vIGFzIHRoZSBkcmFmdC1pZXRmLW1tdXNpYy1zY3RwLXNkcC0wNSBmb3JtYXQgKGluZGljYXRlZCBieSB0aGUgbS1saW5lXG4vLyBwcm90b2NvbCBvZiBEVExTL1NDVFAgLS0gd2l0aG91dCBVRFAvIG9yIFRDUC8pXG5TRFBVdGlscy53cml0ZVNjdHBEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKG1lZGlhLCBzY3RwKSB7XG4gIGxldCBvdXRwdXQgPSBbXTtcbiAgaWYgKG1lZGlhLnByb3RvY29sICE9PSAnRFRMUy9TQ1RQJykge1xuICAgIG91dHB1dCA9IFtcbiAgICAgICdtPScgKyBtZWRpYS5raW5kICsgJyA5ICcgKyBtZWRpYS5wcm90b2NvbCArICcgJyArIHNjdHAucHJvdG9jb2wgKyAnXFxyXFxuJyxcbiAgICAgICdjPUlOIElQNCAwLjAuMC4wXFxyXFxuJyxcbiAgICAgICdhPXNjdHAtcG9ydDonICsgc2N0cC5wb3J0ICsgJ1xcclxcbicsXG4gICAgXTtcbiAgfSBlbHNlIHtcbiAgICBvdXRwdXQgPSBbXG4gICAgICAnbT0nICsgbWVkaWEua2luZCArICcgOSAnICsgbWVkaWEucHJvdG9jb2wgKyAnICcgKyBzY3RwLnBvcnQgKyAnXFxyXFxuJyxcbiAgICAgICdjPUlOIElQNCAwLjAuMC4wXFxyXFxuJyxcbiAgICAgICdhPXNjdHBtYXA6JyArIHNjdHAucG9ydCArICcgJyArIHNjdHAucHJvdG9jb2wgKyAnIDY1NTM1XFxyXFxuJyxcbiAgICBdO1xuICB9XG4gIGlmIChzY3RwLm1heE1lc3NhZ2VTaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICBvdXRwdXQucHVzaCgnYT1tYXgtbWVzc2FnZS1zaXplOicgKyBzY3RwLm1heE1lc3NhZ2VTaXplICsgJ1xcclxcbicpO1xuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJyk7XG59O1xuXG4vLyBHZW5lcmF0ZSBhIHNlc3Npb24gSUQgZm9yIFNEUC5cbi8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLXJ0Y3dlYi1qc2VwLTIwI3NlY3Rpb24tNS4yLjFcbi8vIHJlY29tbWVuZHMgdXNpbmcgYSBjcnlwdG9ncmFwaGljYWxseSByYW5kb20gK3ZlIDY0LWJpdCB2YWx1ZVxuLy8gYnV0IHJpZ2h0IG5vdyB0aGlzIHNob3VsZCBiZSBhY2NlcHRhYmxlIGFuZCB3aXRoaW4gdGhlIHJpZ2h0IHJhbmdlXG5TRFBVdGlscy5nZW5lcmF0ZVNlc3Npb25JZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygpLnN1YnN0cigyLCAyMSk7XG59O1xuXG4vLyBXcml0ZSBib2lsZXIgcGxhdGUgZm9yIHN0YXJ0IG9mIFNEUFxuLy8gc2Vzc0lkIGFyZ3VtZW50IGlzIG9wdGlvbmFsIC0gaWYgbm90IHN1cHBsaWVkIGl0IHdpbGxcbi8vIGJlIGdlbmVyYXRlZCByYW5kb21seVxuLy8gc2Vzc1ZlcnNpb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIDJcbi8vIHNlc3NVc2VyIGlzIG9wdGlvbmFsIGFuZCBkZWZhdWx0cyB0byAndGhpc2lzYWRhcHRlcm9ydGMnXG5TRFBVdGlscy53cml0ZVNlc3Npb25Cb2lsZXJwbGF0ZSA9IGZ1bmN0aW9uKHNlc3NJZCwgc2Vzc1Zlciwgc2Vzc1VzZXIpIHtcbiAgbGV0IHNlc3Npb25JZDtcbiAgY29uc3QgdmVyc2lvbiA9IHNlc3NWZXIgIT09IHVuZGVmaW5lZCA/IHNlc3NWZXIgOiAyO1xuICBpZiAoc2Vzc0lkKSB7XG4gICAgc2Vzc2lvbklkID0gc2Vzc0lkO1xuICB9IGVsc2Uge1xuICAgIHNlc3Npb25JZCA9IFNEUFV0aWxzLmdlbmVyYXRlU2Vzc2lvbklkKCk7XG4gIH1cbiAgY29uc3QgdXNlciA9IHNlc3NVc2VyIHx8ICd0aGlzaXNhZGFwdGVyb3J0Yyc7XG4gIC8vIEZJWE1FOiBzZXNzLWlkIHNob3VsZCBiZSBhbiBOVFAgdGltZXN0YW1wLlxuICByZXR1cm4gJ3Y9MFxcclxcbicgK1xuICAgICAgJ289JyArIHVzZXIgKyAnICcgKyBzZXNzaW9uSWQgKyAnICcgKyB2ZXJzaW9uICtcbiAgICAgICAgJyBJTiBJUDQgMTI3LjAuMC4xXFxyXFxuJyArXG4gICAgICAncz0tXFxyXFxuJyArXG4gICAgICAndD0wIDBcXHJcXG4nO1xufTtcblxuLy8gR2V0cyB0aGUgZGlyZWN0aW9uIGZyb20gdGhlIG1lZGlhU2VjdGlvbiBvciB0aGUgc2Vzc2lvbnBhcnQuXG5TRFBVdGlscy5nZXREaXJlY3Rpb24gPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24sIHNlc3Npb25wYXJ0KSB7XG4gIC8vIExvb2sgZm9yIHNlbmRyZWN2LCBzZW5kb25seSwgcmVjdm9ubHksIGluYWN0aXZlLCBkZWZhdWx0IHRvIHNlbmRyZWN2LlxuICBjb25zdCBsaW5lcyA9IFNEUFV0aWxzLnNwbGl0TGluZXMobWVkaWFTZWN0aW9uKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgIHN3aXRjaCAobGluZXNbaV0pIHtcbiAgICAgIGNhc2UgJ2E9c2VuZHJlY3YnOlxuICAgICAgY2FzZSAnYT1zZW5kb25seSc6XG4gICAgICBjYXNlICdhPXJlY3Zvbmx5JzpcbiAgICAgIGNhc2UgJ2E9aW5hY3RpdmUnOlxuICAgICAgICByZXR1cm4gbGluZXNbaV0uc3Vic3RyKDIpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gRklYTUU6IFdoYXQgc2hvdWxkIGhhcHBlbiBoZXJlP1xuICAgIH1cbiAgfVxuICBpZiAoc2Vzc2lvbnBhcnQpIHtcbiAgICByZXR1cm4gU0RQVXRpbHMuZ2V0RGlyZWN0aW9uKHNlc3Npb25wYXJ0KTtcbiAgfVxuICByZXR1cm4gJ3NlbmRyZWN2Jztcbn07XG5cblNEUFV0aWxzLmdldEtpbmQgPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24pIHtcbiAgY29uc3QgbGluZXMgPSBTRFBVdGlscy5zcGxpdExpbmVzKG1lZGlhU2VjdGlvbik7XG4gIGNvbnN0IG1saW5lID0gbGluZXNbMF0uc3BsaXQoJyAnKTtcbiAgcmV0dXJuIG1saW5lWzBdLnN1YnN0cigyKTtcbn07XG5cblNEUFV0aWxzLmlzUmVqZWN0ZWQgPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24pIHtcbiAgcmV0dXJuIG1lZGlhU2VjdGlvbi5zcGxpdCgnICcsIDIpWzFdID09PSAnMCc7XG59O1xuXG5TRFBVdGlscy5wYXJzZU1MaW5lID0gZnVuY3Rpb24obWVkaWFTZWN0aW9uKSB7XG4gIGNvbnN0IGxpbmVzID0gU0RQVXRpbHMuc3BsaXRMaW5lcyhtZWRpYVNlY3Rpb24pO1xuICBjb25zdCBwYXJ0cyA9IGxpbmVzWzBdLnN1YnN0cigyKS5zcGxpdCgnICcpO1xuICByZXR1cm4ge1xuICAgIGtpbmQ6IHBhcnRzWzBdLFxuICAgIHBvcnQ6IHBhcnNlSW50KHBhcnRzWzFdLCAxMCksXG4gICAgcHJvdG9jb2w6IHBhcnRzWzJdLFxuICAgIGZtdDogcGFydHMuc2xpY2UoMykuam9pbignICcpLFxuICB9O1xufTtcblxuU0RQVXRpbHMucGFyc2VPTGluZSA9IGZ1bmN0aW9uKG1lZGlhU2VjdGlvbikge1xuICBjb25zdCBsaW5lID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgobWVkaWFTZWN0aW9uLCAnbz0nKVswXTtcbiAgY29uc3QgcGFydHMgPSBsaW5lLnN1YnN0cigyKS5zcGxpdCgnICcpO1xuICByZXR1cm4ge1xuICAgIHVzZXJuYW1lOiBwYXJ0c1swXSxcbiAgICBzZXNzaW9uSWQ6IHBhcnRzWzFdLFxuICAgIHNlc3Npb25WZXJzaW9uOiBwYXJzZUludChwYXJ0c1syXSwgMTApLFxuICAgIG5ldFR5cGU6IHBhcnRzWzNdLFxuICAgIGFkZHJlc3NUeXBlOiBwYXJ0c1s0XSxcbiAgICBhZGRyZXNzOiBwYXJ0c1s1XSxcbiAgfTtcbn07XG5cbi8vIGEgdmVyeSBuYWl2ZSBpbnRlcnByZXRhdGlvbiBvZiBhIHZhbGlkIFNEUC5cblNEUFV0aWxzLmlzVmFsaWRTRFAgPSBmdW5jdGlvbihibG9iKSB7XG4gIGlmICh0eXBlb2YgYmxvYiAhPT0gJ3N0cmluZycgfHwgYmxvYi5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgbGluZXMgPSBTRFBVdGlscy5zcGxpdExpbmVzKGJsb2IpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGxpbmVzW2ldLmxlbmd0aCA8IDIgfHwgbGluZXNbaV0uY2hhckF0KDEpICE9PSAnPScpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gVE9ETzogY2hlY2sgdGhlIG1vZGlmaWVyIGEgYml0IG1vcmUuXG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vLyBFeHBvc2UgcHVibGljIG1ldGhvZHMuXG5pZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBTRFBVdGlscztcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/sdp/sdp.js\n"));

/***/ }),

/***/ "./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval(__webpack_require__.ts("var __WEBPACK_AMD_DEFINE_RESULT__;/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.32\n   Copyright © 2012-2021 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '1.0.32',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 350;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SHARP   = 'Sharp',\n        SONY    = 'Sony',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK   = 'Facebook';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY).replace(/\\s\\s*$/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,      // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,               // Avant/IEMobile/SlimBrowser\n            /(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,                                  // Baidu Browser\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ, aka ShouQ\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i\n            ], [VERSION, [NAME, 'WeChat(Win) Desktop']], [\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /yabrowser\\/([\\w\\.]+)/i                                             // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI '+BROWSER]], [\n            /fxios\\/([-\\w\\.]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihu|(qi?ho?o?|360)browser/i                                     // 360\n            ], [[NAME, '360 '+BROWSER]], [\n            /(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1 '+BROWSER], VERSION], [                      // Oculus/Samsung/Sailfish/Huawei Browser\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i            // QQBrowser/Baidu App/2345 Browser\n            ], [NAME, VERSION], [\n            /(metasr)[\\/ ]?([\\w\\.]+)/i,                                         // SouGouBrowser\n            /(lbbrowser)/i,                                                     // LieBao Browser\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(chromium|instagram)[\\/ ]([-\\w\\.]+)/i                              // Chromium/Instagram\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i                      // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror/Klar\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i                                              // Links\n            ], [NAME, VERSION]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            // Ordered by popularity\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-\\w+|galaxy nexus)/i,\n            /samsung[- ]([-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /\\((ip(?:hone|od)[\\w ]*);/i                                         // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei|honor)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+)(?: bui|\\))/i,                                       // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[12]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi)( bui|\\))/i,                                         // Kindle Fire without Silk\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w)( bui|\\))/i                                          // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                              // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w ]*; *(\\w[^;]*);([^;]*)/i               // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n            /(quest( 2)?)/i                                                     // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i           // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i                                       // iCab\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows) nt 6\\.2; (arm)/i,                                        // Windows RT\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,            // Windows Phone\n            /(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, strMapper, windowsVersionMap]], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, 'Mac OS'], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+ ([\\w\\.]+\\w)/i                                         // Chromium OS\n            ], [[NAME, 'Chromium OS'], VERSION],[\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,            // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _ua = ua || ((typeof window !== UNDEF_TYPE && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : EMPTY);\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser.major = majorize(_browser.version);\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (\"object\" !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (\"function\" === FUNC_TYPE && __webpack_require__.amdO) {\n            !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n                return UAParser;\n            }).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdWEtcGFyc2VyLWpzL3NyYy91YS1wYXJzZXIuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDBCQUEwQixjQUFjO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSw2Q0FBNkM7QUFDN0M7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLG9DQUFvQyxrQkFBa0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUNBLHFCQUFxQixZQUFZOztBQUVqQztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsSUFBSSxtQ0FBbUMsSUFBSTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBYTtBQUN6QjtBQUNBO0FBQ0EsUUFBUSxnQkFBZ0I7QUFDeEIsTUFBTTtBQUNOO0FBQ0EsWUFBWSxVQUFjLGtCQUFrQix3QkFBVTtBQUN0RCxZQUFZLG1DQUFPO0FBQ25CO0FBQ0EsYUFBYTtBQUFBLGtHQUFDO0FBQ2QsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdWEtcGFyc2VyLWpzL3NyYy91YS1wYXJzZXIuanM/MzBkMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8qIFVBUGFyc2VyLmpzIHYxLjAuMzJcbiAgIENvcHlyaWdodCDCqSAyMDEyLTIwMjEgRmFpc2FsIFNhbG1hbiA8ZkBmYWlzYWxtYW4uY29tPlxuICAgTUlUIExpY2Vuc2UgKi8vKlxuICAgRGV0ZWN0IEJyb3dzZXIsIEVuZ2luZSwgT1MsIENQVSwgYW5kIERldmljZSB0eXBlL21vZGVsIGZyb20gVXNlci1BZ2VudCBkYXRhLlxuICAgU3VwcG9ydHMgYnJvd3NlciAmIG5vZGUuanMgZW52aXJvbm1lbnQuIFxuICAgRGVtbyAgIDogaHR0cHM6Ly9mYWlzYWxtYW4uZ2l0aHViLmlvL3VhLXBhcnNlci1qc1xuICAgU291cmNlIDogaHR0cHM6Ly9naXRodWIuY29tL2ZhaXNhbG1hbi91YS1wYXJzZXItanMgKi9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4oZnVuY3Rpb24gKHdpbmRvdywgdW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLy8vLy8vLy8vLy8vL1xuICAgIC8vIENvbnN0YW50c1xuICAgIC8vLy8vLy8vLy8vLy9cblxuXG4gICAgdmFyIExJQlZFUlNJT04gID0gJzEuMC4zMicsXG4gICAgICAgIEVNUFRZICAgICAgID0gJycsXG4gICAgICAgIFVOS05PV04gICAgID0gJz8nLFxuICAgICAgICBGVU5DX1RZUEUgICA9ICdmdW5jdGlvbicsXG4gICAgICAgIFVOREVGX1RZUEUgID0gJ3VuZGVmaW5lZCcsXG4gICAgICAgIE9CSl9UWVBFICAgID0gJ29iamVjdCcsXG4gICAgICAgIFNUUl9UWVBFICAgID0gJ3N0cmluZycsXG4gICAgICAgIE1BSk9SICAgICAgID0gJ21ham9yJyxcbiAgICAgICAgTU9ERUwgICAgICAgPSAnbW9kZWwnLFxuICAgICAgICBOQU1FICAgICAgICA9ICduYW1lJyxcbiAgICAgICAgVFlQRSAgICAgICAgPSAndHlwZScsXG4gICAgICAgIFZFTkRPUiAgICAgID0gJ3ZlbmRvcicsXG4gICAgICAgIFZFUlNJT04gICAgID0gJ3ZlcnNpb24nLFxuICAgICAgICBBUkNISVRFQ1RVUkU9ICdhcmNoaXRlY3R1cmUnLFxuICAgICAgICBDT05TT0xFICAgICA9ICdjb25zb2xlJyxcbiAgICAgICAgTU9CSUxFICAgICAgPSAnbW9iaWxlJyxcbiAgICAgICAgVEFCTEVUICAgICAgPSAndGFibGV0JyxcbiAgICAgICAgU01BUlRUViAgICAgPSAnc21hcnR0dicsXG4gICAgICAgIFdFQVJBQkxFICAgID0gJ3dlYXJhYmxlJyxcbiAgICAgICAgRU1CRURERUQgICAgPSAnZW1iZWRkZWQnLFxuICAgICAgICBVQV9NQVhfTEVOR1RIID0gMzUwO1xuXG4gICAgdmFyIEFNQVpPTiAgPSAnQW1hem9uJyxcbiAgICAgICAgQVBQTEUgICA9ICdBcHBsZScsXG4gICAgICAgIEFTVVMgICAgPSAnQVNVUycsXG4gICAgICAgIEJMQUNLQkVSUlkgPSAnQmxhY2tCZXJyeScsXG4gICAgICAgIEJST1dTRVIgPSAnQnJvd3NlcicsXG4gICAgICAgIENIUk9NRSAgPSAnQ2hyb21lJyxcbiAgICAgICAgRURHRSAgICA9ICdFZGdlJyxcbiAgICAgICAgRklSRUZPWCA9ICdGaXJlZm94JyxcbiAgICAgICAgR09PR0xFICA9ICdHb29nbGUnLFxuICAgICAgICBIVUFXRUkgID0gJ0h1YXdlaScsXG4gICAgICAgIExHICAgICAgPSAnTEcnLFxuICAgICAgICBNSUNST1NPRlQgPSAnTWljcm9zb2Z0JyxcbiAgICAgICAgTU9UT1JPTEEgID0gJ01vdG9yb2xhJyxcbiAgICAgICAgT1BFUkEgICA9ICdPcGVyYScsXG4gICAgICAgIFNBTVNVTkcgPSAnU2Ftc3VuZycsXG4gICAgICAgIFNIQVJQICAgPSAnU2hhcnAnLFxuICAgICAgICBTT05ZICAgID0gJ1NvbnknLFxuICAgICAgICBYSUFPTUkgID0gJ1hpYW9taScsXG4gICAgICAgIFpFQlJBICAgPSAnWmVicmEnLFxuICAgICAgICBGQUNFQk9PSyAgID0gJ0ZhY2Vib29rJztcblxuICAgIC8vLy8vLy8vLy8vXG4gICAgLy8gSGVscGVyXG4gICAgLy8vLy8vLy8vL1xuXG4gICAgdmFyIGV4dGVuZCA9IGZ1bmN0aW9uIChyZWdleGVzLCBleHRlbnNpb25zKSB7XG4gICAgICAgICAgICB2YXIgbWVyZ2VkUmVnZXhlcyA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiByZWdleGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4dGVuc2lvbnNbaV0gJiYgZXh0ZW5zaW9uc1tpXS5sZW5ndGggJSAyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lcmdlZFJlZ2V4ZXNbaV0gPSBleHRlbnNpb25zW2ldLmNvbmNhdChyZWdleGVzW2ldKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtZXJnZWRSZWdleGVzW2ldID0gcmVnZXhlc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VkUmVnZXhlcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyaXplID0gZnVuY3Rpb24gKGFycikge1xuICAgICAgICAgICAgdmFyIGVudW1zID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8YXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZW51bXNbYXJyW2ldLnRvVXBwZXJDYXNlKCldID0gYXJyW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVudW1zO1xuICAgICAgICB9LFxuICAgICAgICBoYXMgPSBmdW5jdGlvbiAoc3RyMSwgc3RyMikge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBzdHIxID09PSBTVFJfVFlQRSA/IGxvd2VyaXplKHN0cjIpLmluZGV4T2YobG93ZXJpemUoc3RyMSkpICE9PSAtMSA6IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBsb3dlcml6ZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSxcbiAgICAgICAgbWFqb3JpemUgPSBmdW5jdGlvbiAodmVyc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZih2ZXJzaW9uKSA9PT0gU1RSX1RZUEUgPyB2ZXJzaW9uLnJlcGxhY2UoL1teXFxkXFwuXS9nLCBFTVBUWSkuc3BsaXQoJy4nKVswXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgdHJpbSA9IGZ1bmN0aW9uIChzdHIsIGxlbikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZihzdHIpID09PSBTVFJfVFlQRSkge1xuICAgICAgICAgICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9eXFxzXFxzKi8sIEVNUFRZKS5yZXBsYWNlKC9cXHNcXHMqJC8sIEVNUFRZKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mKGxlbikgPT09IFVOREVGX1RZUEUgPyBzdHIgOiBzdHIuc3Vic3RyaW5nKDAsIFVBX01BWF9MRU5HVEgpO1xuICAgICAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBNYXAgaGVscGVyXG4gICAgLy8vLy8vLy8vLy8vLy9cblxuICAgIHZhciByZ3hNYXBwZXIgPSBmdW5jdGlvbiAodWEsIGFycmF5cykge1xuXG4gICAgICAgICAgICB2YXIgaSA9IDAsIGosIGssIHAsIHEsIG1hdGNoZXMsIG1hdGNoO1xuXG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggYWxsIHJlZ2V4ZXMgbWFwc1xuICAgICAgICAgICAgd2hpbGUgKGkgPCBhcnJheXMubGVuZ3RoICYmICFtYXRjaGVzKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgcmVnZXggPSBhcnJheXNbaV0sICAgICAgIC8vIGV2ZW4gc2VxdWVuY2UgKDAsMiw0LC4uKVxuICAgICAgICAgICAgICAgICAgICBwcm9wcyA9IGFycmF5c1tpICsgMV07ICAgLy8gb2RkIHNlcXVlbmNlICgxLDMsNSwuLilcbiAgICAgICAgICAgICAgICBqID0gayA9IDA7XG5cbiAgICAgICAgICAgICAgICAvLyB0cnkgbWF0Y2hpbmcgdWFzdHJpbmcgd2l0aCByZWdleGVzXG4gICAgICAgICAgICAgICAgd2hpbGUgKGogPCByZWdleC5sZW5ndGggJiYgIW1hdGNoZXMpIHtcblxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzID0gcmVnZXhbaisrXS5leGVjKHVhKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoISFtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHAgPSAwOyBwIDwgcHJvcHMubGVuZ3RoOyBwKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IG1hdGNoZXNbKytrXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxID0gcHJvcHNbcF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgZ2l2ZW4gcHJvcGVydHkgaXMgYWN0dWFsbHkgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHEgPT09IE9CSl9UWVBFICYmIHEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcVsxXSA9PSBGVU5DX1RZUEUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhc3NpZ24gbW9kaWZpZWQgbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3FbMF1dID0gcVsxXS5jYWxsKHRoaXMsIG1hdGNoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXNzaWduIGdpdmVuIHZhbHVlLCBpZ25vcmUgcmVnZXggbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3FbMF1dID0gcVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChxLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgd2hldGhlciBmdW5jdGlvbiBvciByZWdleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBxWzFdID09PSBGVU5DX1RZUEUgJiYgIShxWzFdLmV4ZWMgJiYgcVsxXS50ZXN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGwgZnVuY3Rpb24gKHVzdWFsbHkgc3RyaW5nIG1hcHBlcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3FbMF1dID0gbWF0Y2ggPyBxWzFdLmNhbGwodGhpcywgbWF0Y2gsIHFbMl0pIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzYW5pdGl6ZSBtYXRjaCB1c2luZyBnaXZlbiByZWdleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbcVswXV0gPSBtYXRjaCA/IG1hdGNoLnJlcGxhY2UocVsxXSwgcVsyXSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocS5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3FbMF1dID0gbWF0Y2ggPyBxWzNdLmNhbGwodGhpcywgbWF0Y2gucmVwbGFjZShxWzFdLCBxWzJdKSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3FdID0gbWF0Y2ggPyBtYXRjaCA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHN0ck1hcHBlciA9IGZ1bmN0aW9uIChzdHIsIG1hcCkge1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIG1hcCkge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGN1cnJlbnQgdmFsdWUgaXMgYXJyYXlcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1hcFtpXSA9PT0gT0JKX1RZUEUgJiYgbWFwW2ldLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtYXBbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXMobWFwW2ldW2pdLCBzdHIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpID09PSBVTktOT1dOKSA/IHVuZGVmaW5lZCA6IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhhcyhtYXBbaV0sIHN0cikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpID09PSBVTktOT1dOKSA/IHVuZGVmaW5lZCA6IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9O1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gU3RyaW5nIG1hcFxuICAgIC8vLy8vLy8vLy8vLy8vXG5cbiAgICAvLyBTYWZhcmkgPCAzLjBcbiAgICB2YXIgb2xkU2FmYXJpTWFwID0ge1xuICAgICAgICAgICAgJzEuMCcgICA6ICcvOCcsXG4gICAgICAgICAgICAnMS4yJyAgIDogJy8xJyxcbiAgICAgICAgICAgICcxLjMnICAgOiAnLzMnLFxuICAgICAgICAgICAgJzIuMCcgICA6ICcvNDEyJyxcbiAgICAgICAgICAgICcyLjAuMicgOiAnLzQxNicsXG4gICAgICAgICAgICAnMi4wLjMnIDogJy80MTcnLFxuICAgICAgICAgICAgJzIuMC40JyA6ICcvNDE5JyxcbiAgICAgICAgICAgICc/JyAgICAgOiAnLydcbiAgICAgICAgfSxcbiAgICAgICAgd2luZG93c1ZlcnNpb25NYXAgPSB7XG4gICAgICAgICAgICAnTUUnICAgICAgICA6ICc0LjkwJyxcbiAgICAgICAgICAgICdOVCAzLjExJyAgIDogJ05UMy41MScsXG4gICAgICAgICAgICAnTlQgNC4wJyAgICA6ICdOVDQuMCcsXG4gICAgICAgICAgICAnMjAwMCcgICAgICA6ICdOVCA1LjAnLFxuICAgICAgICAgICAgJ1hQJyAgICAgICAgOiBbJ05UIDUuMScsICdOVCA1LjInXSxcbiAgICAgICAgICAgICdWaXN0YScgICAgIDogJ05UIDYuMCcsXG4gICAgICAgICAgICAnNycgICAgICAgICA6ICdOVCA2LjEnLFxuICAgICAgICAgICAgJzgnICAgICAgICAgOiAnTlQgNi4yJyxcbiAgICAgICAgICAgICc4LjEnICAgICAgIDogJ05UIDYuMycsXG4gICAgICAgICAgICAnMTAnICAgICAgICA6IFsnTlQgNi40JywgJ05UIDEwLjAnXSxcbiAgICAgICAgICAgICdSVCcgICAgICAgIDogJ0FSTSdcbiAgICB9O1xuXG4gICAgLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBSZWdleCBtYXBcbiAgICAvLy8vLy8vLy8vLy8vXG5cbiAgICB2YXIgcmVnZXhlcyA9IHtcblxuICAgICAgICBicm93c2VyIDogW1tcblxuICAgICAgICAgICAgL1xcYig/OmNybW98Y3Jpb3MpXFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hyb21lIGZvciBBbmRyb2lkL2lPU1xuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnQ2hyb21lJ11dLCBbXG4gICAgICAgICAgICAvZWRnKD86ZXxpb3N8YSk/XFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1pY3Jvc29mdCBFZGdlXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdFZGdlJ11dLCBbXG5cbiAgICAgICAgICAgIC8vIFByZXN0byBiYXNlZFxuICAgICAgICAgICAgLyhvcGVyYSBtaW5pKVxcLyhbLVxcd1xcLl0rKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPcGVyYSBNaW5pXG4gICAgICAgICAgICAvKG9wZXJhIFttb2JpbGV0YWJdezMsNn0pXFxiLit2ZXJzaW9uXFwvKFstXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAvLyBPcGVyYSBNb2JpL1RhYmxldFxuICAgICAgICAgICAgLyhvcGVyYSkoPzouK3ZlcnNpb25cXC98W1xcLyBdKykoW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3BlcmFcbiAgICAgICAgICAgIF0sIFtOQU1FLCBWRVJTSU9OXSwgW1xuICAgICAgICAgICAgL29waW9zW1xcLyBdKyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPcGVyYSBtaW5pIG9uIGlwaG9uZSA+PSA4LjBcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgT1BFUkErJyBNaW5pJ11dLCBbXG4gICAgICAgICAgICAvXFxib3ByXFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPcGVyYSBXZWJraXRcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgT1BFUkFdXSwgW1xuXG4gICAgICAgICAgICAvLyBNaXhlZFxuICAgICAgICAgICAgLyhraW5kbGUpXFwvKFtcXHdcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBLaW5kbGVcbiAgICAgICAgICAgIC8obHVuYXNjYXBlfG1heHRob258bmV0ZnJvbnR8amFzbWluZXxibGF6ZXIpW1xcLyBdPyhbXFx3XFwuXSopL2ksICAgICAgLy8gTHVuYXNjYXBlL01heHRob24vTmV0ZnJvbnQvSmFzbWluZS9CbGF6ZXJcbiAgICAgICAgICAgIC8vIFRyaWRlbnQgYmFzZWRcbiAgICAgICAgICAgIC8oYXZhbnQgfGllbW9iaWxlfHNsaW0pKD86YnJvd3Nlcik/W1xcLyBdPyhbXFx3XFwuXSopL2ksICAgICAgICAgICAgICAgLy8gQXZhbnQvSUVNb2JpbGUvU2xpbUJyb3dzZXJcbiAgICAgICAgICAgIC8oYmE/aWR1YnJvd3NlcilbXFwvIF0/KFtcXHdcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmFpZHUgQnJvd3NlclxuICAgICAgICAgICAgLyg/Om1zfFxcKCkoaWUpIChbXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbnRlcm5ldCBFeHBsb3JlclxuXG4gICAgICAgICAgICAvLyBXZWJraXQvS0hUTUwgYmFzZWQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZsb2NrL1JvY2tNZWx0L01pZG9yaS9FcGlwaGFueS9TaWxrL1NreWZpcmUvQm9sdC9Jcm9uL0lyaWRpdW0vUGhhbnRvbUpTL0Jvd3Nlci9RdXBaaWxsYS9GYWxrb25cbiAgICAgICAgICAgIC8oZmxvY2t8cm9ja21lbHR8bWlkb3JpfGVwaXBoYW55fHNpbGt8c2t5ZmlyZXxvdmlicm93c2VyfGJvbHR8aXJvbnx2aXZhbGRpfGlyaWRpdW18cGhhbnRvbWpzfGJvd3NlcnxxdWFya3xxdXB6aWxsYXxmYWxrb258cmVrb25xfHB1ZmZpbnxicmF2ZXx3aGFsZXxxcWJyb3dzZXJsaXRlfHFxfGR1Y2tkdWNrZ28pXFwvKFstXFx3XFwuXSspL2ksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJla29ucS9QdWZmaW4vQnJhdmUvV2hhbGUvUVFCcm93c2VyTGl0ZS9RUSwgYWthIFNob3VRXG4gICAgICAgICAgICAvKHdlaWJvKV9fKFtcXGRcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2VpYm9cbiAgICAgICAgICAgIF0sIFtOQU1FLCBWRVJTSU9OXSwgW1xuICAgICAgICAgICAgLyg/OlxcYnVjPyA/YnJvd3NlcnwoPzpqdWMuKyl1Y3dlYilbXFwvIF0/KFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgLy8gVUNCcm93c2VyXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdVQycrQlJPV1NFUl1dLCBbXG4gICAgICAgICAgICAvbWljcm9tLitcXGJxYmNvcmVcXC8oW1xcd1xcLl0rKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZUNoYXQgRGVza3RvcCBmb3IgV2luZG93cyBCdWlsdC1pbiBCcm93c2VyXG4gICAgICAgICAgICAvXFxicWJjb3JlXFwvKFtcXHdcXC5dKykuK21pY3JvbS9pXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdXZUNoYXQoV2luKSBEZXNrdG9wJ11dLCBbXG4gICAgICAgICAgICAvbWljcm9tZXNzZW5nZXJcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlQ2hhdFxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnV2VDaGF0J11dLCBbXG4gICAgICAgICAgICAva29ucXVlcm9yXFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtvbnF1ZXJvclxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnS29ucXVlcm9yJ11dLCBbXG4gICAgICAgICAgICAvdHJpZGVudC4rcnZbOiBdKFtcXHdcXC5dezEsOX0pXFxiLitsaWtlIGdlY2tvL2kgICAgICAgICAgICAgICAgICAgICAgIC8vIElFMTFcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ0lFJ11dLCBbXG4gICAgICAgICAgICAveWFicm93c2VyXFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFlhbmRleFxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnWWFuZGV4J11dLCBbXG4gICAgICAgICAgICAvKGF2YXN0fGF2ZylcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF2YXN0L0FWRyBTZWN1cmUgQnJvd3NlclxuICAgICAgICAgICAgXSwgW1tOQU1FLCAvKC4rKS8sICckMSBTZWN1cmUgJytCUk9XU0VSXSwgVkVSU0lPTl0sIFtcbiAgICAgICAgICAgIC9cXGJmb2N1c1xcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggRm9jdXNcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgRklSRUZPWCsnIEZvY3VzJ11dLCBbXG4gICAgICAgICAgICAvXFxib3B0XFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPcGVyYSBUb3VjaFxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCBPUEVSQSsnIFRvdWNoJ11dLCBbXG4gICAgICAgICAgICAvY29jX2NvY1xcdytcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb2MgQ29jIEJyb3dzZXJcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ0NvYyBDb2MnXV0sIFtcbiAgICAgICAgICAgIC9kb2xmaW5cXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9scGhpblxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnRG9scGhpbiddXSwgW1xuICAgICAgICAgICAgL2NvYXN0XFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPcGVyYSBDb2FzdFxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCBPUEVSQSsnIENvYXN0J11dLCBbXG4gICAgICAgICAgICAvbWl1aWJyb3dzZXJcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1JVUkgQnJvd3NlclxuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnTUlVSSAnK0JST1dTRVJdXSwgW1xuICAgICAgICAgICAgL2Z4aW9zXFwvKFstXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaXJlZm94IGZvciBpT1NcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgRklSRUZPWF1dLCBbXG4gICAgICAgICAgICAvXFxicWlodXwocWk/aG8/bz98MzYwKWJyb3dzZXIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAzNjBcbiAgICAgICAgICAgIF0sIFtbTkFNRSwgJzM2MCAnK0JST1dTRVJdXSwgW1xuICAgICAgICAgICAgLyhvY3VsdXN8c2Ftc3VuZ3xzYWlsZmlzaHxodWF3ZWkpYnJvd3NlclxcLyhbXFx3XFwuXSspL2lcbiAgICAgICAgICAgIF0sIFtbTkFNRSwgLyguKykvLCAnJDEgJytCUk9XU0VSXSwgVkVSU0lPTl0sIFsgICAgICAgICAgICAgICAgICAgICAgLy8gT2N1bHVzL1NhbXN1bmcvU2FpbGZpc2gvSHVhd2VpIEJyb3dzZXJcbiAgICAgICAgICAgIC8oY29tb2RvX2RyYWdvbilcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29tb2RvIERyYWdvblxuICAgICAgICAgICAgXSwgW1tOQU1FLCAvXy9nLCAnICddLCBWRVJTSU9OXSwgW1xuICAgICAgICAgICAgLyhlbGVjdHJvbilcXC8oW1xcd1xcLl0rKSBzYWZhcmkvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFbGVjdHJvbi1iYXNlZCBBcHBcbiAgICAgICAgICAgIC8odGVzbGEpKD86IHF0Y2FyYnJvd3NlcnxcXC8oMjBcXGRcXGRcXC5bLVxcd1xcLl0rKSkvaSwgICAgICAgICAgICAgICAgICAgLy8gVGVzbGFcbiAgICAgICAgICAgIC9tPyhxcWJyb3dzZXJ8YmFpZHVib3hhcHB8MjM0NUV4cGxvcmVyKVtcXC8gXT8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgLy8gUVFCcm93c2VyL0JhaWR1IEFwcC8yMzQ1IEJyb3dzZXJcbiAgICAgICAgICAgIF0sIFtOQU1FLCBWRVJTSU9OXSwgW1xuICAgICAgICAgICAgLyhtZXRhc3IpW1xcLyBdPyhbXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTb3VHb3VCcm93c2VyXG4gICAgICAgICAgICAvKGxiYnJvd3NlcikvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExpZUJhbyBCcm93c2VyXG4gICAgICAgICAgICAvXFxbKGxpbmtlZGluKWFwcFxcXS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGlua2VkSW4gQXBwIGZvciBpT1MgJiBBbmRyb2lkXG4gICAgICAgICAgICBdLCBbTkFNRV0sIFtcblxuICAgICAgICAgICAgLy8gV2ViVmlld1xuICAgICAgICAgICAgLygoPzpmYmFuXFwvZmJpb3N8ZmJfaWFiXFwvZmI0YSkoPyEuK2ZiYXYpfDtmYmF2XFwvKFtcXHdcXC5dKyk7KS9pICAgICAgIC8vIEZhY2Vib29rIEFwcCBmb3IgaU9TICYgQW5kcm9pZFxuICAgICAgICAgICAgXSwgW1tOQU1FLCBGQUNFQk9PS10sIFZFUlNJT05dLCBbXG4gICAgICAgICAgICAvc2FmYXJpIChsaW5lKVxcLyhbXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExpbmUgQXBwIGZvciBpT1NcbiAgICAgICAgICAgIC9cXGIobGluZSlcXC8oW1xcd1xcLl0rKVxcL2lhYi9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMaW5lIEFwcCBmb3IgQW5kcm9pZFxuICAgICAgICAgICAgLyhjaHJvbWl1bXxpbnN0YWdyYW0pW1xcLyBdKFstXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaHJvbWl1bS9JbnN0YWdyYW1cbiAgICAgICAgICAgIF0sIFtOQU1FLCBWRVJTSU9OXSwgW1xuICAgICAgICAgICAgL1xcYmdzYVxcLyhbXFx3XFwuXSspIC4qc2FmYXJpXFwvL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdvb2dsZSBTZWFyY2ggQXBwbGlhbmNlIG9uIGlPU1xuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnR1NBJ11dLCBbXG5cbiAgICAgICAgICAgIC9oZWFkbGVzc2Nocm9tZSg/OlxcLyhbXFx3XFwuXSspfCApL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hyb21lIEhlYWRsZXNzXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsIENIUk9NRSsnIEhlYWRsZXNzJ11dLCBbXG5cbiAgICAgICAgICAgIC8gd3ZcXCkuKyhjaHJvbWUpXFwvKFtcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENocm9tZSBXZWJWaWV3XG4gICAgICAgICAgICBdLCBbW05BTUUsIENIUk9NRSsnIFdlYlZpZXcnXSwgVkVSU0lPTl0sIFtcblxuICAgICAgICAgICAgL2Ryb2lkLisgdmVyc2lvblxcLyhbXFx3XFwuXSspXFxiLisoPzptb2JpbGUgc2FmYXJpfHNhZmFyaSkvaSAgICAgICAgICAgLy8gQW5kcm9pZCBCcm93c2VyXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdBbmRyb2lkICcrQlJPV1NFUl1dLCBbXG5cbiAgICAgICAgICAgIC8oY2hyb21lfG9tbml3ZWJ8YXJvcmF8W3RpemVub2thXXs1fSA/YnJvd3NlcilcXC92PyhbXFx3XFwuXSspL2kgICAgICAgLy8gQ2hyb21lL09tbmlXZWIvQXJvcmEvVGl6ZW4vTm9raWFcbiAgICAgICAgICAgIF0sIFtOQU1FLCBWRVJTSU9OXSwgW1xuXG4gICAgICAgICAgICAvdmVyc2lvblxcLyhbXFx3XFwuXFwsXSspIC4qbW9iaWxlXFwvXFx3KyAoc2FmYXJpKS9pICAgICAgICAgICAgICAgICAgICAgIC8vIE1vYmlsZSBTYWZhcmlcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ01vYmlsZSBTYWZhcmknXV0sIFtcbiAgICAgICAgICAgIC92ZXJzaW9uXFwvKFtcXHcoXFwufFxcLCldKykgLioobW9iaWxlID9zYWZhcml8c2FmYXJpKS9pICAgICAgICAgICAgICAgIC8vIFNhZmFyaSAmIFNhZmFyaSBNb2JpbGVcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBOQU1FXSwgW1xuICAgICAgICAgICAgL3dlYmtpdC4rPyhtb2JpbGUgP3NhZmFyaXxzYWZhcmkpKFxcL1tcXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAvLyBTYWZhcmkgPCAzLjBcbiAgICAgICAgICAgIF0sIFtOQU1FLCBbVkVSU0lPTiwgc3RyTWFwcGVyLCBvbGRTYWZhcmlNYXBdXSwgW1xuXG4gICAgICAgICAgICAvKHdlYmtpdHxraHRtbClcXC8oW1xcd1xcLl0rKS9pXG4gICAgICAgICAgICBdLCBbTkFNRSwgVkVSU0lPTl0sIFtcblxuICAgICAgICAgICAgLy8gR2Vja28gYmFzZWRcbiAgICAgICAgICAgIC8obmF2aWdhdG9yfG5ldHNjYXBlXFxkPylcXC8oWy1cXHdcXC5dKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5ldHNjYXBlXG4gICAgICAgICAgICBdLCBbW05BTUUsICdOZXRzY2FwZSddLCBWRVJTSU9OXSwgW1xuICAgICAgICAgICAgL21vYmlsZSB2cjsgcnY6KFtcXHdcXC5dKylcXCkuK2ZpcmVmb3gvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaXJlZm94IFJlYWxpdHlcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgRklSRUZPWCsnIFJlYWxpdHknXV0sIFtcbiAgICAgICAgICAgIC9la2lvaGYuKyhmbG93KVxcLyhbXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmxvd1xuICAgICAgICAgICAgLyhzd2lmdGZveCkvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTd2lmdGZveFxuICAgICAgICAgICAgLyhpY2VkcmFnb258aWNld2Vhc2VsfGNhbWlub3xjaGltZXJhfGZlbm5lY3xtYWVtbyBicm93c2VyfG1pbmltb3xjb25rZXJvcnxrbGFyKVtcXC8gXT8oW1xcd1xcLlxcK10rKS9pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJY2VEcmFnb24vSWNld2Vhc2VsL0NhbWluby9DaGltZXJhL0Zlbm5lYy9NYWVtby9NaW5pbW8vQ29ua2Vyb3IvS2xhclxuICAgICAgICAgICAgLyhzZWFtb25rZXl8ay1tZWxlb258aWNlY2F0fGljZWFwZXxmaXJlYmlyZHxwaG9lbml4fHBhbGVtb29ufGJhc2lsaXNrfHdhdGVyZm94KVxcLyhbLVxcd1xcLl0rKSQvaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlyZWZveC9TZWFNb25rZXkvSy1NZWxlb24vSWNlQ2F0L0ljZUFwZS9GaXJlYmlyZC9QaG9lbml4XG4gICAgICAgICAgICAvKGZpcmVmb3gpXFwvKFtcXHdcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyIEZpcmVmb3gtYmFzZWRcbiAgICAgICAgICAgIC8obW96aWxsYSlcXC8oW1xcd1xcLl0rKSAuK3J2XFw6LitnZWNrb1xcL1xcZCsvaSwgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW96aWxsYVxuXG4gICAgICAgICAgICAvLyBPdGhlclxuICAgICAgICAgICAgLyhwb2xhcmlzfGx5bnh8ZGlsbG98aWNhYnxkb3Jpc3xhbWF5YXx3M218bmV0c3VyZnxzbGVpcG5pcnxvYmlnb3xtb3NhaWN8KD86Z298aWNlfHVwKVtcXC4gXT9icm93c2VyKVstXFwvIF0/dj8oW1xcd1xcLl0rKS9pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQb2xhcmlzL0x5bngvRGlsbG8vaUNhYi9Eb3Jpcy9BbWF5YS93M20vTmV0U3VyZi9TbGVpcG5pci9PYmlnby9Nb3NhaWMvR28vSUNFL1VQLkJyb3dzZXJcbiAgICAgICAgICAgIC8obGlua3MpIFxcKChbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGlua3NcbiAgICAgICAgICAgIF0sIFtOQU1FLCBWRVJTSU9OXVxuICAgICAgICBdLFxuXG4gICAgICAgIGNwdSA6IFtbXG5cbiAgICAgICAgICAgIC8oPzooYW1kfHgoPzooPzo4Nnw2NClbLV9dKT98d293fHdpbik2NClbO1xcKV0vaSAgICAgICAgICAgICAgICAgICAgIC8vIEFNRDY0ICh4NjQpXG4gICAgICAgICAgICBdLCBbW0FSQ0hJVEVDVFVSRSwgJ2FtZDY0J11dLCBbXG5cbiAgICAgICAgICAgIC8oaWEzMig/PTspKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUEzMiAocXVpY2t0aW1lKVxuICAgICAgICAgICAgXSwgW1tBUkNISVRFQ1RVUkUsIGxvd2VyaXplXV0sIFtcblxuICAgICAgICAgICAgLygoPzppWzM0Nl18eCk4NilbO1xcKV0vaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUEzMiAoeDg2KVxuICAgICAgICAgICAgXSwgW1tBUkNISVRFQ1RVUkUsICdpYTMyJ11dLCBbXG5cbiAgICAgICAgICAgIC9cXGIoYWFyY2g2NHxhcm0odj84ZT9sP3xfPzY0KSlcXGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFSTTY0XG4gICAgICAgICAgICBdLCBbW0FSQ0hJVEVDVFVSRSwgJ2FybTY0J11dLCBbXG5cbiAgICAgICAgICAgIC9cXGIoYXJtKD86dls2N10pP2h0P24/W2ZsXXA/KVxcYi9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBUk1IRlxuICAgICAgICAgICAgXSwgW1tBUkNISVRFQ1RVUkUsICdhcm1oZiddXSwgW1xuXG4gICAgICAgICAgICAvLyBQb2NrZXRQQyBtaXN0YWtlbmx5IGlkZW50aWZpZWQgYXMgUG93ZXJQQ1xuICAgICAgICAgICAgL3dpbmRvd3MgKGNlfG1vYmlsZSk7IHBwYzsvaVxuICAgICAgICAgICAgXSwgW1tBUkNISVRFQ1RVUkUsICdhcm0nXV0sIFtcblxuICAgICAgICAgICAgLygoPzpwcGN8cG93ZXJwYykoPzo2NCk/KSg/OiBtYWN8O3xcXCkpL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUG93ZXJQQ1xuICAgICAgICAgICAgXSwgW1tBUkNISVRFQ1RVUkUsIC9vd2VyLywgRU1QVFksIGxvd2VyaXplXV0sIFtcblxuICAgICAgICAgICAgLyhzdW40XFx3KVs7XFwpXS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNQQVJDXG4gICAgICAgICAgICBdLCBbW0FSQ0hJVEVDVFVSRSwgJ3NwYXJjJ11dLCBbXG5cbiAgICAgICAgICAgIC8oKD86YXZyMzJ8aWE2NCg/PTspKXw2OGsoPz1cXCkpfFxcYmFybSg/PXYoPzpbMS03XXxbNS03XTEpbD98O3xlYWJpKXwoPz1hdG1lbCApYXZyfCg/OmlyaXh8bWlwc3xzcGFyYykoPzo2NCk/XFxifHBhLXJpc2MpL2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUE2NCwgNjhLLCBBUk0vNjQsIEFWUi8zMiwgSVJJWC82NCwgTUlQUy82NCwgU1BBUkMvNjQsIFBBLVJJU0NcbiAgICAgICAgICAgIF0sIFtbQVJDSElURUNUVVJFLCBsb3dlcml6ZV1dXG4gICAgICAgIF0sXG5cbiAgICAgICAgZGV2aWNlIDogW1tcblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIC8vIE1PQklMRVMgJiBUQUJMRVRTXG4gICAgICAgICAgICAvLyBPcmRlcmVkIGJ5IHBvcHVsYXJpdHlcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgLy8gU2Ftc3VuZ1xuICAgICAgICAgICAgL1xcYihzY2gtaVs4OV0wXFxkfHNody1tMzgwc3xzbS1bcHR4XVxcd3syLDR9fGd0LVtwbl1cXGR7Miw0fXxzZ2gtdDhbNTZdOXxuZXh1cyAxMCkvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBTQU1TVU5HXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvXFxiKCg/OnNbY2dwXWh8Z3R8c20pLVxcdyt8Z2FsYXh5IG5leHVzKS9pLFxuICAgICAgICAgICAgL3NhbXN1bmdbLSBdKFstXFx3XSspL2ksXG4gICAgICAgICAgICAvc2VjLShzZ2hcXHcrKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIFNBTVNVTkddLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gQXBwbGVcbiAgICAgICAgICAgIC9cXCgoaXAoPzpob25lfG9kKVtcXHcgXSopOy9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpUG9kL2lQaG9uZVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBBUFBMRV0sIFtUWVBFLCBNT0JJTEVdXSwgW1xuICAgICAgICAgICAgL1xcKChpcGFkKTtbLVxcd1xcKSw7IF0rYXBwbGUvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpUGFkXG4gICAgICAgICAgICAvYXBwbGVjb3JlbWVkaWFcXC9bXFx3XFwuXSsgXFwoKGlwYWQpL2ksXG4gICAgICAgICAgICAvXFxiKGlwYWQpXFxkXFxkPyxcXGRcXGQ/WztcXF1dLitpb3MvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBBUFBMRV0sIFtUWVBFLCBUQUJMRVRdXSwgW1xuXG4gICAgICAgICAgICAvLyBIdWF3ZWlcbiAgICAgICAgICAgIC9cXGIoKD86YWdbcnNdWzIzXT98YmFoMj98c2h0P3xidHYpLWE/W2x3XVxcZHsyfSlcXGIoPyEuK2RcXC9zKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEhVQVdFSV0sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgLyg/Omh1YXdlaXxob25vcikoWy1cXHcgXSspWztcXCldL2ksXG4gICAgICAgICAgICAvXFxiKG5leHVzIDZwfFxcd3syLDR9ZT8tW2F0dV0/W2xuXVtcXGR4XVswMTIzNTljXVthZG5dPylcXGIoPyEuK2RcXC9zKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEhVQVdFSV0sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLyBYaWFvbWlcbiAgICAgICAgICAgIC9cXGIocG9jb1tcXHcgXSspKD86IGJ1aXxcXCkpL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gWGlhb21pIFBPQ09cbiAgICAgICAgICAgIC9cXGI7IChcXHcrKSBidWlsZFxcL2htXFwxL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFhpYW9taSBIb25nbWkgJ251bWVyaWMnIG1vZGVsc1xuICAgICAgICAgICAgL1xcYihobVstXyBdP25vdGU/W18gXT8oPzpcXGRcXHcpPykgYnVpL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBYaWFvbWkgSG9uZ21pXG4gICAgICAgICAgICAvXFxiKHJlZG1pW1xcLV8gXT8oPzpub3RlfGspP1tcXHdfIF0rKSg/OiBidWl8XFwpKS9pLCAgICAgICAgICAgICAgICAgICAvLyBYaWFvbWkgUmVkbWlcbiAgICAgICAgICAgIC9cXGIobWlbLV8gXT8oPzphXFxkfG9uZXxvbmVbXyBdcGx1c3xub3RlIGx0ZXxtYXh8Y2MpP1tfIF0/KD86XFxkP1xcdz8pW18gXT8oPzpwbHVzfHNlfGxpdGUpPykoPzogYnVpfFxcKSkvaSAvLyBYaWFvbWkgTWlcbiAgICAgICAgICAgIF0sIFtbTU9ERUwsIC9fL2csICcgJ10sIFtWRU5ET1IsIFhJQU9NSV0sIFtUWVBFLCBNT0JJTEVdXSwgW1xuICAgICAgICAgICAgL1xcYihtaVstXyBdPyg/OnBhZCkoPzpbXFx3XyBdKykpKD86IGJ1aXxcXCkpL2kgICAgICAgICAgICAgICAgICAgICAgICAvLyBNaSBQYWQgdGFibGV0c1xuICAgICAgICAgICAgXSxbW01PREVMLCAvXy9nLCAnICddLCBbVkVORE9SLCBYSUFPTUldLCBbVFlQRSwgVEFCTEVUXV0sIFtcblxuICAgICAgICAgICAgLy8gT1BQT1xuICAgICAgICAgICAgLzsgKFxcdyspIGJ1aS4rIG9wcG8vaSxcbiAgICAgICAgICAgIC9cXGIoY3BoWzEyXVxcZHszfXxwKD86YWZ8Y1thbF18ZFxcd3xlW2FyXSlbbXRdXFxkMHx4OTAwN3xhMTAxb3ApXFxiL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ09QUE8nXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIFZpdm9cbiAgICAgICAgICAgIC92aXZvIChcXHcrKSg/OiBidWl8XFwpKS9pLFxuICAgICAgICAgICAgL1xcYih2WzEyXVxcZHszfVxcdz9bYXRdKSg/OiBidWl8OykvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnVml2byddLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gUmVhbG1lXG4gICAgICAgICAgICAvXFxiKHJteFsxMl1cXGR7M30pKD86IGJ1aXw7fFxcKSkvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnUmVhbG1lJ10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLyBNb3Rvcm9sYVxuICAgICAgICAgICAgL1xcYihtaWxlc3RvbmV8ZHJvaWQoPzpbMi00eF18ICg/OmJpb25pY3x4Mnxwcm98cmF6cikpPzo/KCA0Zyk/KVxcYltcXHcgXStidWlsZFxcLy9pLFxuICAgICAgICAgICAgL1xcYm1vdCg/Om9yb2xhKT9bLSBdKFxcdyopL2ksXG4gICAgICAgICAgICAvKCg/Om1vdG9bXFx3XFwoXFwpIF0rfHh0XFxkezMsNH18bmV4dXMgNikoPz0gYnVpfFxcKSkpL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgTU9UT1JPTEFdLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9cXGIobXo2MFxcZHx4b29tWzIgXXswLDJ9KSBidWlsZFxcLy9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIE1PVE9ST0xBXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG5cbiAgICAgICAgICAgIC8vIExHXG4gICAgICAgICAgICAvKCg/PWxnKT9bdmxda1xcLT9cXGR7M30pIGJ1aXwgM1xcLlstXFx3OyBdezEwfWxnPy0oWzA2Y3Y5XXszLDR9KS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIExHXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvKGxtKD86LT9mMTAwW252XT98LVtcXHdcXC5dKykoPz0gYnVpfFxcKSl8bmV4dXMgWzQ1XSkvaSxcbiAgICAgICAgICAgIC9cXGJsZ1stZTtcXC8gXSsoKD8hYnJvd3NlcnxuZXRjYXN0fGFuZHJvaWQgdHYpXFx3KykvaSxcbiAgICAgICAgICAgIC9cXGJsZy0/KFtcXGRcXHddKykgYnVpL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgTEddLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gTGVub3ZvXG4gICAgICAgICAgICAvKGlkZWF0YWJbLVxcdyBdKykvaSxcbiAgICAgICAgICAgIC9sZW5vdm8gPyhzWzU2XTAwMFstXFx3XSt8dGFiKD86W1xcdyBdKyl8eXRbLVxcZFxcd117Nn18dGJbLVxcZFxcd117Nn0pL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ0xlbm92byddLCBbVFlQRSwgVEFCTEVUXV0sIFtcblxuICAgICAgICAgICAgLy8gTm9raWFcbiAgICAgICAgICAgIC8oPzptYWVtb3xub2tpYSkuKihuOTAwfGx1bWlhIFxcZCspL2ksXG4gICAgICAgICAgICAvbm9raWFbLV8gXT8oWy1cXHdcXC5dKikvaVxuICAgICAgICAgICAgXSwgW1tNT0RFTCwgL18vZywgJyAnXSwgW1ZFTkRPUiwgJ05va2lhJ10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLyBHb29nbGVcbiAgICAgICAgICAgIC8ocGl4ZWwgYylcXGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdvb2dsZSBQaXhlbCBDXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEdPT0dMRV0sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgL2Ryb2lkLis7IChwaXhlbFtcXGRheGwgXXswLDZ9KSg/OiBidWl8XFwpKS9pICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdvb2dsZSBQaXhlbFxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBHT09HTEVdLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gU29ueVxuICAgICAgICAgICAgL2Ryb2lkLisgKGE/XFxkWzAtMl17Mn1zb3xbYy1nXVxcZHs0fXxzb1stZ2xdXFx3K3x4cS1hXFx3WzQtN11bMTJdKSg/PSBidWl8XFwpLitjaHJvbWVcXC8oPyFbMS02XXswLDF9XFxkXFwuKSkvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBTT05ZXSwgW1RZUEUsIE1PQklMRV1dLCBbXG4gICAgICAgICAgICAvc29ueSB0YWJsZXQgW3BzXS9pLFxuICAgICAgICAgICAgL1xcYig/OnNvbnkpP3NncFxcdysoPzogYnVpfFxcKSkvaVxuICAgICAgICAgICAgXSwgW1tNT0RFTCwgJ1hwZXJpYSBUYWJsZXQnXSwgW1ZFTkRPUiwgU09OWV0sIFtUWVBFLCBUQUJMRVRdXSwgW1xuXG4gICAgICAgICAgICAvLyBPbmVQbHVzXG4gICAgICAgICAgICAvIChrYjIwMDV8aW4yMFsxMl01fGJlMjBbMTJdWzU5XSlcXGIvaSxcbiAgICAgICAgICAgIC8oPzpvbmUpPyg/OnBsdXMpPyAoYVxcZDBcXGRcXGQpKD86IGJ8XFwpKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdPbmVQbHVzJ10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLyBBbWF6b25cbiAgICAgICAgICAgIC8oYWxleGEpd2VibS9pLFxuICAgICAgICAgICAgLyhrZlthLXpdezJ9d2kpKCBidWl8XFwpKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gS2luZGxlIEZpcmUgd2l0aG91dCBTaWxrXG4gICAgICAgICAgICAvKGtmW2Etel0rKSggYnVpfFxcKSkuK3NpbGtcXC8vaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gS2luZGxlIEZpcmUgSERcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgQU1BWk9OXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvKCg/OnNkfGtmKVswMzQ5aGlqb3JzdHV3XSspKCBidWl8XFwpKS4rc2lsa1xcLy9pICAgICAgICAgICAgICAgICAgICAgLy8gRmlyZSBQaG9uZVxuICAgICAgICAgICAgXSwgW1tNT0RFTCwgLyguKykvZywgJ0ZpcmUgUGhvbmUgJDEnXSwgW1ZFTkRPUiwgQU1BWk9OXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIEJsYWNrQmVycnlcbiAgICAgICAgICAgIC8ocGxheWJvb2spO1stXFx3XFwpLDsgXSsocmltKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCbGFja0JlcnJ5IFBsYXlCb29rXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFZFTkRPUiwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvXFxiKCg/OmJiW2EtZl18c3RbaHZdKTEwMC1cXGQpL2ksXG4gICAgICAgICAgICAvXFwoYmIxMDsgKFxcdyspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2tCZXJyeSAxMFxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBCTEFDS0JFUlJZXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIEFzdXNcbiAgICAgICAgICAgIC8oPzpcXGJ8YXN1c18pKHRyYW5zZm9bcHJpbWUgXXs0LDEwfSBcXHcrfGVlZXBjfHNsaWRlciBcXHcrfG5leHVzIDd8cGFkZm9uZXxwMDBbY2pdKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEFTVVNdLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC8gKHpbYmVzXTZbMDI3XVswMTJdW2ttXVtsc118emVuZm9uZSBcXGRcXHc/KVxcYi9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEFTVVNdLCBbVFlQRSwgTU9CSUxFXV0sIFtcblxuICAgICAgICAgICAgLy8gSFRDXG4gICAgICAgICAgICAvKG5leHVzIDkpL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhUQyBOZXh1cyA5XG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdIVEMnXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvKGh0YylbLTtfIF17MSwyfShbXFx3IF0rKD89XFwpfCBidWkpfFxcdyspL2ksICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhUQ1xuXG4gICAgICAgICAgICAvLyBaVEVcbiAgICAgICAgICAgIC8oenRlKVstIF0oW1xcdyBdKz8pKD86IGJ1aXxcXC98XFwpKS9pLFxuICAgICAgICAgICAgLyhhbGNhdGVsfGdlZWtzcGhvbmV8bmV4aWFufHBhbmFzb25pY3xzb255KD8hLWJyYSkpWy1fIF0/KFstXFx3XSopL2kgICAgICAgICAvLyBBbGNhdGVsL0dlZWtzUGhvbmUvTmV4aWFuL1BhbmFzb25pYy9Tb255XG4gICAgICAgICAgICBdLCBbVkVORE9SLCBbTU9ERUwsIC9fL2csICcgJ10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLyBBY2VyXG4gICAgICAgICAgICAvZHJvaWQuKzsgKFthYl1bMS03XS0/WzAxNzhhXVxcZFxcZD8pL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ0FjZXInXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG5cbiAgICAgICAgICAgIC8vIE1laXp1XG4gICAgICAgICAgICAvZHJvaWQuKzsgKG1bMS01XSBub3RlKSBidWkvaSxcbiAgICAgICAgICAgIC9cXGJtei0oWy1cXHddezIsfSkvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnTWVpenUnXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIFNoYXJwXG4gICAgICAgICAgICAvXFxiKHNoLT9bYWx0dnpdP1xcZFxcZFthLWVrbV0/KS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIFNIQVJQXSwgW1RZUEUsIE1PQklMRV1dLCBbXG5cbiAgICAgICAgICAgIC8vIE1JWEVEXG4gICAgICAgICAgICAvKGJsYWNrYmVycnl8YmVucXxwYWxtKD89XFwtKXxzb255ZXJpY3Nzb258YWNlcnxhc3VzfGRlbGx8bWVpenV8bW90b3JvbGF8cG9seXRyb24pWy1fIF0/KFstXFx3XSopL2ksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrQmVycnkvQmVuUS9QYWxtL1NvbnktRXJpY3Nzb24vQWNlci9Bc3VzL0RlbGwvTWVpenUvTW90b3JvbGEvUG9seXRyb25cbiAgICAgICAgICAgIC8oaHApIChbXFx3IF0rXFx3KS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIUCBpUEFRXG4gICAgICAgICAgICAvKGFzdXMpLT8oXFx3KykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBc3VzXG4gICAgICAgICAgICAvKG1pY3Jvc29mdCk7IChsdW1pYVtcXHcgXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNaWNyb3NvZnQgTHVtaWFcbiAgICAgICAgICAgIC8obGVub3ZvKVstXyBdPyhbLVxcd10rKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlbm92b1xuICAgICAgICAgICAgLyhqb2xsYSkvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBKb2xsYVxuICAgICAgICAgICAgLyhvcHBvKSA/KFtcXHcgXSspIGJ1aS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT1BQT1xuICAgICAgICAgICAgXSwgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvKGFyY2hvcykgKGdhbWVwYWQyPykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFyY2hvc1xuICAgICAgICAgICAgLyhocCkuKyh0b3VjaHBhZCg/IS4rdGFibGV0KXx0YWJsZXQpL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIUCBUb3VjaFBhZFxuICAgICAgICAgICAgLyhraW5kbGUpXFwvKFtcXHdcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBLaW5kbGVcbiAgICAgICAgICAgIC8obm9vaylbXFx3IF0rYnVpbGRcXC8oXFx3KykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm9va1xuICAgICAgICAgICAgLyhkZWxsKSAoc3RyZWFba3ByXFxkIF0qW1xcZGtvXSkvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlbGwgU3RyZWFrXG4gICAgICAgICAgICAvKGxlWy0gXStwYW4pWy0gXSsoXFx3ezEsOX0pIGJ1aS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZSBQYW4gVGFibGV0c1xuICAgICAgICAgICAgLyh0cmluaXR5KVstIF0qKHRcXGR7M30pIGJ1aS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJpbml0eSBUYWJsZXRzXG4gICAgICAgICAgICAvKGdpZ2FzZXQpWy0gXSsocVxcd3sxLDl9KSBidWkvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHaWdhc2V0IFRhYmxldHNcbiAgICAgICAgICAgIC8odm9kYWZvbmUpIChbXFx3IF0rKSg/OlxcKXwgYnVpKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBWb2RhZm9uZVxuICAgICAgICAgICAgXSwgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBUQUJMRVRdXSwgW1xuXG4gICAgICAgICAgICAvKHN1cmZhY2UgZHVvKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cmZhY2UgRHVvXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIE1JQ1JPU09GVF0sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgL2Ryb2lkIFtcXGRcXC5dKzsgKGZwXFxkdT8pKD86IGJ8XFwpKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmFpcnBob25lXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdGYWlycGhvbmUnXSwgW1RZUEUsIE1PQklMRV1dLCBbXG4gICAgICAgICAgICAvKHUzMDRhYSkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFUJlRcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ0FUJlQnXSwgW1RZUEUsIE1PQklMRV1dLCBbXG4gICAgICAgICAgICAvXFxic2llLShcXHcqKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2llbWVuc1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnU2llbWVucyddLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9cXGIocmN0XFx3KykgYi9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSQ0EgVGFibGV0c1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnUkNBJ10sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgL1xcYih2ZW51ZVtcXGQgXXsyLDd9KSBiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlbGwgVmVudWUgVGFibGV0c1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnRGVsbCddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIocSg/Om12fHRhKVxcdyspIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBWZXJpem9uIFRhYmxldFxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnVmVyaXpvbiddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIoPzpiYXJuZXNbJiBdK25vYmxlIHxibltydF0pKFtcXHdcXCsgXSopIGIvaSAgICAgICAgICAgICAgICAgICAgICAgLy8gQmFybmVzICYgTm9ibGUgVGFibGV0XG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdCYXJuZXMgJiBOb2JsZSddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIodG1cXGR7M31cXHcrKSBiL2lcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ051VmlzaW9uJ10sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgL1xcYihrODgpIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gWlRFIEsgU2VyaWVzIFRhYmxldFxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnWlRFJ10sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgL1xcYihueFxcZHszfWopIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFpURSBOdWJpYVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnWlRFJ10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuICAgICAgICAgICAgL1xcYihnZW5cXGR7M30pIGIuKzQ5aC9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN3aXNzIEdFTiBNb2JpbGVcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ1N3aXNzJ10sIFtUWVBFLCBNT0JJTEVdXSwgW1xuICAgICAgICAgICAgL1xcYih6dXJcXGR7M30pIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN3aXNzIFpVUiBUYWJsZXRcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ1N3aXNzJ10sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgL1xcYigoemVraSk/dGIuKlxcYikgYi9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFpla2kgVGFibGV0c1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnWmVraSddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIoW3lyXVxcZHsyfSkgYi9pLFxuICAgICAgICAgICAgL1xcYihkcmFnb25bLSBdK3RvdWNoIHxkdCkoXFx3ezV9KSBiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERyYWdvbiBUb3VjaCBUYWJsZXRcbiAgICAgICAgICAgIF0sIFtbVkVORE9SLCAnRHJhZ29uIFRvdWNoJ10sIE1PREVMLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIobnMtP1xcd3swLDl9KSBiL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbnNpZ25pYSBUYWJsZXRzXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdJbnNpZ25pYSddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIoKG54YXxuZXh0KS0/XFx3ezAsOX0pIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXh0Qm9vayBUYWJsZXRzXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdOZXh0Qm9vayddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC9cXGIoeHRyZW1lXFxfKT8odigxWzA0NV18MlswMTVdfFszNDY5XTB8N1swNV0pKSBiL2kgICAgICAgICAgICAgICAgICAvLyBWb2ljZSBYdHJlbWUgUGhvbmVzXG4gICAgICAgICAgICBdLCBbW1ZFTkRPUiwgJ1ZvaWNlJ10sIE1PREVMLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9cXGIobHZ0ZWxcXC0pPyh2MVsxMl0pIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMdlRlbCBQaG9uZXNcbiAgICAgICAgICAgIF0sIFtbVkVORE9SLCAnTHZUZWwnXSwgTU9ERUwsIFtUWVBFLCBNT0JJTEVdXSwgW1xuICAgICAgICAgICAgL1xcYihwaC0xKSAvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXNzZW50aWFsIFBILTFcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ0Vzc2VudGlhbCddLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9cXGIodigxMDBtZHw3MDBuYXw3MDExfDkxN2cpLipcXGIpIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFbnZpemVuIFRhYmxldHNcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ0Vudml6ZW4nXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvXFxiKHRyaW9bLVxcd1xcLiBdKykgYi9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hY2hTcGVlZCBUYWJsZXRzXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdNYWNoU3BlZWQnXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvXFxidHVfKDE0OTEpIGIvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSb3RvciBUYWJsZXRzXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsICdSb3RvciddLCBbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC8oc2hpZWxkW1xcdyBdKykgYi9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE52aWRpYSBTaGllbGQgVGFibGV0c1xuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnTnZpZGlhJ10sIFtUWVBFLCBUQUJMRVRdXSwgW1xuICAgICAgICAgICAgLyhzcHJpbnQpIChcXHcrKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3ByaW50IFBob25lc1xuICAgICAgICAgICAgXSwgW1ZFTkRPUiwgTU9ERUwsIFtUWVBFLCBNT0JJTEVdXSwgW1xuICAgICAgICAgICAgLyhraW5cXC5bb25ldHddezN9KS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWljcm9zb2Z0IEtpblxuICAgICAgICAgICAgXSwgW1tNT0RFTCwgL1xcLi9nLCAnICddLCBbVkVORE9SLCBNSUNST1NPRlRdLCBbVFlQRSwgTU9CSUxFXV0sIFtcbiAgICAgICAgICAgIC9kcm9pZC4rOyAoY2M2NjY2P3xldDVbMTZdfG1jWzIzOV1bMjNdeD98dmM4WzAzXXg/KVxcKS9pICAgICAgICAgICAgIC8vIFplYnJhXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIFpFQlJBXSwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvZHJvaWQuKzsgKGVjMzB8cHMyMHx0Y1syLThdXFxkW2t4XSlcXCkvaVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBaRUJSQV0sIFtUWVBFLCBNT0JJTEVdXSwgW1xuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBDT05TT0xFU1xuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgICAgICAvKG91eWEpL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE91eWFcbiAgICAgICAgICAgIC8obmludGVuZG8pIChbd2lkczN1dGNoXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmludGVuZG9cbiAgICAgICAgICAgIF0sIFtWRU5ET1IsIE1PREVMLCBbVFlQRSwgQ09OU09MRV1dLCBbXG4gICAgICAgICAgICAvZHJvaWQuKzsgKHNoaWVsZCkgYnVpL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE52aWRpYVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCAnTnZpZGlhJ10sIFtUWVBFLCBDT05TT0xFXV0sIFtcbiAgICAgICAgICAgIC8ocGxheXN0YXRpb24gWzM0NXBvcnRhYmxldmldKykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGxheXN0YXRpb25cbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgU09OWV0sIFtUWVBFLCBDT05TT0xFXV0sIFtcbiAgICAgICAgICAgIC9cXGIoeGJveCg/OiBvbmUpPyg/ITsgeGJveCkpW1xcKTsgXS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNaWNyb3NvZnQgWGJveFxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBNSUNST1NPRlRdLCBbVFlQRSwgQ09OU09MRV1dLCBbXG5cbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIC8vIFNNQVJUVFZTXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgICAgIC9zbWFydC10di4rKHNhbXN1bmcpL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2Ftc3VuZ1xuICAgICAgICAgICAgXSwgW1ZFTkRPUiwgW1RZUEUsIFNNQVJUVFZdXSwgW1xuICAgICAgICAgICAgL2hiYnR2LittYXBsZTsoXFxkKykvaVxuICAgICAgICAgICAgXSwgW1tNT0RFTCwgL14vLCAnU21hcnRUViddLCBbVkVORE9SLCBTQU1TVU5HXSwgW1RZUEUsIFNNQVJUVFZdXSwgW1xuICAgICAgICAgICAgLyhudXg7IG5ldGNhc3QuK3NtYXJ0dHZ8bGcgKG5ldGNhc3RcXC50di0yMDFcXGR8YW5kcm9pZCB0dikpL2kgICAgICAgIC8vIExHIFNtYXJ0VFZcbiAgICAgICAgICAgIF0sIFtbVkVORE9SLCBMR10sIFtUWVBFLCBTTUFSVFRWXV0sIFtcbiAgICAgICAgICAgIC8oYXBwbGUpID90di9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwbGUgVFZcbiAgICAgICAgICAgIF0sIFtWRU5ET1IsIFtNT0RFTCwgQVBQTEUrJyBUViddLCBbVFlQRSwgU01BUlRUVl1dLCBbXG4gICAgICAgICAgICAvY3JrZXkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdvb2dsZSBDaHJvbWVjYXN0XG4gICAgICAgICAgICBdLCBbW01PREVMLCBDSFJPTUUrJ2Nhc3QnXSwgW1ZFTkRPUiwgR09PR0xFXSwgW1RZUEUsIFNNQVJUVFZdXSwgW1xuICAgICAgICAgICAgL2Ryb2lkLithZnQoXFx3KSggYnVpfFxcKSkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcmUgVFZcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgQU1BWk9OXSwgW1RZUEUsIFNNQVJUVFZdXSwgW1xuICAgICAgICAgICAgL1xcKGR0dltcXCk7XS4rKGFxdW9zKS9pLFxuICAgICAgICAgICAgLyhhcXVvcy10dltcXHcgXSspXFwpL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNoYXJwXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIFNIQVJQXSwgW1RZUEUsIFNNQVJUVFZdXSxbXG4gICAgICAgICAgICAvKGJyYXZpYVtcXHcgXSspKCBidWl8XFwpKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNvbnlcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgU09OWV0sIFtUWVBFLCBTTUFSVFRWXV0sIFtcbiAgICAgICAgICAgIC8obWl0di1cXHd7NX0pIGJ1aS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFhpYW9taVxuICAgICAgICAgICAgXSwgW01PREVMLCBbVkVORE9SLCBYSUFPTUldLCBbVFlQRSwgU01BUlRUVl1dLCBbXG4gICAgICAgICAgICAvXFxiKHJva3UpW1xcZHhdKltcXClcXC9dKCg/OmR2cC0pP1tcXGRcXC5dKikvaSwgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJva3VcbiAgICAgICAgICAgIC9oYmJ0dlxcL1xcZCtcXC5cXGQrXFwuXFxkKyArXFwoW1xcdyBdKjsgKihcXHdbXjtdKik7KFteO10qKS9pICAgICAgICAgICAgICAgLy8gSGJiVFYgZGV2aWNlc1xuICAgICAgICAgICAgXSwgW1tWRU5ET1IsIHRyaW1dLCBbTU9ERUwsIHRyaW1dLCBbVFlQRSwgU01BUlRUVl1dLCBbXG4gICAgICAgICAgICAvXFxiKGFuZHJvaWQgdHZ8c21hcnRbLSBdP3R2fG9wZXJhIHR2fHR2OyBydjopXFxiL2kgICAgICAgICAgICAgICAgICAgLy8gU21hcnRUViBmcm9tIFVuaWRlbnRpZmllZCBWZW5kb3JzXG4gICAgICAgICAgICBdLCBbW1RZUEUsIFNNQVJUVFZdXSwgW1xuXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAvLyBXRUFSQUJMRVNcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgLygocGViYmxlKSlhcHAvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQZWJibGVcbiAgICAgICAgICAgIF0sIFtWRU5ET1IsIE1PREVMLCBbVFlQRSwgV0VBUkFCTEVdXSwgW1xuICAgICAgICAgICAgL2Ryb2lkLis7IChnbGFzcykgXFxkL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR29vZ2xlIEdsYXNzXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEdPT0dMRV0sIFtUWVBFLCBXRUFSQUJMRV1dLCBbXG4gICAgICAgICAgICAvZHJvaWQuKzsgKHd0NjM/MHsyLDN9KVxcKS9pXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIFpFQlJBXSwgW1RZUEUsIFdFQVJBQkxFXV0sIFtcbiAgICAgICAgICAgIC8ocXVlc3QoIDIpPykvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT2N1bHVzIFF1ZXN0XG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtWRU5ET1IsIEZBQ0VCT09LXSwgW1RZUEUsIFdFQVJBQkxFXV0sIFtcblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgLy8gRU1CRURERURcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgLyh0ZXNsYSkoPzogcXRjYXJicm93c2VyfFxcL1stXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUZXNsYVxuICAgICAgICAgICAgXSwgW1ZFTkRPUiwgW1RZUEUsIEVNQkVEREVEXV0sIFtcblxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgIC8vIE1JWEVEIChHRU5FUklDKVxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgICAgICAvZHJvaWQgLis/OyAoW147XSs/KSg/OiBidWl8XFwpIGFwcGxldykuKz8gbW9iaWxlIHNhZmFyaS9pICAgICAgICAgICAvLyBBbmRyb2lkIFBob25lcyBmcm9tIFVuaWRlbnRpZmllZCBWZW5kb3JzXG4gICAgICAgICAgICBdLCBbTU9ERUwsIFtUWVBFLCBNT0JJTEVdXSwgW1xuICAgICAgICAgICAgL2Ryb2lkIC4rPzsgKFteO10rPykoPzogYnVpfFxcKSBhcHBsZXcpLis/KD8hIG1vYmlsZSkgc2FmYXJpL2kgICAgICAgLy8gQW5kcm9pZCBUYWJsZXRzIGZyb20gVW5pZGVudGlmaWVkIFZlbmRvcnNcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1RZUEUsIFRBQkxFVF1dLCBbXG4gICAgICAgICAgICAvXFxiKCh0YWJsZXR8dGFiKVs7XFwvXXxmb2N1c1xcL1xcZCg/IS4rbW9iaWxlKSkvaSAgICAgICAgICAgICAgICAgICAgICAvLyBVbmlkZW50aWZpYWJsZSBUYWJsZXRcbiAgICAgICAgICAgIF0sIFtbVFlQRSwgVEFCTEVUXV0sIFtcbiAgICAgICAgICAgIC8ocGhvbmV8bW9iaWxlKD86WztcXC9dfCBbIFxcd1xcL1xcLl0qc2FmYXJpKXxwZGEoPz0uK3dpbmRvd3MgY2UpKS9pICAgIC8vIFVuaWRlbnRpZmlhYmxlIE1vYmlsZVxuICAgICAgICAgICAgXSwgW1tUWVBFLCBNT0JJTEVdXSwgW1xuICAgICAgICAgICAgLyhhbmRyb2lkWy1cXHdcXC4gXXswLDl9KTsuK2J1aWwvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyaWMgQW5kcm9pZCBEZXZpY2VcbiAgICAgICAgICAgIF0sIFtNT0RFTCwgW1ZFTkRPUiwgJ0dlbmVyaWMnXV1cbiAgICAgICAgXSxcblxuICAgICAgICBlbmdpbmUgOiBbW1xuXG4gICAgICAgICAgICAvd2luZG93cy4rIGVkZ2VcXC8oW1xcd1xcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRWRnZUhUTUxcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgRURHRSsnSFRNTCddXSwgW1xuXG4gICAgICAgICAgICAvd2Via2l0XFwvNTM3XFwuMzYuK2Nocm9tZVxcLyg/ITI3KShbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmxpbmtcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgJ0JsaW5rJ11dLCBbXG5cbiAgICAgICAgICAgIC8ocHJlc3RvKVxcLyhbXFx3XFwuXSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJlc3RvXG4gICAgICAgICAgICAvKHdlYmtpdHx0cmlkZW50fG5ldGZyb250fG5ldHN1cmZ8YW1heWF8bHlueHx3M218Z29hbm5hKVxcLyhbXFx3XFwuXSspL2ksIC8vIFdlYktpdC9UcmlkZW50L05ldEZyb250L05ldFN1cmYvQW1heWEvTHlueC93M20vR29hbm5hXG4gICAgICAgICAgICAvZWtpb2goZmxvdylcXC8oW1xcd1xcLl0rKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZsb3dcbiAgICAgICAgICAgIC8oa2h0bWx8dGFzbWFufGxpbmtzKVtcXC8gXVxcKD8oW1xcd1xcLl0rKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtIVE1ML1Rhc21hbi9MaW5rc1xuICAgICAgICAgICAgLyhpY2FiKVtcXC8gXShbMjNdXFwuW1xcZFxcLl0rKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaUNhYlxuICAgICAgICAgICAgXSwgW05BTUUsIFZFUlNJT05dLCBbXG5cbiAgICAgICAgICAgIC9ydlxcOihbXFx3XFwuXXsxLDl9KVxcYi4rKGdlY2tvKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdlY2tvXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgTkFNRV1cbiAgICAgICAgXSxcblxuICAgICAgICBvcyA6IFtbXG5cbiAgICAgICAgICAgIC8vIFdpbmRvd3NcbiAgICAgICAgICAgIC9taWNyb3NvZnQgKHdpbmRvd3MpICh2aXN0YXx4cCkvaSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2luZG93cyAoaVR1bmVzKVxuICAgICAgICAgICAgXSwgW05BTUUsIFZFUlNJT05dLCBbXG4gICAgICAgICAgICAvKHdpbmRvd3MpIG50IDZcXC4yOyAoYXJtKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaW5kb3dzIFJUXG4gICAgICAgICAgICAvKHdpbmRvd3MgKD86cGhvbmUoPzogb3MpP3xtb2JpbGUpKVtcXC8gXT8oW1xcZFxcLlxcdyBdKikvaSwgICAgICAgICAgICAvLyBXaW5kb3dzIFBob25lXG4gICAgICAgICAgICAvKHdpbmRvd3MpW1xcLyBdPyhbbnRjZVxcZFxcLiBdK1xcdykoPyEuK3hib3gpL2lcbiAgICAgICAgICAgIF0sIFtOQU1FLCBbVkVSU0lPTiwgc3RyTWFwcGVyLCB3aW5kb3dzVmVyc2lvbk1hcF1dLCBbXG4gICAgICAgICAgICAvKHdpbig/PTN8OXxuKXx3aW4gOXggKShbbnRcXGRcXC5dKykvaVxuICAgICAgICAgICAgXSwgW1tOQU1FLCAnV2luZG93cyddLCBbVkVSU0lPTiwgc3RyTWFwcGVyLCB3aW5kb3dzVmVyc2lvbk1hcF1dLCBbXG5cbiAgICAgICAgICAgIC8vIGlPUy9tYWNPU1xuICAgICAgICAgICAgL2lwW2hvbmVhZF17Miw0fVxcYig/Oi4qb3MgKFtcXHddKykgbGlrZSBtYWN8OyBvcGVyYSkvaSwgICAgICAgICAgICAgIC8vIGlPU1xuICAgICAgICAgICAgL2NmbmV0d29ya1xcLy4rZGFyd2luL2lcbiAgICAgICAgICAgIF0sIFtbVkVSU0lPTiwgL18vZywgJy4nXSwgW05BTUUsICdpT1MnXV0sIFtcbiAgICAgICAgICAgIC8obWFjIG9zIHgpID8oW1xcd1xcLiBdKikvaSxcbiAgICAgICAgICAgIC8obWFjaW50b3NofG1hY19wb3dlcnBjXFxiKSg/IS4raGFpa3UpL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hYyBPU1xuICAgICAgICAgICAgXSwgW1tOQU1FLCAnTWFjIE9TJ10sIFtWRVJTSU9OLCAvXy9nLCAnLiddXSwgW1xuXG4gICAgICAgICAgICAvLyBNb2JpbGUgT1Nlc1xuICAgICAgICAgICAgL2Ryb2lkIChbXFx3XFwuXSspXFxiLisoYW5kcm9pZFstIF14ODZ8aGFybW9ueW9zKS9pICAgICAgICAgICAgICAgICAgICAvLyBBbmRyb2lkLXg4Ni9IYXJtb255T1NcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBOQU1FXSwgWyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQW5kcm9pZC9XZWJPUy9RTlgvQmFkYS9SSU0vTWFlbW8vTWVlR28vU2FpbGZpc2ggT1NcbiAgICAgICAgICAgIC8oYW5kcm9pZHx3ZWJvc3xxbnh8YmFkYXxyaW0gdGFibGV0IG9zfG1hZW1vfG1lZWdvfHNhaWxmaXNoKVstXFwvIF0/KFtcXHdcXC5dKikvaSxcbiAgICAgICAgICAgIC8oYmxhY2tiZXJyeSlcXHcqXFwvKFtcXHdcXC5dKikvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrYmVycnlcbiAgICAgICAgICAgIC8odGl6ZW58a2Fpb3MpW1xcLyBdKFtcXHdcXC5dKykvaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGl6ZW4vS2FpT1NcbiAgICAgICAgICAgIC9cXCgoc2VyaWVzNDApOy9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlcmllcyA0MFxuICAgICAgICAgICAgXSwgW05BTUUsIFZFUlNJT05dLCBbXG4gICAgICAgICAgICAvXFwoYmIoMTApOy9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCbGFja0JlcnJ5IDEwXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsIEJMQUNLQkVSUlldXSwgW1xuICAgICAgICAgICAgLyg/OnN5bWJpYW4gP29zfHN5bWJvc3xzNjAoPz07KXxzZXJpZXM2MClbLVxcLyBdPyhbXFx3XFwuXSopL2kgICAgICAgICAvLyBTeW1iaWFuXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsICdTeW1iaWFuJ11dLCBbXG4gICAgICAgICAgICAvbW96aWxsYVxcL1tcXGRcXC5dKyBcXCgoPzptb2JpbGV8dGFibGV0fHR2fG1vYmlsZTsgW1xcdyBdKyk7IHJ2Oi4rIGdlY2tvXFwvKFtcXHdcXC5dKykvaSAvLyBGaXJlZm94IE9TXG4gICAgICAgICAgICBdLCBbVkVSU0lPTiwgW05BTUUsIEZJUkVGT1grJyBPUyddXSwgW1xuICAgICAgICAgICAgL3dlYjBzOy4rcnQodHYpL2ksXG4gICAgICAgICAgICAvXFxiKD86aHApP3dvcyg/OmJyb3dzZXIpP1xcLyhbXFx3XFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZWJPU1xuICAgICAgICAgICAgXSwgW1ZFUlNJT04sIFtOQU1FLCAnd2ViT1MnXV0sIFtcblxuICAgICAgICAgICAgLy8gR29vZ2xlIENocm9tZWNhc3RcbiAgICAgICAgICAgIC9jcmtleVxcLyhbXFxkXFwuXSspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR29vZ2xlIENocm9tZWNhc3RcbiAgICAgICAgICAgIF0sIFtWRVJTSU9OLCBbTkFNRSwgQ0hST01FKydjYXN0J11dLCBbXG4gICAgICAgICAgICAvKGNyb3MpIFtcXHddKyAoW1xcd1xcLl0rXFx3KS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaHJvbWl1bSBPU1xuICAgICAgICAgICAgXSwgW1tOQU1FLCAnQ2hyb21pdW0gT1MnXSwgVkVSU0lPTl0sW1xuXG4gICAgICAgICAgICAvLyBDb25zb2xlXG4gICAgICAgICAgICAvKG5pbnRlbmRvfHBsYXlzdGF0aW9uKSAoW3dpZHMzNDVwb3J0YWJsZXZ1Y2hdKykvaSwgICAgICAgICAgICAgICAgIC8vIE5pbnRlbmRvL1BsYXlzdGF0aW9uXG4gICAgICAgICAgICAvKHhib3gpOyAreGJveCAoW15cXCk7XSspL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNaWNyb3NvZnQgWGJveCAoMzYwLCBPbmUsIFgsIFMsIFNlcmllcyBYLCBTZXJpZXMgUylcblxuICAgICAgICAgICAgLy8gT3RoZXJcbiAgICAgICAgICAgIC9cXGIoam9saXxwYWxtKVxcYiA/KD86b3MpP1xcLz8oW1xcd1xcLl0qKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBKb2xpL1BhbG1cbiAgICAgICAgICAgIC8obWludClbXFwvXFwoXFwpIF0/KFxcdyopL2ksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1pbnRcbiAgICAgICAgICAgIC8obWFnZWlhfHZlY3RvcmxpbnV4KVs7IF0vaSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFnZWlhL1ZlY3RvckxpbnV4XG4gICAgICAgICAgICAvKFtreGxuXT91YnVudHV8ZGViaWFufHN1c2V8b3BlbnN1c2V8Z2VudG9vfGFyY2goPz0gbGludXgpfHNsYWNrd2FyZXxmZWRvcmF8bWFuZHJpdmF8Y2VudG9zfHBjbGludXhvc3xyZWQgP2hhdHx6ZW53YWxrfGxpbnB1c3xyYXNwYmlhbnxwbGFuIDl8bWluaXh8cmlzYyBvc3xjb250aWtpfGRlZXBpbnxtYW5qYXJvfGVsZW1lbnRhcnkgb3N8c2FiYXlvbnxsaW5zcGlyZSkoPzogZ251XFwvbGludXgpPyg/OiBlbnRlcnByaXNlKT8oPzpbLSBdbGludXgpPyg/Oi1nbnUpP1stXFwvIF0/KD8hY2hyb218cGFja2FnZSkoWy1cXHdcXC5dKikvaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVWJ1bnR1L0RlYmlhbi9TVVNFL0dlbnRvby9BcmNoL1NsYWNrd2FyZS9GZWRvcmEvTWFuZHJpdmEvQ2VudE9TL1BDTGludXhPUy9SZWRIYXQvWmVud2Fsay9MaW5wdXMvUmFzcGJpYW4vUGxhbjkvTWluaXgvUklTQ09TL0NvbnRpa2kvRGVlcGluL01hbmphcm8vZWxlbWVudGFyeS9TYWJheW9uL0xpbnNwaXJlXG4gICAgICAgICAgICAvKGh1cmR8bGludXgpID8oW1xcd1xcLl0qKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSHVyZC9MaW51eFxuICAgICAgICAgICAgLyhnbnUpID8oW1xcd1xcLl0qKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdOVVxuICAgICAgICAgICAgL1xcYihbLWZyZW50b3BjZ2hzXXswLDV9YnNkfGRyYWdvbmZseSlbXFwvIF0/KD8hYW1kfFtpeDM0Nl17MSwyfTg2KShbXFx3XFwuXSopL2ksIC8vIEZyZWVCU0QvTmV0QlNEL09wZW5CU0QvUEMtQlNEL0dob3N0QlNEL0RyYWdvbkZseVxuICAgICAgICAgICAgLyhoYWlrdSkgKFxcdyspL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFpa3VcbiAgICAgICAgICAgIF0sIFtOQU1FLCBWRVJTSU9OXSwgW1xuICAgICAgICAgICAgLyhzdW5vcykgPyhbXFx3XFwuXFxkXSopL2kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTb2xhcmlzXG4gICAgICAgICAgICBdLCBbW05BTUUsICdTb2xhcmlzJ10sIFZFUlNJT05dLCBbXG4gICAgICAgICAgICAvKCg/Om9wZW4pP3NvbGFyaXMpWy1cXC8gXT8oW1xcd1xcLl0qKS9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNvbGFyaXNcbiAgICAgICAgICAgIC8oYWl4KSAoKFxcZCkoPz1cXC58XFwpfCApW1xcd1xcLl0pKi9pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBSVhcbiAgICAgICAgICAgIC9cXGIoYmVvc3xvc1xcLzJ8YW1pZ2Fvc3xtb3JwaG9zfG9wZW52bXN8ZnVjaHNpYXxocC11eCkvaSwgICAgICAgICAgICAvLyBCZU9TL09TMi9BbWlnYU9TL01vcnBoT1MvT3BlblZNUy9GdWNoc2lhL0hQLVVYXG4gICAgICAgICAgICAvKHVuaXgpID8oW1xcd1xcLl0qKS9pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVU5JWFxuICAgICAgICAgICAgXSwgW05BTUUsIFZFUlNJT05dXG4gICAgICAgIF1cbiAgICB9O1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBDb25zdHJ1Y3RvclxuICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgIHZhciBVQVBhcnNlciA9IGZ1bmN0aW9uICh1YSwgZXh0ZW5zaW9ucykge1xuXG4gICAgICAgIGlmICh0eXBlb2YgdWEgPT09IE9CSl9UWVBFKSB7XG4gICAgICAgICAgICBleHRlbnNpb25zID0gdWE7XG4gICAgICAgICAgICB1YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBVQVBhcnNlcikpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVUFQYXJzZXIodWEsIGV4dGVuc2lvbnMpLmdldFJlc3VsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF91YSA9IHVhIHx8ICgodHlwZW9mIHdpbmRvdyAhPT0gVU5ERUZfVFlQRSAmJiB3aW5kb3cubmF2aWdhdG9yICYmIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSA/IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50IDogRU1QVFkpO1xuICAgICAgICB2YXIgX3JneG1hcCA9IGV4dGVuc2lvbnMgPyBleHRlbmQocmVnZXhlcywgZXh0ZW5zaW9ucykgOiByZWdleGVzO1xuXG4gICAgICAgIHRoaXMuZ2V0QnJvd3NlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYnJvd3NlciA9IHt9O1xuICAgICAgICAgICAgX2Jyb3dzZXJbTkFNRV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBfYnJvd3NlcltWRVJTSU9OXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJneE1hcHBlci5jYWxsKF9icm93c2VyLCBfdWEsIF9yZ3htYXAuYnJvd3Nlcik7XG4gICAgICAgICAgICBfYnJvd3Nlci5tYWpvciA9IG1ham9yaXplKF9icm93c2VyLnZlcnNpb24pO1xuICAgICAgICAgICAgcmV0dXJuIF9icm93c2VyO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldENQVSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfY3B1ID0ge307XG4gICAgICAgICAgICBfY3B1W0FSQ0hJVEVDVFVSRV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZ3hNYXBwZXIuY2FsbChfY3B1LCBfdWEsIF9yZ3htYXAuY3B1KTtcbiAgICAgICAgICAgIHJldHVybiBfY3B1O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldERldmljZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfZGV2aWNlID0ge307XG4gICAgICAgICAgICBfZGV2aWNlW1ZFTkRPUl0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBfZGV2aWNlW01PREVMXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIF9kZXZpY2VbVFlQRV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZ3hNYXBwZXIuY2FsbChfZGV2aWNlLCBfdWEsIF9yZ3htYXAuZGV2aWNlKTtcbiAgICAgICAgICAgIHJldHVybiBfZGV2aWNlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldEVuZ2luZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfZW5naW5lID0ge307XG4gICAgICAgICAgICBfZW5naW5lW05BTUVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgX2VuZ2luZVtWRVJTSU9OXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJneE1hcHBlci5jYWxsKF9lbmdpbmUsIF91YSwgX3JneG1hcC5lbmdpbmUpO1xuICAgICAgICAgICAgcmV0dXJuIF9lbmdpbmU7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0T1MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX29zID0ge307XG4gICAgICAgICAgICBfb3NbTkFNRV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBfb3NbVkVSU0lPTl0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZ3hNYXBwZXIuY2FsbChfb3MsIF91YSwgX3JneG1hcC5vcyk7XG4gICAgICAgICAgICByZXR1cm4gX29zO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldFJlc3VsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdWEgICAgICA6IHRoaXMuZ2V0VUEoKSxcbiAgICAgICAgICAgICAgICBicm93c2VyIDogdGhpcy5nZXRCcm93c2VyKCksXG4gICAgICAgICAgICAgICAgZW5naW5lICA6IHRoaXMuZ2V0RW5naW5lKCksXG4gICAgICAgICAgICAgICAgb3MgICAgICA6IHRoaXMuZ2V0T1MoKSxcbiAgICAgICAgICAgICAgICBkZXZpY2UgIDogdGhpcy5nZXREZXZpY2UoKSxcbiAgICAgICAgICAgICAgICBjcHUgICAgIDogdGhpcy5nZXRDUFUoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRVQSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdWE7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0VUEgPSBmdW5jdGlvbiAodWEpIHtcbiAgICAgICAgICAgIF91YSA9ICh0eXBlb2YgdWEgPT09IFNUUl9UWVBFICYmIHVhLmxlbmd0aCA+IFVBX01BWF9MRU5HVEgpID8gdHJpbSh1YSwgVUFfTUFYX0xFTkdUSCkgOiB1YTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldFVBKF91YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBVQVBhcnNlci5WRVJTSU9OID0gTElCVkVSU0lPTjtcbiAgICBVQVBhcnNlci5CUk9XU0VSID0gIGVudW1lcml6ZShbTkFNRSwgVkVSU0lPTiwgTUFKT1JdKTtcbiAgICBVQVBhcnNlci5DUFUgPSBlbnVtZXJpemUoW0FSQ0hJVEVDVFVSRV0pO1xuICAgIFVBUGFyc2VyLkRFVklDRSA9IGVudW1lcml6ZShbTU9ERUwsIFZFTkRPUiwgVFlQRSwgQ09OU09MRSwgTU9CSUxFLCBTTUFSVFRWLCBUQUJMRVQsIFdFQVJBQkxFLCBFTUJFRERFRF0pO1xuICAgIFVBUGFyc2VyLkVOR0lORSA9IFVBUGFyc2VyLk9TID0gZW51bWVyaXplKFtOQU1FLCBWRVJTSU9OXSk7XG5cbiAgICAvLy8vLy8vLy8vL1xuICAgIC8vIEV4cG9ydFxuICAgIC8vLy8vLy8vLy9cblxuICAgIC8vIGNoZWNrIGpzIGVudmlyb25tZW50XG4gICAgaWYgKHR5cGVvZihleHBvcnRzKSAhPT0gVU5ERUZfVFlQRSkge1xuICAgICAgICAvLyBub2RlanMgZW52XG4gICAgICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSBVTkRFRl9UWVBFICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBVQVBhcnNlcjtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRzLlVBUGFyc2VyID0gVUFQYXJzZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcmVxdWlyZWpzIGVudiAob3B0aW9uYWwpXG4gICAgICAgIGlmICh0eXBlb2YoZGVmaW5lKSA9PT0gRlVOQ19UWVBFICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgICAgIGRlZmluZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFVBUGFyc2VyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gVU5ERUZfVFlQRSkge1xuICAgICAgICAgICAgLy8gYnJvd3NlciBlbnZcbiAgICAgICAgICAgIHdpbmRvdy5VQVBhcnNlciA9IFVBUGFyc2VyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8galF1ZXJ5L1plcHRvIHNwZWNpZmljIChvcHRpb25hbClcbiAgICAvLyBOb3RlOlxuICAgIC8vICAgSW4gQU1EIGVudiB0aGUgZ2xvYmFsIHNjb3BlIHNob3VsZCBiZSBrZXB0IGNsZWFuLCBidXQgalF1ZXJ5IGlzIGFuIGV4Y2VwdGlvbi5cbiAgICAvLyAgIGpRdWVyeSBhbHdheXMgZXhwb3J0cyB0byBnbG9iYWwgc2NvcGUsIHVubGVzcyBqUXVlcnkubm9Db25mbGljdCh0cnVlKSBpcyB1c2VkLFxuICAgIC8vICAgYW5kIHdlIHNob3VsZCBjYXRjaCB0aGF0LlxuICAgIHZhciAkID0gdHlwZW9mIHdpbmRvdyAhPT0gVU5ERUZfVFlQRSAmJiAod2luZG93LmpRdWVyeSB8fCB3aW5kb3cuWmVwdG8pO1xuICAgIGlmICgkICYmICEkLnVhKSB7XG4gICAgICAgIHZhciBwYXJzZXIgPSBuZXcgVUFQYXJzZXIoKTtcbiAgICAgICAgJC51YSA9IHBhcnNlci5nZXRSZXN1bHQoKTtcbiAgICAgICAgJC51YS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VyLmdldFVBKCk7XG4gICAgICAgIH07XG4gICAgICAgICQudWEuc2V0ID0gZnVuY3Rpb24gKHVhKSB7XG4gICAgICAgICAgICBwYXJzZXIuc2V0VUEodWEpO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHBhcnNlci5nZXRSZXN1bHQoKTtcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgJC51YVtwcm9wXSA9IHJlc3VsdFtwcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnID8gd2luZG93IDogdGhpcyk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/ua-parser-js/src/ua-parser.js\n"));

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/index.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NIL\": function() { return /* reexport safe */ _nil_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; },\n/* harmony export */   \"parse\": function() { return /* reexport safe */ _parse_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; },\n/* harmony export */   \"stringify\": function() { return /* reexport safe */ _stringify_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; },\n/* harmony export */   \"v1\": function() { return /* reexport safe */ _v1_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; },\n/* harmony export */   \"v3\": function() { return /* reexport safe */ _v3_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; },\n/* harmony export */   \"v4\": function() { return /* reexport safe */ _v4_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; },\n/* harmony export */   \"v5\": function() { return /* reexport safe */ _v5_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; },\n/* harmony export */   \"validate\": function() { return /* reexport safe */ _validate_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; },\n/* harmony export */   \"version\": function() { return /* reexport safe */ _version_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; }\n/* harmony export */ });\n/* harmony import */ var _v1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v1.js */ \"./node_modules/uuid/dist/esm-browser/v1.js\");\n/* harmony import */ var _v3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./v3.js */ \"./node_modules/uuid/dist/esm-browser/v3.js\");\n/* harmony import */ var _v4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./v4.js */ \"./node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var _v5_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./v5.js */ \"./node_modules/uuid/dist/esm-browser/v5.js\");\n/* harmony import */ var _nil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./nil.js */ \"./node_modules/uuid/dist/esm-browser/nil.js\");\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./version.js */ \"./node_modules/uuid/dist/esm-browser/version.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parse.js */ \"./node_modules/uuid/dist/esm-browser/parse.js\");\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3QztBQUNBO0FBQ0E7QUFDQTtBQUNFO0FBQ1E7QUFDRTtBQUNFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvaW5kZXguanM/M2M3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBkZWZhdWx0IGFzIHYxIH0gZnJvbSAnLi92MS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHYzIH0gZnJvbSAnLi92My5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHY0IH0gZnJvbSAnLi92NC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHY1IH0gZnJvbSAnLi92NS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE5JTCB9IGZyb20gJy4vbmlsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdmVyc2lvbiB9IGZyb20gJy4vdmVyc2lvbi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHZhbGlkYXRlIH0gZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHN0cmluZ2lmeSB9IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcGFyc2UgfSBmcm9tICcuL3BhcnNlLmpzJzsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/index.js\n"));

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/md5.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/md5.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (md5);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL21kNS5qcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7O0FBRW5EOztBQUVBLG9CQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsY0FBYztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsa0JBQWtCLGFBQWE7QUFDL0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSwrREFBZSxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvbWQ1LmpzP2ZlNGEiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEJyb3dzZXItY29tcGF0aWJsZSBKYXZhU2NyaXB0IE1ENVxuICpcbiAqIE1vZGlmaWNhdGlvbiBvZiBKYXZhU2NyaXB0IE1ENVxuICogaHR0cHM6Ly9naXRodWIuY29tL2JsdWVpbXAvSmF2YVNjcmlwdC1NRDVcbiAqXG4gKiBDb3B5cmlnaHQgMjAxMSwgU2ViYXN0aWFuIFRzY2hhblxuICogaHR0cHM6Ly9ibHVlaW1wLm5ldFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZTpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4gKlxuICogQmFzZWQgb25cbiAqIEEgSmF2YVNjcmlwdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgUlNBIERhdGEgU2VjdXJpdHksIEluYy4gTUQ1IE1lc3NhZ2VcbiAqIERpZ2VzdCBBbGdvcml0aG0sIGFzIGRlZmluZWQgaW4gUkZDIDEzMjEuXG4gKiBWZXJzaW9uIDIuMiBDb3B5cmlnaHQgKEMpIFBhdWwgSm9obnN0b24gMTk5OSAtIDIwMDlcbiAqIE90aGVyIGNvbnRyaWJ1dG9yczogR3JlZyBIb2x0LCBBbmRyZXcgS2VwZXJ0LCBZZG5hciwgTG9zdGluZXRcbiAqIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgTGljZW5zZVxuICogU2VlIGh0dHA6Ly9wYWpob21lLm9yZy51ay9jcnlwdC9tZDUgZm9yIG1vcmUgaW5mby5cbiAqL1xuZnVuY3Rpb24gbWQ1KGJ5dGVzKSB7XG4gIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIG1zZyA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChieXRlcykpOyAvLyBVVEY4IGVzY2FwZVxuXG4gICAgYnl0ZXMgPSBuZXcgVWludDhBcnJheShtc2cubGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgKytpKSB7XG4gICAgICBieXRlc1tpXSA9IG1zZy5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtZDVUb0hleEVuY29kZWRBcnJheSh3b3Jkc1RvTWQ1KGJ5dGVzVG9Xb3JkcyhieXRlcyksIGJ5dGVzLmxlbmd0aCAqIDgpKTtcbn1cbi8qXG4gKiBDb252ZXJ0IGFuIGFycmF5IG9mIGxpdHRsZS1lbmRpYW4gd29yZHMgdG8gYW4gYXJyYXkgb2YgYnl0ZXNcbiAqL1xuXG5cbmZ1bmN0aW9uIG1kNVRvSGV4RW5jb2RlZEFycmF5KGlucHV0KSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgdmFyIGxlbmd0aDMyID0gaW5wdXQubGVuZ3RoICogMzI7XG4gIHZhciBoZXhUYWIgPSAnMDEyMzQ1Njc4OWFiY2RlZic7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGgzMjsgaSArPSA4KSB7XG4gICAgdmFyIHggPSBpbnB1dFtpID4+IDVdID4+PiBpICUgMzIgJiAweGZmO1xuICAgIHZhciBoZXggPSBwYXJzZUludChoZXhUYWIuY2hhckF0KHggPj4+IDQgJiAweDBmKSArIGhleFRhYi5jaGFyQXQoeCAmIDB4MGYpLCAxNik7XG4gICAgb3V0cHV0LnB1c2goaGV4KTtcbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZSBvdXRwdXQgbGVuZ3RoIHdpdGggcGFkZGluZyBhbmQgYml0IGxlbmd0aFxuICovXG5cblxuZnVuY3Rpb24gZ2V0T3V0cHV0TGVuZ3RoKGlucHV0TGVuZ3RoOCkge1xuICByZXR1cm4gKGlucHV0TGVuZ3RoOCArIDY0ID4+PiA5IDw8IDQpICsgMTQgKyAxO1xufVxuLypcbiAqIENhbGN1bGF0ZSB0aGUgTUQ1IG9mIGFuIGFycmF5IG9mIGxpdHRsZS1lbmRpYW4gd29yZHMsIGFuZCBhIGJpdCBsZW5ndGguXG4gKi9cblxuXG5mdW5jdGlvbiB3b3Jkc1RvTWQ1KHgsIGxlbikge1xuICAvKiBhcHBlbmQgcGFkZGluZyAqL1xuICB4W2xlbiA+PiA1XSB8PSAweDgwIDw8IGxlbiAlIDMyO1xuICB4W2dldE91dHB1dExlbmd0aChsZW4pIC0gMV0gPSBsZW47XG4gIHZhciBhID0gMTczMjU4NDE5MztcbiAgdmFyIGIgPSAtMjcxNzMzODc5O1xuICB2YXIgYyA9IC0xNzMyNTg0MTk0O1xuICB2YXIgZCA9IDI3MTczMzg3ODtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHgubGVuZ3RoOyBpICs9IDE2KSB7XG4gICAgdmFyIG9sZGEgPSBhO1xuICAgIHZhciBvbGRiID0gYjtcbiAgICB2YXIgb2xkYyA9IGM7XG4gICAgdmFyIG9sZGQgPSBkO1xuICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2ldLCA3LCAtNjgwODc2OTM2KTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgMV0sIDEyLCAtMzg5NTY0NTg2KTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgMl0sIDE3LCA2MDYxMDU4MTkpO1xuICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyAzXSwgMjIsIC0xMDQ0NTI1MzMwKTtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpICsgNF0sIDcsIC0xNzY0MTg4OTcpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyA1XSwgMTIsIDEyMDAwODA0MjYpO1xuICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyA2XSwgMTcsIC0xNDczMjMxMzQxKTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgN10sIDIyLCAtNDU3MDU5ODMpO1xuICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyA4XSwgNywgMTc3MDAzNTQxNik7XG4gICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDldLCAxMiwgLTE5NTg0MTQ0MTcpO1xuICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyAxMF0sIDE3LCAtNDIwNjMpO1xuICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyAxMV0sIDIyLCAtMTk5MDQwNDE2Mik7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaSArIDEyXSwgNywgMTgwNDYwMzY4Mik7XG4gICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDEzXSwgMTIsIC00MDM0MTEwMSk7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDE0XSwgMTcsIC0xNTAyMDAyMjkwKTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgMTVdLCAyMiwgMTIzNjUzNTMyOSk7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDFdLCA1LCAtMTY1Nzk2NTEwKTtcbiAgICBkID0gbWQ1Z2coZCwgYSwgYiwgYywgeFtpICsgNl0sIDksIC0xMDY5NTAxNjMyKTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgMTFdLCAxNCwgNjQzNzE3NzEzKTtcbiAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpXSwgMjAsIC0zNzM4OTczMDIpO1xuICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyA1XSwgNSwgLTcwMTU1ODY5MSk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDEwXSwgOSwgMzgwMTYwODMpO1xuICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyAxNV0sIDE0LCAtNjYwNDc4MzM1KTtcbiAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpICsgNF0sIDIwLCAtNDA1NTM3ODQ4KTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgOV0sIDUsIDU2ODQ0NjQzOCk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDE0XSwgOSwgLTEwMTk4MDM2OTApO1xuICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyAzXSwgMTQsIC0xODczNjM5NjEpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyA4XSwgMjAsIDExNjM1MzE1MDEpO1xuICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyAxM10sIDUsIC0xNDQ0NjgxNDY3KTtcbiAgICBkID0gbWQ1Z2coZCwgYSwgYiwgYywgeFtpICsgMl0sIDksIC01MTQwMzc4NCk7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDddLCAxNCwgMTczNTMyODQ3Myk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaSArIDEyXSwgMjAsIC0xOTI2NjA3NzM0KTtcbiAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgNV0sIDQsIC0zNzg1NTgpO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyA4XSwgMTEsIC0yMDIyNTc0NDYzKTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgMTFdLCAxNiwgMTgzOTAzMDU2Mik7XG4gICAgYiA9IG1kNWhoKGIsIGMsIGQsIGEsIHhbaSArIDE0XSwgMjMsIC0zNTMwOTU1Nik7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDFdLCA0LCAtMTUzMDk5MjA2MCk7XG4gICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaSArIDRdLCAxMSwgMTI3Mjg5MzM1Myk7XG4gICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDddLCAxNiwgLTE1NTQ5NzYzMik7XG4gICAgYiA9IG1kNWhoKGIsIGMsIGQsIGEsIHhbaSArIDEwXSwgMjMsIC0xMDk0NzMwNjQwKTtcbiAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgMTNdLCA0LCA2ODEyNzkxNzQpO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2ldLCAxMSwgLTM1ODUzNzIyMik7XG4gICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDNdLCAxNiwgLTcyMjUyMTk3OSk7XG4gICAgYiA9IG1kNWhoKGIsIGMsIGQsIGEsIHhbaSArIDZdLCAyMywgNzYwMjkxODkpO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyA5XSwgNCwgLTY0MDM2NDQ4Nyk7XG4gICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaSArIDEyXSwgMTEsIC00MjE4MTU4MzUpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyAxNV0sIDE2LCA1MzA3NDI1MjApO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAyXSwgMjMsIC05OTUzMzg2NTEpO1xuICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2ldLCA2LCAtMTk4NjMwODQ0KTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgN10sIDEwLCAxMTI2ODkxNDE1KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMTRdLCAxNSwgLTE0MTYzNTQ5MDUpO1xuICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyA1XSwgMjEsIC01NzQzNDA1NSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaSArIDEyXSwgNiwgMTcwMDQ4NTU3MSk7XG4gICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDNdLCAxMCwgLTE4OTQ5ODY2MDYpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyAxMF0sIDE1LCAtMTA1MTUyMyk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDFdLCAyMSwgLTIwNTQ5MjI3OTkpO1xuICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2kgKyA4XSwgNiwgMTg3MzMxMzM1OSk7XG4gICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDE1XSwgMTAsIC0zMDYxMTc0NCk7XG4gICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDZdLCAxNSwgLTE1NjAxOTgzODApO1xuICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyAxM10sIDIxLCAxMzA5MTUxNjQ5KTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpICsgNF0sIDYsIC0xNDU1MjMwNzApO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAxMV0sIDEwLCAtMTEyMDIxMDM3OSk7XG4gICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDJdLCAxNSwgNzE4Nzg3MjU5KTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgOV0sIDIxLCAtMzQzNDg1NTUxKTtcbiAgICBhID0gc2FmZUFkZChhLCBvbGRhKTtcbiAgICBiID0gc2FmZUFkZChiLCBvbGRiKTtcbiAgICBjID0gc2FmZUFkZChjLCBvbGRjKTtcbiAgICBkID0gc2FmZUFkZChkLCBvbGRkKTtcbiAgfVxuXG4gIHJldHVybiBbYSwgYiwgYywgZF07XG59XG4vKlxuICogQ29udmVydCBhbiBhcnJheSBieXRlcyB0byBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzXG4gKiBDaGFyYWN0ZXJzID4yNTUgaGF2ZSB0aGVpciBoaWdoLWJ5dGUgc2lsZW50bHkgaWdub3JlZC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGJ5dGVzVG9Xb3JkcyhpbnB1dCkge1xuICBpZiAoaW5wdXQubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgdmFyIGxlbmd0aDggPSBpbnB1dC5sZW5ndGggKiA4O1xuICB2YXIgb3V0cHV0ID0gbmV3IFVpbnQzMkFycmF5KGdldE91dHB1dExlbmd0aChsZW5ndGg4KSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg4OyBpICs9IDgpIHtcbiAgICBvdXRwdXRbaSA+PiA1XSB8PSAoaW5wdXRbaSAvIDhdICYgMHhmZikgPDwgaSAlIDMyO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn1cbi8qXG4gKiBBZGQgaW50ZWdlcnMsIHdyYXBwaW5nIGF0IDJeMzIuIFRoaXMgdXNlcyAxNi1iaXQgb3BlcmF0aW9ucyBpbnRlcm5hbGx5XG4gKiB0byB3b3JrIGFyb3VuZCBidWdzIGluIHNvbWUgSlMgaW50ZXJwcmV0ZXJzLlxuICovXG5cblxuZnVuY3Rpb24gc2FmZUFkZCh4LCB5KSB7XG4gIHZhciBsc3cgPSAoeCAmIDB4ZmZmZikgKyAoeSAmIDB4ZmZmZik7XG4gIHZhciBtc3cgPSAoeCA+PiAxNikgKyAoeSA+PiAxNikgKyAobHN3ID4+IDE2KTtcbiAgcmV0dXJuIG1zdyA8PCAxNiB8IGxzdyAmIDB4ZmZmZjtcbn1cbi8qXG4gKiBCaXR3aXNlIHJvdGF0ZSBhIDMyLWJpdCBudW1iZXIgdG8gdGhlIGxlZnQuXG4gKi9cblxuXG5mdW5jdGlvbiBiaXRSb3RhdGVMZWZ0KG51bSwgY250KSB7XG4gIHJldHVybiBudW0gPDwgY250IHwgbnVtID4+PiAzMiAtIGNudDtcbn1cbi8qXG4gKiBUaGVzZSBmdW5jdGlvbnMgaW1wbGVtZW50IHRoZSBmb3VyIGJhc2ljIG9wZXJhdGlvbnMgdGhlIGFsZ29yaXRobSB1c2VzLlxuICovXG5cblxuZnVuY3Rpb24gbWQ1Y21uKHEsIGEsIGIsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIHNhZmVBZGQoYml0Um90YXRlTGVmdChzYWZlQWRkKHNhZmVBZGQoYSwgcSksIHNhZmVBZGQoeCwgdCkpLCBzKSwgYik7XG59XG5cbmZ1bmN0aW9uIG1kNWZmKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIG1kNWNtbihiICYgYyB8IH5iICYgZCwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmZ1bmN0aW9uIG1kNWdnKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIG1kNWNtbihiICYgZCB8IGMgJiB+ZCwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmZ1bmN0aW9uIG1kNWhoKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIG1kNWNtbihiIF4gYyBeIGQsIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5mdW5jdGlvbiBtZDVpaShhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYyBeIChiIHwgfmQpLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWQ1OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/md5.js\n"));

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/nil.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/nil.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ('00000000-0000-0000-0000-000000000000');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL25pbC5qcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsK0RBQWUsc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvbmlsLmpzPzg0NTUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgJzAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCc7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/nil.js\n"));

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/parse.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/parse.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n\n\nfunction parse(uuid) {\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (parse);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3BhcnNlLmpzLmpzIiwibWFwcGluZ3MiOiI7O0FBQXFDOztBQUVyQztBQUNBLE9BQU8sd0RBQVE7QUFDZjtBQUNBOztBQUVBO0FBQ0EsZ0NBQWdDOztBQUVoQztBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7O0FBRXJCO0FBQ0EscUJBQXFCOztBQUVyQjtBQUNBLHFCQUFxQjs7QUFFckI7QUFDQSxxQkFBcUI7QUFDckI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrREFBZSxLQUFLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcGFyc2UuanM/OWRhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5cbmZ1bmN0aW9uIHBhcnNlKHV1aWQpIHtcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBVVUlEJyk7XG4gIH1cblxuICB2YXIgdjtcbiAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gUGFyc2UgIyMjIyMjIyMtLi4uLi0uLi4uLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDAsIDgpLCAxNikpID4+PiAyNDtcbiAgYXJyWzFdID0gdiA+Pj4gMTYgJiAweGZmO1xuICBhcnJbMl0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzNdID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLSMjIyMtLi4uLi0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFycls0XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSg5LCAxMyksIDE2KSkgPj4+IDg7XG4gIGFycls1XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLSMjIyMtLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbNl0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMTQsIDE4KSwgMTYpKSA+Pj4gODtcbiAgYXJyWzddID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tLi4uLi0jIyMjLS4uLi4uLi4uLi4uLlxuXG4gIGFycls4XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgxOSwgMjMpLCAxNikpID4+PiA4O1xuICBhcnJbOV0gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0uLi4uLS4uLi4tIyMjIyMjIyMjIyMjXG4gIC8vIChVc2UgXCIvXCIgdG8gYXZvaWQgMzItYml0IHRydW5jYXRpb24gd2hlbiBiaXQtc2hpZnRpbmcgaGlnaC1vcmRlciBieXRlcylcblxuICBhcnJbMTBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDI0LCAzNiksIDE2KSkgLyAweDEwMDAwMDAwMDAwICYgMHhmZjtcbiAgYXJyWzExXSA9IHYgLyAweDEwMDAwMDAwMCAmIDB4ZmY7XG4gIGFyclsxMl0gPSB2ID4+PiAyNCAmIDB4ZmY7XG4gIGFyclsxM10gPSB2ID4+PiAxNiAmIDB4ZmY7XG4gIGFyclsxNF0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzE1XSA9IHYgJiAweGZmO1xuICByZXR1cm4gYXJyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwYXJzZTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/parse.js\n"));

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/regex.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/regex.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JlZ2V4LmpzLmpzIiwibWFwcGluZ3MiOiI7QUFBQSwrREFBZSxjQUFjLEVBQUUsVUFBVSxFQUFFLGVBQWUsRUFBRSxnQkFBZ0IsRUFBRSxVQUFVLEdBQUcseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcmVnZXguanM/NTg3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCAvXig/OlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCkkL2k7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/regex.js\n"));

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/rng.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/rng.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ rng; }\n/* harmony export */ });\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcm5nLmpzPzUyNzYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gSW4gdGhlIGJyb3dzZXIgd2UgdGhlcmVmb3JlXG4vLyByZXF1aXJlIHRoZSBjcnlwdG8gQVBJIGFuZCBkbyBub3Qgc3VwcG9ydCBidWlsdC1pbiBmYWxsYmFjayB0byBsb3dlciBxdWFsaXR5IHJhbmRvbSBudW1iZXJcbi8vIGdlbmVyYXRvcnMgKGxpa2UgTWF0aC5yYW5kb20oKSkuXG52YXIgZ2V0UmFuZG9tVmFsdWVzO1xudmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uIEFsc28sXG4gICAgLy8gZmluZCB0aGUgY29tcGxldGUgaW1wbGVtZW50YXRpb24gb2YgY3J5cHRvIChtc0NyeXB0bykgb24gSUUxMS5cbiAgICBnZXRSYW5kb21WYWx1ZXMgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pIHx8IHR5cGVvZiBtc0NyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PT0gJ2Z1bmN0aW9uJyAmJiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0byk7XG5cbiAgICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/rng.js\n"));

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/sha1.js":
/*!****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/sha1.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (sha1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3NoYTEuanMuanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRDs7QUFFbkQ7O0FBRUEsb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsUUFBUTtBQUMzQjs7QUFFQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixTQUFTO0FBQzdCOztBQUVBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7O0FBRUEsc0JBQXNCLFNBQVM7QUFDL0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixVQUFVO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsK0RBQWUsSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3NoYTEuanM/MWM1NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBZGFwdGVkIGZyb20gQ2hyaXMgVmVuZXNzJyBTSEExIGNvZGUgYXRcbi8vIGh0dHA6Ly93d3cubW92YWJsZS10eXBlLmNvLnVrL3NjcmlwdHMvc2hhMS5odG1sXG5mdW5jdGlvbiBmKHMsIHgsIHksIHopIHtcbiAgc3dpdGNoIChzKSB7XG4gICAgY2FzZSAwOlxuICAgICAgcmV0dXJuIHggJiB5IF4gfnggJiB6O1xuXG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuIHggXiB5IF4gejtcblxuICAgIGNhc2UgMjpcbiAgICAgIHJldHVybiB4ICYgeSBeIHggJiB6IF4geSAmIHo7XG5cbiAgICBjYXNlIDM6XG4gICAgICByZXR1cm4geCBeIHkgXiB6O1xuICB9XG59XG5cbmZ1bmN0aW9uIFJPVEwoeCwgbikge1xuICByZXR1cm4geCA8PCBuIHwgeCA+Pj4gMzIgLSBuO1xufVxuXG5mdW5jdGlvbiBzaGExKGJ5dGVzKSB7XG4gIHZhciBLID0gWzB4NWE4Mjc5OTksIDB4NmVkOWViYTEsIDB4OGYxYmJjZGMsIDB4Y2E2MmMxZDZdO1xuICB2YXIgSCA9IFsweDY3NDUyMzAxLCAweGVmY2RhYjg5LCAweDk4YmFkY2ZlLCAweDEwMzI1NDc2LCAweGMzZDJlMWYwXTtcblxuICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIHZhciBtc2cgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYnl0ZXMpKTsgLy8gVVRGOCBlc2NhcGVcblxuICAgIGJ5dGVzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7ICsraSkge1xuICAgICAgYnl0ZXMucHVzaChtc2cuY2hhckNvZGVBdChpKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGJ5dGVzKSkge1xuICAgIC8vIENvbnZlcnQgQXJyYXktbGlrZSB0byBBcnJheVxuICAgIGJ5dGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYnl0ZXMpO1xuICB9XG5cbiAgYnl0ZXMucHVzaCgweDgwKTtcbiAgdmFyIGwgPSBieXRlcy5sZW5ndGggLyA0ICsgMjtcbiAgdmFyIE4gPSBNYXRoLmNlaWwobCAvIDE2KTtcbiAgdmFyIE0gPSBuZXcgQXJyYXkoTik7XG5cbiAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IE47ICsrX2kpIHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQzMkFycmF5KDE2KTtcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTY7ICsraikge1xuICAgICAgYXJyW2pdID0gYnl0ZXNbX2kgKiA2NCArIGogKiA0XSA8PCAyNCB8IGJ5dGVzW19pICogNjQgKyBqICogNCArIDFdIDw8IDE2IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgMl0gPDwgOCB8IGJ5dGVzW19pICogNjQgKyBqICogNCArIDNdO1xuICAgIH1cblxuICAgIE1bX2ldID0gYXJyO1xuICB9XG5cbiAgTVtOIC0gMV1bMTRdID0gKGJ5dGVzLmxlbmd0aCAtIDEpICogOCAvIE1hdGgucG93KDIsIDMyKTtcbiAgTVtOIC0gMV1bMTRdID0gTWF0aC5mbG9vcihNW04gLSAxXVsxNF0pO1xuICBNW04gLSAxXVsxNV0gPSAoYnl0ZXMubGVuZ3RoIC0gMSkgKiA4ICYgMHhmZmZmZmZmZjtcblxuICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBOOyArK19pMikge1xuICAgIHZhciBXID0gbmV3IFVpbnQzMkFycmF5KDgwKTtcblxuICAgIGZvciAodmFyIHQgPSAwOyB0IDwgMTY7ICsrdCkge1xuICAgICAgV1t0XSA9IE1bX2kyXVt0XTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfdCA9IDE2OyBfdCA8IDgwOyArK190KSB7XG4gICAgICBXW190XSA9IFJPVEwoV1tfdCAtIDNdIF4gV1tfdCAtIDhdIF4gV1tfdCAtIDE0XSBeIFdbX3QgLSAxNl0sIDEpO1xuICAgIH1cblxuICAgIHZhciBhID0gSFswXTtcbiAgICB2YXIgYiA9IEhbMV07XG4gICAgdmFyIGMgPSBIWzJdO1xuICAgIHZhciBkID0gSFszXTtcbiAgICB2YXIgZSA9IEhbNF07XG5cbiAgICBmb3IgKHZhciBfdDIgPSAwOyBfdDIgPCA4MDsgKytfdDIpIHtcbiAgICAgIHZhciBzID0gTWF0aC5mbG9vcihfdDIgLyAyMCk7XG4gICAgICB2YXIgVCA9IFJPVEwoYSwgNSkgKyBmKHMsIGIsIGMsIGQpICsgZSArIEtbc10gKyBXW190Ml0gPj4+IDA7XG4gICAgICBlID0gZDtcbiAgICAgIGQgPSBjO1xuICAgICAgYyA9IFJPVEwoYiwgMzApID4+PiAwO1xuICAgICAgYiA9IGE7XG4gICAgICBhID0gVDtcbiAgICB9XG5cbiAgICBIWzBdID0gSFswXSArIGEgPj4+IDA7XG4gICAgSFsxXSA9IEhbMV0gKyBiID4+PiAwO1xuICAgIEhbMl0gPSBIWzJdICsgYyA+Pj4gMDtcbiAgICBIWzNdID0gSFszXSArIGQgPj4+IDA7XG4gICAgSFs0XSA9IEhbNF0gKyBlID4+PiAwO1xuICB9XG5cbiAgcmV0dXJuIFtIWzBdID4+IDI0ICYgMHhmZiwgSFswXSA+PiAxNiAmIDB4ZmYsIEhbMF0gPj4gOCAmIDB4ZmYsIEhbMF0gJiAweGZmLCBIWzFdID4+IDI0ICYgMHhmZiwgSFsxXSA+PiAxNiAmIDB4ZmYsIEhbMV0gPj4gOCAmIDB4ZmYsIEhbMV0gJiAweGZmLCBIWzJdID4+IDI0ICYgMHhmZiwgSFsyXSA+PiAxNiAmIDB4ZmYsIEhbMl0gPj4gOCAmIDB4ZmYsIEhbMl0gJiAweGZmLCBIWzNdID4+IDI0ICYgMHhmZiwgSFszXSA+PiAxNiAmIDB4ZmYsIEhbM10gPj4gOCAmIDB4ZmYsIEhbM10gJiAweGZmLCBIWzRdID4+IDI0ICYgMHhmZiwgSFs0XSA+PiAxNiAmIDB4ZmYsIEhbNF0gPj4gOCAmIDB4ZmYsIEhbNF0gJiAweGZmXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc2hhMTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/sha1.js\n"));

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/stringify.js":
/*!*********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/stringify.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (stringify);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3N0cmluZ2lmeS5qcy5qcyIsIm1hcHBpbmdzIjoiOztBQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMGdCQUEwZ0I7QUFDMWdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU8sd0RBQVE7QUFDZjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsK0RBQWUsU0FBUyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3N0cmluZ2lmeS5qcz82MzE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xuXG52YXIgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIpIHtcbiAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIHZhciB1dWlkID0gKGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dKS50b0xvd2VyQ2FzZSgpOyAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG5cbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/stringify.js\n"));

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v1.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v1.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"./node_modules/uuid/dist/esm-browser/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n\n // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(b);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (v1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YxLmpzLmpzIiwibWFwcGluZ3MiOiI7OztBQUEyQjtBQUNZLENBQUM7QUFDeEM7QUFDQTtBQUNBOztBQUVBOztBQUVBLGVBQWU7OztBQUdmO0FBQ0Esb0JBQW9COztBQUVwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGO0FBQ2hGO0FBQ0E7O0FBRUE7QUFDQSxzREFBc0QsK0NBQUc7O0FBRXpEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7O0FBR0Esd0VBQXdFO0FBQ3hFOztBQUVBLDRFQUE0RTs7QUFFNUUsOERBQThEOztBQUU5RDtBQUNBO0FBQ0EsSUFBSTtBQUNKOzs7QUFHQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3QkFBd0I7O0FBRXhCLDJCQUEyQjs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7O0FBRXRCO0FBQ0E7QUFDQSx1QkFBdUI7O0FBRXZCLG9DQUFvQzs7QUFFcEMsOEJBQThCOztBQUU5QixrQ0FBa0M7O0FBRWxDLDRCQUE0Qjs7QUFFNUIsa0JBQWtCLE9BQU87QUFDekI7QUFDQTs7QUFFQSxnQkFBZ0IseURBQVM7QUFDekI7O0FBRUEsK0RBQWUsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YxLmpzPzUwYzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJzsgLy8gKipgdjEoKWAgLSBHZW5lcmF0ZSB0aW1lLWJhc2VkIFVVSUQqKlxuLy9cbi8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9MaW9zSy9VVUlELmpzXG4vLyBhbmQgaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3V1aWQuaHRtbFxuXG52YXIgX25vZGVJZDtcblxudmFyIF9jbG9ja3NlcTsgLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG5cblxudmFyIF9sYXN0TVNlY3MgPSAwO1xudmFyIF9sYXN0TlNlY3MgPSAwOyAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkIGZvciBBUEkgZGV0YWlsc1xuXG5mdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgdmFyIGIgPSBidWYgfHwgbmV3IEFycmF5KDE2KTtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBub2RlID0gb3B0aW9ucy5ub2RlIHx8IF9ub2RlSWQ7XG4gIHZhciBjbG9ja3NlcSA9IG9wdGlvbnMuY2xvY2tzZXEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xvY2tzZXEgOiBfY2xvY2tzZXE7IC8vIG5vZGUgYW5kIGNsb2Nrc2VxIG5lZWQgdG8gYmUgaW5pdGlhbGl6ZWQgdG8gcmFuZG9tIHZhbHVlcyBpZiB0aGV5J3JlIG5vdFxuICAvLyBzcGVjaWZpZWQuICBXZSBkbyB0aGlzIGxhemlseSB0byBtaW5pbWl6ZSBpc3N1ZXMgcmVsYXRlZCB0byBpbnN1ZmZpY2llbnRcbiAgLy8gc3lzdGVtIGVudHJvcHkuICBTZWUgIzE4OVxuXG4gIGlmIChub2RlID09IG51bGwgfHwgY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgIHZhciBzZWVkQnl0ZXMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpXG4gICAgICBub2RlID0gX25vZGVJZCA9IFtzZWVkQnl0ZXNbMF0gfCAweDAxLCBzZWVkQnl0ZXNbMV0sIHNlZWRCeXRlc1syXSwgc2VlZEJ5dGVzWzNdLCBzZWVkQnl0ZXNbNF0sIHNlZWRCeXRlc1s1XV07XG4gICAgfVxuXG4gICAgaWYgKGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjIuMiwgcmFuZG9taXplICgxNCBiaXQpIGNsb2Nrc2VxXG4gICAgICBjbG9ja3NlcSA9IF9jbG9ja3NlcSA9IChzZWVkQnl0ZXNbNl0gPDwgOCB8IHNlZWRCeXRlc1s3XSkgJiAweDNmZmY7XG4gICAgfVxuICB9IC8vIFVVSUQgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG4gIC8vICgxNTgyLTEwLTE1IDAwOjAwKS4gIEpTTnVtYmVycyBhcmVuJ3QgcHJlY2lzZSBlbm91Z2ggZm9yIHRoaXMsIHNvXG4gIC8vIHRpbWUgaXMgaGFuZGxlZCBpbnRlcm5hbGx5IGFzICdtc2VjcycgKGludGVnZXIgbWlsbGlzZWNvbmRzKSBhbmQgJ25zZWNzJ1xuICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuXG5cbiAgdmFyIG1zZWNzID0gb3B0aW9ucy5tc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tc2VjcyA6IERhdGUubm93KCk7IC8vIFBlciA0LjIuMS4yLCB1c2UgY291bnQgb2YgdXVpZCdzIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGN1cnJlbnQgY2xvY2tcbiAgLy8gY3ljbGUgdG8gc2ltdWxhdGUgaGlnaGVyIHJlc29sdXRpb24gY2xvY2tcblxuICB2YXIgbnNlY3MgPSBvcHRpb25zLm5zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5zZWNzIDogX2xhc3ROU2VjcyArIDE7IC8vIFRpbWUgc2luY2UgbGFzdCB1dWlkIGNyZWF0aW9uIChpbiBtc2VjcylcblxuICB2YXIgZHQgPSBtc2VjcyAtIF9sYXN0TVNlY3MgKyAobnNlY3MgLSBfbGFzdE5TZWNzKSAvIDEwMDAwOyAvLyBQZXIgNC4yLjEuMiwgQnVtcCBjbG9ja3NlcSBvbiBjbG9jayByZWdyZXNzaW9uXG5cbiAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09PSB1bmRlZmluZWQpIHtcbiAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgfSAvLyBSZXNldCBuc2VjcyBpZiBjbG9jayByZWdyZXNzZXMgKG5ldyBjbG9ja3NlcSkgb3Igd2UndmUgbW92ZWQgb250byBhIG5ld1xuICAvLyB0aW1lIGludGVydmFsXG5cblxuICBpZiAoKGR0IDwgMCB8fCBtc2VjcyA+IF9sYXN0TVNlY3MpICYmIG9wdGlvbnMubnNlY3MgPT09IHVuZGVmaW5lZCkge1xuICAgIG5zZWNzID0gMDtcbiAgfSAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkXG5cblxuICBpZiAobnNlY3MgPj0gMTAwMDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1dWlkLnYxKCk6IENhbid0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlY1wiKTtcbiAgfVxuXG4gIF9sYXN0TVNlY3MgPSBtc2VjcztcbiAgX2xhc3ROU2VjcyA9IG5zZWNzO1xuICBfY2xvY2tzZXEgPSBjbG9ja3NlcTsgLy8gUGVyIDQuMS40IC0gQ29udmVydCBmcm9tIHVuaXggZXBvY2ggdG8gR3JlZ29yaWFuIGVwb2NoXG5cbiAgbXNlY3MgKz0gMTIyMTkyOTI4MDAwMDA7IC8vIGB0aW1lX2xvd2BcblxuICB2YXIgdGwgPSAoKG1zZWNzICYgMHhmZmZmZmZmKSAqIDEwMDAwICsgbnNlY3MpICUgMHgxMDAwMDAwMDA7XG4gIGJbaSsrXSA9IHRsID4+PiAyNCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiAxNiAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdGwgJiAweGZmOyAvLyBgdGltZV9taWRgXG5cbiAgdmFyIHRtaCA9IG1zZWNzIC8gMHgxMDAwMDAwMDAgKiAxMDAwMCAmIDB4ZmZmZmZmZjtcbiAgYltpKytdID0gdG1oID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdG1oICYgMHhmZjsgLy8gYHRpbWVfaGlnaF9hbmRfdmVyc2lvbmBcblxuICBiW2krK10gPSB0bWggPj4+IDI0ICYgMHhmIHwgMHgxMDsgLy8gaW5jbHVkZSB2ZXJzaW9uXG5cbiAgYltpKytdID0gdG1oID4+PiAxNiAmIDB4ZmY7IC8vIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYCAoUGVyIDQuMi4yIC0gaW5jbHVkZSB2YXJpYW50KVxuXG4gIGJbaSsrXSA9IGNsb2Nrc2VxID4+PiA4IHwgMHg4MDsgLy8gYGNsb2NrX3NlcV9sb3dgXG5cbiAgYltpKytdID0gY2xvY2tzZXEgJiAweGZmOyAvLyBgbm9kZWBcblxuICBmb3IgKHZhciBuID0gMDsgbiA8IDY7ICsrbikge1xuICAgIGJbaSArIG5dID0gbm9kZVtuXTtcbiAgfVxuXG4gIHJldHVybiBidWYgfHwgc3RyaW5naWZ5KGIpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2MTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/v1.js\n"));

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v3.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v3.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ \"./node_modules/uuid/dist/esm-browser/v35.js\");\n/* harmony import */ var _md5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./md5.js */ \"./node_modules/uuid/dist/esm-browser/md5.js\");\n\n\nvar v3 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('v3', 0x30, _md5_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (v3);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzLmpzLmpzIiwibWFwcGluZ3MiOiI7OztBQUEyQjtBQUNBO0FBQzNCLFNBQVMsbURBQUcsYUFBYSwrQ0FBRztBQUM1QiwrREFBZSxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjMuanM/MmVkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdjM1IGZyb20gJy4vdjM1LmpzJztcbmltcG9ydCBtZDUgZnJvbSAnLi9tZDUuanMnO1xudmFyIHYzID0gdjM1KCd2MycsIDB4MzAsIG1kNSk7XG5leHBvcnQgZGVmYXVsdCB2MzsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/v3.js\n"));

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v35.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v35.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DNS\": function() { return /* binding */ DNS; },\n/* harmony export */   \"URL\": function() { return /* binding */ URL; },\n/* harmony export */   \"default\": function() { return /* export default binding */ __WEBPACK_DEFAULT_EXPORT__; }\n/* harmony export */ });\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse.js */ \"./node_modules/uuid/dist/esm-browser/parse.js\");\n\n\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nvar DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nvar URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = (0,_parse_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzNS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF1QztBQUNSOztBQUUvQjtBQUNBLDJDQUEyQzs7QUFFM0M7O0FBRUEsa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBOztBQUVBO0FBQ0E7O0FBRU87QUFDQTtBQUNQLDZCQUFlLG9DQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHFEQUFLO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsc0JBQXNCLFFBQVE7QUFDOUI7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFdBQVcseURBQVM7QUFDcEIsSUFBSTs7O0FBR0o7QUFDQSw4QkFBOEI7QUFDOUIsSUFBSSxlQUFlOzs7QUFHbkI7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92MzUuanM/ZDc5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcbmltcG9ydCBwYXJzZSBmcm9tICcuL3BhcnNlLmpzJztcblxuZnVuY3Rpb24gc3RyaW5nVG9CeXRlcyhzdHIpIHtcbiAgc3RyID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpOyAvLyBVVEY4IGVzY2FwZVxuXG4gIHZhciBieXRlcyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgYnl0ZXMucHVzaChzdHIuY2hhckNvZGVBdChpKSk7XG4gIH1cblxuICByZXR1cm4gYnl0ZXM7XG59XG5cbmV4cG9ydCB2YXIgRE5TID0gJzZiYTdiODEwLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCc7XG5leHBvcnQgdmFyIFVSTCA9ICc2YmE3YjgxMS05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG5hbWUsIHZlcnNpb24sIGhhc2hmdW5jKSB7XG4gIGZ1bmN0aW9uIGdlbmVyYXRlVVVJRCh2YWx1ZSwgbmFtZXNwYWNlLCBidWYsIG9mZnNldCkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IHN0cmluZ1RvQnl0ZXModmFsdWUpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbmFtZXNwYWNlID09PSAnc3RyaW5nJykge1xuICAgICAgbmFtZXNwYWNlID0gcGFyc2UobmFtZXNwYWNlKTtcbiAgICB9XG5cbiAgICBpZiAobmFtZXNwYWNlLmxlbmd0aCAhPT0gMTYpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcignTmFtZXNwYWNlIG11c3QgYmUgYXJyYXktbGlrZSAoMTYgaXRlcmFibGUgaW50ZWdlciB2YWx1ZXMsIDAtMjU1KScpO1xuICAgIH0gLy8gQ29tcHV0ZSBoYXNoIG9mIG5hbWVzcGFjZSBhbmQgdmFsdWUsIFBlciA0LjNcbiAgICAvLyBGdXR1cmU6IFVzZSBzcHJlYWQgc3ludGF4IHdoZW4gc3VwcG9ydGVkIG9uIGFsbCBwbGF0Zm9ybXMsIGUuZy4gYGJ5dGVzID1cbiAgICAvLyBoYXNoZnVuYyhbLi4ubmFtZXNwYWNlLCAuLi4gdmFsdWVdKWBcblxuXG4gICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoMTYgKyB2YWx1ZS5sZW5ndGgpO1xuICAgIGJ5dGVzLnNldChuYW1lc3BhY2UpO1xuICAgIGJ5dGVzLnNldCh2YWx1ZSwgbmFtZXNwYWNlLmxlbmd0aCk7XG4gICAgYnl0ZXMgPSBoYXNoZnVuYyhieXRlcyk7XG4gICAgYnl0ZXNbNl0gPSBieXRlc1s2XSAmIDB4MGYgfCB2ZXJzaW9uO1xuICAgIGJ5dGVzWzhdID0gYnl0ZXNbOF0gJiAweDNmIHwgMHg4MDtcblxuICAgIGlmIChidWYpIHtcbiAgICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgICAgYnVmW29mZnNldCArIGldID0gYnl0ZXNbaV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBidWY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cmluZ2lmeShieXRlcyk7XG4gIH0gLy8gRnVuY3Rpb24jbmFtZSBpcyBub3Qgc2V0dGFibGUgb24gc29tZSBwbGF0Zm9ybXMgKCMyNzApXG5cblxuICB0cnkge1xuICAgIGdlbmVyYXRlVVVJRC5uYW1lID0gbmFtZTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gIH0gY2F0Y2ggKGVycikge30gLy8gRm9yIENvbW1vbkpTIGRlZmF1bHQgZXhwb3J0IHN1cHBvcnRcblxuXG4gIGdlbmVyYXRlVVVJRC5ETlMgPSBETlM7XG4gIGdlbmVyYXRlVVVJRC5VUkwgPSBVUkw7XG4gIHJldHVybiBnZW5lcmF0ZVVVSUQ7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/v35.js\n"));

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v4.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v4.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"./node_modules/uuid/dist/esm-browser/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n\n\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(rnds);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (v4);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzLmpzIiwibWFwcGluZ3MiOiI7OztBQUEyQjtBQUNZOztBQUV2QztBQUNBO0FBQ0EsK0NBQStDLCtDQUFHLEtBQUs7O0FBRXZEO0FBQ0EsbUNBQW1DOztBQUVuQztBQUNBOztBQUVBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxTQUFTLHlEQUFTO0FBQ2xCOztBQUVBLCtEQUFlLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcz9mMDU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7IC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcblxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwOyAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcblxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuXG4gIHJldHVybiBzdHJpbmdpZnkocm5kcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHY0OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/v4.js\n"));

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v5.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v5.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ \"./node_modules/uuid/dist/esm-browser/v35.js\");\n/* harmony import */ var _sha1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sha1.js */ \"./node_modules/uuid/dist/esm-browser/sha1.js\");\n\n\nvar v5 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('v5', 0x50, _sha1_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (v5);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y1LmpzLmpzIiwibWFwcGluZ3MiOiI7OztBQUEyQjtBQUNFO0FBQzdCLFNBQVMsbURBQUcsYUFBYSxnREFBSTtBQUM3QiwrREFBZSxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjUuanM/YTA3MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdjM1IGZyb20gJy4vdjM1LmpzJztcbmltcG9ydCBzaGExIGZyb20gJy4vc2hhMS5qcyc7XG52YXIgdjUgPSB2MzUoJ3Y1JywgMHg1MCwgc2hhMSk7XG5leHBvcnQgZGVmYXVsdCB2NTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/v5.js\n"));

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/validate.js":
/*!********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/validate.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \"./node_modules/uuid/dist/esm-browser/regex.js\");\n\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].test(uuid);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (validate);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZhbGlkYXRlLmpzLmpzIiwibWFwcGluZ3MiOiI7O0FBQStCOztBQUUvQjtBQUNBLHFDQUFxQyxzREFBVTtBQUMvQzs7QUFFQSwrREFBZSxRQUFRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdmFsaWRhdGUuanM/NGU5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUkVHRVggZnJvbSAnLi9yZWdleC5qcyc7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlKHV1aWQpIHtcbiAgcmV0dXJuIHR5cGVvZiB1dWlkID09PSAnc3RyaW5nJyAmJiBSRUdFWC50ZXN0KHV1aWQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0ZTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/validate.js\n"));

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/version.js":
/*!*******************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/version.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n\n\nfunction version(uuid) {\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (version);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZlcnNpb24uanMuanMiLCJtYXBwaW5ncyI6Ijs7QUFBcUM7O0FBRXJDO0FBQ0EsT0FBTyx3REFBUTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSwrREFBZSxPQUFPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdmVyc2lvbi5qcz84MmYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcblxuZnVuY3Rpb24gdmVyc2lvbih1dWlkKSB7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgVVVJRCcpO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlSW50KHV1aWQuc3Vic3RyKDE0LCAxKSwgMTYpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2ZXJzaW9uOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/version.js\n"));

/***/ }),

/***/ "./node_modules/webrtc-adapter/src/js/adapter_core.js":
/*!************************************************************!*\
  !*** ./node_modules/webrtc-adapter/src/js/adapter_core.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _adapter_factory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./adapter_factory.js */ \"./node_modules/webrtc-adapter/src/js/adapter_factory.js\");\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n\n\n\n\n\nconst adapter =\n  (0,_adapter_factory_js__WEBPACK_IMPORTED_MODULE_0__.adapterFactory)({window: typeof window === 'undefined' ? undefined : window});\n/* harmony default export */ __webpack_exports__[\"default\"] = (adapter);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL2FkYXB0ZXJfY29yZS5qcy5qcyIsIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRXVDOztBQUVwRDtBQUNBLEVBQUUsbUVBQWMsRUFBRSwyREFBMkQ7QUFDN0UsK0RBQWUsT0FBTyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy93ZWJydGMtYWRhcHRlci9zcmMvanMvYWRhcHRlcl9jb3JlLmpzPzJiODQiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICBDb3B5cmlnaHQgKGMpIDIwMTYgVGhlIFdlYlJUQyBwcm9qZWN0IGF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgQlNELXN0eWxlIGxpY2Vuc2VcbiAqICB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IG9mIHRoZSBzb3VyY2VcbiAqICB0cmVlLlxuICovXG4vKiBlc2xpbnQtZW52IG5vZGUgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge2FkYXB0ZXJGYWN0b3J5fSBmcm9tICcuL2FkYXB0ZXJfZmFjdG9yeS5qcyc7XG5cbmNvbnN0IGFkYXB0ZXIgPVxuICBhZGFwdGVyRmFjdG9yeSh7d2luZG93OiB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IHdpbmRvd30pO1xuZXhwb3J0IGRlZmF1bHQgYWRhcHRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/webrtc-adapter/src/js/adapter_core.js\n"));

/***/ }),

/***/ "./node_modules/webrtc-adapter/src/js/adapter_factory.js":
/*!***************************************************************!*\
  !*** ./node_modules/webrtc-adapter/src/js/adapter_factory.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"adapterFactory\": function() { return /* binding */ adapterFactory; }\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./node_modules/webrtc-adapter/src/js/utils.js\");\n/* harmony import */ var _chrome_chrome_shim__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chrome/chrome_shim */ \"./node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js\");\n/* harmony import */ var _firefox_firefox_shim__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./firefox/firefox_shim */ \"./node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js\");\n/* harmony import */ var _safari_safari_shim__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./safari/safari_shim */ \"./node_modules/webrtc-adapter/src/js/safari/safari_shim.js\");\n/* harmony import */ var _common_shim__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./common_shim */ \"./node_modules/webrtc-adapter/src/js/common_shim.js\");\n/* harmony import */ var sdp__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sdp */ \"./node_modules/sdp/sdp.js\");\n/* harmony import */ var sdp__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(sdp__WEBPACK_IMPORTED_MODULE_5__);\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n\n\n  // Browser shims.\n\n\n\n\n\n\n// Shimming starts here.\nfunction adapterFactory({window} = {}, options = {\n  shimChrome: true,\n  shimFirefox: true,\n  shimSafari: true,\n}) {\n  // Utils.\n  const logging = _utils__WEBPACK_IMPORTED_MODULE_0__.log;\n  const browserDetails = _utils__WEBPACK_IMPORTED_MODULE_0__.detectBrowser(window);\n\n  const adapter = {\n    browserDetails,\n    commonShim: _common_shim__WEBPACK_IMPORTED_MODULE_4__,\n    extractVersion: _utils__WEBPACK_IMPORTED_MODULE_0__.extractVersion,\n    disableLog: _utils__WEBPACK_IMPORTED_MODULE_0__.disableLog,\n    disableWarnings: _utils__WEBPACK_IMPORTED_MODULE_0__.disableWarnings,\n    // Expose sdp as a convenience. For production apps include directly.\n    sdp: sdp__WEBPACK_IMPORTED_MODULE_5__,\n  };\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!_chrome_chrome_shim__WEBPACK_IMPORTED_MODULE_1__ || !_chrome_chrome_shim__WEBPACK_IMPORTED_MODULE_1__.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      if (browserDetails.version === null) {\n        logging('Chrome shim can not determine version, not shimming.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = _chrome_chrome_shim__WEBPACK_IMPORTED_MODULE_1__;\n\n      // Must be called before shimPeerConnection.\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimParameterlessSetLocalDescription(window, browserDetails);\n\n      _chrome_chrome_shim__WEBPACK_IMPORTED_MODULE_1__.shimGetUserMedia(window, browserDetails);\n      _chrome_chrome_shim__WEBPACK_IMPORTED_MODULE_1__.shimMediaStream(window, browserDetails);\n      _chrome_chrome_shim__WEBPACK_IMPORTED_MODULE_1__.shimPeerConnection(window, browserDetails);\n      _chrome_chrome_shim__WEBPACK_IMPORTED_MODULE_1__.shimOnTrack(window, browserDetails);\n      _chrome_chrome_shim__WEBPACK_IMPORTED_MODULE_1__.shimAddTrackRemoveTrack(window, browserDetails);\n      _chrome_chrome_shim__WEBPACK_IMPORTED_MODULE_1__.shimGetSendersWithDtmf(window, browserDetails);\n      _chrome_chrome_shim__WEBPACK_IMPORTED_MODULE_1__.shimGetStats(window, browserDetails);\n      _chrome_chrome_shim__WEBPACK_IMPORTED_MODULE_1__.shimSenderReceiverGetStats(window, browserDetails);\n      _chrome_chrome_shim__WEBPACK_IMPORTED_MODULE_1__.fixNegotiationNeeded(window, browserDetails);\n\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimRTCIceCandidate(window, browserDetails);\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimRTCIceCandidateRelayProtocol(window, browserDetails);\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimConnectionState(window, browserDetails);\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimMaxMessageSize(window, browserDetails);\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimSendThrowTypeError(window, browserDetails);\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    case 'firefox':\n      if (!_firefox_firefox_shim__WEBPACK_IMPORTED_MODULE_2__ || !_firefox_firefox_shim__WEBPACK_IMPORTED_MODULE_2__.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = _firefox_firefox_shim__WEBPACK_IMPORTED_MODULE_2__;\n\n      // Must be called before shimPeerConnection.\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimParameterlessSetLocalDescription(window, browserDetails);\n\n      _firefox_firefox_shim__WEBPACK_IMPORTED_MODULE_2__.shimGetUserMedia(window, browserDetails);\n      _firefox_firefox_shim__WEBPACK_IMPORTED_MODULE_2__.shimPeerConnection(window, browserDetails);\n      _firefox_firefox_shim__WEBPACK_IMPORTED_MODULE_2__.shimOnTrack(window, browserDetails);\n      _firefox_firefox_shim__WEBPACK_IMPORTED_MODULE_2__.shimRemoveStream(window, browserDetails);\n      _firefox_firefox_shim__WEBPACK_IMPORTED_MODULE_2__.shimSenderGetStats(window, browserDetails);\n      _firefox_firefox_shim__WEBPACK_IMPORTED_MODULE_2__.shimReceiverGetStats(window, browserDetails);\n      _firefox_firefox_shim__WEBPACK_IMPORTED_MODULE_2__.shimRTCDataChannel(window, browserDetails);\n      _firefox_firefox_shim__WEBPACK_IMPORTED_MODULE_2__.shimAddTransceiver(window, browserDetails);\n      _firefox_firefox_shim__WEBPACK_IMPORTED_MODULE_2__.shimGetParameters(window, browserDetails);\n      _firefox_firefox_shim__WEBPACK_IMPORTED_MODULE_2__.shimCreateOffer(window, browserDetails);\n      _firefox_firefox_shim__WEBPACK_IMPORTED_MODULE_2__.shimCreateAnswer(window, browserDetails);\n\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimRTCIceCandidate(window, browserDetails);\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimConnectionState(window, browserDetails);\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimMaxMessageSize(window, browserDetails);\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimSendThrowTypeError(window, browserDetails);\n      break;\n    case 'safari':\n      if (!_safari_safari_shim__WEBPACK_IMPORTED_MODULE_3__ || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = _safari_safari_shim__WEBPACK_IMPORTED_MODULE_3__;\n\n      // Must be called before shimCallbackAPI.\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimParameterlessSetLocalDescription(window, browserDetails);\n\n      _safari_safari_shim__WEBPACK_IMPORTED_MODULE_3__.shimRTCIceServerUrls(window, browserDetails);\n      _safari_safari_shim__WEBPACK_IMPORTED_MODULE_3__.shimCreateOfferLegacy(window, browserDetails);\n      _safari_safari_shim__WEBPACK_IMPORTED_MODULE_3__.shimCallbacksAPI(window, browserDetails);\n      _safari_safari_shim__WEBPACK_IMPORTED_MODULE_3__.shimLocalStreamsAPI(window, browserDetails);\n      _safari_safari_shim__WEBPACK_IMPORTED_MODULE_3__.shimRemoteStreamsAPI(window, browserDetails);\n      _safari_safari_shim__WEBPACK_IMPORTED_MODULE_3__.shimTrackEventTransceiver(window, browserDetails);\n      _safari_safari_shim__WEBPACK_IMPORTED_MODULE_3__.shimGetUserMedia(window, browserDetails);\n      _safari_safari_shim__WEBPACK_IMPORTED_MODULE_3__.shimAudioContext(window, browserDetails);\n\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimRTCIceCandidate(window, browserDetails);\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimRTCIceCandidateRelayProtocol(window, browserDetails);\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimMaxMessageSize(window, browserDetails);\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.shimSendThrowTypeError(window, browserDetails);\n      _common_shim__WEBPACK_IMPORTED_MODULE_4__.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL2FkYXB0ZXJfZmFjdG9yeS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2lDOztBQUVqQztBQUNtRDtBQUNHO0FBQ0g7QUFDUDtBQUNqQjs7QUFFM0I7QUFDTyx5QkFBeUIsUUFBUSxJQUFJO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLGtCQUFrQix1Q0FBUztBQUMzQix5QkFBeUIsaURBQW1COztBQUU1QztBQUNBO0FBQ0EsY0FBYztBQUNkLG9CQUFvQixrREFBb0I7QUFDeEMsZ0JBQWdCLDhDQUFnQjtBQUNoQyxxQkFBcUIsbURBQXFCO0FBQzFDO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0RBQVUsS0FBSyxtRUFBNkI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsZ0RBQVU7O0FBRXRDO0FBQ0EsTUFBTSx3RUFBeUM7QUFDL0MsTUFBTSw4RUFBK0M7O0FBRXJELE1BQU0saUVBQTJCO0FBQ2pDLE1BQU0sZ0VBQTBCO0FBQ2hDLE1BQU0sbUVBQTZCO0FBQ25DLE1BQU0sNERBQXNCO0FBQzVCLE1BQU0sd0VBQWtDO0FBQ3hDLE1BQU0sdUVBQWlDO0FBQ3ZDLE1BQU0sNkRBQXVCO0FBQzdCLE1BQU0sMkVBQXFDO0FBQzNDLE1BQU0scUVBQStCOztBQUVyQyxNQUFNLDZEQUE4QjtBQUNwQyxNQUFNLDBFQUEyQztBQUNqRCxNQUFNLDZEQUE4QjtBQUNwQyxNQUFNLDREQUE2QjtBQUNuQyxNQUFNLGdFQUFpQztBQUN2QyxNQUFNLGdFQUFpQztBQUN2QztBQUNBO0FBQ0EsV0FBVyxrREFBVyxLQUFLLHFFQUE4QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0RBQVc7O0FBRXZDO0FBQ0EsTUFBTSx3RUFBeUM7QUFDL0MsTUFBTSw4RUFBK0M7O0FBRXJELE1BQU0sbUVBQTRCO0FBQ2xDLE1BQU0scUVBQThCO0FBQ3BDLE1BQU0sOERBQXVCO0FBQzdCLE1BQU0sbUVBQTRCO0FBQ2xDLE1BQU0scUVBQThCO0FBQ3BDLE1BQU0sdUVBQWdDO0FBQ3RDLE1BQU0scUVBQThCO0FBQ3BDLE1BQU0scUVBQThCO0FBQ3BDLE1BQU0sb0VBQTZCO0FBQ25DLE1BQU0sa0VBQTJCO0FBQ2pDLE1BQU0sbUVBQTRCOztBQUVsQyxNQUFNLDZEQUE4QjtBQUNwQyxNQUFNLDZEQUE4QjtBQUNwQyxNQUFNLDREQUE2QjtBQUNuQyxNQUFNLGdFQUFpQztBQUN2QztBQUNBO0FBQ0EsV0FBVyxnREFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdEQUFVOztBQUV0QztBQUNBLE1BQU0sd0VBQXlDO0FBQy9DLE1BQU0sOEVBQStDOztBQUVyRCxNQUFNLHFFQUErQjtBQUNyQyxNQUFNLHNFQUFnQztBQUN0QyxNQUFNLGlFQUEyQjtBQUNqQyxNQUFNLG9FQUE4QjtBQUNwQyxNQUFNLHFFQUErQjtBQUNyQyxNQUFNLDBFQUFvQztBQUMxQyxNQUFNLGlFQUEyQjtBQUNqQyxNQUFNLGlFQUEyQjs7QUFFakMsTUFBTSw2REFBOEI7QUFDcEMsTUFBTSwwRUFBMkM7QUFDakQsTUFBTSw0REFBNkI7QUFDbkMsTUFBTSxnRUFBaUM7QUFDdkMsTUFBTSxnRUFBaUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy93ZWJydGMtYWRhcHRlci9zcmMvanMvYWRhcHRlcl9mYWN0b3J5LmpzPzQ0OTkiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICBDb3B5cmlnaHQgKGMpIDIwMTYgVGhlIFdlYlJUQyBwcm9qZWN0IGF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgQlNELXN0eWxlIGxpY2Vuc2VcbiAqICB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IG9mIHRoZSBzb3VyY2VcbiAqICB0cmVlLlxuICovXG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuL3V0aWxzJztcblxuICAvLyBCcm93c2VyIHNoaW1zLlxuaW1wb3J0ICogYXMgY2hyb21lU2hpbSBmcm9tICcuL2Nocm9tZS9jaHJvbWVfc2hpbSc7XG5pbXBvcnQgKiBhcyBmaXJlZm94U2hpbSBmcm9tICcuL2ZpcmVmb3gvZmlyZWZveF9zaGltJztcbmltcG9ydCAqIGFzIHNhZmFyaVNoaW0gZnJvbSAnLi9zYWZhcmkvc2FmYXJpX3NoaW0nO1xuaW1wb3J0ICogYXMgY29tbW9uU2hpbSBmcm9tICcuL2NvbW1vbl9zaGltJztcbmltcG9ydCAqIGFzIHNkcCBmcm9tICdzZHAnO1xuXG4vLyBTaGltbWluZyBzdGFydHMgaGVyZS5cbmV4cG9ydCBmdW5jdGlvbiBhZGFwdGVyRmFjdG9yeSh7d2luZG93fSA9IHt9LCBvcHRpb25zID0ge1xuICBzaGltQ2hyb21lOiB0cnVlLFxuICBzaGltRmlyZWZveDogdHJ1ZSxcbiAgc2hpbVNhZmFyaTogdHJ1ZSxcbn0pIHtcbiAgLy8gVXRpbHMuXG4gIGNvbnN0IGxvZ2dpbmcgPSB1dGlscy5sb2c7XG4gIGNvbnN0IGJyb3dzZXJEZXRhaWxzID0gdXRpbHMuZGV0ZWN0QnJvd3Nlcih3aW5kb3cpO1xuXG4gIGNvbnN0IGFkYXB0ZXIgPSB7XG4gICAgYnJvd3NlckRldGFpbHMsXG4gICAgY29tbW9uU2hpbSxcbiAgICBleHRyYWN0VmVyc2lvbjogdXRpbHMuZXh0cmFjdFZlcnNpb24sXG4gICAgZGlzYWJsZUxvZzogdXRpbHMuZGlzYWJsZUxvZyxcbiAgICBkaXNhYmxlV2FybmluZ3M6IHV0aWxzLmRpc2FibGVXYXJuaW5ncyxcbiAgICAvLyBFeHBvc2Ugc2RwIGFzIGEgY29udmVuaWVuY2UuIEZvciBwcm9kdWN0aW9uIGFwcHMgaW5jbHVkZSBkaXJlY3RseS5cbiAgICBzZHAsXG4gIH07XG5cbiAgLy8gU2hpbSBicm93c2VyIGlmIGZvdW5kLlxuICBzd2l0Y2ggKGJyb3dzZXJEZXRhaWxzLmJyb3dzZXIpIHtcbiAgICBjYXNlICdjaHJvbWUnOlxuICAgICAgaWYgKCFjaHJvbWVTaGltIHx8ICFjaHJvbWVTaGltLnNoaW1QZWVyQ29ubmVjdGlvbiB8fFxuICAgICAgICAgICFvcHRpb25zLnNoaW1DaHJvbWUpIHtcbiAgICAgICAgbG9nZ2luZygnQ2hyb21lIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLicpO1xuICAgICAgICByZXR1cm4gYWRhcHRlcjtcbiAgICAgIH1cbiAgICAgIGlmIChicm93c2VyRGV0YWlscy52ZXJzaW9uID09PSBudWxsKSB7XG4gICAgICAgIGxvZ2dpbmcoJ0Nocm9tZSBzaGltIGNhbiBub3QgZGV0ZXJtaW5lIHZlcnNpb24sIG5vdCBzaGltbWluZy4nKTtcbiAgICAgICAgcmV0dXJuIGFkYXB0ZXI7XG4gICAgICB9XG4gICAgICBsb2dnaW5nKCdhZGFwdGVyLmpzIHNoaW1taW5nIGNocm9tZS4nKTtcbiAgICAgIC8vIEV4cG9ydCB0byB0aGUgYWRhcHRlciBnbG9iYWwgb2JqZWN0IHZpc2libGUgaW4gdGhlIGJyb3dzZXIuXG4gICAgICBhZGFwdGVyLmJyb3dzZXJTaGltID0gY2hyb21lU2hpbTtcblxuICAgICAgLy8gTXVzdCBiZSBjYWxsZWQgYmVmb3JlIHNoaW1QZWVyQ29ubmVjdGlvbi5cbiAgICAgIGNvbW1vblNoaW0uc2hpbUFkZEljZUNhbmRpZGF0ZU51bGxPckVtcHR5KHdpbmRvdywgYnJvd3NlckRldGFpbHMpO1xuICAgICAgY29tbW9uU2hpbS5zaGltUGFyYW1ldGVybGVzc1NldExvY2FsRGVzY3JpcHRpb24od2luZG93LCBicm93c2VyRGV0YWlscyk7XG5cbiAgICAgIGNocm9tZVNoaW0uc2hpbUdldFVzZXJNZWRpYSh3aW5kb3csIGJyb3dzZXJEZXRhaWxzKTtcbiAgICAgIGNocm9tZVNoaW0uc2hpbU1lZGlhU3RyZWFtKHdpbmRvdywgYnJvd3NlckRldGFpbHMpO1xuICAgICAgY2hyb21lU2hpbS5zaGltUGVlckNvbm5lY3Rpb24od2luZG93LCBicm93c2VyRGV0YWlscyk7XG4gICAgICBjaHJvbWVTaGltLnNoaW1PblRyYWNrKHdpbmRvdywgYnJvd3NlckRldGFpbHMpO1xuICAgICAgY2hyb21lU2hpbS5zaGltQWRkVHJhY2tSZW1vdmVUcmFjayh3aW5kb3csIGJyb3dzZXJEZXRhaWxzKTtcbiAgICAgIGNocm9tZVNoaW0uc2hpbUdldFNlbmRlcnNXaXRoRHRtZih3aW5kb3csIGJyb3dzZXJEZXRhaWxzKTtcbiAgICAgIGNocm9tZVNoaW0uc2hpbUdldFN0YXRzKHdpbmRvdywgYnJvd3NlckRldGFpbHMpO1xuICAgICAgY2hyb21lU2hpbS5zaGltU2VuZGVyUmVjZWl2ZXJHZXRTdGF0cyh3aW5kb3csIGJyb3dzZXJEZXRhaWxzKTtcbiAgICAgIGNocm9tZVNoaW0uZml4TmVnb3RpYXRpb25OZWVkZWQod2luZG93LCBicm93c2VyRGV0YWlscyk7XG5cbiAgICAgIGNvbW1vblNoaW0uc2hpbVJUQ0ljZUNhbmRpZGF0ZSh3aW5kb3csIGJyb3dzZXJEZXRhaWxzKTtcbiAgICAgIGNvbW1vblNoaW0uc2hpbVJUQ0ljZUNhbmRpZGF0ZVJlbGF5UHJvdG9jb2wod2luZG93LCBicm93c2VyRGV0YWlscyk7XG4gICAgICBjb21tb25TaGltLnNoaW1Db25uZWN0aW9uU3RhdGUod2luZG93LCBicm93c2VyRGV0YWlscyk7XG4gICAgICBjb21tb25TaGltLnNoaW1NYXhNZXNzYWdlU2l6ZSh3aW5kb3csIGJyb3dzZXJEZXRhaWxzKTtcbiAgICAgIGNvbW1vblNoaW0uc2hpbVNlbmRUaHJvd1R5cGVFcnJvcih3aW5kb3csIGJyb3dzZXJEZXRhaWxzKTtcbiAgICAgIGNvbW1vblNoaW0ucmVtb3ZlRXh0bWFwQWxsb3dNaXhlZCh3aW5kb3csIGJyb3dzZXJEZXRhaWxzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2ZpcmVmb3gnOlxuICAgICAgaWYgKCFmaXJlZm94U2hpbSB8fCAhZmlyZWZveFNoaW0uc2hpbVBlZXJDb25uZWN0aW9uIHx8XG4gICAgICAgICAgIW9wdGlvbnMuc2hpbUZpcmVmb3gpIHtcbiAgICAgICAgbG9nZ2luZygnRmlyZWZveCBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS4nKTtcbiAgICAgICAgcmV0dXJuIGFkYXB0ZXI7XG4gICAgICB9XG4gICAgICBsb2dnaW5nKCdhZGFwdGVyLmpzIHNoaW1taW5nIGZpcmVmb3guJyk7XG4gICAgICAvLyBFeHBvcnQgdG8gdGhlIGFkYXB0ZXIgZ2xvYmFsIG9iamVjdCB2aXNpYmxlIGluIHRoZSBicm93c2VyLlxuICAgICAgYWRhcHRlci5icm93c2VyU2hpbSA9IGZpcmVmb3hTaGltO1xuXG4gICAgICAvLyBNdXN0IGJlIGNhbGxlZCBiZWZvcmUgc2hpbVBlZXJDb25uZWN0aW9uLlxuICAgICAgY29tbW9uU2hpbS5zaGltQWRkSWNlQ2FuZGlkYXRlTnVsbE9yRW1wdHkod2luZG93LCBicm93c2VyRGV0YWlscyk7XG4gICAgICBjb21tb25TaGltLnNoaW1QYXJhbWV0ZXJsZXNzU2V0TG9jYWxEZXNjcmlwdGlvbih3aW5kb3csIGJyb3dzZXJEZXRhaWxzKTtcblxuICAgICAgZmlyZWZveFNoaW0uc2hpbUdldFVzZXJNZWRpYSh3aW5kb3csIGJyb3dzZXJEZXRhaWxzKTtcbiAgICAgIGZpcmVmb3hTaGltLnNoaW1QZWVyQ29ubmVjdGlvbih3aW5kb3csIGJyb3dzZXJEZXRhaWxzKTtcbiAgICAgIGZpcmVmb3hTaGltLnNoaW1PblRyYWNrKHdpbmRvdywgYnJvd3NlckRldGFpbHMpO1xuICAgICAgZmlyZWZveFNoaW0uc2hpbVJlbW92ZVN0cmVhbSh3aW5kb3csIGJyb3dzZXJEZXRhaWxzKTtcbiAgICAgIGZpcmVmb3hTaGltLnNoaW1TZW5kZXJHZXRTdGF0cyh3aW5kb3csIGJyb3dzZXJEZXRhaWxzKTtcbiAgICAgIGZpcmVmb3hTaGltLnNoaW1SZWNlaXZlckdldFN0YXRzKHdpbmRvdywgYnJvd3NlckRldGFpbHMpO1xuICAgICAgZmlyZWZveFNoaW0uc2hpbVJUQ0RhdGFDaGFubmVsKHdpbmRvdywgYnJvd3NlckRldGFpbHMpO1xuICAgICAgZmlyZWZveFNoaW0uc2hpbUFkZFRyYW5zY2VpdmVyKHdpbmRvdywgYnJvd3NlckRldGFpbHMpO1xuICAgICAgZmlyZWZveFNoaW0uc2hpbUdldFBhcmFtZXRlcnMod2luZG93LCBicm93c2VyRGV0YWlscyk7XG4gICAgICBmaXJlZm94U2hpbS5zaGltQ3JlYXRlT2ZmZXIod2luZG93LCBicm93c2VyRGV0YWlscyk7XG4gICAgICBmaXJlZm94U2hpbS5zaGltQ3JlYXRlQW5zd2VyKHdpbmRvdywgYnJvd3NlckRldGFpbHMpO1xuXG4gICAgICBjb21tb25TaGltLnNoaW1SVENJY2VDYW5kaWRhdGUod2luZG93LCBicm93c2VyRGV0YWlscyk7XG4gICAgICBjb21tb25TaGltLnNoaW1Db25uZWN0aW9uU3RhdGUod2luZG93LCBicm93c2VyRGV0YWlscyk7XG4gICAgICBjb21tb25TaGltLnNoaW1NYXhNZXNzYWdlU2l6ZSh3aW5kb3csIGJyb3dzZXJEZXRhaWxzKTtcbiAgICAgIGNvbW1vblNoaW0uc2hpbVNlbmRUaHJvd1R5cGVFcnJvcih3aW5kb3csIGJyb3dzZXJEZXRhaWxzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NhZmFyaSc6XG4gICAgICBpZiAoIXNhZmFyaVNoaW0gfHwgIW9wdGlvbnMuc2hpbVNhZmFyaSkge1xuICAgICAgICBsb2dnaW5nKCdTYWZhcmkgc2hpbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBhZGFwdGVyIHJlbGVhc2UuJyk7XG4gICAgICAgIHJldHVybiBhZGFwdGVyO1xuICAgICAgfVxuICAgICAgbG9nZ2luZygnYWRhcHRlci5qcyBzaGltbWluZyBzYWZhcmkuJyk7XG4gICAgICAvLyBFeHBvcnQgdG8gdGhlIGFkYXB0ZXIgZ2xvYmFsIG9iamVjdCB2aXNpYmxlIGluIHRoZSBicm93c2VyLlxuICAgICAgYWRhcHRlci5icm93c2VyU2hpbSA9IHNhZmFyaVNoaW07XG5cbiAgICAgIC8vIE11c3QgYmUgY2FsbGVkIGJlZm9yZSBzaGltQ2FsbGJhY2tBUEkuXG4gICAgICBjb21tb25TaGltLnNoaW1BZGRJY2VDYW5kaWRhdGVOdWxsT3JFbXB0eSh3aW5kb3csIGJyb3dzZXJEZXRhaWxzKTtcbiAgICAgIGNvbW1vblNoaW0uc2hpbVBhcmFtZXRlcmxlc3NTZXRMb2NhbERlc2NyaXB0aW9uKHdpbmRvdywgYnJvd3NlckRldGFpbHMpO1xuXG4gICAgICBzYWZhcmlTaGltLnNoaW1SVENJY2VTZXJ2ZXJVcmxzKHdpbmRvdywgYnJvd3NlckRldGFpbHMpO1xuICAgICAgc2FmYXJpU2hpbS5zaGltQ3JlYXRlT2ZmZXJMZWdhY3kod2luZG93LCBicm93c2VyRGV0YWlscyk7XG4gICAgICBzYWZhcmlTaGltLnNoaW1DYWxsYmFja3NBUEkod2luZG93LCBicm93c2VyRGV0YWlscyk7XG4gICAgICBzYWZhcmlTaGltLnNoaW1Mb2NhbFN0cmVhbXNBUEkod2luZG93LCBicm93c2VyRGV0YWlscyk7XG4gICAgICBzYWZhcmlTaGltLnNoaW1SZW1vdGVTdHJlYW1zQVBJKHdpbmRvdywgYnJvd3NlckRldGFpbHMpO1xuICAgICAgc2FmYXJpU2hpbS5zaGltVHJhY2tFdmVudFRyYW5zY2VpdmVyKHdpbmRvdywgYnJvd3NlckRldGFpbHMpO1xuICAgICAgc2FmYXJpU2hpbS5zaGltR2V0VXNlck1lZGlhKHdpbmRvdywgYnJvd3NlckRldGFpbHMpO1xuICAgICAgc2FmYXJpU2hpbS5zaGltQXVkaW9Db250ZXh0KHdpbmRvdywgYnJvd3NlckRldGFpbHMpO1xuXG4gICAgICBjb21tb25TaGltLnNoaW1SVENJY2VDYW5kaWRhdGUod2luZG93LCBicm93c2VyRGV0YWlscyk7XG4gICAgICBjb21tb25TaGltLnNoaW1SVENJY2VDYW5kaWRhdGVSZWxheVByb3RvY29sKHdpbmRvdywgYnJvd3NlckRldGFpbHMpO1xuICAgICAgY29tbW9uU2hpbS5zaGltTWF4TWVzc2FnZVNpemUod2luZG93LCBicm93c2VyRGV0YWlscyk7XG4gICAgICBjb21tb25TaGltLnNoaW1TZW5kVGhyb3dUeXBlRXJyb3Iod2luZG93LCBicm93c2VyRGV0YWlscyk7XG4gICAgICBjb21tb25TaGltLnJlbW92ZUV4dG1hcEFsbG93TWl4ZWQod2luZG93LCBicm93c2VyRGV0YWlscyk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgbG9nZ2luZygnVW5zdXBwb3J0ZWQgYnJvd3NlciEnKTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIGFkYXB0ZXI7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/webrtc-adapter/src/js/adapter_factory.js\n"));

/***/ }),

/***/ "./node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js":
/*!******************************************************************!*\
  !*** ./node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"fixNegotiationNeeded\": function() { return /* binding */ fixNegotiationNeeded; },\n/* harmony export */   \"shimAddTrackRemoveTrack\": function() { return /* binding */ shimAddTrackRemoveTrack; },\n/* harmony export */   \"shimAddTrackRemoveTrackWithNative\": function() { return /* binding */ shimAddTrackRemoveTrackWithNative; },\n/* harmony export */   \"shimGetDisplayMedia\": function() { return /* reexport safe */ _getdisplaymedia__WEBPACK_IMPORTED_MODULE_2__.shimGetDisplayMedia; },\n/* harmony export */   \"shimGetSendersWithDtmf\": function() { return /* binding */ shimGetSendersWithDtmf; },\n/* harmony export */   \"shimGetStats\": function() { return /* binding */ shimGetStats; },\n/* harmony export */   \"shimGetUserMedia\": function() { return /* reexport safe */ _getusermedia__WEBPACK_IMPORTED_MODULE_1__.shimGetUserMedia; },\n/* harmony export */   \"shimMediaStream\": function() { return /* binding */ shimMediaStream; },\n/* harmony export */   \"shimOnTrack\": function() { return /* binding */ shimOnTrack; },\n/* harmony export */   \"shimPeerConnection\": function() { return /* binding */ shimPeerConnection; },\n/* harmony export */   \"shimSenderReceiverGetStats\": function() { return /* binding */ shimSenderReceiverGetStats; }\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"./node_modules/webrtc-adapter/src/js/utils.js\");\n/* harmony import */ var _getusermedia__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getusermedia */ \"./node_modules/webrtc-adapter/src/js/chrome/getusermedia.js\");\n/* harmony import */ var _getdisplaymedia__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getdisplaymedia */ \"./node_modules/webrtc-adapter/src/js/chrome/getdisplaymedia.js\");\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n\n\n\n\n\nfunction shimMediaStream(window) {\n  window.MediaStream = window.MediaStream || window.webkitMediaStream;\n}\n\nfunction shimOnTrack(window) {\n  if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n      window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n      get() {\n        return this._ontrack;\n      },\n      set(f) {\n        if (this._ontrack) {\n          this.removeEventListener('track', this._ontrack);\n        }\n        this.addEventListener('track', this._ontrack = f);\n      },\n      enumerable: true,\n      configurable: true\n    });\n    const origSetRemoteDescription =\n        window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n      function setRemoteDescription() {\n        if (!this._ontrackpoly) {\n          this._ontrackpoly = (e) => {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', te => {\n              let receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = this.getReceivers()\n                  .find(r => r.track && r.track.id === te.track.id);\n              } else {\n                receiver = {track: te.track};\n              }\n\n              const event = new Event('track');\n              event.track = te.track;\n              event.receiver = receiver;\n              event.transceiver = {receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(track => {\n              let receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = this.getReceivers()\n                  .find(r => r.track && r.track.id === track.id);\n              } else {\n                receiver = {track};\n              }\n              const event = new Event('track');\n              event.track = track;\n              event.receiver = receiver;\n              event.transceiver = {receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            });\n          };\n          this.addEventListener('addstream', this._ontrackpoly);\n        }\n        return origSetRemoteDescription.apply(this, arguments);\n      };\n  } else {\n    // even if RTCRtpTransceiver is in window, it is only used and\n    // emitted in unified-plan. Unfortunately this means we need\n    // to unconditionally wrap the event.\n    _utils_js__WEBPACK_IMPORTED_MODULE_0__.wrapPeerConnectionEvent(window, 'track', e => {\n      if (!e.transceiver) {\n        Object.defineProperty(e, 'transceiver',\n          {value: {receiver: e.receiver}});\n      }\n      return e;\n    });\n  }\n}\n\nfunction shimGetSendersWithDtmf(window) {\n  // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n  if (typeof window === 'object' && window.RTCPeerConnection &&\n      !('getSenders' in window.RTCPeerConnection.prototype) &&\n      'createDTMFSender' in window.RTCPeerConnection.prototype) {\n    const shimSenderWithDtmf = function(pc, track) {\n      return {\n        track,\n        get dtmf() {\n          if (this._dtmf === undefined) {\n            if (track.kind === 'audio') {\n              this._dtmf = pc.createDTMFSender(track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        },\n        _pc: pc\n      };\n    };\n\n    // augment addTrack when getSenders is not available.\n    if (!window.RTCPeerConnection.prototype.getSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        this._senders = this._senders || [];\n        return this._senders.slice(); // return a copy of the internal state.\n      };\n      const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addTrack =\n        function addTrack(track, stream) {\n          let sender = origAddTrack.apply(this, arguments);\n          if (!sender) {\n            sender = shimSenderWithDtmf(this, track);\n            this._senders.push(sender);\n          }\n          return sender;\n        };\n\n      const origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n      window.RTCPeerConnection.prototype.removeTrack =\n        function removeTrack(sender) {\n          origRemoveTrack.apply(this, arguments);\n          const idx = this._senders.indexOf(sender);\n          if (idx !== -1) {\n            this._senders.splice(idx, 1);\n          }\n        };\n    }\n    const origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      this._senders = this._senders || [];\n      origAddStream.apply(this, [stream]);\n      stream.getTracks().forEach(track => {\n        this._senders.push(shimSenderWithDtmf(this, track));\n      });\n    };\n\n    const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream =\n      function removeStream(stream) {\n        this._senders = this._senders || [];\n        origRemoveStream.apply(this, [stream]);\n\n        stream.getTracks().forEach(track => {\n          const sender = this._senders.find(s => s.track === track);\n          if (sender) { // remove sender\n            this._senders.splice(this._senders.indexOf(sender), 1);\n          }\n        });\n      };\n  } else if (typeof window === 'object' && window.RTCPeerConnection &&\n             'getSenders' in window.RTCPeerConnection.prototype &&\n             'createDTMFSender' in window.RTCPeerConnection.prototype &&\n             window.RTCRtpSender &&\n             !('dtmf' in window.RTCRtpSender.prototype)) {\n    const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      const senders = origGetSenders.apply(this, []);\n      senders.forEach(sender => sender._pc = this);\n      return senders;\n    };\n\n    Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n      get() {\n        if (this._dtmf === undefined) {\n          if (this.track.kind === 'audio') {\n            this._dtmf = this._pc.createDTMFSender(this.track);\n          } else {\n            this._dtmf = null;\n          }\n        }\n        return this._dtmf;\n      }\n    });\n  }\n}\n\nfunction shimGetStats(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  const origGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    const [selector, onSucc, onErr] = arguments;\n\n    // If selector is a function then we are in the old style stats so just\n    // pass back the original getStats format to avoid breaking old users.\n    if (arguments.length > 0 && typeof selector === 'function') {\n      return origGetStats.apply(this, arguments);\n    }\n\n    // When spec-style getStats is supported, return those when called with\n    // either no arguments or the selector argument is null.\n    if (origGetStats.length === 0 && (arguments.length === 0 ||\n        typeof selector !== 'function')) {\n      return origGetStats.apply(this, []);\n    }\n\n    const fixChromeStats_ = function(response) {\n      const standardReport = {};\n      const reports = response.result();\n      reports.forEach(report => {\n        const standardStats = {\n          id: report.id,\n          timestamp: report.timestamp,\n          type: {\n            localcandidate: 'local-candidate',\n            remotecandidate: 'remote-candidate'\n          }[report.type] || report.type\n        };\n        report.names().forEach(name => {\n          standardStats[name] = report.stat(name);\n        });\n        standardReport[standardStats.id] = standardStats;\n      });\n\n      return standardReport;\n    };\n\n    // shim getStats with maplike support\n    const makeMapStats = function(stats) {\n      return new Map(Object.keys(stats).map(key => [key, stats[key]]));\n    };\n\n    if (arguments.length >= 2) {\n      const successCallbackWrapper_ = function(response) {\n        onSucc(makeMapStats(fixChromeStats_(response)));\n      };\n\n      return origGetStats.apply(this, [successCallbackWrapper_,\n        selector]);\n    }\n\n    // promise-support\n    return new Promise((resolve, reject) => {\n      origGetStats.apply(this, [\n        function(response) {\n          resolve(makeMapStats(fixChromeStats_(response)));\n        }, reject]);\n    }).then(onSucc, onErr);\n  };\n}\n\nfunction shimSenderReceiverGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender && window.RTCRtpReceiver)) {\n    return;\n  }\n\n  // shim sender stats.\n  if (!('getStats' in window.RTCRtpSender.prototype)) {\n    const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    if (origGetSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        const senders = origGetSenders.apply(this, []);\n        senders.forEach(sender => sender._pc = this);\n        return senders;\n      };\n    }\n\n    const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n    if (origAddTrack) {\n      window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n        const sender = origAddTrack.apply(this, arguments);\n        sender._pc = this;\n        return sender;\n      };\n    }\n    window.RTCRtpSender.prototype.getStats = function getStats() {\n      const sender = this;\n      return this._pc.getStats().then(result =>\n        /* Note: this will include stats of all senders that\n         *   send a track with the same id as sender.track as\n         *   it is not possible to identify the RTCRtpSender.\n         */\n        _utils_js__WEBPACK_IMPORTED_MODULE_0__.filterStats(result, sender.track, true));\n    };\n  }\n\n  // shim receiver stats.\n  if (!('getStats' in window.RTCRtpReceiver.prototype)) {\n    const origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n    if (origGetReceivers) {\n      window.RTCPeerConnection.prototype.getReceivers =\n        function getReceivers() {\n          const receivers = origGetReceivers.apply(this, []);\n          receivers.forEach(receiver => receiver._pc = this);\n          return receivers;\n        };\n    }\n    _utils_js__WEBPACK_IMPORTED_MODULE_0__.wrapPeerConnectionEvent(window, 'track', e => {\n      e.receiver._pc = e.srcElement;\n      return e;\n    });\n    window.RTCRtpReceiver.prototype.getStats = function getStats() {\n      const receiver = this;\n      return this._pc.getStats().then(result =>\n        _utils_js__WEBPACK_IMPORTED_MODULE_0__.filterStats(result, receiver.track, false));\n    };\n  }\n\n  if (!('getStats' in window.RTCRtpSender.prototype &&\n      'getStats' in window.RTCRtpReceiver.prototype)) {\n    return;\n  }\n\n  // shim RTCPeerConnection.getStats(track).\n  const origGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    if (arguments.length > 0 &&\n        arguments[0] instanceof window.MediaStreamTrack) {\n      const track = arguments[0];\n      let sender;\n      let receiver;\n      let err;\n      this.getSenders().forEach(s => {\n        if (s.track === track) {\n          if (sender) {\n            err = true;\n          } else {\n            sender = s;\n          }\n        }\n      });\n      this.getReceivers().forEach(r => {\n        if (r.track === track) {\n          if (receiver) {\n            err = true;\n          } else {\n            receiver = r;\n          }\n        }\n        return r.track === track;\n      });\n      if (err || (sender && receiver)) {\n        return Promise.reject(new DOMException(\n          'There are more than one sender or receiver for the track.',\n          'InvalidAccessError'));\n      } else if (sender) {\n        return sender.getStats();\n      } else if (receiver) {\n        return receiver.getStats();\n      }\n      return Promise.reject(new DOMException(\n        'There is no sender or receiver for the track.',\n        'InvalidAccessError'));\n    }\n    return origGetStats.apply(this, arguments);\n  };\n}\n\nfunction shimAddTrackRemoveTrackWithNative(window) {\n  // shim addTrack/removeTrack with native variants in order to make\n  // the interactions with legacy getLocalStreams behave as in other browsers.\n  // Keeps a mapping stream.id => [stream, rtpsenders...]\n  window.RTCPeerConnection.prototype.getLocalStreams =\n    function getLocalStreams() {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      return Object.keys(this._shimmedLocalStreams)\n        .map(streamId => this._shimmedLocalStreams[streamId][0]);\n    };\n\n  const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  window.RTCPeerConnection.prototype.addTrack =\n    function addTrack(track, stream) {\n      if (!stream) {\n        return origAddTrack.apply(this, arguments);\n      }\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      const sender = origAddTrack.apply(this, arguments);\n      if (!this._shimmedLocalStreams[stream.id]) {\n        this._shimmedLocalStreams[stream.id] = [stream, sender];\n      } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {\n        this._shimmedLocalStreams[stream.id].push(sender);\n      }\n      return sender;\n    };\n\n  const origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n    stream.getTracks().forEach(track => {\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n    });\n    const existingSenders = this.getSenders();\n    origAddStream.apply(this, arguments);\n    const newSenders = this.getSenders()\n      .filter(newSender => existingSenders.indexOf(newSender) === -1);\n    this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);\n  };\n\n  const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      delete this._shimmedLocalStreams[stream.id];\n      return origRemoveStream.apply(this, arguments);\n    };\n\n  const origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n  window.RTCPeerConnection.prototype.removeTrack =\n    function removeTrack(sender) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      if (sender) {\n        Object.keys(this._shimmedLocalStreams).forEach(streamId => {\n          const idx = this._shimmedLocalStreams[streamId].indexOf(sender);\n          if (idx !== -1) {\n            this._shimmedLocalStreams[streamId].splice(idx, 1);\n          }\n          if (this._shimmedLocalStreams[streamId].length === 1) {\n            delete this._shimmedLocalStreams[streamId];\n          }\n        });\n      }\n      return origRemoveTrack.apply(this, arguments);\n    };\n}\n\nfunction shimAddTrackRemoveTrack(window, browserDetails) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  // shim addTrack and removeTrack.\n  if (window.RTCPeerConnection.prototype.addTrack &&\n      browserDetails.version >= 65) {\n    return shimAddTrackRemoveTrackWithNative(window);\n  }\n\n  // also shim pc.getLocalStreams when addTrack is shimmed\n  // to return the original streams.\n  const origGetLocalStreams = window.RTCPeerConnection.prototype\n      .getLocalStreams;\n  window.RTCPeerConnection.prototype.getLocalStreams =\n    function getLocalStreams() {\n      const nativeStreams = origGetLocalStreams.apply(this);\n      this._reverseStreams = this._reverseStreams || {};\n      return nativeStreams.map(stream => this._reverseStreams[stream.id]);\n    };\n\n  const origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    this._streams = this._streams || {};\n    this._reverseStreams = this._reverseStreams || {};\n\n    stream.getTracks().forEach(track => {\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n    });\n    // Add identity mapping for consistency with addTrack.\n    // Unless this is being used with a stream from addTrack.\n    if (!this._reverseStreams[stream.id]) {\n      const newStream = new window.MediaStream(stream.getTracks());\n      this._streams[stream.id] = newStream;\n      this._reverseStreams[newStream.id] = stream;\n      stream = newStream;\n    }\n    origAddStream.apply(this, [stream]);\n  };\n\n  const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      this._streams = this._streams || {};\n      this._reverseStreams = this._reverseStreams || {};\n\n      origRemoveStream.apply(this, [(this._streams[stream.id] || stream)]);\n      delete this._reverseStreams[(this._streams[stream.id] ?\n          this._streams[stream.id].id : stream.id)];\n      delete this._streams[stream.id];\n    };\n\n  window.RTCPeerConnection.prototype.addTrack =\n    function addTrack(track, stream) {\n      if (this.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      const streams = [].slice.call(arguments, 1);\n      if (streams.length !== 1 ||\n          !streams[0].getTracks().find(t => t === track)) {\n        // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\n          'The adapter.js addTrack polyfill only supports a single ' +\n          ' stream which is associated with the specified track.',\n          'NotSupportedError');\n      }\n\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n\n      this._streams = this._streams || {};\n      this._reverseStreams = this._reverseStreams || {};\n      const oldStream = this._streams[stream.id];\n      if (oldStream) {\n        // this is using odd Chrome behaviour, use with caution:\n        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n        // Note: we rely on the high-level addTrack/dtmf shim to\n        // create the sender with a dtmf sender.\n        oldStream.addTrack(track);\n\n        // Trigger ONN async.\n        Promise.resolve().then(() => {\n          this.dispatchEvent(new Event('negotiationneeded'));\n        });\n      } else {\n        const newStream = new window.MediaStream([track]);\n        this._streams[stream.id] = newStream;\n        this._reverseStreams[newStream.id] = stream;\n        this.addStream(newStream);\n      }\n      return this.getSenders().find(s => s.track === track);\n    };\n\n  // replace the internal stream id with the external one and\n  // vice versa.\n  function replaceInternalStreamId(pc, description) {\n    let sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(internalId => {\n      const externalStream = pc._reverseStreams[internalId];\n      const internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n          externalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp\n    });\n  }\n  function replaceExternalStreamId(pc, description) {\n    let sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(internalId => {\n      const externalStream = pc._reverseStreams[internalId];\n      const internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n          internalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp\n    });\n  }\n  ['createOffer', 'createAnswer'].forEach(function(method) {\n    const nativeMethod = window.RTCPeerConnection.prototype[method];\n    const methodObj = {[method]() {\n      const args = arguments;\n      const isLegacyCall = arguments.length &&\n          typeof arguments[0] === 'function';\n      if (isLegacyCall) {\n        return nativeMethod.apply(this, [\n          (description) => {\n            const desc = replaceInternalStreamId(this, description);\n            args[0].apply(null, [desc]);\n          },\n          (err) => {\n            if (args[1]) {\n              args[1].apply(null, err);\n            }\n          }, arguments[2]\n        ]);\n      }\n      return nativeMethod.apply(this, arguments)\n      .then(description => replaceInternalStreamId(this, description));\n    }};\n    window.RTCPeerConnection.prototype[method] = methodObj[method];\n  });\n\n  const origSetLocalDescription =\n      window.RTCPeerConnection.prototype.setLocalDescription;\n  window.RTCPeerConnection.prototype.setLocalDescription =\n    function setLocalDescription() {\n      if (!arguments.length || !arguments[0].type) {\n        return origSetLocalDescription.apply(this, arguments);\n      }\n      arguments[0] = replaceExternalStreamId(this, arguments[0]);\n      return origSetLocalDescription.apply(this, arguments);\n    };\n\n  // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n  const origLocalDescription = Object.getOwnPropertyDescriptor(\n      window.RTCPeerConnection.prototype, 'localDescription');\n  Object.defineProperty(window.RTCPeerConnection.prototype,\n      'localDescription', {\n        get() {\n          const description = origLocalDescription.get.apply(this);\n          if (description.type === '') {\n            return description;\n          }\n          return replaceInternalStreamId(this, description);\n        }\n      });\n\n  window.RTCPeerConnection.prototype.removeTrack =\n    function removeTrack(sender) {\n      if (this.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      // We can not yet check for sender instanceof RTCRtpSender\n      // since we shim RTPSender. So we check if sender._pc is set.\n      if (!sender._pc) {\n        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n            'does not implement interface RTCRtpSender.', 'TypeError');\n      }\n      const isLocal = sender._pc === this;\n      if (!isLocal) {\n        throw new DOMException('Sender was not created by this connection.',\n            'InvalidAccessError');\n      }\n\n      // Search for the native stream the senders track belongs to.\n      this._streams = this._streams || {};\n      let stream;\n      Object.keys(this._streams).forEach(streamid => {\n        const hasTrack = this._streams[streamid].getTracks()\n          .find(track => sender.track === track);\n        if (hasTrack) {\n          stream = this._streams[streamid];\n        }\n      });\n\n      if (stream) {\n        if (stream.getTracks().length === 1) {\n          // if this is the last track of the stream, remove the stream. This\n          // takes care of any shimmed _senders.\n          this.removeStream(this._reverseStreams[stream.id]);\n        } else {\n          // relying on the same odd chrome behaviour as above.\n          stream.removeTrack(sender.track);\n        }\n        this.dispatchEvent(new Event('negotiationneeded'));\n      }\n    };\n}\n\nfunction shimPeerConnection(window, browserDetails) {\n  if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.webkitRTCPeerConnection;\n  }\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n  if (browserDetails.version < 53) {\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          const nativeMethod = window.RTCPeerConnection.prototype[method];\n          const methodObj = {[method]() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          }};\n          window.RTCPeerConnection.prototype[method] = methodObj[method];\n        });\n  }\n}\n\n// Attempt to fix ONN in plan-b mode.\nfunction fixNegotiationNeeded(window, browserDetails) {\n  _utils_js__WEBPACK_IMPORTED_MODULE_0__.wrapPeerConnectionEvent(window, 'negotiationneeded', e => {\n    const pc = e.target;\n    if (browserDetails.version < 72 || (pc.getConfiguration &&\n        pc.getConfiguration().sdpSemantics === 'plan-b')) {\n      if (pc.signalingState !== 'stable') {\n        return;\n      }\n    }\n    return e;\n  });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL2Nocm9tZS9jaHJvbWVfc2hpbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDYTtBQUN3Qjs7QUFFVztBQUNNOztBQUUvQztBQUNQO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQiw0QkFBNEI7QUFDNUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQiw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUksOERBQTZCO0FBQ2pDO0FBQ0E7QUFDQSxXQUFXLFFBQVEsc0JBQXNCO0FBQ3pDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0RBQWlCO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksOERBQTZCO0FBQ2pDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBaUI7QUFDekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ087QUFDUCxFQUFFLDhEQUE2QjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy93ZWJydGMtYWRhcHRlci9zcmMvanMvY2hyb21lL2Nocm9tZV9zaGltLmpzPzRlM2MiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICBDb3B5cmlnaHQgKGMpIDIwMTYgVGhlIFdlYlJUQyBwcm9qZWN0IGF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgQlNELXN0eWxlIGxpY2Vuc2VcbiAqICB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IG9mIHRoZSBzb3VyY2VcbiAqICB0cmVlLlxuICovXG4gLyogZXNsaW50LWVudiBub2RlICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5cbmV4cG9ydCB7c2hpbUdldFVzZXJNZWRpYX0gZnJvbSAnLi9nZXR1c2VybWVkaWEnO1xuZXhwb3J0IHtzaGltR2V0RGlzcGxheU1lZGlhfSBmcm9tICcuL2dldGRpc3BsYXltZWRpYSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGltTWVkaWFTdHJlYW0od2luZG93KSB7XG4gIHdpbmRvdy5NZWRpYVN0cmVhbSA9IHdpbmRvdy5NZWRpYVN0cmVhbSB8fCB3aW5kb3cud2Via2l0TWVkaWFTdHJlYW07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGltT25UcmFjayh3aW5kb3cpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiAmJiAhKCdvbnRyYWNrJyBpblxuICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSwgJ29udHJhY2snLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbnRyYWNrO1xuICAgICAgfSxcbiAgICAgIHNldChmKSB7XG4gICAgICAgIGlmICh0aGlzLl9vbnRyYWNrKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFjaycsIHRoaXMuX29udHJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigndHJhY2snLCB0aGlzLl9vbnRyYWNrID0gZik7XG4gICAgICB9LFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIGNvbnN0IG9yaWdTZXRSZW1vdGVEZXNjcmlwdGlvbiA9XG4gICAgICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb247XG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbiA9XG4gICAgICBmdW5jdGlvbiBzZXRSZW1vdGVEZXNjcmlwdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vbnRyYWNrcG9seSkge1xuICAgICAgICAgIHRoaXMuX29udHJhY2twb2x5ID0gKGUpID0+IHtcbiAgICAgICAgICAgIC8vIG9uYWRkc3RyZWFtIGRvZXMgbm90IGZpcmUgd2hlbiBhIHRyYWNrIGlzIGFkZGVkIHRvIGFuIGV4aXN0aW5nXG4gICAgICAgICAgICAvLyBzdHJlYW0uIEJ1dCBzdHJlYW0ub25hZGR0cmFjayBpcyBpbXBsZW1lbnRlZCBzbyB3ZSB1c2UgdGhhdC5cbiAgICAgICAgICAgIGUuc3RyZWFtLmFkZEV2ZW50TGlzdGVuZXIoJ2FkZHRyYWNrJywgdGUgPT4ge1xuICAgICAgICAgICAgICBsZXQgcmVjZWl2ZXI7XG4gICAgICAgICAgICAgIGlmICh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycykge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVyID0gdGhpcy5nZXRSZWNlaXZlcnMoKVxuICAgICAgICAgICAgICAgICAgLmZpbmQociA9PiByLnRyYWNrICYmIHIudHJhY2suaWQgPT09IHRlLnRyYWNrLmlkKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlciA9IHt0cmFjazogdGUudHJhY2t9O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRXZlbnQoJ3RyYWNrJyk7XG4gICAgICAgICAgICAgIGV2ZW50LnRyYWNrID0gdGUudHJhY2s7XG4gICAgICAgICAgICAgIGV2ZW50LnJlY2VpdmVyID0gcmVjZWl2ZXI7XG4gICAgICAgICAgICAgIGV2ZW50LnRyYW5zY2VpdmVyID0ge3JlY2VpdmVyfTtcbiAgICAgICAgICAgICAgZXZlbnQuc3RyZWFtcyA9IFtlLnN0cmVhbV07XG4gICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGUuc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4ge1xuICAgICAgICAgICAgICBsZXQgcmVjZWl2ZXI7XG4gICAgICAgICAgICAgIGlmICh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycykge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVyID0gdGhpcy5nZXRSZWNlaXZlcnMoKVxuICAgICAgICAgICAgICAgICAgLmZpbmQociA9PiByLnRyYWNrICYmIHIudHJhY2suaWQgPT09IHRyYWNrLmlkKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlciA9IHt0cmFja307XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRXZlbnQoJ3RyYWNrJyk7XG4gICAgICAgICAgICAgIGV2ZW50LnRyYWNrID0gdHJhY2s7XG4gICAgICAgICAgICAgIGV2ZW50LnJlY2VpdmVyID0gcmVjZWl2ZXI7XG4gICAgICAgICAgICAgIGV2ZW50LnRyYW5zY2VpdmVyID0ge3JlY2VpdmVyfTtcbiAgICAgICAgICAgICAgZXZlbnQuc3RyZWFtcyA9IFtlLnN0cmVhbV07XG4gICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignYWRkc3RyZWFtJywgdGhpcy5fb250cmFja3BvbHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcmlnU2V0UmVtb3RlRGVzY3JpcHRpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gIH0gZWxzZSB7XG4gICAgLy8gZXZlbiBpZiBSVENSdHBUcmFuc2NlaXZlciBpcyBpbiB3aW5kb3csIGl0IGlzIG9ubHkgdXNlZCBhbmRcbiAgICAvLyBlbWl0dGVkIGluIHVuaWZpZWQtcGxhbi4gVW5mb3J0dW5hdGVseSB0aGlzIG1lYW5zIHdlIG5lZWRcbiAgICAvLyB0byB1bmNvbmRpdGlvbmFsbHkgd3JhcCB0aGUgZXZlbnQuXG4gICAgdXRpbHMud3JhcFBlZXJDb25uZWN0aW9uRXZlbnQod2luZG93LCAndHJhY2snLCBlID0+IHtcbiAgICAgIGlmICghZS50cmFuc2NlaXZlcikge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgJ3RyYW5zY2VpdmVyJyxcbiAgICAgICAgICB7dmFsdWU6IHtyZWNlaXZlcjogZS5yZWNlaXZlcn19KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGltR2V0U2VuZGVyc1dpdGhEdG1mKHdpbmRvdykge1xuICAvLyBPdmVycmlkZXMgYWRkVHJhY2svcmVtb3ZlVHJhY2ssIGRlcGVuZHMgb24gc2hpbUFkZFRyYWNrUmVtb3ZlVHJhY2suXG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JyAmJiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gJiZcbiAgICAgICEoJ2dldFNlbmRlcnMnIGluIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpICYmXG4gICAgICAnY3JlYXRlRFRNRlNlbmRlcicgaW4gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkge1xuICAgIGNvbnN0IHNoaW1TZW5kZXJXaXRoRHRtZiA9IGZ1bmN0aW9uKHBjLCB0cmFjaykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHJhY2ssXG4gICAgICAgIGdldCBkdG1mKCkge1xuICAgICAgICAgIGlmICh0aGlzLl9kdG1mID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0cmFjay5raW5kID09PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2R0bWYgPSBwYy5jcmVhdGVEVE1GU2VuZGVyKHRyYWNrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuX2R0bWYgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhpcy5fZHRtZjtcbiAgICAgICAgfSxcbiAgICAgICAgX3BjOiBwY1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgLy8gYXVnbWVudCBhZGRUcmFjayB3aGVuIGdldFNlbmRlcnMgaXMgbm90IGF2YWlsYWJsZS5cbiAgICBpZiAoIXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycykge1xuICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzID0gZnVuY3Rpb24gZ2V0U2VuZGVycygpIHtcbiAgICAgICAgdGhpcy5fc2VuZGVycyA9IHRoaXMuX3NlbmRlcnMgfHwgW107XG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kZXJzLnNsaWNlKCk7IC8vIHJldHVybiBhIGNvcHkgb2YgdGhlIGludGVybmFsIHN0YXRlLlxuICAgICAgfTtcbiAgICAgIGNvbnN0IG9yaWdBZGRUcmFjayA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s7XG4gICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrID1cbiAgICAgICAgZnVuY3Rpb24gYWRkVHJhY2sodHJhY2ssIHN0cmVhbSkge1xuICAgICAgICAgIGxldCBzZW5kZXIgPSBvcmlnQWRkVHJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICBpZiAoIXNlbmRlcikge1xuICAgICAgICAgICAgc2VuZGVyID0gc2hpbVNlbmRlcldpdGhEdG1mKHRoaXMsIHRyYWNrKTtcbiAgICAgICAgICAgIHRoaXMuX3NlbmRlcnMucHVzaChzZW5kZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gc2VuZGVyO1xuICAgICAgICB9O1xuXG4gICAgICBjb25zdCBvcmlnUmVtb3ZlVHJhY2sgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrO1xuICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVUcmFjayA9XG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRyYWNrKHNlbmRlcikge1xuICAgICAgICAgIG9yaWdSZW1vdmVUcmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuX3NlbmRlcnMuaW5kZXhPZihzZW5kZXIpO1xuICAgICAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9zZW5kZXJzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qgb3JpZ0FkZFN0cmVhbSA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtO1xuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtID0gZnVuY3Rpb24gYWRkU3RyZWFtKHN0cmVhbSkge1xuICAgICAgdGhpcy5fc2VuZGVycyA9IHRoaXMuX3NlbmRlcnMgfHwgW107XG4gICAgICBvcmlnQWRkU3RyZWFtLmFwcGx5KHRoaXMsIFtzdHJlYW1dKTtcbiAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHtcbiAgICAgICAgdGhpcy5fc2VuZGVycy5wdXNoKHNoaW1TZW5kZXJXaXRoRHRtZih0aGlzLCB0cmFjaykpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9yaWdSZW1vdmVTdHJlYW0gPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbTtcbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbSA9XG4gICAgICBmdW5jdGlvbiByZW1vdmVTdHJlYW0oc3RyZWFtKSB7XG4gICAgICAgIHRoaXMuX3NlbmRlcnMgPSB0aGlzLl9zZW5kZXJzIHx8IFtdO1xuICAgICAgICBvcmlnUmVtb3ZlU3RyZWFtLmFwcGx5KHRoaXMsIFtzdHJlYW1dKTtcblxuICAgICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB7XG4gICAgICAgICAgY29uc3Qgc2VuZGVyID0gdGhpcy5fc2VuZGVycy5maW5kKHMgPT4gcy50cmFjayA9PT0gdHJhY2spO1xuICAgICAgICAgIGlmIChzZW5kZXIpIHsgLy8gcmVtb3ZlIHNlbmRlclxuICAgICAgICAgICAgdGhpcy5fc2VuZGVycy5zcGxpY2UodGhpcy5fc2VuZGVycy5pbmRleE9mKHNlbmRlciksIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiAmJlxuICAgICAgICAgICAgICdnZXRTZW5kZXJzJyBpbiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlICYmXG4gICAgICAgICAgICAgJ2NyZWF0ZURUTUZTZW5kZXInIGluIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUgJiZcbiAgICAgICAgICAgICB3aW5kb3cuUlRDUnRwU2VuZGVyICYmXG4gICAgICAgICAgICAgISgnZHRtZicgaW4gd2luZG93LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUpKSB7XG4gICAgY29uc3Qgb3JpZ0dldFNlbmRlcnMgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM7XG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzID0gZnVuY3Rpb24gZ2V0U2VuZGVycygpIHtcbiAgICAgIGNvbnN0IHNlbmRlcnMgPSBvcmlnR2V0U2VuZGVycy5hcHBseSh0aGlzLCBbXSk7XG4gICAgICBzZW5kZXJzLmZvckVhY2goc2VuZGVyID0+IHNlbmRlci5fcGMgPSB0aGlzKTtcbiAgICAgIHJldHVybiBzZW5kZXJzO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUsICdkdG1mJywge1xuICAgICAgZ2V0KCkge1xuICAgICAgICBpZiAodGhpcy5fZHRtZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHRoaXMudHJhY2sua2luZCA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAgICAgdGhpcy5fZHRtZiA9IHRoaXMuX3BjLmNyZWF0ZURUTUZTZW5kZXIodGhpcy50cmFjayk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2R0bWYgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZHRtZjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hpbUdldFN0YXRzKHdpbmRvdykge1xuICBpZiAoIXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG9yaWdHZXRTdGF0cyA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM7XG4gIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHMgPSBmdW5jdGlvbiBnZXRTdGF0cygpIHtcbiAgICBjb25zdCBbc2VsZWN0b3IsIG9uU3VjYywgb25FcnJdID0gYXJndW1lbnRzO1xuXG4gICAgLy8gSWYgc2VsZWN0b3IgaXMgYSBmdW5jdGlvbiB0aGVuIHdlIGFyZSBpbiB0aGUgb2xkIHN0eWxlIHN0YXRzIHNvIGp1c3RcbiAgICAvLyBwYXNzIGJhY2sgdGhlIG9yaWdpbmFsIGdldFN0YXRzIGZvcm1hdCB0byBhdm9pZCBicmVha2luZyBvbGQgdXNlcnMuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIHR5cGVvZiBzZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIG9yaWdHZXRTdGF0cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8vIFdoZW4gc3BlYy1zdHlsZSBnZXRTdGF0cyBpcyBzdXBwb3J0ZWQsIHJldHVybiB0aG9zZSB3aGVuIGNhbGxlZCB3aXRoXG4gICAgLy8gZWl0aGVyIG5vIGFyZ3VtZW50cyBvciB0aGUgc2VsZWN0b3IgYXJndW1lbnQgaXMgbnVsbC5cbiAgICBpZiAob3JpZ0dldFN0YXRzLmxlbmd0aCA9PT0gMCAmJiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICB0eXBlb2Ygc2VsZWN0b3IgIT09ICdmdW5jdGlvbicpKSB7XG4gICAgICByZXR1cm4gb3JpZ0dldFN0YXRzLmFwcGx5KHRoaXMsIFtdKTtcbiAgICB9XG5cbiAgICBjb25zdCBmaXhDaHJvbWVTdGF0c18gPSBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgY29uc3Qgc3RhbmRhcmRSZXBvcnQgPSB7fTtcbiAgICAgIGNvbnN0IHJlcG9ydHMgPSByZXNwb25zZS5yZXN1bHQoKTtcbiAgICAgIHJlcG9ydHMuZm9yRWFjaChyZXBvcnQgPT4ge1xuICAgICAgICBjb25zdCBzdGFuZGFyZFN0YXRzID0ge1xuICAgICAgICAgIGlkOiByZXBvcnQuaWQsXG4gICAgICAgICAgdGltZXN0YW1wOiByZXBvcnQudGltZXN0YW1wLFxuICAgICAgICAgIHR5cGU6IHtcbiAgICAgICAgICAgIGxvY2FsY2FuZGlkYXRlOiAnbG9jYWwtY2FuZGlkYXRlJyxcbiAgICAgICAgICAgIHJlbW90ZWNhbmRpZGF0ZTogJ3JlbW90ZS1jYW5kaWRhdGUnXG4gICAgICAgICAgfVtyZXBvcnQudHlwZV0gfHwgcmVwb3J0LnR5cGVcbiAgICAgICAgfTtcbiAgICAgICAgcmVwb3J0Lm5hbWVzKCkuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgICBzdGFuZGFyZFN0YXRzW25hbWVdID0gcmVwb3J0LnN0YXQobmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzdGFuZGFyZFJlcG9ydFtzdGFuZGFyZFN0YXRzLmlkXSA9IHN0YW5kYXJkU3RhdHM7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHN0YW5kYXJkUmVwb3J0O1xuICAgIH07XG5cbiAgICAvLyBzaGltIGdldFN0YXRzIHdpdGggbWFwbGlrZSBzdXBwb3J0XG4gICAgY29uc3QgbWFrZU1hcFN0YXRzID0gZnVuY3Rpb24oc3RhdHMpIHtcbiAgICAgIHJldHVybiBuZXcgTWFwKE9iamVjdC5rZXlzKHN0YXRzKS5tYXAoa2V5ID0+IFtrZXksIHN0YXRzW2tleV1dKSk7XG4gICAgfTtcblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcbiAgICAgIGNvbnN0IHN1Y2Nlc3NDYWxsYmFja1dyYXBwZXJfID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgb25TdWNjKG1ha2VNYXBTdGF0cyhmaXhDaHJvbWVTdGF0c18ocmVzcG9uc2UpKSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gb3JpZ0dldFN0YXRzLmFwcGx5KHRoaXMsIFtzdWNjZXNzQ2FsbGJhY2tXcmFwcGVyXyxcbiAgICAgICAgc2VsZWN0b3JdKTtcbiAgICB9XG5cbiAgICAvLyBwcm9taXNlLXN1cHBvcnRcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgb3JpZ0dldFN0YXRzLmFwcGx5KHRoaXMsIFtcbiAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICByZXNvbHZlKG1ha2VNYXBTdGF0cyhmaXhDaHJvbWVTdGF0c18ocmVzcG9uc2UpKSk7XG4gICAgICAgIH0sIHJlamVjdF0pO1xuICAgIH0pLnRoZW4ob25TdWNjLCBvbkVycik7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGltU2VuZGVyUmVjZWl2ZXJHZXRTdGF0cyh3aW5kb3cpIHtcbiAgaWYgKCEodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uICYmXG4gICAgICB3aW5kb3cuUlRDUnRwU2VuZGVyICYmIHdpbmRvdy5SVENSdHBSZWNlaXZlcikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBzaGltIHNlbmRlciBzdGF0cy5cbiAgaWYgKCEoJ2dldFN0YXRzJyBpbiB3aW5kb3cuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSkpIHtcbiAgICBjb25zdCBvcmlnR2V0U2VuZGVycyA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycztcbiAgICBpZiAob3JpZ0dldFNlbmRlcnMpIHtcbiAgICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycyA9IGZ1bmN0aW9uIGdldFNlbmRlcnMoKSB7XG4gICAgICAgIGNvbnN0IHNlbmRlcnMgPSBvcmlnR2V0U2VuZGVycy5hcHBseSh0aGlzLCBbXSk7XG4gICAgICAgIHNlbmRlcnMuZm9yRWFjaChzZW5kZXIgPT4gc2VuZGVyLl9wYyA9IHRoaXMpO1xuICAgICAgICByZXR1cm4gc2VuZGVycztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3Qgb3JpZ0FkZFRyYWNrID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztcbiAgICBpZiAob3JpZ0FkZFRyYWNrKSB7XG4gICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrID0gZnVuY3Rpb24gYWRkVHJhY2soKSB7XG4gICAgICAgIGNvbnN0IHNlbmRlciA9IG9yaWdBZGRUcmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICBzZW5kZXIuX3BjID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHNlbmRlcjtcbiAgICAgIH07XG4gICAgfVxuICAgIHdpbmRvdy5SVENSdHBTZW5kZXIucHJvdG90eXBlLmdldFN0YXRzID0gZnVuY3Rpb24gZ2V0U3RhdHMoKSB7XG4gICAgICBjb25zdCBzZW5kZXIgPSB0aGlzO1xuICAgICAgcmV0dXJuIHRoaXMuX3BjLmdldFN0YXRzKCkudGhlbihyZXN1bHQgPT5cbiAgICAgICAgLyogTm90ZTogdGhpcyB3aWxsIGluY2x1ZGUgc3RhdHMgb2YgYWxsIHNlbmRlcnMgdGhhdFxuICAgICAgICAgKiAgIHNlbmQgYSB0cmFjayB3aXRoIHRoZSBzYW1lIGlkIGFzIHNlbmRlci50cmFjayBhc1xuICAgICAgICAgKiAgIGl0IGlzIG5vdCBwb3NzaWJsZSB0byBpZGVudGlmeSB0aGUgUlRDUnRwU2VuZGVyLlxuICAgICAgICAgKi9cbiAgICAgICAgdXRpbHMuZmlsdGVyU3RhdHMocmVzdWx0LCBzZW5kZXIudHJhY2ssIHRydWUpKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gc2hpbSByZWNlaXZlciBzdGF0cy5cbiAgaWYgKCEoJ2dldFN0YXRzJyBpbiB3aW5kb3cuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlKSkge1xuICAgIGNvbnN0IG9yaWdHZXRSZWNlaXZlcnMgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycztcbiAgICBpZiAob3JpZ0dldFJlY2VpdmVycykge1xuICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnMgPVxuICAgICAgICBmdW5jdGlvbiBnZXRSZWNlaXZlcnMoKSB7XG4gICAgICAgICAgY29uc3QgcmVjZWl2ZXJzID0gb3JpZ0dldFJlY2VpdmVycy5hcHBseSh0aGlzLCBbXSk7XG4gICAgICAgICAgcmVjZWl2ZXJzLmZvckVhY2gocmVjZWl2ZXIgPT4gcmVjZWl2ZXIuX3BjID0gdGhpcyk7XG4gICAgICAgICAgcmV0dXJuIHJlY2VpdmVycztcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdXRpbHMud3JhcFBlZXJDb25uZWN0aW9uRXZlbnQod2luZG93LCAndHJhY2snLCBlID0+IHtcbiAgICAgIGUucmVjZWl2ZXIuX3BjID0gZS5zcmNFbGVtZW50O1xuICAgICAgcmV0dXJuIGU7XG4gICAgfSk7XG4gICAgd2luZG93LlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZS5nZXRTdGF0cyA9IGZ1bmN0aW9uIGdldFN0YXRzKCkge1xuICAgICAgY29uc3QgcmVjZWl2ZXIgPSB0aGlzO1xuICAgICAgcmV0dXJuIHRoaXMuX3BjLmdldFN0YXRzKCkudGhlbihyZXN1bHQgPT5cbiAgICAgICAgdXRpbHMuZmlsdGVyU3RhdHMocmVzdWx0LCByZWNlaXZlci50cmFjaywgZmFsc2UpKTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKCEoJ2dldFN0YXRzJyBpbiB3aW5kb3cuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSAmJlxuICAgICAgJ2dldFN0YXRzJyBpbiB3aW5kb3cuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHNoaW0gUlRDUGVlckNvbm5lY3Rpb24uZ2V0U3RhdHModHJhY2spLlxuICBjb25zdCBvcmlnR2V0U3RhdHMgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzO1xuICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzID0gZnVuY3Rpb24gZ2V0U3RhdHMoKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwICYmXG4gICAgICAgIGFyZ3VtZW50c1swXSBpbnN0YW5jZW9mIHdpbmRvdy5NZWRpYVN0cmVhbVRyYWNrKSB7XG4gICAgICBjb25zdCB0cmFjayA9IGFyZ3VtZW50c1swXTtcbiAgICAgIGxldCBzZW5kZXI7XG4gICAgICBsZXQgcmVjZWl2ZXI7XG4gICAgICBsZXQgZXJyO1xuICAgICAgdGhpcy5nZXRTZW5kZXJzKCkuZm9yRWFjaChzID0+IHtcbiAgICAgICAgaWYgKHMudHJhY2sgPT09IHRyYWNrKSB7XG4gICAgICAgICAgaWYgKHNlbmRlcikge1xuICAgICAgICAgICAgZXJyID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VuZGVyID0gcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5nZXRSZWNlaXZlcnMoKS5mb3JFYWNoKHIgPT4ge1xuICAgICAgICBpZiAoci50cmFjayA9PT0gdHJhY2spIHtcbiAgICAgICAgICBpZiAocmVjZWl2ZXIpIHtcbiAgICAgICAgICAgIGVyciA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlY2VpdmVyID0gcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHIudHJhY2sgPT09IHRyYWNrO1xuICAgICAgfSk7XG4gICAgICBpZiAoZXJyIHx8IChzZW5kZXIgJiYgcmVjZWl2ZXIpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRE9NRXhjZXB0aW9uKFxuICAgICAgICAgICdUaGVyZSBhcmUgbW9yZSB0aGFuIG9uZSBzZW5kZXIgb3IgcmVjZWl2ZXIgZm9yIHRoZSB0cmFjay4nLFxuICAgICAgICAgICdJbnZhbGlkQWNjZXNzRXJyb3InKSk7XG4gICAgICB9IGVsc2UgaWYgKHNlbmRlcikge1xuICAgICAgICByZXR1cm4gc2VuZGVyLmdldFN0YXRzKCk7XG4gICAgICB9IGVsc2UgaWYgKHJlY2VpdmVyKSB7XG4gICAgICAgIHJldHVybiByZWNlaXZlci5nZXRTdGF0cygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBET01FeGNlcHRpb24oXG4gICAgICAgICdUaGVyZSBpcyBubyBzZW5kZXIgb3IgcmVjZWl2ZXIgZm9yIHRoZSB0cmFjay4nLFxuICAgICAgICAnSW52YWxpZEFjY2Vzc0Vycm9yJykpO1xuICAgIH1cbiAgICByZXR1cm4gb3JpZ0dldFN0YXRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGltQWRkVHJhY2tSZW1vdmVUcmFja1dpdGhOYXRpdmUod2luZG93KSB7XG4gIC8vIHNoaW0gYWRkVHJhY2svcmVtb3ZlVHJhY2sgd2l0aCBuYXRpdmUgdmFyaWFudHMgaW4gb3JkZXIgdG8gbWFrZVxuICAvLyB0aGUgaW50ZXJhY3Rpb25zIHdpdGggbGVnYWN5IGdldExvY2FsU3RyZWFtcyBiZWhhdmUgYXMgaW4gb3RoZXIgYnJvd3NlcnMuXG4gIC8vIEtlZXBzIGEgbWFwcGluZyBzdHJlYW0uaWQgPT4gW3N0cmVhbSwgcnRwc2VuZGVycy4uLl1cbiAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRMb2NhbFN0cmVhbXMgPVxuICAgIGZ1bmN0aW9uIGdldExvY2FsU3RyZWFtcygpIHtcbiAgICAgIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXMgPSB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zIHx8IHt9O1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXMpXG4gICAgICAgIC5tYXAoc3RyZWFtSWQgPT4gdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tzdHJlYW1JZF1bMF0pO1xuICAgIH07XG5cbiAgY29uc3Qgb3JpZ0FkZFRyYWNrID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztcbiAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjayA9XG4gICAgZnVuY3Rpb24gYWRkVHJhY2sodHJhY2ssIHN0cmVhbSkge1xuICAgICAgaWYgKCFzdHJlYW0pIHtcbiAgICAgICAgcmV0dXJuIG9yaWdBZGRUcmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcyA9IHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXMgfHwge307XG5cbiAgICAgIGNvbnN0IHNlbmRlciA9IG9yaWdBZGRUcmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgaWYgKCF0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW3N0cmVhbS5pZF0pIHtcbiAgICAgICAgdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tzdHJlYW0uaWRdID0gW3N0cmVhbSwgc2VuZGVyXTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tzdHJlYW0uaWRdLmluZGV4T2Yoc2VuZGVyKSA9PT0gLTEpIHtcbiAgICAgICAgdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tzdHJlYW0uaWRdLnB1c2goc2VuZGVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZW5kZXI7XG4gICAgfTtcblxuICBjb25zdCBvcmlnQWRkU3RyZWFtID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW07XG4gIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtID0gZnVuY3Rpb24gYWRkU3RyZWFtKHN0cmVhbSkge1xuICAgIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXMgPSB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zIHx8IHt9O1xuXG4gICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4ge1xuICAgICAgY29uc3QgYWxyZWFkeUV4aXN0cyA9IHRoaXMuZ2V0U2VuZGVycygpLmZpbmQocyA9PiBzLnRyYWNrID09PSB0cmFjayk7XG4gICAgICBpZiAoYWxyZWFkeUV4aXN0cykge1xuICAgICAgICB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKCdUcmFjayBhbHJlYWR5IGV4aXN0cy4nLFxuICAgICAgICAgICAgJ0ludmFsaWRBY2Nlc3NFcnJvcicpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGV4aXN0aW5nU2VuZGVycyA9IHRoaXMuZ2V0U2VuZGVycygpO1xuICAgIG9yaWdBZGRTdHJlYW0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBjb25zdCBuZXdTZW5kZXJzID0gdGhpcy5nZXRTZW5kZXJzKClcbiAgICAgIC5maWx0ZXIobmV3U2VuZGVyID0+IGV4aXN0aW5nU2VuZGVycy5pbmRleE9mKG5ld1NlbmRlcikgPT09IC0xKTtcbiAgICB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW3N0cmVhbS5pZF0gPSBbc3RyZWFtXS5jb25jYXQobmV3U2VuZGVycyk7XG4gIH07XG5cbiAgY29uc3Qgb3JpZ1JlbW92ZVN0cmVhbSA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtO1xuICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbSA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlU3RyZWFtKHN0cmVhbSkge1xuICAgICAgdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcyA9IHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXMgfHwge307XG4gICAgICBkZWxldGUgdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tzdHJlYW0uaWRdO1xuICAgICAgcmV0dXJuIG9yaWdSZW1vdmVTdHJlYW0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gIGNvbnN0IG9yaWdSZW1vdmVUcmFjayA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2s7XG4gIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2sgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZVRyYWNrKHNlbmRlcikge1xuICAgICAgdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcyA9IHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXMgfHwge307XG4gICAgICBpZiAoc2VuZGVyKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXMpLmZvckVhY2goc3RyZWFtSWQgPT4ge1xuICAgICAgICAgIGNvbnN0IGlkeCA9IHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbc3RyZWFtSWRdLmluZGV4T2Yoc2VuZGVyKTtcbiAgICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tzdHJlYW1JZF0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW3N0cmVhbUlkXS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW3N0cmVhbUlkXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9yaWdSZW1vdmVUcmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGltQWRkVHJhY2tSZW1vdmVUcmFjayh3aW5kb3csIGJyb3dzZXJEZXRhaWxzKSB7XG4gIGlmICghd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIHNoaW0gYWRkVHJhY2sgYW5kIHJlbW92ZVRyYWNrLlxuICBpZiAod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjayAmJlxuICAgICAgYnJvd3NlckRldGFpbHMudmVyc2lvbiA+PSA2NSkge1xuICAgIHJldHVybiBzaGltQWRkVHJhY2tSZW1vdmVUcmFja1dpdGhOYXRpdmUod2luZG93KTtcbiAgfVxuXG4gIC8vIGFsc28gc2hpbSBwYy5nZXRMb2NhbFN0cmVhbXMgd2hlbiBhZGRUcmFjayBpcyBzaGltbWVkXG4gIC8vIHRvIHJldHVybiB0aGUgb3JpZ2luYWwgc3RyZWFtcy5cbiAgY29uc3Qgb3JpZ0dldExvY2FsU3RyZWFtcyA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVcbiAgICAgIC5nZXRMb2NhbFN0cmVhbXM7XG4gIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zID1cbiAgICBmdW5jdGlvbiBnZXRMb2NhbFN0cmVhbXMoKSB7XG4gICAgICBjb25zdCBuYXRpdmVTdHJlYW1zID0gb3JpZ0dldExvY2FsU3RyZWFtcy5hcHBseSh0aGlzKTtcbiAgICAgIHRoaXMuX3JldmVyc2VTdHJlYW1zID0gdGhpcy5fcmV2ZXJzZVN0cmVhbXMgfHwge307XG4gICAgICByZXR1cm4gbmF0aXZlU3RyZWFtcy5tYXAoc3RyZWFtID0+IHRoaXMuX3JldmVyc2VTdHJlYW1zW3N0cmVhbS5pZF0pO1xuICAgIH07XG5cbiAgY29uc3Qgb3JpZ0FkZFN0cmVhbSA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtO1xuICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbSA9IGZ1bmN0aW9uIGFkZFN0cmVhbShzdHJlYW0pIHtcbiAgICB0aGlzLl9zdHJlYW1zID0gdGhpcy5fc3RyZWFtcyB8fCB7fTtcbiAgICB0aGlzLl9yZXZlcnNlU3RyZWFtcyA9IHRoaXMuX3JldmVyc2VTdHJlYW1zIHx8IHt9O1xuXG4gICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4ge1xuICAgICAgY29uc3QgYWxyZWFkeUV4aXN0cyA9IHRoaXMuZ2V0U2VuZGVycygpLmZpbmQocyA9PiBzLnRyYWNrID09PSB0cmFjayk7XG4gICAgICBpZiAoYWxyZWFkeUV4aXN0cykge1xuICAgICAgICB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKCdUcmFjayBhbHJlYWR5IGV4aXN0cy4nLFxuICAgICAgICAgICAgJ0ludmFsaWRBY2Nlc3NFcnJvcicpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIEFkZCBpZGVudGl0eSBtYXBwaW5nIGZvciBjb25zaXN0ZW5jeSB3aXRoIGFkZFRyYWNrLlxuICAgIC8vIFVubGVzcyB0aGlzIGlzIGJlaW5nIHVzZWQgd2l0aCBhIHN0cmVhbSBmcm9tIGFkZFRyYWNrLlxuICAgIGlmICghdGhpcy5fcmV2ZXJzZVN0cmVhbXNbc3RyZWFtLmlkXSkge1xuICAgICAgY29uc3QgbmV3U3RyZWFtID0gbmV3IHdpbmRvdy5NZWRpYVN0cmVhbShzdHJlYW0uZ2V0VHJhY2tzKCkpO1xuICAgICAgdGhpcy5fc3RyZWFtc1tzdHJlYW0uaWRdID0gbmV3U3RyZWFtO1xuICAgICAgdGhpcy5fcmV2ZXJzZVN0cmVhbXNbbmV3U3RyZWFtLmlkXSA9IHN0cmVhbTtcbiAgICAgIHN0cmVhbSA9IG5ld1N0cmVhbTtcbiAgICB9XG4gICAgb3JpZ0FkZFN0cmVhbS5hcHBseSh0aGlzLCBbc3RyZWFtXSk7XG4gIH07XG5cbiAgY29uc3Qgb3JpZ1JlbW92ZVN0cmVhbSA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtO1xuICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbSA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlU3RyZWFtKHN0cmVhbSkge1xuICAgICAgdGhpcy5fc3RyZWFtcyA9IHRoaXMuX3N0cmVhbXMgfHwge307XG4gICAgICB0aGlzLl9yZXZlcnNlU3RyZWFtcyA9IHRoaXMuX3JldmVyc2VTdHJlYW1zIHx8IHt9O1xuXG4gICAgICBvcmlnUmVtb3ZlU3RyZWFtLmFwcGx5KHRoaXMsIFsodGhpcy5fc3RyZWFtc1tzdHJlYW0uaWRdIHx8IHN0cmVhbSldKTtcbiAgICAgIGRlbGV0ZSB0aGlzLl9yZXZlcnNlU3RyZWFtc1sodGhpcy5fc3RyZWFtc1tzdHJlYW0uaWRdID9cbiAgICAgICAgICB0aGlzLl9zdHJlYW1zW3N0cmVhbS5pZF0uaWQgOiBzdHJlYW0uaWQpXTtcbiAgICAgIGRlbGV0ZSB0aGlzLl9zdHJlYW1zW3N0cmVhbS5pZF07XG4gICAgfTtcblxuICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrID1cbiAgICBmdW5jdGlvbiBhZGRUcmFjayh0cmFjaywgc3RyZWFtKSB7XG4gICAgICBpZiAodGhpcy5zaWduYWxpbmdTdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcbiAgICAgICAgICAnVGhlIFJUQ1BlZXJDb25uZWN0aW9uXFwncyBzaWduYWxpbmdTdGF0ZSBpcyBcXCdjbG9zZWRcXCcuJyxcbiAgICAgICAgICAnSW52YWxpZFN0YXRlRXJyb3InKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN0cmVhbXMgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICBpZiAoc3RyZWFtcy5sZW5ndGggIT09IDEgfHxcbiAgICAgICAgICAhc3RyZWFtc1swXS5nZXRUcmFja3MoKS5maW5kKHQgPT4gdCA9PT0gdHJhY2spKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgbm90IGZ1bGx5IGNvcnJlY3QgYnV0IGFsbCB3ZSBjYW4gbWFuYWdlIHdpdGhvdXRcbiAgICAgICAgLy8gW1thc3NvY2lhdGVkIE1lZGlhU3RyZWFtc11dIGludGVybmFsIHNsb3QuXG4gICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXG4gICAgICAgICAgJ1RoZSBhZGFwdGVyLmpzIGFkZFRyYWNrIHBvbHlmaWxsIG9ubHkgc3VwcG9ydHMgYSBzaW5nbGUgJyArXG4gICAgICAgICAgJyBzdHJlYW0gd2hpY2ggaXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdHJhY2suJyxcbiAgICAgICAgICAnTm90U3VwcG9ydGVkRXJyb3InKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYWxyZWFkeUV4aXN0cyA9IHRoaXMuZ2V0U2VuZGVycygpLmZpbmQocyA9PiBzLnRyYWNrID09PSB0cmFjayk7XG4gICAgICBpZiAoYWxyZWFkeUV4aXN0cykge1xuICAgICAgICB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKCdUcmFjayBhbHJlYWR5IGV4aXN0cy4nLFxuICAgICAgICAgICAgJ0ludmFsaWRBY2Nlc3NFcnJvcicpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zdHJlYW1zID0gdGhpcy5fc3RyZWFtcyB8fCB7fTtcbiAgICAgIHRoaXMuX3JldmVyc2VTdHJlYW1zID0gdGhpcy5fcmV2ZXJzZVN0cmVhbXMgfHwge307XG4gICAgICBjb25zdCBvbGRTdHJlYW0gPSB0aGlzLl9zdHJlYW1zW3N0cmVhbS5pZF07XG4gICAgICBpZiAob2xkU3RyZWFtKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgdXNpbmcgb2RkIENocm9tZSBiZWhhdmlvdXIsIHVzZSB3aXRoIGNhdXRpb246XG4gICAgICAgIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC93ZWJydGMvaXNzdWVzL2RldGFpbD9pZD03ODE1XG4gICAgICAgIC8vIE5vdGU6IHdlIHJlbHkgb24gdGhlIGhpZ2gtbGV2ZWwgYWRkVHJhY2svZHRtZiBzaGltIHRvXG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgc2VuZGVyIHdpdGggYSBkdG1mIHNlbmRlci5cbiAgICAgICAgb2xkU3RyZWFtLmFkZFRyYWNrKHRyYWNrKTtcblxuICAgICAgICAvLyBUcmlnZ2VyIE9OTiBhc3luYy5cbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnbmVnb3RpYXRpb25uZWVkZWQnKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbmV3U3RyZWFtID0gbmV3IHdpbmRvdy5NZWRpYVN0cmVhbShbdHJhY2tdKTtcbiAgICAgICAgdGhpcy5fc3RyZWFtc1tzdHJlYW0uaWRdID0gbmV3U3RyZWFtO1xuICAgICAgICB0aGlzLl9yZXZlcnNlU3RyZWFtc1tuZXdTdHJlYW0uaWRdID0gc3RyZWFtO1xuICAgICAgICB0aGlzLmFkZFN0cmVhbShuZXdTdHJlYW0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VuZGVycygpLmZpbmQocyA9PiBzLnRyYWNrID09PSB0cmFjayk7XG4gICAgfTtcblxuICAvLyByZXBsYWNlIHRoZSBpbnRlcm5hbCBzdHJlYW0gaWQgd2l0aCB0aGUgZXh0ZXJuYWwgb25lIGFuZFxuICAvLyB2aWNlIHZlcnNhLlxuICBmdW5jdGlvbiByZXBsYWNlSW50ZXJuYWxTdHJlYW1JZChwYywgZGVzY3JpcHRpb24pIHtcbiAgICBsZXQgc2RwID0gZGVzY3JpcHRpb24uc2RwO1xuICAgIE9iamVjdC5rZXlzKHBjLl9yZXZlcnNlU3RyZWFtcyB8fCBbXSkuZm9yRWFjaChpbnRlcm5hbElkID0+IHtcbiAgICAgIGNvbnN0IGV4dGVybmFsU3RyZWFtID0gcGMuX3JldmVyc2VTdHJlYW1zW2ludGVybmFsSWRdO1xuICAgICAgY29uc3QgaW50ZXJuYWxTdHJlYW0gPSBwYy5fc3RyZWFtc1tleHRlcm5hbFN0cmVhbS5pZF07XG4gICAgICBzZHAgPSBzZHAucmVwbGFjZShuZXcgUmVnRXhwKGludGVybmFsU3RyZWFtLmlkLCAnZycpLFxuICAgICAgICAgIGV4dGVybmFsU3RyZWFtLmlkKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7XG4gICAgICB0eXBlOiBkZXNjcmlwdGlvbi50eXBlLFxuICAgICAgc2RwXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcmVwbGFjZUV4dGVybmFsU3RyZWFtSWQocGMsIGRlc2NyaXB0aW9uKSB7XG4gICAgbGV0IHNkcCA9IGRlc2NyaXB0aW9uLnNkcDtcbiAgICBPYmplY3Qua2V5cyhwYy5fcmV2ZXJzZVN0cmVhbXMgfHwgW10pLmZvckVhY2goaW50ZXJuYWxJZCA9PiB7XG4gICAgICBjb25zdCBleHRlcm5hbFN0cmVhbSA9IHBjLl9yZXZlcnNlU3RyZWFtc1tpbnRlcm5hbElkXTtcbiAgICAgIGNvbnN0IGludGVybmFsU3RyZWFtID0gcGMuX3N0cmVhbXNbZXh0ZXJuYWxTdHJlYW0uaWRdO1xuICAgICAgc2RwID0gc2RwLnJlcGxhY2UobmV3IFJlZ0V4cChleHRlcm5hbFN0cmVhbS5pZCwgJ2cnKSxcbiAgICAgICAgICBpbnRlcm5hbFN0cmVhbS5pZCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe1xuICAgICAgdHlwZTogZGVzY3JpcHRpb24udHlwZSxcbiAgICAgIHNkcFxuICAgIH0pO1xuICB9XG4gIFsnY3JlYXRlT2ZmZXInLCAnY3JlYXRlQW5zd2VyJ10uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICBjb25zdCBuYXRpdmVNZXRob2QgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW21ldGhvZF07XG4gICAgY29uc3QgbWV0aG9kT2JqID0ge1ttZXRob2RdKCkge1xuICAgICAgY29uc3QgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIGNvbnN0IGlzTGVnYWN5Q2FsbCA9IGFyZ3VtZW50cy5sZW5ndGggJiZcbiAgICAgICAgICB0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnZnVuY3Rpb24nO1xuICAgICAgaWYgKGlzTGVnYWN5Q2FsbCkge1xuICAgICAgICByZXR1cm4gbmF0aXZlTWV0aG9kLmFwcGx5KHRoaXMsIFtcbiAgICAgICAgICAoZGVzY3JpcHRpb24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2MgPSByZXBsYWNlSW50ZXJuYWxTdHJlYW1JZCh0aGlzLCBkZXNjcmlwdGlvbik7XG4gICAgICAgICAgICBhcmdzWzBdLmFwcGx5KG51bGwsIFtkZXNjXSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgICAgICBpZiAoYXJnc1sxXSkge1xuICAgICAgICAgICAgICBhcmdzWzFdLmFwcGx5KG51bGwsIGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgYXJndW1lbnRzWzJdXG4gICAgICAgIF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZU1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAudGhlbihkZXNjcmlwdGlvbiA9PiByZXBsYWNlSW50ZXJuYWxTdHJlYW1JZCh0aGlzLCBkZXNjcmlwdGlvbikpO1xuICAgIH19O1xuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbbWV0aG9kXSA9IG1ldGhvZE9ialttZXRob2RdO1xuICB9KTtcblxuICBjb25zdCBvcmlnU2V0TG9jYWxEZXNjcmlwdGlvbiA9XG4gICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb247XG4gIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbiA9XG4gICAgZnVuY3Rpb24gc2V0TG9jYWxEZXNjcmlwdGlvbigpIHtcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCB8fCAhYXJndW1lbnRzWzBdLnR5cGUpIHtcbiAgICAgICAgcmV0dXJuIG9yaWdTZXRMb2NhbERlc2NyaXB0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICBhcmd1bWVudHNbMF0gPSByZXBsYWNlRXh0ZXJuYWxTdHJlYW1JZCh0aGlzLCBhcmd1bWVudHNbMF0pO1xuICAgICAgcmV0dXJuIG9yaWdTZXRMb2NhbERlc2NyaXB0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAvLyBUT0RPOiBtYW5nbGUgZ2V0U3RhdHM6IGh0dHBzOi8vdzNjLmdpdGh1Yi5pby93ZWJydGMtc3RhdHMvI2RvbS1ydGNtZWRpYXN0cmVhbXN0YXRzLXN0cmVhbWlkZW50aWZpZXJcblxuICBjb25zdCBvcmlnTG9jYWxEZXNjcmlwdGlvbiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLCAnbG9jYWxEZXNjcmlwdGlvbicpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcbiAgICAgICdsb2NhbERlc2NyaXB0aW9uJywge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBvcmlnTG9jYWxEZXNjcmlwdGlvbi5nZXQuYXBwbHkodGhpcyk7XG4gICAgICAgICAgaWYgKGRlc2NyaXB0aW9uLnR5cGUgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXBsYWNlSW50ZXJuYWxTdHJlYW1JZCh0aGlzLCBkZXNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlVHJhY2sgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZVRyYWNrKHNlbmRlcikge1xuICAgICAgaWYgKHRoaXMuc2lnbmFsaW5nU3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXG4gICAgICAgICAgJ1RoZSBSVENQZWVyQ29ubmVjdGlvblxcJ3Mgc2lnbmFsaW5nU3RhdGUgaXMgXFwnY2xvc2VkXFwnLicsXG4gICAgICAgICAgJ0ludmFsaWRTdGF0ZUVycm9yJyk7XG4gICAgICB9XG4gICAgICAvLyBXZSBjYW4gbm90IHlldCBjaGVjayBmb3Igc2VuZGVyIGluc3RhbmNlb2YgUlRDUnRwU2VuZGVyXG4gICAgICAvLyBzaW5jZSB3ZSBzaGltIFJUUFNlbmRlci4gU28gd2UgY2hlY2sgaWYgc2VuZGVyLl9wYyBpcyBzZXQuXG4gICAgICBpZiAoIXNlbmRlci5fcGMpIHtcbiAgICAgICAgdGhyb3cgbmV3IERPTUV4Y2VwdGlvbignQXJndW1lbnQgMSBvZiBSVENQZWVyQ29ubmVjdGlvbi5yZW1vdmVUcmFjayAnICtcbiAgICAgICAgICAgICdkb2VzIG5vdCBpbXBsZW1lbnQgaW50ZXJmYWNlIFJUQ1J0cFNlbmRlci4nLCAnVHlwZUVycm9yJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBpc0xvY2FsID0gc2VuZGVyLl9wYyA9PT0gdGhpcztcbiAgICAgIGlmICghaXNMb2NhbCkge1xuICAgICAgICB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKCdTZW5kZXIgd2FzIG5vdCBjcmVhdGVkIGJ5IHRoaXMgY29ubmVjdGlvbi4nLFxuICAgICAgICAgICAgJ0ludmFsaWRBY2Nlc3NFcnJvcicpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZWFyY2ggZm9yIHRoZSBuYXRpdmUgc3RyZWFtIHRoZSBzZW5kZXJzIHRyYWNrIGJlbG9uZ3MgdG8uXG4gICAgICB0aGlzLl9zdHJlYW1zID0gdGhpcy5fc3RyZWFtcyB8fCB7fTtcbiAgICAgIGxldCBzdHJlYW07XG4gICAgICBPYmplY3Qua2V5cyh0aGlzLl9zdHJlYW1zKS5mb3JFYWNoKHN0cmVhbWlkID0+IHtcbiAgICAgICAgY29uc3QgaGFzVHJhY2sgPSB0aGlzLl9zdHJlYW1zW3N0cmVhbWlkXS5nZXRUcmFja3MoKVxuICAgICAgICAgIC5maW5kKHRyYWNrID0+IHNlbmRlci50cmFjayA9PT0gdHJhY2spO1xuICAgICAgICBpZiAoaGFzVHJhY2spIHtcbiAgICAgICAgICBzdHJlYW0gPSB0aGlzLl9zdHJlYW1zW3N0cmVhbWlkXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChzdHJlYW0pIHtcbiAgICAgICAgaWYgKHN0cmVhbS5nZXRUcmFja3MoKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAvLyBpZiB0aGlzIGlzIHRoZSBsYXN0IHRyYWNrIG9mIHRoZSBzdHJlYW0sIHJlbW92ZSB0aGUgc3RyZWFtLiBUaGlzXG4gICAgICAgICAgLy8gdGFrZXMgY2FyZSBvZiBhbnkgc2hpbW1lZCBfc2VuZGVycy5cbiAgICAgICAgICB0aGlzLnJlbW92ZVN0cmVhbSh0aGlzLl9yZXZlcnNlU3RyZWFtc1tzdHJlYW0uaWRdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyByZWx5aW5nIG9uIHRoZSBzYW1lIG9kZCBjaHJvbWUgYmVoYXZpb3VyIGFzIGFib3ZlLlxuICAgICAgICAgIHN0cmVhbS5yZW1vdmVUcmFjayhzZW5kZXIudHJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ25lZ290aWF0aW9ubmVlZGVkJykpO1xuICAgICAgfVxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGltUGVlckNvbm5lY3Rpb24od2luZG93LCBicm93c2VyRGV0YWlscykge1xuICBpZiAoIXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiAmJiB3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb24pIHtcbiAgICAvLyB2ZXJ5IGJhc2ljIHN1cHBvcnQgZm9yIG9sZCB2ZXJzaW9ucy5cbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gPSB3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb247XG4gIH1cbiAgaWYgKCF3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBzaGltIGltcGxpY2l0IGNyZWF0aW9uIG9mIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbi9SVENJY2VDYW5kaWRhdGVcbiAgaWYgKGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPCA1Mykge1xuICAgIFsnc2V0TG9jYWxEZXNjcmlwdGlvbicsICdzZXRSZW1vdGVEZXNjcmlwdGlvbicsICdhZGRJY2VDYW5kaWRhdGUnXVxuICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgICAgICBjb25zdCBuYXRpdmVNZXRob2QgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW21ldGhvZF07XG4gICAgICAgICAgY29uc3QgbWV0aG9kT2JqID0ge1ttZXRob2RdKCkge1xuICAgICAgICAgICAgYXJndW1lbnRzWzBdID0gbmV3ICgobWV0aG9kID09PSAnYWRkSWNlQ2FuZGlkYXRlJykgP1xuICAgICAgICAgICAgICAgIHdpbmRvdy5SVENJY2VDYW5kaWRhdGUgOlxuICAgICAgICAgICAgICAgIHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb24pKGFyZ3VtZW50c1swXSk7XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlTWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfX07XG4gICAgICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVttZXRob2RdID0gbWV0aG9kT2JqW21ldGhvZF07XG4gICAgICAgIH0pO1xuICB9XG59XG5cbi8vIEF0dGVtcHQgdG8gZml4IE9OTiBpbiBwbGFuLWIgbW9kZS5cbmV4cG9ydCBmdW5jdGlvbiBmaXhOZWdvdGlhdGlvbk5lZWRlZCh3aW5kb3csIGJyb3dzZXJEZXRhaWxzKSB7XG4gIHV0aWxzLndyYXBQZWVyQ29ubmVjdGlvbkV2ZW50KHdpbmRvdywgJ25lZ290aWF0aW9ubmVlZGVkJywgZSA9PiB7XG4gICAgY29uc3QgcGMgPSBlLnRhcmdldDtcbiAgICBpZiAoYnJvd3NlckRldGFpbHMudmVyc2lvbiA8IDcyIHx8IChwYy5nZXRDb25maWd1cmF0aW9uICYmXG4gICAgICAgIHBjLmdldENvbmZpZ3VyYXRpb24oKS5zZHBTZW1hbnRpY3MgPT09ICdwbGFuLWInKSkge1xuICAgICAgaWYgKHBjLnNpZ25hbGluZ1N0YXRlICE9PSAnc3RhYmxlJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlO1xuICB9KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js\n"));

/***/ }),

/***/ "./node_modules/webrtc-adapter/src/js/chrome/getdisplaymedia.js":
/*!**********************************************************************!*\
  !*** ./node_modules/webrtc-adapter/src/js/chrome/getdisplaymedia.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"shimGetDisplayMedia\": function() { return /* binding */ shimGetDisplayMedia; }\n/* harmony export */ });\n/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n\nfunction shimGetDisplayMedia(window, getSourceId) {\n  if (window.navigator.mediaDevices &&\n    'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!(window.navigator.mediaDevices)) {\n    return;\n  }\n  // getSourceId is a function that returns a promise resolving with\n  // the sourceId of the screen/window/tab to be shared.\n  if (typeof getSourceId !== 'function') {\n    console.error('shimGetDisplayMedia: getSourceId argument is not ' +\n        'a function');\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia =\n    function getDisplayMedia(constraints) {\n      return getSourceId(constraints)\n        .then(sourceId => {\n          const widthSpecified = constraints.video && constraints.video.width;\n          const heightSpecified = constraints.video &&\n            constraints.video.height;\n          const frameRateSpecified = constraints.video &&\n            constraints.video.frameRate;\n          constraints.video = {\n            mandatory: {\n              chromeMediaSource: 'desktop',\n              chromeMediaSourceId: sourceId,\n              maxFrameRate: frameRateSpecified || 3\n            }\n          };\n          if (widthSpecified) {\n            constraints.video.mandatory.maxWidth = widthSpecified;\n          }\n          if (heightSpecified) {\n            constraints.video.mandatory.maxHeight = heightSpecified;\n          }\n          return window.navigator.mediaDevices.getUserMedia(constraints);\n        });\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL2Nocm9tZS9nZXRkaXNwbGF5bWVkaWEuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDYTtBQUNOO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL2Nocm9tZS9nZXRkaXNwbGF5bWVkaWEuanM/YjA4MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogIENvcHlyaWdodCAoYykgMjAxOCBUaGUgYWRhcHRlci5qcyBwcm9qZWN0IGF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgQlNELXN0eWxlIGxpY2Vuc2VcbiAqICB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IG9mIHRoZSBzb3VyY2VcbiAqICB0cmVlLlxuICovXG4vKiBlc2xpbnQtZW52IG5vZGUgKi9cbid1c2Ugc3RyaWN0JztcbmV4cG9ydCBmdW5jdGlvbiBzaGltR2V0RGlzcGxheU1lZGlhKHdpbmRvdywgZ2V0U291cmNlSWQpIHtcbiAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzICYmXG4gICAgJ2dldERpc3BsYXlNZWRpYScgaW4gd2luZG93Lm5hdmlnYXRvci5tZWRpYURldmljZXMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCEod2luZG93Lm5hdmlnYXRvci5tZWRpYURldmljZXMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGdldFNvdXJjZUlkIGlzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcHJvbWlzZSByZXNvbHZpbmcgd2l0aFxuICAvLyB0aGUgc291cmNlSWQgb2YgdGhlIHNjcmVlbi93aW5kb3cvdGFiIHRvIGJlIHNoYXJlZC5cbiAgaWYgKHR5cGVvZiBnZXRTb3VyY2VJZCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnNvbGUuZXJyb3IoJ3NoaW1HZXREaXNwbGF5TWVkaWE6IGdldFNvdXJjZUlkIGFyZ3VtZW50IGlzIG5vdCAnICtcbiAgICAgICAgJ2EgZnVuY3Rpb24nKTtcbiAgICByZXR1cm47XG4gIH1cbiAgd2luZG93Lm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0RGlzcGxheU1lZGlhID1cbiAgICBmdW5jdGlvbiBnZXREaXNwbGF5TWVkaWEoY29uc3RyYWludHMpIHtcbiAgICAgIHJldHVybiBnZXRTb3VyY2VJZChjb25zdHJhaW50cylcbiAgICAgICAgLnRoZW4oc291cmNlSWQgPT4ge1xuICAgICAgICAgIGNvbnN0IHdpZHRoU3BlY2lmaWVkID0gY29uc3RyYWludHMudmlkZW8gJiYgY29uc3RyYWludHMudmlkZW8ud2lkdGg7XG4gICAgICAgICAgY29uc3QgaGVpZ2h0U3BlY2lmaWVkID0gY29uc3RyYWludHMudmlkZW8gJiZcbiAgICAgICAgICAgIGNvbnN0cmFpbnRzLnZpZGVvLmhlaWdodDtcbiAgICAgICAgICBjb25zdCBmcmFtZVJhdGVTcGVjaWZpZWQgPSBjb25zdHJhaW50cy52aWRlbyAmJlxuICAgICAgICAgICAgY29uc3RyYWludHMudmlkZW8uZnJhbWVSYXRlO1xuICAgICAgICAgIGNvbnN0cmFpbnRzLnZpZGVvID0ge1xuICAgICAgICAgICAgbWFuZGF0b3J5OiB7XG4gICAgICAgICAgICAgIGNocm9tZU1lZGlhU291cmNlOiAnZGVza3RvcCcsXG4gICAgICAgICAgICAgIGNocm9tZU1lZGlhU291cmNlSWQ6IHNvdXJjZUlkLFxuICAgICAgICAgICAgICBtYXhGcmFtZVJhdGU6IGZyYW1lUmF0ZVNwZWNpZmllZCB8fCAzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAod2lkdGhTcGVjaWZpZWQpIHtcbiAgICAgICAgICAgIGNvbnN0cmFpbnRzLnZpZGVvLm1hbmRhdG9yeS5tYXhXaWR0aCA9IHdpZHRoU3BlY2lmaWVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaGVpZ2h0U3BlY2lmaWVkKSB7XG4gICAgICAgICAgICBjb25zdHJhaW50cy52aWRlby5tYW5kYXRvcnkubWF4SGVpZ2h0ID0gaGVpZ2h0U3BlY2lmaWVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/webrtc-adapter/src/js/chrome/getdisplaymedia.js\n"));

/***/ }),

/***/ "./node_modules/webrtc-adapter/src/js/chrome/getusermedia.js":
/*!*******************************************************************!*\
  !*** ./node_modules/webrtc-adapter/src/js/chrome/getusermedia.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"shimGetUserMedia\": function() { return /* binding */ shimGetUserMedia; }\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"./node_modules/webrtc-adapter/src/js/utils.js\");\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n\n\nconst logging = _utils_js__WEBPACK_IMPORTED_MODULE_0__.log;\n\nfunction shimGetUserMedia(window, browserDetails) {\n  const navigator = window && window.navigator;\n\n  if (!navigator.mediaDevices) {\n    return;\n  }\n\n  const constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    const cc = {};\n    Object.keys(c).forEach(key => {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      const r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      const oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        let oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(mix => {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  const shimConstraints_ = function(constraints, func) {\n    if (browserDetails.version >= 61) {\n      return func(constraints);\n    }\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && typeof constraints.audio === 'object') {\n      const remap = function(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      let face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      const getSupportedFacingModeLies = browserDetails.version < 66;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        let matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(devices => {\n            devices = devices.filter(d => d.kind === 'videoinput');\n            let dev = devices.find(d => matches.some(match =>\n              d.label.toLowerCase().includes(match)));\n            if (!dev && devices.length && matches.includes('back')) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n            if (dev) {\n              constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :\n                                                        {ideal: dev.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  const shimError_ = function(e) {\n    if (browserDetails.version >= 64) {\n      return e;\n    }\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        PermissionDismissedError: 'NotAllowedError',\n        InvalidStateError: 'NotAllowedError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotAllowedError',\n        MediaDeviceKillSwitchOn: 'NotAllowedError',\n        TabCaptureError: 'AbortError',\n        ScreenCaptureError: 'AbortError',\n        DeviceCaptureError: 'AbortError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint || e.constraintName,\n      toString() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  const getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, c => {\n      navigator.webkitGetUserMedia(c, onSuccess, e => {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n  navigator.getUserMedia = getUserMedia_.bind(navigator);\n\n  // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n  // function which returns a Promise, it does not accept spec-style\n  // constraints.\n  if (navigator.mediaDevices.getUserMedia) {\n    const origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, c => origGetUserMedia(c).then(stream => {\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(track => {\n            track.stop();\n          });\n          throw new DOMException('', 'NotFoundError');\n        }\n        return stream;\n      }, e => Promise.reject(shimError_(e))));\n    };\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL2Nocm9tZS9nZXR1c2VybWVkaWEuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7QUFDd0I7QUFDckMsZ0JBQWdCLDBDQUFTOztBQUVsQjtBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQ7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELFlBQVk7QUFDdkU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQSx5REFBeUQscUJBQXFCO0FBQzlFLHlEQUF5RDtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL2Nocm9tZS9nZXR1c2VybWVkaWEuanM/YTgxNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogIENvcHlyaWdodCAoYykgMjAxNiBUaGUgV2ViUlRDIHByb2plY3QgYXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBCU0Qtc3R5bGUgbGljZW5zZVxuICogIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3Qgb2YgdGhlIHNvdXJjZVxuICogIHRyZWUuXG4gKi9cbi8qIGVzbGludC1lbnYgbm9kZSAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuY29uc3QgbG9nZ2luZyA9IHV0aWxzLmxvZztcblxuZXhwb3J0IGZ1bmN0aW9uIHNoaW1HZXRVc2VyTWVkaWEod2luZG93LCBicm93c2VyRGV0YWlscykge1xuICBjb25zdCBuYXZpZ2F0b3IgPSB3aW5kb3cgJiYgd2luZG93Lm5hdmlnYXRvcjtcblxuICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjb25zdHJhaW50c1RvQ2hyb21lXyA9IGZ1bmN0aW9uKGMpIHtcbiAgICBpZiAodHlwZW9mIGMgIT09ICdvYmplY3QnIHx8IGMubWFuZGF0b3J5IHx8IGMub3B0aW9uYWwpIHtcbiAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgICBjb25zdCBjYyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGlmIChrZXkgPT09ICdyZXF1aXJlJyB8fCBrZXkgPT09ICdhZHZhbmNlZCcgfHwga2V5ID09PSAnbWVkaWFTb3VyY2UnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHIgPSAodHlwZW9mIGNba2V5XSA9PT0gJ29iamVjdCcpID8gY1trZXldIDoge2lkZWFsOiBjW2tleV19O1xuICAgICAgaWYgKHIuZXhhY3QgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygci5leGFjdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgci5taW4gPSByLm1heCA9IHIuZXhhY3Q7XG4gICAgICB9XG4gICAgICBjb25zdCBvbGRuYW1lXyA9IGZ1bmN0aW9uKHByZWZpeCwgbmFtZSkge1xuICAgICAgICBpZiAocHJlZml4KSB7XG4gICAgICAgICAgcmV0dXJuIHByZWZpeCArIG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAobmFtZSA9PT0gJ2RldmljZUlkJykgPyAnc291cmNlSWQnIDogbmFtZTtcbiAgICAgIH07XG4gICAgICBpZiAoci5pZGVhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNjLm9wdGlvbmFsID0gY2Mub3B0aW9uYWwgfHwgW107XG4gICAgICAgIGxldCBvYyA9IHt9O1xuICAgICAgICBpZiAodHlwZW9mIHIuaWRlYWwgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgb2Nbb2xkbmFtZV8oJ21pbicsIGtleSldID0gci5pZGVhbDtcbiAgICAgICAgICBjYy5vcHRpb25hbC5wdXNoKG9jKTtcbiAgICAgICAgICBvYyA9IHt9O1xuICAgICAgICAgIG9jW29sZG5hbWVfKCdtYXgnLCBrZXkpXSA9IHIuaWRlYWw7XG4gICAgICAgICAgY2Mub3B0aW9uYWwucHVzaChvYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2Nbb2xkbmFtZV8oJycsIGtleSldID0gci5pZGVhbDtcbiAgICAgICAgICBjYy5vcHRpb25hbC5wdXNoKG9jKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHIuZXhhY3QgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygci5leGFjdCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgY2MubWFuZGF0b3J5ID0gY2MubWFuZGF0b3J5IHx8IHt9O1xuICAgICAgICBjYy5tYW5kYXRvcnlbb2xkbmFtZV8oJycsIGtleSldID0gci5leGFjdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFsnbWluJywgJ21heCddLmZvckVhY2gobWl4ID0+IHtcbiAgICAgICAgICBpZiAoclttaXhdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNjLm1hbmRhdG9yeSA9IGNjLm1hbmRhdG9yeSB8fCB7fTtcbiAgICAgICAgICAgIGNjLm1hbmRhdG9yeVtvbGRuYW1lXyhtaXgsIGtleSldID0gclttaXhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGMuYWR2YW5jZWQpIHtcbiAgICAgIGNjLm9wdGlvbmFsID0gKGNjLm9wdGlvbmFsIHx8IFtdKS5jb25jYXQoYy5hZHZhbmNlZCk7XG4gICAgfVxuICAgIHJldHVybiBjYztcbiAgfTtcblxuICBjb25zdCBzaGltQ29uc3RyYWludHNfID0gZnVuY3Rpb24oY29uc3RyYWludHMsIGZ1bmMpIHtcbiAgICBpZiAoYnJvd3NlckRldGFpbHMudmVyc2lvbiA+PSA2MSkge1xuICAgICAgcmV0dXJuIGZ1bmMoY29uc3RyYWludHMpO1xuICAgIH1cbiAgICBjb25zdHJhaW50cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY29uc3RyYWludHMpKTtcbiAgICBpZiAoY29uc3RyYWludHMgJiYgdHlwZW9mIGNvbnN0cmFpbnRzLmF1ZGlvID09PSAnb2JqZWN0Jykge1xuICAgICAgY29uc3QgcmVtYXAgPSBmdW5jdGlvbihvYmosIGEsIGIpIHtcbiAgICAgICAgaWYgKGEgaW4gb2JqICYmICEoYiBpbiBvYmopKSB7XG4gICAgICAgICAgb2JqW2JdID0gb2JqW2FdO1xuICAgICAgICAgIGRlbGV0ZSBvYmpbYV07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdHJhaW50cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY29uc3RyYWludHMpKTtcbiAgICAgIHJlbWFwKGNvbnN0cmFpbnRzLmF1ZGlvLCAnYXV0b0dhaW5Db250cm9sJywgJ2dvb2dBdXRvR2FpbkNvbnRyb2wnKTtcbiAgICAgIHJlbWFwKGNvbnN0cmFpbnRzLmF1ZGlvLCAnbm9pc2VTdXBwcmVzc2lvbicsICdnb29nTm9pc2VTdXBwcmVzc2lvbicpO1xuICAgICAgY29uc3RyYWludHMuYXVkaW8gPSBjb25zdHJhaW50c1RvQ2hyb21lXyhjb25zdHJhaW50cy5hdWRpbyk7XG4gICAgfVxuICAgIGlmIChjb25zdHJhaW50cyAmJiB0eXBlb2YgY29uc3RyYWludHMudmlkZW8gPT09ICdvYmplY3QnKSB7XG4gICAgICAvLyBTaGltIGZhY2luZ01vZGUgZm9yIG1vYmlsZSAmIHN1cmZhY2UgcHJvLlxuICAgICAgbGV0IGZhY2UgPSBjb25zdHJhaW50cy52aWRlby5mYWNpbmdNb2RlO1xuICAgICAgZmFjZSA9IGZhY2UgJiYgKCh0eXBlb2YgZmFjZSA9PT0gJ29iamVjdCcpID8gZmFjZSA6IHtpZGVhbDogZmFjZX0pO1xuICAgICAgY29uc3QgZ2V0U3VwcG9ydGVkRmFjaW5nTW9kZUxpZXMgPSBicm93c2VyRGV0YWlscy52ZXJzaW9uIDwgNjY7XG5cbiAgICAgIGlmICgoZmFjZSAmJiAoZmFjZS5leGFjdCA9PT0gJ3VzZXInIHx8IGZhY2UuZXhhY3QgPT09ICdlbnZpcm9ubWVudCcgfHxcbiAgICAgICAgICAgICAgICAgICAgZmFjZS5pZGVhbCA9PT0gJ3VzZXInIHx8IGZhY2UuaWRlYWwgPT09ICdlbnZpcm9ubWVudCcpKSAmJlxuICAgICAgICAgICEobmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRTdXBwb3J0ZWRDb25zdHJhaW50cyAmJlxuICAgICAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRTdXBwb3J0ZWRDb25zdHJhaW50cygpLmZhY2luZ01vZGUgJiZcbiAgICAgICAgICAgICFnZXRTdXBwb3J0ZWRGYWNpbmdNb2RlTGllcykpIHtcbiAgICAgICAgZGVsZXRlIGNvbnN0cmFpbnRzLnZpZGVvLmZhY2luZ01vZGU7XG4gICAgICAgIGxldCBtYXRjaGVzO1xuICAgICAgICBpZiAoZmFjZS5leGFjdCA9PT0gJ2Vudmlyb25tZW50JyB8fCBmYWNlLmlkZWFsID09PSAnZW52aXJvbm1lbnQnKSB7XG4gICAgICAgICAgbWF0Y2hlcyA9IFsnYmFjaycsICdyZWFyJ107XG4gICAgICAgIH0gZWxzZSBpZiAoZmFjZS5leGFjdCA9PT0gJ3VzZXInIHx8IGZhY2UuaWRlYWwgPT09ICd1c2VyJykge1xuICAgICAgICAgIG1hdGNoZXMgPSBbJ2Zyb250J107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgICAvLyBMb29rIGZvciBtYXRjaGVzIGluIGxhYmVsLCBvciB1c2UgbGFzdCBjYW0gZm9yIGJhY2sgKHR5cGljYWwpLlxuICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKVxuICAgICAgICAgIC50aGVuKGRldmljZXMgPT4ge1xuICAgICAgICAgICAgZGV2aWNlcyA9IGRldmljZXMuZmlsdGVyKGQgPT4gZC5raW5kID09PSAndmlkZW9pbnB1dCcpO1xuICAgICAgICAgICAgbGV0IGRldiA9IGRldmljZXMuZmluZChkID0+IG1hdGNoZXMuc29tZShtYXRjaCA9PlxuICAgICAgICAgICAgICBkLmxhYmVsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobWF0Y2gpKSk7XG4gICAgICAgICAgICBpZiAoIWRldiAmJiBkZXZpY2VzLmxlbmd0aCAmJiBtYXRjaGVzLmluY2x1ZGVzKCdiYWNrJykpIHtcbiAgICAgICAgICAgICAgZGV2ID0gZGV2aWNlc1tkZXZpY2VzLmxlbmd0aCAtIDFdOyAvLyBtb3JlIGxpa2VseSB0aGUgYmFjayBjYW1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZXYpIHtcbiAgICAgICAgICAgICAgY29uc3RyYWludHMudmlkZW8uZGV2aWNlSWQgPSBmYWNlLmV4YWN0ID8ge2V4YWN0OiBkZXYuZGV2aWNlSWR9IDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2lkZWFsOiBkZXYuZGV2aWNlSWR9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3RyYWludHMudmlkZW8gPSBjb25zdHJhaW50c1RvQ2hyb21lXyhjb25zdHJhaW50cy52aWRlbyk7XG4gICAgICAgICAgICBsb2dnaW5nKCdjaHJvbWU6ICcgKyBKU09OLnN0cmluZ2lmeShjb25zdHJhaW50cykpO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmMoY29uc3RyYWludHMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdHJhaW50cy52aWRlbyA9IGNvbnN0cmFpbnRzVG9DaHJvbWVfKGNvbnN0cmFpbnRzLnZpZGVvKTtcbiAgICB9XG4gICAgbG9nZ2luZygnY2hyb21lOiAnICsgSlNPTi5zdHJpbmdpZnkoY29uc3RyYWludHMpKTtcbiAgICByZXR1cm4gZnVuYyhjb25zdHJhaW50cyk7XG4gIH07XG5cbiAgY29uc3Qgc2hpbUVycm9yXyA9IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoYnJvd3NlckRldGFpbHMudmVyc2lvbiA+PSA2NCkge1xuICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB7XG4gICAgICAgIFBlcm1pc3Npb25EZW5pZWRFcnJvcjogJ05vdEFsbG93ZWRFcnJvcicsXG4gICAgICAgIFBlcm1pc3Npb25EaXNtaXNzZWRFcnJvcjogJ05vdEFsbG93ZWRFcnJvcicsXG4gICAgICAgIEludmFsaWRTdGF0ZUVycm9yOiAnTm90QWxsb3dlZEVycm9yJyxcbiAgICAgICAgRGV2aWNlc05vdEZvdW5kRXJyb3I6ICdOb3RGb3VuZEVycm9yJyxcbiAgICAgICAgQ29uc3RyYWludE5vdFNhdGlzZmllZEVycm9yOiAnT3ZlcmNvbnN0cmFpbmVkRXJyb3InLFxuICAgICAgICBUcmFja1N0YXJ0RXJyb3I6ICdOb3RSZWFkYWJsZUVycm9yJyxcbiAgICAgICAgTWVkaWFEZXZpY2VGYWlsZWREdWVUb1NodXRkb3duOiAnTm90QWxsb3dlZEVycm9yJyxcbiAgICAgICAgTWVkaWFEZXZpY2VLaWxsU3dpdGNoT246ICdOb3RBbGxvd2VkRXJyb3InLFxuICAgICAgICBUYWJDYXB0dXJlRXJyb3I6ICdBYm9ydEVycm9yJyxcbiAgICAgICAgU2NyZWVuQ2FwdHVyZUVycm9yOiAnQWJvcnRFcnJvcicsXG4gICAgICAgIERldmljZUNhcHR1cmVFcnJvcjogJ0Fib3J0RXJyb3InXG4gICAgICB9W2UubmFtZV0gfHwgZS5uYW1lLFxuICAgICAgbWVzc2FnZTogZS5tZXNzYWdlLFxuICAgICAgY29uc3RyYWludDogZS5jb25zdHJhaW50IHx8IGUuY29uc3RyYWludE5hbWUsXG4gICAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZSArICh0aGlzLm1lc3NhZ2UgJiYgJzogJykgKyB0aGlzLm1lc3NhZ2U7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBnZXRVc2VyTWVkaWFfID0gZnVuY3Rpb24oY29uc3RyYWludHMsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHNoaW1Db25zdHJhaW50c18oY29uc3RyYWludHMsIGMgPT4ge1xuICAgICAgbmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYShjLCBvblN1Y2Nlc3MsIGUgPT4ge1xuICAgICAgICBpZiAob25FcnJvcikge1xuICAgICAgICAgIG9uRXJyb3Ioc2hpbUVycm9yXyhlKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhID0gZ2V0VXNlck1lZGlhXy5iaW5kKG5hdmlnYXRvcik7XG5cbiAgLy8gRXZlbiB0aG91Z2ggQ2hyb21lIDQ1IGhhcyBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzIGFuZCBhIGdldFVzZXJNZWRpYVxuICAvLyBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGEgUHJvbWlzZSwgaXQgZG9lcyBub3QgYWNjZXB0IHNwZWMtc3R5bGVcbiAgLy8gY29uc3RyYWludHMuXG4gIGlmIChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSkge1xuICAgIGNvbnN0IG9yaWdHZXRVc2VyTWVkaWEgPSBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5cbiAgICAgICAgYmluZChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKTtcbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSA9IGZ1bmN0aW9uKGNzKSB7XG4gICAgICByZXR1cm4gc2hpbUNvbnN0cmFpbnRzXyhjcywgYyA9PiBvcmlnR2V0VXNlck1lZGlhKGMpLnRoZW4oc3RyZWFtID0+IHtcbiAgICAgICAgaWYgKGMuYXVkaW8gJiYgIXN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCB8fFxuICAgICAgICAgICAgYy52aWRlbyAmJiAhc3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoKSB7XG4gICAgICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4ge1xuICAgICAgICAgICAgdHJhY2suc3RvcCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oJycsICdOb3RGb3VuZEVycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICAgIH0sIGUgPT4gUHJvbWlzZS5yZWplY3Qoc2hpbUVycm9yXyhlKSkpKTtcbiAgICB9O1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/webrtc-adapter/src/js/chrome/getusermedia.js\n"));

/***/ }),

/***/ "./node_modules/webrtc-adapter/src/js/common_shim.js":
/*!***********************************************************!*\
  !*** ./node_modules/webrtc-adapter/src/js/common_shim.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"removeExtmapAllowMixed\": function() { return /* binding */ removeExtmapAllowMixed; },\n/* harmony export */   \"shimAddIceCandidateNullOrEmpty\": function() { return /* binding */ shimAddIceCandidateNullOrEmpty; },\n/* harmony export */   \"shimConnectionState\": function() { return /* binding */ shimConnectionState; },\n/* harmony export */   \"shimMaxMessageSize\": function() { return /* binding */ shimMaxMessageSize; },\n/* harmony export */   \"shimParameterlessSetLocalDescription\": function() { return /* binding */ shimParameterlessSetLocalDescription; },\n/* harmony export */   \"shimRTCIceCandidate\": function() { return /* binding */ shimRTCIceCandidate; },\n/* harmony export */   \"shimRTCIceCandidateRelayProtocol\": function() { return /* binding */ shimRTCIceCandidateRelayProtocol; },\n/* harmony export */   \"shimSendThrowTypeError\": function() { return /* binding */ shimSendThrowTypeError; }\n/* harmony export */ });\n/* harmony import */ var sdp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sdp */ \"./node_modules/sdp/sdp.js\");\n/* harmony import */ var sdp__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sdp__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./node_modules/webrtc-adapter/src/js/utils.js\");\n/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n\n\n\n\n\nfunction shimRTCIceCandidate(window) {\n  // foundation is arbitrarily chosen as an indicator for full support for\n  // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n  if (!window.RTCIceCandidate || (window.RTCIceCandidate && 'foundation' in\n      window.RTCIceCandidate.prototype)) {\n    return;\n  }\n\n  const NativeRTCIceCandidate = window.RTCIceCandidate;\n  window.RTCIceCandidate = function RTCIceCandidate(args) {\n    // Remove the a= which shouldn't be part of the candidate string.\n    if (typeof args === 'object' && args.candidate &&\n        args.candidate.indexOf('a=') === 0) {\n      args = JSON.parse(JSON.stringify(args));\n      args.candidate = args.candidate.substr(2);\n    }\n\n    if (args.candidate && args.candidate.length) {\n      // Augment the native candidate with the parsed fields.\n      const nativeCandidate = new NativeRTCIceCandidate(args);\n      const parsedCandidate = sdp__WEBPACK_IMPORTED_MODULE_0___default().parseCandidate(args.candidate);\n      const augmentedCandidate = Object.assign(nativeCandidate,\n          parsedCandidate);\n\n      // Add a serializer that does not serialize the extra attributes.\n      augmentedCandidate.toJSON = function toJSON() {\n        return {\n          candidate: augmentedCandidate.candidate,\n          sdpMid: augmentedCandidate.sdpMid,\n          sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n          usernameFragment: augmentedCandidate.usernameFragment,\n        };\n      };\n      return augmentedCandidate;\n    }\n    return new NativeRTCIceCandidate(args);\n  };\n  window.RTCIceCandidate.prototype = NativeRTCIceCandidate.prototype;\n\n  // Hook up the augmented candidate in onicecandidate and\n  // addEventListener('icecandidate', ...)\n  _utils__WEBPACK_IMPORTED_MODULE_1__.wrapPeerConnectionEvent(window, 'icecandidate', e => {\n    if (e.candidate) {\n      Object.defineProperty(e, 'candidate', {\n        value: new window.RTCIceCandidate(e.candidate),\n        writable: 'false'\n      });\n    }\n    return e;\n  });\n}\n\nfunction shimRTCIceCandidateRelayProtocol(window) {\n  if (!window.RTCIceCandidate || (window.RTCIceCandidate && 'relayProtocol' in\n      window.RTCIceCandidate.prototype)) {\n    return;\n  }\n\n  // Hook up the augmented candidate in onicecandidate and\n  // addEventListener('icecandidate', ...)\n  _utils__WEBPACK_IMPORTED_MODULE_1__.wrapPeerConnectionEvent(window, 'icecandidate', e => {\n    if (e.candidate) {\n      const parsedCandidate = sdp__WEBPACK_IMPORTED_MODULE_0___default().parseCandidate(e.candidate.candidate);\n      if (parsedCandidate.type === 'relay') {\n        // This is a libwebrtc-specific mapping of local type preference\n        // to relayProtocol.\n        e.candidate.relayProtocol = {\n          0: 'tls',\n          1: 'tcp',\n          2: 'udp',\n        }[parsedCandidate.priority >> 24];\n      }\n    }\n    return e;\n  });\n}\n\nfunction shimMaxMessageSize(window, browserDetails) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  if (!('sctp' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n      get() {\n        return typeof this._sctp === 'undefined' ? null : this._sctp;\n      }\n    });\n  }\n\n  const sctpInDescription = function(description) {\n    if (!description || !description.sdp) {\n      return false;\n    }\n    const sections = sdp__WEBPACK_IMPORTED_MODULE_0___default().splitSections(description.sdp);\n    sections.shift();\n    return sections.some(mediaSection => {\n      const mLine = sdp__WEBPACK_IMPORTED_MODULE_0___default().parseMLine(mediaSection);\n      return mLine && mLine.kind === 'application'\n          && mLine.protocol.indexOf('SCTP') !== -1;\n    });\n  };\n\n  const getRemoteFirefoxVersion = function(description) {\n    // TODO: Is there a better solution for detecting Firefox?\n    const match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n    if (match === null || match.length < 2) {\n      return -1;\n    }\n    const version = parseInt(match[1], 10);\n    // Test for NaN (yes, this is ugly)\n    return version !== version ? -1 : version;\n  };\n\n  const getCanSendMaxMessageSize = function(remoteIsFirefox) {\n    // Every implementation we know can send at least 64 KiB.\n    // Note: Although Chrome is technically able to send up to 256 KiB, the\n    //       data does not reach the other peer reliably.\n    //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n    let canSendMaxMessageSize = 65536;\n    if (browserDetails.browser === 'firefox') {\n      if (browserDetails.version < 57) {\n        if (remoteIsFirefox === -1) {\n          // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n          // fragmentation.\n          canSendMaxMessageSize = 16384;\n        } else {\n          // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n          // messages. Thus, supporting ~2 GiB when sending.\n          canSendMaxMessageSize = 2147483637;\n        }\n      } else if (browserDetails.version < 60) {\n        // Currently, all FF >= 57 will reset the remote maximum message size\n        // to the default value when a data channel is created at a later\n        // stage. :(\n        // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n        canSendMaxMessageSize =\n          browserDetails.version === 57 ? 65535 : 65536;\n      } else {\n        // FF >= 60 supports sending ~2 GiB\n        canSendMaxMessageSize = 2147483637;\n      }\n    }\n    return canSendMaxMessageSize;\n  };\n\n  const getMaxMessageSize = function(description, remoteIsFirefox) {\n    // Note: 65536 bytes is the default value from the SDP spec. Also,\n    //       every implementation we know supports receiving 65536 bytes.\n    let maxMessageSize = 65536;\n\n    // FF 57 has a slightly incorrect default remote max message size, so\n    // we need to adjust it here to avoid a failure when sending.\n    // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n    if (browserDetails.browser === 'firefox'\n         && browserDetails.version === 57) {\n      maxMessageSize = 65535;\n    }\n\n    const match = sdp__WEBPACK_IMPORTED_MODULE_0___default().matchPrefix(description.sdp,\n      'a=max-message-size:');\n    if (match.length > 0) {\n      maxMessageSize = parseInt(match[0].substr(19), 10);\n    } else if (browserDetails.browser === 'firefox' &&\n                remoteIsFirefox !== -1) {\n      // If the maximum message size is not present in the remote SDP and\n      // both local and remote are Firefox, the remote peer can receive\n      // ~2 GiB.\n      maxMessageSize = 2147483637;\n    }\n    return maxMessageSize;\n  };\n\n  const origSetRemoteDescription =\n      window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription =\n    function setRemoteDescription() {\n      this._sctp = null;\n      // Chrome decided to not expose .sctp in plan-b mode.\n      // As usual, adapter.js has to do an 'ugly worakaround'\n      // to cover up the mess.\n      if (browserDetails.browser === 'chrome' && browserDetails.version >= 76) {\n        const {sdpSemantics} = this.getConfiguration();\n        if (sdpSemantics === 'plan-b') {\n          Object.defineProperty(this, 'sctp', {\n            get() {\n              return typeof this._sctp === 'undefined' ? null : this._sctp;\n            },\n            enumerable: true,\n            configurable: true,\n          });\n        }\n      }\n\n      if (sctpInDescription(arguments[0])) {\n        // Check if the remote is FF.\n        const isFirefox = getRemoteFirefoxVersion(arguments[0]);\n\n        // Get the maximum message size the local peer is capable of sending\n        const canSendMMS = getCanSendMaxMessageSize(isFirefox);\n\n        // Get the maximum message size of the remote peer.\n        const remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n\n        // Determine final maximum message size\n        let maxMessageSize;\n        if (canSendMMS === 0 && remoteMMS === 0) {\n          maxMessageSize = Number.POSITIVE_INFINITY;\n        } else if (canSendMMS === 0 || remoteMMS === 0) {\n          maxMessageSize = Math.max(canSendMMS, remoteMMS);\n        } else {\n          maxMessageSize = Math.min(canSendMMS, remoteMMS);\n        }\n\n        // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n        // attribute.\n        const sctp = {};\n        Object.defineProperty(sctp, 'maxMessageSize', {\n          get() {\n            return maxMessageSize;\n          }\n        });\n        this._sctp = sctp;\n      }\n\n      return origSetRemoteDescription.apply(this, arguments);\n    };\n}\n\nfunction shimSendThrowTypeError(window) {\n  if (!(window.RTCPeerConnection &&\n      'createDataChannel' in window.RTCPeerConnection.prototype)) {\n    return;\n  }\n\n  // Note: Although Firefox >= 57 has a native implementation, the maximum\n  //       message size can be reset for all data channels at a later stage.\n  //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n\n  function wrapDcSend(dc, pc) {\n    const origDataChannelSend = dc.send;\n    dc.send = function send() {\n      const data = arguments[0];\n      const length = data.length || data.size || data.byteLength;\n      if (dc.readyState === 'open' &&\n          pc.sctp && length > pc.sctp.maxMessageSize) {\n        throw new TypeError('Message too large (can send a maximum of ' +\n          pc.sctp.maxMessageSize + ' bytes)');\n      }\n      return origDataChannelSend.apply(dc, arguments);\n    };\n  }\n  const origCreateDataChannel =\n    window.RTCPeerConnection.prototype.createDataChannel;\n  window.RTCPeerConnection.prototype.createDataChannel =\n    function createDataChannel() {\n      const dataChannel = origCreateDataChannel.apply(this, arguments);\n      wrapDcSend(dataChannel, this);\n      return dataChannel;\n    };\n  _utils__WEBPACK_IMPORTED_MODULE_1__.wrapPeerConnectionEvent(window, 'datachannel', e => {\n    wrapDcSend(e.channel, e.target);\n    return e;\n  });\n}\n\n\n/* shims RTCConnectionState by pretending it is the same as iceConnectionState.\n * See https://bugs.chromium.org/p/webrtc/issues/detail?id=6145#c12\n * for why this is a valid hack in Chrome. In Firefox it is slightly incorrect\n * since DTLS failures would be hidden. See\n * https://bugzilla.mozilla.org/show_bug.cgi?id=1265827\n * for the Firefox tracking bug.\n */\nfunction shimConnectionState(window) {\n  if (!window.RTCPeerConnection ||\n      'connectionState' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  const proto = window.RTCPeerConnection.prototype;\n  Object.defineProperty(proto, 'connectionState', {\n    get() {\n      return {\n        completed: 'connected',\n        checking: 'connecting'\n      }[this.iceConnectionState] || this.iceConnectionState;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(proto, 'onconnectionstatechange', {\n    get() {\n      return this._onconnectionstatechange || null;\n    },\n    set(cb) {\n      if (this._onconnectionstatechange) {\n        this.removeEventListener('connectionstatechange',\n            this._onconnectionstatechange);\n        delete this._onconnectionstatechange;\n      }\n      if (cb) {\n        this.addEventListener('connectionstatechange',\n            this._onconnectionstatechange = cb);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ['setLocalDescription', 'setRemoteDescription'].forEach((method) => {\n    const origMethod = proto[method];\n    proto[method] = function() {\n      if (!this._connectionstatechangepoly) {\n        this._connectionstatechangepoly = e => {\n          const pc = e.target;\n          if (pc._lastConnectionState !== pc.connectionState) {\n            pc._lastConnectionState = pc.connectionState;\n            const newEvent = new Event('connectionstatechange', e);\n            pc.dispatchEvent(newEvent);\n          }\n          return e;\n        };\n        this.addEventListener('iceconnectionstatechange',\n          this._connectionstatechangepoly);\n      }\n      return origMethod.apply(this, arguments);\n    };\n  });\n}\n\nfunction removeExtmapAllowMixed(window, browserDetails) {\n  /* remove a=extmap-allow-mixed for webrtc.org < M71 */\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  if (browserDetails.browser === 'chrome' && browserDetails.version >= 71) {\n    return;\n  }\n  if (browserDetails.browser === 'safari' && browserDetails.version >= 605) {\n    return;\n  }\n  const nativeSRD = window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription =\n  function setRemoteDescription(desc) {\n    if (desc && desc.sdp && desc.sdp.indexOf('\\na=extmap-allow-mixed') !== -1) {\n      const sdp = desc.sdp.split('\\n').filter((line) => {\n        return line.trim() !== 'a=extmap-allow-mixed';\n      }).join('\\n');\n      // Safari enforces read-only-ness of RTCSessionDescription fields.\n      if (window.RTCSessionDescription &&\n          desc instanceof window.RTCSessionDescription) {\n        arguments[0] = new window.RTCSessionDescription({\n          type: desc.type,\n          sdp,\n        });\n      } else {\n        desc.sdp = sdp;\n      }\n    }\n    return nativeSRD.apply(this, arguments);\n  };\n}\n\nfunction shimAddIceCandidateNullOrEmpty(window, browserDetails) {\n  // Support for addIceCandidate(null or undefined)\n  // as well as addIceCandidate({candidate: \"\", ...})\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=978582\n  // Note: must be called before other polyfills which change the signature.\n  if (!(window.RTCPeerConnection && window.RTCPeerConnection.prototype)) {\n    return;\n  }\n  const nativeAddIceCandidate =\n      window.RTCPeerConnection.prototype.addIceCandidate;\n  if (!nativeAddIceCandidate || nativeAddIceCandidate.length === 0) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.addIceCandidate =\n    function addIceCandidate() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      // Firefox 68+ emits and processes {candidate: \"\", ...}, ignore\n      // in older versions.\n      // Native support for ignoring exists for Chrome M77+.\n      // Safari ignores as well, exact version unknown but works in the same\n      // version that also ignores addIceCandidate(null).\n      if (((browserDetails.browser === 'chrome' && browserDetails.version < 78)\n           || (browserDetails.browser === 'firefox'\n               && browserDetails.version < 68)\n           || (browserDetails.browser === 'safari'))\n          && arguments[0] && arguments[0].candidate === '') {\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n}\n\n// Note: Make sure to call this ahead of APIs that modify\n// setLocalDescription.length\nfunction shimParameterlessSetLocalDescription(window, browserDetails) {\n  if (!(window.RTCPeerConnection && window.RTCPeerConnection.prototype)) {\n    return;\n  }\n  const nativeSetLocalDescription =\n      window.RTCPeerConnection.prototype.setLocalDescription;\n  if (!nativeSetLocalDescription || nativeSetLocalDescription.length === 0) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.setLocalDescription =\n    function setLocalDescription() {\n      let desc = arguments[0] || {};\n      if (typeof desc !== 'object' || (desc.type && desc.sdp)) {\n        return nativeSetLocalDescription.apply(this, arguments);\n      }\n      // The remaining steps should technically happen when SLD comes off the\n      // RTCPeerConnection's operations chain (not ahead of going on it), but\n      // this is too difficult to shim. Instead, this shim only covers the\n      // common case where the operations chain is empty. This is imperfect, but\n      // should cover many cases. Rationale: Even if we can't reduce the glare\n      // window to zero on imperfect implementations, there's value in tapping\n      // into the perfect negotiation pattern that several browsers support.\n      desc = {type: desc.type, sdp: desc.sdp};\n      if (!desc.type) {\n        switch (this.signalingState) {\n          case 'stable':\n          case 'have-local-offer':\n          case 'have-remote-pranswer':\n            desc.type = 'offer';\n            break;\n          default:\n            desc.type = 'answer';\n            break;\n        }\n      }\n      if (desc.sdp || (desc.type !== 'offer' && desc.type !== 'answer')) {\n        return nativeSetLocalDescription.apply(this, [desc]);\n      }\n      const func = desc.type === 'offer' ? this.createOffer : this.createAnswer;\n      return func.apply(this)\n        .then(d => nativeSetLocalDescription.apply(this, [d]));\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL2NvbW1vbl9zaGltLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNhOztBQUVjO0FBQ007O0FBRTFCO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHlEQUF1QjtBQUNyRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUUsMkRBQTZCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRSwyREFBNkI7QUFDL0I7QUFDQSw4QkFBOEIseURBQXVCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHdEQUFzQjtBQUMzQztBQUNBO0FBQ0Esb0JBQW9CLHFEQUFtQjtBQUN2QztBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixzREFBb0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxjQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSwyREFBNkI7QUFDL0I7QUFDQTtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0EsaUNBQWlDLG1CQUFtQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsbUJBQW1CO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3dlYnJ0Yy1hZGFwdGVyL3NyYy9qcy9jb21tb25fc2hpbS5qcz8wMzU5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBXZWJSVEMgcHJvamVjdCBhdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqICBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhIEJTRC1zdHlsZSBsaWNlbnNlXG4gKiAgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBvZiB0aGUgc291cmNlXG4gKiAgdHJlZS5cbiAqL1xuLyogZXNsaW50LWVudiBub2RlICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBTRFBVdGlscyBmcm9tICdzZHAnO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGltUlRDSWNlQ2FuZGlkYXRlKHdpbmRvdykge1xuICAvLyBmb3VuZGF0aW9uIGlzIGFyYml0cmFyaWx5IGNob3NlbiBhcyBhbiBpbmRpY2F0b3IgZm9yIGZ1bGwgc3VwcG9ydCBmb3JcbiAgLy8gaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3dlYnJ0Yy1wYy8jcnRjaWNlY2FuZGlkYXRlLWludGVyZmFjZVxuICBpZiAoIXdpbmRvdy5SVENJY2VDYW5kaWRhdGUgfHwgKHdpbmRvdy5SVENJY2VDYW5kaWRhdGUgJiYgJ2ZvdW5kYXRpb24nIGluXG4gICAgICB3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlLnByb3RvdHlwZSkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBOYXRpdmVSVENJY2VDYW5kaWRhdGUgPSB3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlO1xuICB3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlID0gZnVuY3Rpb24gUlRDSWNlQ2FuZGlkYXRlKGFyZ3MpIHtcbiAgICAvLyBSZW1vdmUgdGhlIGE9IHdoaWNoIHNob3VsZG4ndCBiZSBwYXJ0IG9mIHRoZSBjYW5kaWRhdGUgc3RyaW5nLlxuICAgIGlmICh0eXBlb2YgYXJncyA9PT0gJ29iamVjdCcgJiYgYXJncy5jYW5kaWRhdGUgJiZcbiAgICAgICAgYXJncy5jYW5kaWRhdGUuaW5kZXhPZignYT0nKSA9PT0gMCkge1xuICAgICAgYXJncyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYXJncykpO1xuICAgICAgYXJncy5jYW5kaWRhdGUgPSBhcmdzLmNhbmRpZGF0ZS5zdWJzdHIoMik7XG4gICAgfVxuXG4gICAgaWYgKGFyZ3MuY2FuZGlkYXRlICYmIGFyZ3MuY2FuZGlkYXRlLmxlbmd0aCkge1xuICAgICAgLy8gQXVnbWVudCB0aGUgbmF0aXZlIGNhbmRpZGF0ZSB3aXRoIHRoZSBwYXJzZWQgZmllbGRzLlxuICAgICAgY29uc3QgbmF0aXZlQ2FuZGlkYXRlID0gbmV3IE5hdGl2ZVJUQ0ljZUNhbmRpZGF0ZShhcmdzKTtcbiAgICAgIGNvbnN0IHBhcnNlZENhbmRpZGF0ZSA9IFNEUFV0aWxzLnBhcnNlQ2FuZGlkYXRlKGFyZ3MuY2FuZGlkYXRlKTtcbiAgICAgIGNvbnN0IGF1Z21lbnRlZENhbmRpZGF0ZSA9IE9iamVjdC5hc3NpZ24obmF0aXZlQ2FuZGlkYXRlLFxuICAgICAgICAgIHBhcnNlZENhbmRpZGF0ZSk7XG5cbiAgICAgIC8vIEFkZCBhIHNlcmlhbGl6ZXIgdGhhdCBkb2VzIG5vdCBzZXJpYWxpemUgdGhlIGV4dHJhIGF0dHJpYnV0ZXMuXG4gICAgICBhdWdtZW50ZWRDYW5kaWRhdGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNhbmRpZGF0ZTogYXVnbWVudGVkQ2FuZGlkYXRlLmNhbmRpZGF0ZSxcbiAgICAgICAgICBzZHBNaWQ6IGF1Z21lbnRlZENhbmRpZGF0ZS5zZHBNaWQsXG4gICAgICAgICAgc2RwTUxpbmVJbmRleDogYXVnbWVudGVkQ2FuZGlkYXRlLnNkcE1MaW5lSW5kZXgsXG4gICAgICAgICAgdXNlcm5hbWVGcmFnbWVudDogYXVnbWVudGVkQ2FuZGlkYXRlLnVzZXJuYW1lRnJhZ21lbnQsXG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGF1Z21lbnRlZENhbmRpZGF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBOYXRpdmVSVENJY2VDYW5kaWRhdGUoYXJncyk7XG4gIH07XG4gIHdpbmRvdy5SVENJY2VDYW5kaWRhdGUucHJvdG90eXBlID0gTmF0aXZlUlRDSWNlQ2FuZGlkYXRlLnByb3RvdHlwZTtcblxuICAvLyBIb29rIHVwIHRoZSBhdWdtZW50ZWQgY2FuZGlkYXRlIGluIG9uaWNlY2FuZGlkYXRlIGFuZFxuICAvLyBhZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCAuLi4pXG4gIHV0aWxzLndyYXBQZWVyQ29ubmVjdGlvbkV2ZW50KHdpbmRvdywgJ2ljZWNhbmRpZGF0ZScsIGUgPT4ge1xuICAgIGlmIChlLmNhbmRpZGF0ZSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsICdjYW5kaWRhdGUnLCB7XG4gICAgICAgIHZhbHVlOiBuZXcgd2luZG93LlJUQ0ljZUNhbmRpZGF0ZShlLmNhbmRpZGF0ZSksXG4gICAgICAgIHdyaXRhYmxlOiAnZmFsc2UnXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGU7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hpbVJUQ0ljZUNhbmRpZGF0ZVJlbGF5UHJvdG9jb2wod2luZG93KSB7XG4gIGlmICghd2luZG93LlJUQ0ljZUNhbmRpZGF0ZSB8fCAod2luZG93LlJUQ0ljZUNhbmRpZGF0ZSAmJiAncmVsYXlQcm90b2NvbCcgaW5cbiAgICAgIHdpbmRvdy5SVENJY2VDYW5kaWRhdGUucHJvdG90eXBlKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEhvb2sgdXAgdGhlIGF1Z21lbnRlZCBjYW5kaWRhdGUgaW4gb25pY2VjYW5kaWRhdGUgYW5kXG4gIC8vIGFkZEV2ZW50TGlzdGVuZXIoJ2ljZWNhbmRpZGF0ZScsIC4uLilcbiAgdXRpbHMud3JhcFBlZXJDb25uZWN0aW9uRXZlbnQod2luZG93LCAnaWNlY2FuZGlkYXRlJywgZSA9PiB7XG4gICAgaWYgKGUuY2FuZGlkYXRlKSB7XG4gICAgICBjb25zdCBwYXJzZWRDYW5kaWRhdGUgPSBTRFBVdGlscy5wYXJzZUNhbmRpZGF0ZShlLmNhbmRpZGF0ZS5jYW5kaWRhdGUpO1xuICAgICAgaWYgKHBhcnNlZENhbmRpZGF0ZS50eXBlID09PSAncmVsYXknKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBsaWJ3ZWJydGMtc3BlY2lmaWMgbWFwcGluZyBvZiBsb2NhbCB0eXBlIHByZWZlcmVuY2VcbiAgICAgICAgLy8gdG8gcmVsYXlQcm90b2NvbC5cbiAgICAgICAgZS5jYW5kaWRhdGUucmVsYXlQcm90b2NvbCA9IHtcbiAgICAgICAgICAwOiAndGxzJyxcbiAgICAgICAgICAxOiAndGNwJyxcbiAgICAgICAgICAyOiAndWRwJyxcbiAgICAgICAgfVtwYXJzZWRDYW5kaWRhdGUucHJpb3JpdHkgPj4gMjRdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGltTWF4TWVzc2FnZVNpemUod2luZG93LCBicm93c2VyRGV0YWlscykge1xuICBpZiAoIXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghKCdzY3RwJyBpbiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLCAnc2N0cCcsIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLl9zY3RwID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiB0aGlzLl9zY3RwO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY29uc3Qgc2N0cEluRGVzY3JpcHRpb24gPSBmdW5jdGlvbihkZXNjcmlwdGlvbikge1xuICAgIGlmICghZGVzY3JpcHRpb24gfHwgIWRlc2NyaXB0aW9uLnNkcCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBzZWN0aW9ucyA9IFNEUFV0aWxzLnNwbGl0U2VjdGlvbnMoZGVzY3JpcHRpb24uc2RwKTtcbiAgICBzZWN0aW9ucy5zaGlmdCgpO1xuICAgIHJldHVybiBzZWN0aW9ucy5zb21lKG1lZGlhU2VjdGlvbiA9PiB7XG4gICAgICBjb25zdCBtTGluZSA9IFNEUFV0aWxzLnBhcnNlTUxpbmUobWVkaWFTZWN0aW9uKTtcbiAgICAgIHJldHVybiBtTGluZSAmJiBtTGluZS5raW5kID09PSAnYXBwbGljYXRpb24nXG4gICAgICAgICAgJiYgbUxpbmUucHJvdG9jb2wuaW5kZXhPZignU0NUUCcpICE9PSAtMTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBnZXRSZW1vdGVGaXJlZm94VmVyc2lvbiA9IGZ1bmN0aW9uKGRlc2NyaXB0aW9uKSB7XG4gICAgLy8gVE9ETzogSXMgdGhlcmUgYSBiZXR0ZXIgc29sdXRpb24gZm9yIGRldGVjdGluZyBGaXJlZm94P1xuICAgIGNvbnN0IG1hdGNoID0gZGVzY3JpcHRpb24uc2RwLm1hdGNoKC9tb3ppbGxhLi4uVEhJU19JU19TRFBBUlRBLShcXGQrKS8pO1xuICAgIGlmIChtYXRjaCA9PT0gbnVsbCB8fCBtYXRjaC5sZW5ndGggPCAyKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGNvbnN0IHZlcnNpb24gPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuICAgIC8vIFRlc3QgZm9yIE5hTiAoeWVzLCB0aGlzIGlzIHVnbHkpXG4gICAgcmV0dXJuIHZlcnNpb24gIT09IHZlcnNpb24gPyAtMSA6IHZlcnNpb247XG4gIH07XG5cbiAgY29uc3QgZ2V0Q2FuU2VuZE1heE1lc3NhZ2VTaXplID0gZnVuY3Rpb24ocmVtb3RlSXNGaXJlZm94KSB7XG4gICAgLy8gRXZlcnkgaW1wbGVtZW50YXRpb24gd2Uga25vdyBjYW4gc2VuZCBhdCBsZWFzdCA2NCBLaUIuXG4gICAgLy8gTm90ZTogQWx0aG91Z2ggQ2hyb21lIGlzIHRlY2huaWNhbGx5IGFibGUgdG8gc2VuZCB1cCB0byAyNTYgS2lCLCB0aGVcbiAgICAvLyAgICAgICBkYXRhIGRvZXMgbm90IHJlYWNoIHRoZSBvdGhlciBwZWVyIHJlbGlhYmx5LlxuICAgIC8vICAgICAgIFNlZTogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3dlYnJ0Yy9pc3N1ZXMvZGV0YWlsP2lkPTg0MTlcbiAgICBsZXQgY2FuU2VuZE1heE1lc3NhZ2VTaXplID0gNjU1MzY7XG4gICAgaWYgKGJyb3dzZXJEZXRhaWxzLmJyb3dzZXIgPT09ICdmaXJlZm94Jykge1xuICAgICAgaWYgKGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPCA1Nykge1xuICAgICAgICBpZiAocmVtb3RlSXNGaXJlZm94ID09PSAtMSkge1xuICAgICAgICAgIC8vIEZGIDwgNTcgd2lsbCBzZW5kIGluIDE2IEtpQiBjaHVua3MgdXNpbmcgdGhlIGRlcHJlY2F0ZWQgUFBJRFxuICAgICAgICAgIC8vIGZyYWdtZW50YXRpb24uXG4gICAgICAgICAgY2FuU2VuZE1heE1lc3NhZ2VTaXplID0gMTYzODQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gSG93ZXZlciwgb3RoZXIgRkYgKGFuZCBSQVdSVEMpIGNhbiByZWFzc2VtYmxlIFBQSUQtZnJhZ21lbnRlZFxuICAgICAgICAgIC8vIG1lc3NhZ2VzLiBUaHVzLCBzdXBwb3J0aW5nIH4yIEdpQiB3aGVuIHNlbmRpbmcuXG4gICAgICAgICAgY2FuU2VuZE1heE1lc3NhZ2VTaXplID0gMjE0NzQ4MzYzNztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChicm93c2VyRGV0YWlscy52ZXJzaW9uIDwgNjApIHtcbiAgICAgICAgLy8gQ3VycmVudGx5LCBhbGwgRkYgPj0gNTcgd2lsbCByZXNldCB0aGUgcmVtb3RlIG1heGltdW0gbWVzc2FnZSBzaXplXG4gICAgICAgIC8vIHRvIHRoZSBkZWZhdWx0IHZhbHVlIHdoZW4gYSBkYXRhIGNoYW5uZWwgaXMgY3JlYXRlZCBhdCBhIGxhdGVyXG4gICAgICAgIC8vIHN0YWdlLiA6KFxuICAgICAgICAvLyBTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTE0MjY4MzFcbiAgICAgICAgY2FuU2VuZE1heE1lc3NhZ2VTaXplID1cbiAgICAgICAgICBicm93c2VyRGV0YWlscy52ZXJzaW9uID09PSA1NyA/IDY1NTM1IDogNjU1MzY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGRiA+PSA2MCBzdXBwb3J0cyBzZW5kaW5nIH4yIEdpQlxuICAgICAgICBjYW5TZW5kTWF4TWVzc2FnZVNpemUgPSAyMTQ3NDgzNjM3O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2FuU2VuZE1heE1lc3NhZ2VTaXplO1xuICB9O1xuXG4gIGNvbnN0IGdldE1heE1lc3NhZ2VTaXplID0gZnVuY3Rpb24oZGVzY3JpcHRpb24sIHJlbW90ZUlzRmlyZWZveCkge1xuICAgIC8vIE5vdGU6IDY1NTM2IGJ5dGVzIGlzIHRoZSBkZWZhdWx0IHZhbHVlIGZyb20gdGhlIFNEUCBzcGVjLiBBbHNvLFxuICAgIC8vICAgICAgIGV2ZXJ5IGltcGxlbWVudGF0aW9uIHdlIGtub3cgc3VwcG9ydHMgcmVjZWl2aW5nIDY1NTM2IGJ5dGVzLlxuICAgIGxldCBtYXhNZXNzYWdlU2l6ZSA9IDY1NTM2O1xuXG4gICAgLy8gRkYgNTcgaGFzIGEgc2xpZ2h0bHkgaW5jb3JyZWN0IGRlZmF1bHQgcmVtb3RlIG1heCBtZXNzYWdlIHNpemUsIHNvXG4gICAgLy8gd2UgbmVlZCB0byBhZGp1c3QgaXQgaGVyZSB0byBhdm9pZCBhIGZhaWx1cmUgd2hlbiBzZW5kaW5nLlxuICAgIC8vIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTQyNTY5N1xuICAgIGlmIChicm93c2VyRGV0YWlscy5icm93c2VyID09PSAnZmlyZWZveCdcbiAgICAgICAgICYmIGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPT09IDU3KSB7XG4gICAgICBtYXhNZXNzYWdlU2l6ZSA9IDY1NTM1O1xuICAgIH1cblxuICAgIGNvbnN0IG1hdGNoID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgoZGVzY3JpcHRpb24uc2RwLFxuICAgICAgJ2E9bWF4LW1lc3NhZ2Utc2l6ZTonKTtcbiAgICBpZiAobWF0Y2gubGVuZ3RoID4gMCkge1xuICAgICAgbWF4TWVzc2FnZVNpemUgPSBwYXJzZUludChtYXRjaFswXS5zdWJzdHIoMTkpLCAxMCk7XG4gICAgfSBlbHNlIGlmIChicm93c2VyRGV0YWlscy5icm93c2VyID09PSAnZmlyZWZveCcgJiZcbiAgICAgICAgICAgICAgICByZW1vdGVJc0ZpcmVmb3ggIT09IC0xKSB7XG4gICAgICAvLyBJZiB0aGUgbWF4aW11bSBtZXNzYWdlIHNpemUgaXMgbm90IHByZXNlbnQgaW4gdGhlIHJlbW90ZSBTRFAgYW5kXG4gICAgICAvLyBib3RoIGxvY2FsIGFuZCByZW1vdGUgYXJlIEZpcmVmb3gsIHRoZSByZW1vdGUgcGVlciBjYW4gcmVjZWl2ZVxuICAgICAgLy8gfjIgR2lCLlxuICAgICAgbWF4TWVzc2FnZVNpemUgPSAyMTQ3NDgzNjM3O1xuICAgIH1cbiAgICByZXR1cm4gbWF4TWVzc2FnZVNpemU7XG4gIH07XG5cbiAgY29uc3Qgb3JpZ1NldFJlbW90ZURlc2NyaXB0aW9uID1cbiAgICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb247XG4gIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb24gPVxuICAgIGZ1bmN0aW9uIHNldFJlbW90ZURlc2NyaXB0aW9uKCkge1xuICAgICAgdGhpcy5fc2N0cCA9IG51bGw7XG4gICAgICAvLyBDaHJvbWUgZGVjaWRlZCB0byBub3QgZXhwb3NlIC5zY3RwIGluIHBsYW4tYiBtb2RlLlxuICAgICAgLy8gQXMgdXN1YWwsIGFkYXB0ZXIuanMgaGFzIHRvIGRvIGFuICd1Z2x5IHdvcmFrYXJvdW5kJ1xuICAgICAgLy8gdG8gY292ZXIgdXAgdGhlIG1lc3MuXG4gICAgICBpZiAoYnJvd3NlckRldGFpbHMuYnJvd3NlciA9PT0gJ2Nocm9tZScgJiYgYnJvd3NlckRldGFpbHMudmVyc2lvbiA+PSA3Nikge1xuICAgICAgICBjb25zdCB7c2RwU2VtYW50aWNzfSA9IHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpO1xuICAgICAgICBpZiAoc2RwU2VtYW50aWNzID09PSAncGxhbi1iJykge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnc2N0cCcsIHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLl9zY3RwID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiB0aGlzLl9zY3RwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHNjdHBJbkRlc2NyaXB0aW9uKGFyZ3VtZW50c1swXSkpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHJlbW90ZSBpcyBGRi5cbiAgICAgICAgY29uc3QgaXNGaXJlZm94ID0gZ2V0UmVtb3RlRmlyZWZveFZlcnNpb24oYXJndW1lbnRzWzBdKTtcblxuICAgICAgICAvLyBHZXQgdGhlIG1heGltdW0gbWVzc2FnZSBzaXplIHRoZSBsb2NhbCBwZWVyIGlzIGNhcGFibGUgb2Ygc2VuZGluZ1xuICAgICAgICBjb25zdCBjYW5TZW5kTU1TID0gZ2V0Q2FuU2VuZE1heE1lc3NhZ2VTaXplKGlzRmlyZWZveCk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBtYXhpbXVtIG1lc3NhZ2Ugc2l6ZSBvZiB0aGUgcmVtb3RlIHBlZXIuXG4gICAgICAgIGNvbnN0IHJlbW90ZU1NUyA9IGdldE1heE1lc3NhZ2VTaXplKGFyZ3VtZW50c1swXSwgaXNGaXJlZm94KTtcblxuICAgICAgICAvLyBEZXRlcm1pbmUgZmluYWwgbWF4aW11bSBtZXNzYWdlIHNpemVcbiAgICAgICAgbGV0IG1heE1lc3NhZ2VTaXplO1xuICAgICAgICBpZiAoY2FuU2VuZE1NUyA9PT0gMCAmJiByZW1vdGVNTVMgPT09IDApIHtcbiAgICAgICAgICBtYXhNZXNzYWdlU2l6ZSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgfSBlbHNlIGlmIChjYW5TZW5kTU1TID09PSAwIHx8IHJlbW90ZU1NUyA9PT0gMCkge1xuICAgICAgICAgIG1heE1lc3NhZ2VTaXplID0gTWF0aC5tYXgoY2FuU2VuZE1NUywgcmVtb3RlTU1TKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXhNZXNzYWdlU2l6ZSA9IE1hdGgubWluKGNhblNlbmRNTVMsIHJlbW90ZU1NUyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgYSBkdW1teSBSVENTY3RwVHJhbnNwb3J0IG9iamVjdCBhbmQgdGhlICdtYXhNZXNzYWdlU2l6ZSdcbiAgICAgICAgLy8gYXR0cmlidXRlLlxuICAgICAgICBjb25zdCBzY3RwID0ge307XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzY3RwLCAnbWF4TWVzc2FnZVNpemUnLCB7XG4gICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIG1heE1lc3NhZ2VTaXplO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3NjdHAgPSBzY3RwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3JpZ1NldFJlbW90ZURlc2NyaXB0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoaW1TZW5kVGhyb3dUeXBlRXJyb3Iod2luZG93KSB7XG4gIGlmICghKHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiAmJlxuICAgICAgJ2NyZWF0ZURhdGFDaGFubmVsJyBpbiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIE5vdGU6IEFsdGhvdWdoIEZpcmVmb3ggPj0gNTcgaGFzIGEgbmF0aXZlIGltcGxlbWVudGF0aW9uLCB0aGUgbWF4aW11bVxuICAvLyAgICAgICBtZXNzYWdlIHNpemUgY2FuIGJlIHJlc2V0IGZvciBhbGwgZGF0YSBjaGFubmVscyBhdCBhIGxhdGVyIHN0YWdlLlxuICAvLyAgICAgICBTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTE0MjY4MzFcblxuICBmdW5jdGlvbiB3cmFwRGNTZW5kKGRjLCBwYykge1xuICAgIGNvbnN0IG9yaWdEYXRhQ2hhbm5lbFNlbmQgPSBkYy5zZW5kO1xuICAgIGRjLnNlbmQgPSBmdW5jdGlvbiBzZW5kKCkge1xuICAgICAgY29uc3QgZGF0YSA9IGFyZ3VtZW50c1swXTtcbiAgICAgIGNvbnN0IGxlbmd0aCA9IGRhdGEubGVuZ3RoIHx8IGRhdGEuc2l6ZSB8fCBkYXRhLmJ5dGVMZW5ndGg7XG4gICAgICBpZiAoZGMucmVhZHlTdGF0ZSA9PT0gJ29wZW4nICYmXG4gICAgICAgICAgcGMuc2N0cCAmJiBsZW5ndGggPiBwYy5zY3RwLm1heE1lc3NhZ2VTaXplKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01lc3NhZ2UgdG9vIGxhcmdlIChjYW4gc2VuZCBhIG1heGltdW0gb2YgJyArXG4gICAgICAgICAgcGMuc2N0cC5tYXhNZXNzYWdlU2l6ZSArICcgYnl0ZXMpJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3JpZ0RhdGFDaGFubmVsU2VuZC5hcHBseShkYywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG4gIGNvbnN0IG9yaWdDcmVhdGVEYXRhQ2hhbm5lbCA9XG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVEYXRhQ2hhbm5lbDtcbiAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVEYXRhQ2hhbm5lbCA9XG4gICAgZnVuY3Rpb24gY3JlYXRlRGF0YUNoYW5uZWwoKSB7XG4gICAgICBjb25zdCBkYXRhQ2hhbm5lbCA9IG9yaWdDcmVhdGVEYXRhQ2hhbm5lbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgd3JhcERjU2VuZChkYXRhQ2hhbm5lbCwgdGhpcyk7XG4gICAgICByZXR1cm4gZGF0YUNoYW5uZWw7XG4gICAgfTtcbiAgdXRpbHMud3JhcFBlZXJDb25uZWN0aW9uRXZlbnQod2luZG93LCAnZGF0YWNoYW5uZWwnLCBlID0+IHtcbiAgICB3cmFwRGNTZW5kKGUuY2hhbm5lbCwgZS50YXJnZXQpO1xuICAgIHJldHVybiBlO1xuICB9KTtcbn1cblxuXG4vKiBzaGltcyBSVENDb25uZWN0aW9uU3RhdGUgYnkgcHJldGVuZGluZyBpdCBpcyB0aGUgc2FtZSBhcyBpY2VDb25uZWN0aW9uU3RhdGUuXG4gKiBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3dlYnJ0Yy9pc3N1ZXMvZGV0YWlsP2lkPTYxNDUjYzEyXG4gKiBmb3Igd2h5IHRoaXMgaXMgYSB2YWxpZCBoYWNrIGluIENocm9tZS4gSW4gRmlyZWZveCBpdCBpcyBzbGlnaHRseSBpbmNvcnJlY3RcbiAqIHNpbmNlIERUTFMgZmFpbHVyZXMgd291bGQgYmUgaGlkZGVuLiBTZWVcbiAqIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTEyNjU4MjdcbiAqIGZvciB0aGUgRmlyZWZveCB0cmFja2luZyBidWcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaGltQ29ubmVjdGlvblN0YXRlKHdpbmRvdykge1xuICBpZiAoIXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiB8fFxuICAgICAgJ2Nvbm5lY3Rpb25TdGF0ZScgaW4gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwcm90byA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgJ2Nvbm5lY3Rpb25TdGF0ZScsIHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb21wbGV0ZWQ6ICdjb25uZWN0ZWQnLFxuICAgICAgICBjaGVja2luZzogJ2Nvbm5lY3RpbmcnXG4gICAgICB9W3RoaXMuaWNlQ29ubmVjdGlvblN0YXRlXSB8fCB0aGlzLmljZUNvbm5lY3Rpb25TdGF0ZTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sICdvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZScsIHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2UgfHwgbnVsbDtcbiAgICB9LFxuICAgIHNldChjYikge1xuICAgICAgaWYgKHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29ubmVjdGlvbnN0YXRlY2hhbmdlJyxcbiAgICAgICAgICAgIHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlO1xuICAgICAgfVxuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY29ubmVjdGlvbnN0YXRlY2hhbmdlJyxcbiAgICAgICAgICAgIHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gY2IpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG5cbiAgWydzZXRMb2NhbERlc2NyaXB0aW9uJywgJ3NldFJlbW90ZURlc2NyaXB0aW9uJ10uZm9yRWFjaCgobWV0aG9kKSA9PiB7XG4gICAgY29uc3Qgb3JpZ01ldGhvZCA9IHByb3RvW21ldGhvZF07XG4gICAgcHJvdG9bbWV0aG9kXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLl9jb25uZWN0aW9uc3RhdGVjaGFuZ2Vwb2x5KSB7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25zdGF0ZWNoYW5nZXBvbHkgPSBlID0+IHtcbiAgICAgICAgICBjb25zdCBwYyA9IGUudGFyZ2V0O1xuICAgICAgICAgIGlmIChwYy5fbGFzdENvbm5lY3Rpb25TdGF0ZSAhPT0gcGMuY29ubmVjdGlvblN0YXRlKSB7XG4gICAgICAgICAgICBwYy5fbGFzdENvbm5lY3Rpb25TdGF0ZSA9IHBjLmNvbm5lY3Rpb25TdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0V2ZW50ID0gbmV3IEV2ZW50KCdjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLCBlKTtcbiAgICAgICAgICAgIHBjLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLFxuICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25zdGF0ZWNoYW5nZXBvbHkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9yaWdNZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUV4dG1hcEFsbG93TWl4ZWQod2luZG93LCBicm93c2VyRGV0YWlscykge1xuICAvKiByZW1vdmUgYT1leHRtYXAtYWxsb3ctbWl4ZWQgZm9yIHdlYnJ0Yy5vcmcgPCBNNzEgKi9cbiAgaWYgKCF3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGJyb3dzZXJEZXRhaWxzLmJyb3dzZXIgPT09ICdjaHJvbWUnICYmIGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPj0gNzEpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGJyb3dzZXJEZXRhaWxzLmJyb3dzZXIgPT09ICdzYWZhcmknICYmIGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPj0gNjA1KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IG5hdGl2ZVNSRCA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb247XG4gIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb24gPVxuICBmdW5jdGlvbiBzZXRSZW1vdGVEZXNjcmlwdGlvbihkZXNjKSB7XG4gICAgaWYgKGRlc2MgJiYgZGVzYy5zZHAgJiYgZGVzYy5zZHAuaW5kZXhPZignXFxuYT1leHRtYXAtYWxsb3ctbWl4ZWQnKSAhPT0gLTEpIHtcbiAgICAgIGNvbnN0IHNkcCA9IGRlc2Muc2RwLnNwbGl0KCdcXG4nKS5maWx0ZXIoKGxpbmUpID0+IHtcbiAgICAgICAgcmV0dXJuIGxpbmUudHJpbSgpICE9PSAnYT1leHRtYXAtYWxsb3ctbWl4ZWQnO1xuICAgICAgfSkuam9pbignXFxuJyk7XG4gICAgICAvLyBTYWZhcmkgZW5mb3JjZXMgcmVhZC1vbmx5LW5lc3Mgb2YgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uIGZpZWxkcy5cbiAgICAgIGlmICh3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uICYmXG4gICAgICAgICAgZGVzYyBpbnN0YW5jZW9mIHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb24pIHtcbiAgICAgICAgYXJndW1lbnRzWzBdID0gbmV3IHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb24oe1xuICAgICAgICAgIHR5cGU6IGRlc2MudHlwZSxcbiAgICAgICAgICBzZHAsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVzYy5zZHAgPSBzZHA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuYXRpdmVTUkQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoaW1BZGRJY2VDYW5kaWRhdGVOdWxsT3JFbXB0eSh3aW5kb3csIGJyb3dzZXJEZXRhaWxzKSB7XG4gIC8vIFN1cHBvcnQgZm9yIGFkZEljZUNhbmRpZGF0ZShudWxsIG9yIHVuZGVmaW5lZClcbiAgLy8gYXMgd2VsbCBhcyBhZGRJY2VDYW5kaWRhdGUoe2NhbmRpZGF0ZTogXCJcIiwgLi4ufSlcbiAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9OTc4NTgyXG4gIC8vIE5vdGU6IG11c3QgYmUgY2FsbGVkIGJlZm9yZSBvdGhlciBwb2x5ZmlsbHMgd2hpY2ggY2hhbmdlIHRoZSBzaWduYXR1cmUuXG4gIGlmICghKHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiAmJiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBuYXRpdmVBZGRJY2VDYW5kaWRhdGUgPVxuICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU7XG4gIGlmICghbmF0aXZlQWRkSWNlQ2FuZGlkYXRlIHx8IG5hdGl2ZUFkZEljZUNhbmRpZGF0ZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGUgPVxuICAgIGZ1bmN0aW9uIGFkZEljZUNhbmRpZGF0ZSgpIHtcbiAgICAgIGlmICghYXJndW1lbnRzWzBdKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHNbMV0pIHtcbiAgICAgICAgICBhcmd1bWVudHNbMV0uYXBwbHkobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgICAgLy8gRmlyZWZveCA2OCsgZW1pdHMgYW5kIHByb2Nlc3NlcyB7Y2FuZGlkYXRlOiBcIlwiLCAuLi59LCBpZ25vcmVcbiAgICAgIC8vIGluIG9sZGVyIHZlcnNpb25zLlxuICAgICAgLy8gTmF0aXZlIHN1cHBvcnQgZm9yIGlnbm9yaW5nIGV4aXN0cyBmb3IgQ2hyb21lIE03NysuXG4gICAgICAvLyBTYWZhcmkgaWdub3JlcyBhcyB3ZWxsLCBleGFjdCB2ZXJzaW9uIHVua25vd24gYnV0IHdvcmtzIGluIHRoZSBzYW1lXG4gICAgICAvLyB2ZXJzaW9uIHRoYXQgYWxzbyBpZ25vcmVzIGFkZEljZUNhbmRpZGF0ZShudWxsKS5cbiAgICAgIGlmICgoKGJyb3dzZXJEZXRhaWxzLmJyb3dzZXIgPT09ICdjaHJvbWUnICYmIGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPCA3OClcbiAgICAgICAgICAgfHwgKGJyb3dzZXJEZXRhaWxzLmJyb3dzZXIgPT09ICdmaXJlZm94J1xuICAgICAgICAgICAgICAgJiYgYnJvd3NlckRldGFpbHMudmVyc2lvbiA8IDY4KVxuICAgICAgICAgICB8fCAoYnJvd3NlckRldGFpbHMuYnJvd3NlciA9PT0gJ3NhZmFyaScpKVxuICAgICAgICAgICYmIGFyZ3VtZW50c1swXSAmJiBhcmd1bWVudHNbMF0uY2FuZGlkYXRlID09PSAnJykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlQWRkSWNlQ2FuZGlkYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLy8gTm90ZTogTWFrZSBzdXJlIHRvIGNhbGwgdGhpcyBhaGVhZCBvZiBBUElzIHRoYXQgbW9kaWZ5XG4vLyBzZXRMb2NhbERlc2NyaXB0aW9uLmxlbmd0aFxuZXhwb3J0IGZ1bmN0aW9uIHNoaW1QYXJhbWV0ZXJsZXNzU2V0TG9jYWxEZXNjcmlwdGlvbih3aW5kb3csIGJyb3dzZXJEZXRhaWxzKSB7XG4gIGlmICghKHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiAmJiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBuYXRpdmVTZXRMb2NhbERlc2NyaXB0aW9uID1cbiAgICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbjtcbiAgaWYgKCFuYXRpdmVTZXRMb2NhbERlc2NyaXB0aW9uIHx8IG5hdGl2ZVNldExvY2FsRGVzY3JpcHRpb24ubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbiA9XG4gICAgZnVuY3Rpb24gc2V0TG9jYWxEZXNjcmlwdGlvbigpIHtcbiAgICAgIGxldCBkZXNjID0gYXJndW1lbnRzWzBdIHx8IHt9O1xuICAgICAgaWYgKHR5cGVvZiBkZXNjICE9PSAnb2JqZWN0JyB8fCAoZGVzYy50eXBlICYmIGRlc2Muc2RwKSkge1xuICAgICAgICByZXR1cm4gbmF0aXZlU2V0TG9jYWxEZXNjcmlwdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgLy8gVGhlIHJlbWFpbmluZyBzdGVwcyBzaG91bGQgdGVjaG5pY2FsbHkgaGFwcGVuIHdoZW4gU0xEIGNvbWVzIG9mZiB0aGVcbiAgICAgIC8vIFJUQ1BlZXJDb25uZWN0aW9uJ3Mgb3BlcmF0aW9ucyBjaGFpbiAobm90IGFoZWFkIG9mIGdvaW5nIG9uIGl0KSwgYnV0XG4gICAgICAvLyB0aGlzIGlzIHRvbyBkaWZmaWN1bHQgdG8gc2hpbS4gSW5zdGVhZCwgdGhpcyBzaGltIG9ubHkgY292ZXJzIHRoZVxuICAgICAgLy8gY29tbW9uIGNhc2Ugd2hlcmUgdGhlIG9wZXJhdGlvbnMgY2hhaW4gaXMgZW1wdHkuIFRoaXMgaXMgaW1wZXJmZWN0LCBidXRcbiAgICAgIC8vIHNob3VsZCBjb3ZlciBtYW55IGNhc2VzLiBSYXRpb25hbGU6IEV2ZW4gaWYgd2UgY2FuJ3QgcmVkdWNlIHRoZSBnbGFyZVxuICAgICAgLy8gd2luZG93IHRvIHplcm8gb24gaW1wZXJmZWN0IGltcGxlbWVudGF0aW9ucywgdGhlcmUncyB2YWx1ZSBpbiB0YXBwaW5nXG4gICAgICAvLyBpbnRvIHRoZSBwZXJmZWN0IG5lZ290aWF0aW9uIHBhdHRlcm4gdGhhdCBzZXZlcmFsIGJyb3dzZXJzIHN1cHBvcnQuXG4gICAgICBkZXNjID0ge3R5cGU6IGRlc2MudHlwZSwgc2RwOiBkZXNjLnNkcH07XG4gICAgICBpZiAoIWRlc2MudHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc2lnbmFsaW5nU3RhdGUpIHtcbiAgICAgICAgICBjYXNlICdzdGFibGUnOlxuICAgICAgICAgIGNhc2UgJ2hhdmUtbG9jYWwtb2ZmZXInOlxuICAgICAgICAgIGNhc2UgJ2hhdmUtcmVtb3RlLXByYW5zd2VyJzpcbiAgICAgICAgICAgIGRlc2MudHlwZSA9ICdvZmZlcic7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgZGVzYy50eXBlID0gJ2Fuc3dlcic7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGRlc2Muc2RwIHx8IChkZXNjLnR5cGUgIT09ICdvZmZlcicgJiYgZGVzYy50eXBlICE9PSAnYW5zd2VyJykpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZVNldExvY2FsRGVzY3JpcHRpb24uYXBwbHkodGhpcywgW2Rlc2NdKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGZ1bmMgPSBkZXNjLnR5cGUgPT09ICdvZmZlcicgPyB0aGlzLmNyZWF0ZU9mZmVyIDogdGhpcy5jcmVhdGVBbnN3ZXI7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzKVxuICAgICAgICAudGhlbihkID0+IG5hdGl2ZVNldExvY2FsRGVzY3JpcHRpb24uYXBwbHkodGhpcywgW2RdKSk7XG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/webrtc-adapter/src/js/common_shim.js\n"));

/***/ }),

/***/ "./node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js":
/*!********************************************************************!*\
  !*** ./node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"shimAddTransceiver\": function() { return /* binding */ shimAddTransceiver; },\n/* harmony export */   \"shimCreateAnswer\": function() { return /* binding */ shimCreateAnswer; },\n/* harmony export */   \"shimCreateOffer\": function() { return /* binding */ shimCreateOffer; },\n/* harmony export */   \"shimGetDisplayMedia\": function() { return /* reexport safe */ _getdisplaymedia__WEBPACK_IMPORTED_MODULE_2__.shimGetDisplayMedia; },\n/* harmony export */   \"shimGetParameters\": function() { return /* binding */ shimGetParameters; },\n/* harmony export */   \"shimGetUserMedia\": function() { return /* reexport safe */ _getusermedia__WEBPACK_IMPORTED_MODULE_1__.shimGetUserMedia; },\n/* harmony export */   \"shimOnTrack\": function() { return /* binding */ shimOnTrack; },\n/* harmony export */   \"shimPeerConnection\": function() { return /* binding */ shimPeerConnection; },\n/* harmony export */   \"shimRTCDataChannel\": function() { return /* binding */ shimRTCDataChannel; },\n/* harmony export */   \"shimReceiverGetStats\": function() { return /* binding */ shimReceiverGetStats; },\n/* harmony export */   \"shimRemoveStream\": function() { return /* binding */ shimRemoveStream; },\n/* harmony export */   \"shimSenderGetStats\": function() { return /* binding */ shimSenderGetStats; }\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./node_modules/webrtc-adapter/src/js/utils.js\");\n/* harmony import */ var _getusermedia__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getusermedia */ \"./node_modules/webrtc-adapter/src/js/firefox/getusermedia.js\");\n/* harmony import */ var _getdisplaymedia__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getdisplaymedia */ \"./node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js\");\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n\n\n\n\n\n\nfunction shimOnTrack(window) {\n  if (typeof window === 'object' && window.RTCTrackEvent &&\n      ('receiver' in window.RTCTrackEvent.prototype) &&\n      !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get() {\n        return {receiver: this.receiver};\n      }\n    });\n  }\n}\n\nfunction shimPeerConnection(window, browserDetails) {\n  if (typeof window !== 'object' ||\n      !(window.RTCPeerConnection || window.mozRTCPeerConnection)) {\n    return; // probably media.peerconnection.enabled=false in about:config\n  }\n  if (!window.RTCPeerConnection && window.mozRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.mozRTCPeerConnection;\n  }\n\n  if (browserDetails.version < 53) {\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          const nativeMethod = window.RTCPeerConnection.prototype[method];\n          const methodObj = {[method]() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          }};\n          window.RTCPeerConnection.prototype[method] = methodObj[method];\n        });\n  }\n\n  const modernStatsTypes = {\n    inboundrtp: 'inbound-rtp',\n    outboundrtp: 'outbound-rtp',\n    candidatepair: 'candidate-pair',\n    localcandidate: 'local-candidate',\n    remotecandidate: 'remote-candidate'\n  };\n\n  const nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    const [selector, onSucc, onErr] = arguments;\n    return nativeGetStats.apply(this, [selector || null])\n      .then(stats => {\n        if (browserDetails.version < 53 && !onSucc) {\n          // Shim only promise getStats with spec-hyphens in type names\n          // Leave callback version alone; misc old uses of forEach before Map\n          try {\n            stats.forEach(stat => {\n              stat.type = modernStatsTypes[stat.type] || stat.type;\n            });\n          } catch (e) {\n            if (e.name !== 'TypeError') {\n              throw e;\n            }\n            // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n            stats.forEach((stat, i) => {\n              stats.set(i, Object.assign({}, stat, {\n                type: modernStatsTypes[stat.type] || stat.type\n              }));\n            });\n          }\n        }\n        return stats;\n      })\n      .then(onSucc, onErr);\n  };\n}\n\nfunction shimSenderGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpSender.prototype) {\n    return;\n  }\n  const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n  if (origGetSenders) {\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      const senders = origGetSenders.apply(this, []);\n      senders.forEach(sender => sender._pc = this);\n      return senders;\n    };\n  }\n\n  const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  if (origAddTrack) {\n    window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n      const sender = origAddTrack.apply(this, arguments);\n      sender._pc = this;\n      return sender;\n    };\n  }\n  window.RTCRtpSender.prototype.getStats = function getStats() {\n    return this.track ? this._pc.getStats(this.track) :\n        Promise.resolve(new Map());\n  };\n}\n\nfunction shimReceiverGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpReceiver.prototype) {\n    return;\n  }\n  const origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n  if (origGetReceivers) {\n    window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n      const receivers = origGetReceivers.apply(this, []);\n      receivers.forEach(receiver => receiver._pc = this);\n      return receivers;\n    };\n  }\n  _utils__WEBPACK_IMPORTED_MODULE_0__.wrapPeerConnectionEvent(window, 'track', e => {\n    e.receiver._pc = e.srcElement;\n    return e;\n  });\n  window.RTCRtpReceiver.prototype.getStats = function getStats() {\n    return this._pc.getStats(this.track);\n  };\n}\n\nfunction shimRemoveStream(window) {\n  if (!window.RTCPeerConnection ||\n      'removeStream' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      _utils__WEBPACK_IMPORTED_MODULE_0__.deprecated('removeStream', 'removeTrack');\n      this.getSenders().forEach(sender => {\n        if (sender.track && stream.getTracks().includes(sender.track)) {\n          this.removeTrack(sender);\n        }\n      });\n    };\n}\n\nfunction shimRTCDataChannel(window) {\n  // rename DataChannel to RTCDataChannel (native fix in FF60):\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1173851\n  if (window.DataChannel && !window.RTCDataChannel) {\n    window.RTCDataChannel = window.DataChannel;\n  }\n}\n\nfunction shimAddTransceiver(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origAddTransceiver = window.RTCPeerConnection.prototype.addTransceiver;\n  if (origAddTransceiver) {\n    window.RTCPeerConnection.prototype.addTransceiver =\n      function addTransceiver() {\n        this.setParametersPromises = [];\n        // WebIDL input coercion and validation\n        let sendEncodings = arguments[1] && arguments[1].sendEncodings;\n        if (sendEncodings === undefined) {\n          sendEncodings = [];\n        }\n        sendEncodings = [...sendEncodings];\n        const shouldPerformCheck = sendEncodings.length > 0;\n        if (shouldPerformCheck) {\n          // If sendEncodings params are provided, validate grammar\n          sendEncodings.forEach((encodingParam) => {\n            if ('rid' in encodingParam) {\n              const ridRegex = /^[a-z0-9]{0,16}$/i;\n              if (!ridRegex.test(encodingParam.rid)) {\n                throw new TypeError('Invalid RID value provided.');\n              }\n            }\n            if ('scaleResolutionDownBy' in encodingParam) {\n              if (!(parseFloat(encodingParam.scaleResolutionDownBy) >= 1.0)) {\n                throw new RangeError('scale_resolution_down_by must be >= 1.0');\n              }\n            }\n            if ('maxFramerate' in encodingParam) {\n              if (!(parseFloat(encodingParam.maxFramerate) >= 0)) {\n                throw new RangeError('max_framerate must be >= 0.0');\n              }\n            }\n          });\n        }\n        const transceiver = origAddTransceiver.apply(this, arguments);\n        if (shouldPerformCheck) {\n          // Check if the init options were applied. If not we do this in an\n          // asynchronous way and save the promise reference in a global object.\n          // This is an ugly hack, but at the same time is way more robust than\n          // checking the sender parameters before and after the createOffer\n          // Also note that after the createoffer we are not 100% sure that\n          // the params were asynchronously applied so we might miss the\n          // opportunity to recreate offer.\n          const {sender} = transceiver;\n          const params = sender.getParameters();\n          if (!('encodings' in params) ||\n              // Avoid being fooled by patched getParameters() below.\n              (params.encodings.length === 1 &&\n               Object.keys(params.encodings[0]).length === 0)) {\n            params.encodings = sendEncodings;\n            sender.sendEncodings = sendEncodings;\n            this.setParametersPromises.push(sender.setParameters(params)\n              .then(() => {\n                delete sender.sendEncodings;\n              }).catch(() => {\n                delete sender.sendEncodings;\n              })\n            );\n          }\n        }\n        return transceiver;\n      };\n  }\n}\n\nfunction shimGetParameters(window) {\n  if (!(typeof window === 'object' && window.RTCRtpSender)) {\n    return;\n  }\n  const origGetParameters = window.RTCRtpSender.prototype.getParameters;\n  if (origGetParameters) {\n    window.RTCRtpSender.prototype.getParameters =\n      function getParameters() {\n        const params = origGetParameters.apply(this, arguments);\n        if (!('encodings' in params)) {\n          params.encodings = [].concat(this.sendEncodings || [{}]);\n        }\n        return params;\n      };\n  }\n}\n\nfunction shimCreateOffer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer = function createOffer() {\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises)\n      .then(() => {\n        return origCreateOffer.apply(this, arguments);\n      })\n      .finally(() => {\n        this.setParametersPromises = [];\n      });\n    }\n    return origCreateOffer.apply(this, arguments);\n  };\n}\n\nfunction shimCreateAnswer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origCreateAnswer = window.RTCPeerConnection.prototype.createAnswer;\n  window.RTCPeerConnection.prototype.createAnswer = function createAnswer() {\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises)\n      .then(() => {\n        return origCreateAnswer.apply(this, arguments);\n      })\n      .finally(() => {\n        this.setParametersPromises = [];\n      });\n    }\n    return origCreateAnswer.apply(this, arguments);\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL2ZpcmVmb3gvZmlyZWZveF9zaGltLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDYTs7QUFFcUI7QUFDYztBQUNNOztBQUUvQztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQSxlQUFlO0FBQ2YsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLDJEQUE2QjtBQUMvQjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw4Q0FBZ0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLEtBQUs7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy93ZWJydGMtYWRhcHRlci9zcmMvanMvZmlyZWZveC9maXJlZm94X3NoaW0uanM/ZjllNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogIENvcHlyaWdodCAoYykgMjAxNiBUaGUgV2ViUlRDIHByb2plY3QgYXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBCU0Qtc3R5bGUgbGljZW5zZVxuICogIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3Qgb2YgdGhlIHNvdXJjZVxuICogIHRyZWUuXG4gKi9cbi8qIGVzbGludC1lbnYgbm9kZSAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuLi91dGlscyc7XG5leHBvcnQge3NoaW1HZXRVc2VyTWVkaWF9IGZyb20gJy4vZ2V0dXNlcm1lZGlhJztcbmV4cG9ydCB7c2hpbUdldERpc3BsYXlNZWRpYX0gZnJvbSAnLi9nZXRkaXNwbGF5bWVkaWEnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2hpbU9uVHJhY2sod2luZG93KSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JyAmJiB3aW5kb3cuUlRDVHJhY2tFdmVudCAmJlxuICAgICAgKCdyZWNlaXZlcicgaW4gd2luZG93LlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlKSAmJlxuICAgICAgISgndHJhbnNjZWl2ZXInIGluIHdpbmRvdy5SVENUcmFja0V2ZW50LnByb3RvdHlwZSkpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlLCAndHJhbnNjZWl2ZXInLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiB7cmVjZWl2ZXI6IHRoaXMucmVjZWl2ZXJ9O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGltUGVlckNvbm5lY3Rpb24od2luZG93LCBicm93c2VyRGV0YWlscykge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ29iamVjdCcgfHxcbiAgICAgICEod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uIHx8IHdpbmRvdy5tb3pSVENQZWVyQ29ubmVjdGlvbikpIHtcbiAgICByZXR1cm47IC8vIHByb2JhYmx5IG1lZGlhLnBlZXJjb25uZWN0aW9uLmVuYWJsZWQ9ZmFsc2UgaW4gYWJvdXQ6Y29uZmlnXG4gIH1cbiAgaWYgKCF3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gJiYgd2luZG93Lm1velJUQ1BlZXJDb25uZWN0aW9uKSB7XG4gICAgLy8gdmVyeSBiYXNpYyBzdXBwb3J0IGZvciBvbGQgdmVyc2lvbnMuXG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uID0gd2luZG93Lm1velJUQ1BlZXJDb25uZWN0aW9uO1xuICB9XG5cbiAgaWYgKGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPCA1Mykge1xuICAgIC8vIHNoaW0gYXdheSBuZWVkIGZvciBvYnNvbGV0ZSBSVENJY2VDYW5kaWRhdGUvUlRDU2Vzc2lvbkRlc2NyaXB0aW9uLlxuICAgIFsnc2V0TG9jYWxEZXNjcmlwdGlvbicsICdzZXRSZW1vdGVEZXNjcmlwdGlvbicsICdhZGRJY2VDYW5kaWRhdGUnXVxuICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgICAgICBjb25zdCBuYXRpdmVNZXRob2QgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW21ldGhvZF07XG4gICAgICAgICAgY29uc3QgbWV0aG9kT2JqID0ge1ttZXRob2RdKCkge1xuICAgICAgICAgICAgYXJndW1lbnRzWzBdID0gbmV3ICgobWV0aG9kID09PSAnYWRkSWNlQ2FuZGlkYXRlJykgP1xuICAgICAgICAgICAgICAgIHdpbmRvdy5SVENJY2VDYW5kaWRhdGUgOlxuICAgICAgICAgICAgICAgIHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb24pKGFyZ3VtZW50c1swXSk7XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlTWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfX07XG4gICAgICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVttZXRob2RdID0gbWV0aG9kT2JqW21ldGhvZF07XG4gICAgICAgIH0pO1xuICB9XG5cbiAgY29uc3QgbW9kZXJuU3RhdHNUeXBlcyA9IHtcbiAgICBpbmJvdW5kcnRwOiAnaW5ib3VuZC1ydHAnLFxuICAgIG91dGJvdW5kcnRwOiAnb3V0Ym91bmQtcnRwJyxcbiAgICBjYW5kaWRhdGVwYWlyOiAnY2FuZGlkYXRlLXBhaXInLFxuICAgIGxvY2FsY2FuZGlkYXRlOiAnbG9jYWwtY2FuZGlkYXRlJyxcbiAgICByZW1vdGVjYW5kaWRhdGU6ICdyZW1vdGUtY2FuZGlkYXRlJ1xuICB9O1xuXG4gIGNvbnN0IG5hdGl2ZUdldFN0YXRzID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cztcbiAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cyA9IGZ1bmN0aW9uIGdldFN0YXRzKCkge1xuICAgIGNvbnN0IFtzZWxlY3Rvciwgb25TdWNjLCBvbkVycl0gPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5hdGl2ZUdldFN0YXRzLmFwcGx5KHRoaXMsIFtzZWxlY3RvciB8fCBudWxsXSlcbiAgICAgIC50aGVuKHN0YXRzID0+IHtcbiAgICAgICAgaWYgKGJyb3dzZXJEZXRhaWxzLnZlcnNpb24gPCA1MyAmJiAhb25TdWNjKSB7XG4gICAgICAgICAgLy8gU2hpbSBvbmx5IHByb21pc2UgZ2V0U3RhdHMgd2l0aCBzcGVjLWh5cGhlbnMgaW4gdHlwZSBuYW1lc1xuICAgICAgICAgIC8vIExlYXZlIGNhbGxiYWNrIHZlcnNpb24gYWxvbmU7IG1pc2Mgb2xkIHVzZXMgb2YgZm9yRWFjaCBiZWZvcmUgTWFwXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN0YXRzLmZvckVhY2goc3RhdCA9PiB7XG4gICAgICAgICAgICAgIHN0YXQudHlwZSA9IG1vZGVyblN0YXRzVHlwZXNbc3RhdC50eXBlXSB8fCBzdGF0LnR5cGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5uYW1lICE9PSAnVHlwZUVycm9yJykge1xuICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQXZvaWQgVHlwZUVycm9yOiBcInR5cGVcIiBpcyByZWFkLW9ubHksIGluIG9sZCB2ZXJzaW9ucy4gMzQtNDNpc2hcbiAgICAgICAgICAgIHN0YXRzLmZvckVhY2goKHN0YXQsIGkpID0+IHtcbiAgICAgICAgICAgICAgc3RhdHMuc2V0KGksIE9iamVjdC5hc3NpZ24oe30sIHN0YXQsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBtb2Rlcm5TdGF0c1R5cGVzW3N0YXQudHlwZV0gfHwgc3RhdC50eXBlXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdHM7XG4gICAgICB9KVxuICAgICAgLnRoZW4ob25TdWNjLCBvbkVycik7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGltU2VuZGVyR2V0U3RhdHMod2luZG93KSB7XG4gIGlmICghKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiAmJlxuICAgICAgd2luZG93LlJUQ1J0cFNlbmRlcikpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHdpbmRvdy5SVENSdHBTZW5kZXIgJiYgJ2dldFN0YXRzJyBpbiB3aW5kb3cuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBvcmlnR2V0U2VuZGVycyA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycztcbiAgaWYgKG9yaWdHZXRTZW5kZXJzKSB7XG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzID0gZnVuY3Rpb24gZ2V0U2VuZGVycygpIHtcbiAgICAgIGNvbnN0IHNlbmRlcnMgPSBvcmlnR2V0U2VuZGVycy5hcHBseSh0aGlzLCBbXSk7XG4gICAgICBzZW5kZXJzLmZvckVhY2goc2VuZGVyID0+IHNlbmRlci5fcGMgPSB0aGlzKTtcbiAgICAgIHJldHVybiBzZW5kZXJzO1xuICAgIH07XG4gIH1cblxuICBjb25zdCBvcmlnQWRkVHJhY2sgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO1xuICBpZiAob3JpZ0FkZFRyYWNrKSB7XG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjayA9IGZ1bmN0aW9uIGFkZFRyYWNrKCkge1xuICAgICAgY29uc3Qgc2VuZGVyID0gb3JpZ0FkZFRyYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBzZW5kZXIuX3BjID0gdGhpcztcbiAgICAgIHJldHVybiBzZW5kZXI7XG4gICAgfTtcbiAgfVxuICB3aW5kb3cuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRTdGF0cyA9IGZ1bmN0aW9uIGdldFN0YXRzKCkge1xuICAgIHJldHVybiB0aGlzLnRyYWNrID8gdGhpcy5fcGMuZ2V0U3RhdHModGhpcy50cmFjaykgOlxuICAgICAgICBQcm9taXNlLnJlc29sdmUobmV3IE1hcCgpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoaW1SZWNlaXZlckdldFN0YXRzKHdpbmRvdykge1xuICBpZiAoISh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JyAmJiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gJiZcbiAgICAgIHdpbmRvdy5SVENSdHBTZW5kZXIpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh3aW5kb3cuUlRDUnRwU2VuZGVyICYmICdnZXRTdGF0cycgaW4gd2luZG93LlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBvcmlnR2V0UmVjZWl2ZXJzID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM7XG4gIGlmIChvcmlnR2V0UmVjZWl2ZXJzKSB7XG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnMgPSBmdW5jdGlvbiBnZXRSZWNlaXZlcnMoKSB7XG4gICAgICBjb25zdCByZWNlaXZlcnMgPSBvcmlnR2V0UmVjZWl2ZXJzLmFwcGx5KHRoaXMsIFtdKTtcbiAgICAgIHJlY2VpdmVycy5mb3JFYWNoKHJlY2VpdmVyID0+IHJlY2VpdmVyLl9wYyA9IHRoaXMpO1xuICAgICAgcmV0dXJuIHJlY2VpdmVycztcbiAgICB9O1xuICB9XG4gIHV0aWxzLndyYXBQZWVyQ29ubmVjdGlvbkV2ZW50KHdpbmRvdywgJ3RyYWNrJywgZSA9PiB7XG4gICAgZS5yZWNlaXZlci5fcGMgPSBlLnNyY0VsZW1lbnQ7XG4gICAgcmV0dXJuIGU7XG4gIH0pO1xuICB3aW5kb3cuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlLmdldFN0YXRzID0gZnVuY3Rpb24gZ2V0U3RhdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BjLmdldFN0YXRzKHRoaXMudHJhY2spO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hpbVJlbW92ZVN0cmVhbSh3aW5kb3cpIHtcbiAgaWYgKCF3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gfHxcbiAgICAgICdyZW1vdmVTdHJlYW0nIGluIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW0gPVxuICAgIGZ1bmN0aW9uIHJlbW92ZVN0cmVhbShzdHJlYW0pIHtcbiAgICAgIHV0aWxzLmRlcHJlY2F0ZWQoJ3JlbW92ZVN0cmVhbScsICdyZW1vdmVUcmFjaycpO1xuICAgICAgdGhpcy5nZXRTZW5kZXJzKCkuZm9yRWFjaChzZW5kZXIgPT4ge1xuICAgICAgICBpZiAoc2VuZGVyLnRyYWNrICYmIHN0cmVhbS5nZXRUcmFja3MoKS5pbmNsdWRlcyhzZW5kZXIudHJhY2spKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVUcmFjayhzZW5kZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hpbVJUQ0RhdGFDaGFubmVsKHdpbmRvdykge1xuICAvLyByZW5hbWUgRGF0YUNoYW5uZWwgdG8gUlRDRGF0YUNoYW5uZWwgKG5hdGl2ZSBmaXggaW4gRkY2MCk6XG4gIC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTExNzM4NTFcbiAgaWYgKHdpbmRvdy5EYXRhQ2hhbm5lbCAmJiAhd2luZG93LlJUQ0RhdGFDaGFubmVsKSB7XG4gICAgd2luZG93LlJUQ0RhdGFDaGFubmVsID0gd2luZG93LkRhdGFDaGFubmVsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGltQWRkVHJhbnNjZWl2ZXIod2luZG93KSB7XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJydGNIYWNrcy9hZGFwdGVyL2lzc3Vlcy85OTgjaXNzdWVjb21tZW50LTUxNjkyMTY0N1xuICAvLyBGaXJlZm94IGlnbm9yZXMgdGhlIGluaXQgc2VuZEVuY29kaW5ncyBvcHRpb25zIHBhc3NlZCB0byBhZGRUcmFuc2NlaXZlclxuICAvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzk2OTE4XG4gIGlmICghKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbikpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgb3JpZ0FkZFRyYW5zY2VpdmVyID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFuc2NlaXZlcjtcbiAgaWYgKG9yaWdBZGRUcmFuc2NlaXZlcikge1xuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhbnNjZWl2ZXIgPVxuICAgICAgZnVuY3Rpb24gYWRkVHJhbnNjZWl2ZXIoKSB7XG4gICAgICAgIHRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzID0gW107XG4gICAgICAgIC8vIFdlYklETCBpbnB1dCBjb2VyY2lvbiBhbmQgdmFsaWRhdGlvblxuICAgICAgICBsZXQgc2VuZEVuY29kaW5ncyA9IGFyZ3VtZW50c1sxXSAmJiBhcmd1bWVudHNbMV0uc2VuZEVuY29kaW5ncztcbiAgICAgICAgaWYgKHNlbmRFbmNvZGluZ3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHNlbmRFbmNvZGluZ3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBzZW5kRW5jb2RpbmdzID0gWy4uLnNlbmRFbmNvZGluZ3NdO1xuICAgICAgICBjb25zdCBzaG91bGRQZXJmb3JtQ2hlY2sgPSBzZW5kRW5jb2RpbmdzLmxlbmd0aCA+IDA7XG4gICAgICAgIGlmIChzaG91bGRQZXJmb3JtQ2hlY2spIHtcbiAgICAgICAgICAvLyBJZiBzZW5kRW5jb2RpbmdzIHBhcmFtcyBhcmUgcHJvdmlkZWQsIHZhbGlkYXRlIGdyYW1tYXJcbiAgICAgICAgICBzZW5kRW5jb2RpbmdzLmZvckVhY2goKGVuY29kaW5nUGFyYW0pID0+IHtcbiAgICAgICAgICAgIGlmICgncmlkJyBpbiBlbmNvZGluZ1BhcmFtKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJpZFJlZ2V4ID0gL15bYS16MC05XXswLDE2fSQvaTtcbiAgICAgICAgICAgICAgaWYgKCFyaWRSZWdleC50ZXN0KGVuY29kaW5nUGFyYW0ucmlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgUklEIHZhbHVlIHByb3ZpZGVkLicpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ3NjYWxlUmVzb2x1dGlvbkRvd25CeScgaW4gZW5jb2RpbmdQYXJhbSkge1xuICAgICAgICAgICAgICBpZiAoIShwYXJzZUZsb2F0KGVuY29kaW5nUGFyYW0uc2NhbGVSZXNvbHV0aW9uRG93bkJ5KSA+PSAxLjApKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NjYWxlX3Jlc29sdXRpb25fZG93bl9ieSBtdXN0IGJlID49IDEuMCcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ21heEZyYW1lcmF0ZScgaW4gZW5jb2RpbmdQYXJhbSkge1xuICAgICAgICAgICAgICBpZiAoIShwYXJzZUZsb2F0KGVuY29kaW5nUGFyYW0ubWF4RnJhbWVyYXRlKSA+PSAwKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdtYXhfZnJhbWVyYXRlIG11c3QgYmUgPj0gMC4wJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmFuc2NlaXZlciA9IG9yaWdBZGRUcmFuc2NlaXZlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICBpZiAoc2hvdWxkUGVyZm9ybUNoZWNrKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGluaXQgb3B0aW9ucyB3ZXJlIGFwcGxpZWQuIElmIG5vdCB3ZSBkbyB0aGlzIGluIGFuXG4gICAgICAgICAgLy8gYXN5bmNocm9ub3VzIHdheSBhbmQgc2F2ZSB0aGUgcHJvbWlzZSByZWZlcmVuY2UgaW4gYSBnbG9iYWwgb2JqZWN0LlxuICAgICAgICAgIC8vIFRoaXMgaXMgYW4gdWdseSBoYWNrLCBidXQgYXQgdGhlIHNhbWUgdGltZSBpcyB3YXkgbW9yZSByb2J1c3QgdGhhblxuICAgICAgICAgIC8vIGNoZWNraW5nIHRoZSBzZW5kZXIgcGFyYW1ldGVycyBiZWZvcmUgYW5kIGFmdGVyIHRoZSBjcmVhdGVPZmZlclxuICAgICAgICAgIC8vIEFsc28gbm90ZSB0aGF0IGFmdGVyIHRoZSBjcmVhdGVvZmZlciB3ZSBhcmUgbm90IDEwMCUgc3VyZSB0aGF0XG4gICAgICAgICAgLy8gdGhlIHBhcmFtcyB3ZXJlIGFzeW5jaHJvbm91c2x5IGFwcGxpZWQgc28gd2UgbWlnaHQgbWlzcyB0aGVcbiAgICAgICAgICAvLyBvcHBvcnR1bml0eSB0byByZWNyZWF0ZSBvZmZlci5cbiAgICAgICAgICBjb25zdCB7c2VuZGVyfSA9IHRyYW5zY2VpdmVyO1xuICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHNlbmRlci5nZXRQYXJhbWV0ZXJzKCk7XG4gICAgICAgICAgaWYgKCEoJ2VuY29kaW5ncycgaW4gcGFyYW1zKSB8fFxuICAgICAgICAgICAgICAvLyBBdm9pZCBiZWluZyBmb29sZWQgYnkgcGF0Y2hlZCBnZXRQYXJhbWV0ZXJzKCkgYmVsb3cuXG4gICAgICAgICAgICAgIChwYXJhbXMuZW5jb2RpbmdzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocGFyYW1zLmVuY29kaW5nc1swXSkubGVuZ3RoID09PSAwKSkge1xuICAgICAgICAgICAgcGFyYW1zLmVuY29kaW5ncyA9IHNlbmRFbmNvZGluZ3M7XG4gICAgICAgICAgICBzZW5kZXIuc2VuZEVuY29kaW5ncyA9IHNlbmRFbmNvZGluZ3M7XG4gICAgICAgICAgICB0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcy5wdXNoKHNlbmRlci5zZXRQYXJhbWV0ZXJzKHBhcmFtcylcbiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzZW5kZXIuc2VuZEVuY29kaW5ncztcbiAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzZW5kZXIuc2VuZEVuY29kaW5ncztcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFuc2NlaXZlcjtcbiAgICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoaW1HZXRQYXJhbWV0ZXJzKHdpbmRvdykge1xuICBpZiAoISh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JyAmJiB3aW5kb3cuUlRDUnRwU2VuZGVyKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBvcmlnR2V0UGFyYW1ldGVycyA9IHdpbmRvdy5SVENSdHBTZW5kZXIucHJvdG90eXBlLmdldFBhcmFtZXRlcnM7XG4gIGlmIChvcmlnR2V0UGFyYW1ldGVycykge1xuICAgIHdpbmRvdy5SVENSdHBTZW5kZXIucHJvdG90eXBlLmdldFBhcmFtZXRlcnMgPVxuICAgICAgZnVuY3Rpb24gZ2V0UGFyYW1ldGVycygpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gb3JpZ0dldFBhcmFtZXRlcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKCEoJ2VuY29kaW5ncycgaW4gcGFyYW1zKSkge1xuICAgICAgICAgIHBhcmFtcy5lbmNvZGluZ3MgPSBbXS5jb25jYXQodGhpcy5zZW5kRW5jb2RpbmdzIHx8IFt7fV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGltQ3JlYXRlT2ZmZXIod2luZG93KSB7XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJydGNIYWNrcy9hZGFwdGVyL2lzc3Vlcy85OTgjaXNzdWVjb21tZW50LTUxNjkyMTY0N1xuICAvLyBGaXJlZm94IGlnbm9yZXMgdGhlIGluaXQgc2VuZEVuY29kaW5ncyBvcHRpb25zIHBhc3NlZCB0byBhZGRUcmFuc2NlaXZlclxuICAvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzk2OTE4XG4gIGlmICghKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbikpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgb3JpZ0NyZWF0ZU9mZmVyID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcjtcbiAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlciA9IGZ1bmN0aW9uIGNyZWF0ZU9mZmVyKCkge1xuICAgIGlmICh0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcyAmJiB0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbCh0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcylcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIG9yaWdDcmVhdGVPZmZlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMgPSBbXTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gb3JpZ0NyZWF0ZU9mZmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGltQ3JlYXRlQW5zd2VyKHdpbmRvdykge1xuICAvLyBodHRwczovL2dpdGh1Yi5jb20vd2VicnRjSGFja3MvYWRhcHRlci9pc3N1ZXMvOTk4I2lzc3VlY29tbWVudC01MTY5MjE2NDdcbiAgLy8gRmlyZWZveCBpZ25vcmVzIHRoZSBpbml0IHNlbmRFbmNvZGluZ3Mgb3B0aW9ucyBwYXNzZWQgdG8gYWRkVHJhbnNjZWl2ZXJcbiAgLy8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM5NjkxOFxuICBpZiAoISh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JyAmJiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24pKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IG9yaWdDcmVhdGVBbnN3ZXIgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZUFuc3dlcjtcbiAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVBbnN3ZXIgPSBmdW5jdGlvbiBjcmVhdGVBbnN3ZXIoKSB7XG4gICAgaWYgKHRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzICYmIHRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXR1cm4gb3JpZ0NyZWF0ZUFuc3dlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMgPSBbXTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gb3JpZ0NyZWF0ZUFuc3dlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js\n"));

/***/ }),

/***/ "./node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js":
/*!***********************************************************************!*\
  !*** ./node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"shimGetDisplayMedia\": function() { return /* binding */ shimGetDisplayMedia; }\n/* harmony export */ });\n/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n\n\nfunction shimGetDisplayMedia(window, preferredMediaSource) {\n  if (window.navigator.mediaDevices &&\n    'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!(window.navigator.mediaDevices)) {\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia =\n    function getDisplayMedia(constraints) {\n      if (!(constraints && constraints.video)) {\n        const err = new DOMException('getDisplayMedia without video ' +\n            'constraints is undefined');\n        err.name = 'NotFoundError';\n        // from https://heycam.github.io/webidl/#idl-DOMException-error-names\n        err.code = 8;\n        return Promise.reject(err);\n      }\n      if (constraints.video === true) {\n        constraints.video = {mediaSource: preferredMediaSource};\n      } else {\n        constraints.video.mediaSource = preferredMediaSource;\n      }\n      return window.navigator.mediaDevices.getUserMedia(constraints);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL2ZpcmVmb3gvZ2V0ZGlzcGxheW1lZGlhLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRU47QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3dlYnJ0Yy1hZGFwdGVyL3NyYy9qcy9maXJlZm94L2dldGRpc3BsYXltZWRpYS5qcz85YzAyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBhZGFwdGVyLmpzIHByb2plY3QgYXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBCU0Qtc3R5bGUgbGljZW5zZVxuICogIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3Qgb2YgdGhlIHNvdXJjZVxuICogIHRyZWUuXG4gKi9cbi8qIGVzbGludC1lbnYgbm9kZSAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2hpbUdldERpc3BsYXlNZWRpYSh3aW5kb3csIHByZWZlcnJlZE1lZGlhU291cmNlKSB7XG4gIGlmICh3aW5kb3cubmF2aWdhdG9yLm1lZGlhRGV2aWNlcyAmJlxuICAgICdnZXREaXNwbGF5TWVkaWEnIGluIHdpbmRvdy5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghKHdpbmRvdy5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSkge1xuICAgIHJldHVybjtcbiAgfVxuICB3aW5kb3cubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEgPVxuICAgIGZ1bmN0aW9uIGdldERpc3BsYXlNZWRpYShjb25zdHJhaW50cykge1xuICAgICAgaWYgKCEoY29uc3RyYWludHMgJiYgY29uc3RyYWludHMudmlkZW8pKSB7XG4gICAgICAgIGNvbnN0IGVyciA9IG5ldyBET01FeGNlcHRpb24oJ2dldERpc3BsYXlNZWRpYSB3aXRob3V0IHZpZGVvICcgK1xuICAgICAgICAgICAgJ2NvbnN0cmFpbnRzIGlzIHVuZGVmaW5lZCcpO1xuICAgICAgICBlcnIubmFtZSA9ICdOb3RGb3VuZEVycm9yJztcbiAgICAgICAgLy8gZnJvbSBodHRwczovL2hleWNhbS5naXRodWIuaW8vd2ViaWRsLyNpZGwtRE9NRXhjZXB0aW9uLWVycm9yLW5hbWVzXG4gICAgICAgIGVyci5jb2RlID0gODtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgICBpZiAoY29uc3RyYWludHMudmlkZW8gPT09IHRydWUpIHtcbiAgICAgICAgY29uc3RyYWludHMudmlkZW8gPSB7bWVkaWFTb3VyY2U6IHByZWZlcnJlZE1lZGlhU291cmNlfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0cmFpbnRzLnZpZGVvLm1lZGlhU291cmNlID0gcHJlZmVycmVkTWVkaWFTb3VyY2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js\n"));

/***/ }),

/***/ "./node_modules/webrtc-adapter/src/js/firefox/getusermedia.js":
/*!********************************************************************!*\
  !*** ./node_modules/webrtc-adapter/src/js/firefox/getusermedia.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"shimGetUserMedia\": function() { return /* binding */ shimGetUserMedia; }\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./node_modules/webrtc-adapter/src/js/utils.js\");\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n\n\n\n\nfunction shimGetUserMedia(window, browserDetails) {\n  const navigator = window && window.navigator;\n  const MediaStreamTrack = window && window.MediaStreamTrack;\n\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    _utils__WEBPACK_IMPORTED_MODULE_0__.deprecated('navigator.getUserMedia',\n        'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    const remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    const nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      const nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        const obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      const nativeApplyConstraints =\n        MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL2ZpcmVmb3gvZ2V0dXNlcm1lZGlhLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNhOztBQUVxQjs7QUFFM0I7QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJLDhDQUFnQjtBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL2ZpcmVmb3gvZ2V0dXNlcm1lZGlhLmpzP2MwMDEiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICBDb3B5cmlnaHQgKGMpIDIwMTYgVGhlIFdlYlJUQyBwcm9qZWN0IGF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgQlNELXN0eWxlIGxpY2Vuc2VcbiAqICB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IG9mIHRoZSBzb3VyY2VcbiAqICB0cmVlLlxuICovXG4vKiBlc2xpbnQtZW52IG5vZGUgKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2hpbUdldFVzZXJNZWRpYSh3aW5kb3csIGJyb3dzZXJEZXRhaWxzKSB7XG4gIGNvbnN0IG5hdmlnYXRvciA9IHdpbmRvdyAmJiB3aW5kb3cubmF2aWdhdG9yO1xuICBjb25zdCBNZWRpYVN0cmVhbVRyYWNrID0gd2luZG93ICYmIHdpbmRvdy5NZWRpYVN0cmVhbVRyYWNrO1xuXG4gIG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgPSBmdW5jdGlvbihjb25zdHJhaW50cywgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgLy8gUmVwbGFjZSBGaXJlZm94IDQ0KydzIGRlcHJlY2F0aW9uIHdhcm5pbmcgd2l0aCB1bnByZWZpeGVkIHZlcnNpb24uXG4gICAgdXRpbHMuZGVwcmVjYXRlZCgnbmF2aWdhdG9yLmdldFVzZXJNZWRpYScsXG4gICAgICAgICduYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYScpO1xuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKG9uU3VjY2Vzcywgb25FcnJvcik7XG4gIH07XG5cbiAgaWYgKCEoYnJvd3NlckRldGFpbHMudmVyc2lvbiA+IDU1ICYmXG4gICAgICAnYXV0b0dhaW5Db250cm9sJyBpbiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFN1cHBvcnRlZENvbnN0cmFpbnRzKCkpKSB7XG4gICAgY29uc3QgcmVtYXAgPSBmdW5jdGlvbihvYmosIGEsIGIpIHtcbiAgICAgIGlmIChhIGluIG9iaiAmJiAhKGIgaW4gb2JqKSkge1xuICAgICAgICBvYmpbYl0gPSBvYmpbYV07XG4gICAgICAgIGRlbGV0ZSBvYmpbYV07XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG5hdGl2ZUdldFVzZXJNZWRpYSA9IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLlxuICAgICAgICBiaW5kKG5hdmlnYXRvci5tZWRpYURldmljZXMpO1xuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhID0gZnVuY3Rpb24oYykge1xuICAgICAgaWYgKHR5cGVvZiBjID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgYy5hdWRpbyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgYyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYykpO1xuICAgICAgICByZW1hcChjLmF1ZGlvLCAnYXV0b0dhaW5Db250cm9sJywgJ21vekF1dG9HYWluQ29udHJvbCcpO1xuICAgICAgICByZW1hcChjLmF1ZGlvLCAnbm9pc2VTdXBwcmVzc2lvbicsICdtb3pOb2lzZVN1cHByZXNzaW9uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlR2V0VXNlck1lZGlhKGMpO1xuICAgIH07XG5cbiAgICBpZiAoTWVkaWFTdHJlYW1UcmFjayAmJiBNZWRpYVN0cmVhbVRyYWNrLnByb3RvdHlwZS5nZXRTZXR0aW5ncykge1xuICAgICAgY29uc3QgbmF0aXZlR2V0U2V0dGluZ3MgPSBNZWRpYVN0cmVhbVRyYWNrLnByb3RvdHlwZS5nZXRTZXR0aW5ncztcbiAgICAgIE1lZGlhU3RyZWFtVHJhY2sucHJvdG90eXBlLmdldFNldHRpbmdzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IG5hdGl2ZUdldFNldHRpbmdzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIHJlbWFwKG9iaiwgJ21vekF1dG9HYWluQ29udHJvbCcsICdhdXRvR2FpbkNvbnRyb2wnKTtcbiAgICAgICAgcmVtYXAob2JqLCAnbW96Tm9pc2VTdXBwcmVzc2lvbicsICdub2lzZVN1cHByZXNzaW9uJyk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChNZWRpYVN0cmVhbVRyYWNrICYmIE1lZGlhU3RyZWFtVHJhY2sucHJvdG90eXBlLmFwcGx5Q29uc3RyYWludHMpIHtcbiAgICAgIGNvbnN0IG5hdGl2ZUFwcGx5Q29uc3RyYWludHMgPVxuICAgICAgICBNZWRpYVN0cmVhbVRyYWNrLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnRzO1xuICAgICAgTWVkaWFTdHJlYW1UcmFjay5wcm90b3R5cGUuYXBwbHlDb25zdHJhaW50cyA9IGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgaWYgKHRoaXMua2luZCA9PT0gJ2F1ZGlvJyAmJiB0eXBlb2YgYyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBjID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjKSk7XG4gICAgICAgICAgcmVtYXAoYywgJ2F1dG9HYWluQ29udHJvbCcsICdtb3pBdXRvR2FpbkNvbnRyb2wnKTtcbiAgICAgICAgICByZW1hcChjLCAnbm9pc2VTdXBwcmVzc2lvbicsICdtb3pOb2lzZVN1cHByZXNzaW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hdGl2ZUFwcGx5Q29uc3RyYWludHMuYXBwbHkodGhpcywgW2NdKTtcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/webrtc-adapter/src/js/firefox/getusermedia.js\n"));

/***/ }),

/***/ "./node_modules/webrtc-adapter/src/js/safari/safari_shim.js":
/*!******************************************************************!*\
  !*** ./node_modules/webrtc-adapter/src/js/safari/safari_shim.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"shimAudioContext\": function() { return /* binding */ shimAudioContext; },\n/* harmony export */   \"shimCallbacksAPI\": function() { return /* binding */ shimCallbacksAPI; },\n/* harmony export */   \"shimConstraints\": function() { return /* binding */ shimConstraints; },\n/* harmony export */   \"shimCreateOfferLegacy\": function() { return /* binding */ shimCreateOfferLegacy; },\n/* harmony export */   \"shimGetUserMedia\": function() { return /* binding */ shimGetUserMedia; },\n/* harmony export */   \"shimLocalStreamsAPI\": function() { return /* binding */ shimLocalStreamsAPI; },\n/* harmony export */   \"shimRTCIceServerUrls\": function() { return /* binding */ shimRTCIceServerUrls; },\n/* harmony export */   \"shimRemoteStreamsAPI\": function() { return /* binding */ shimRemoteStreamsAPI; },\n/* harmony export */   \"shimTrackEventTransceiver\": function() { return /* binding */ shimTrackEventTransceiver; }\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./node_modules/webrtc-adapter/src/js/utils.js\");\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n\n\n\nfunction shimLocalStreamsAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getLocalStreams =\n      function getLocalStreams() {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        return this._localStreams;\n      };\n  }\n  if (!('addStream' in window.RTCPeerConnection.prototype)) {\n    const _addTrack = window.RTCPeerConnection.prototype.addTrack;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      if (!this._localStreams) {\n        this._localStreams = [];\n      }\n      if (!this._localStreams.includes(stream)) {\n        this._localStreams.push(stream);\n      }\n      // Try to emulate Chrome's behaviour of adding in audio-video order.\n      // Safari orders by track id.\n      stream.getAudioTracks().forEach(track => _addTrack.call(this, track,\n        stream));\n      stream.getVideoTracks().forEach(track => _addTrack.call(this, track,\n        stream));\n    };\n\n    window.RTCPeerConnection.prototype.addTrack =\n      function addTrack(track, ...streams) {\n        if (streams) {\n          streams.forEach((stream) => {\n            if (!this._localStreams) {\n              this._localStreams = [stream];\n            } else if (!this._localStreams.includes(stream)) {\n              this._localStreams.push(stream);\n            }\n          });\n        }\n        return _addTrack.apply(this, arguments);\n      };\n  }\n  if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.removeStream =\n      function removeStream(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        const index = this._localStreams.indexOf(stream);\n        if (index === -1) {\n          return;\n        }\n        this._localStreams.splice(index, 1);\n        const tracks = stream.getTracks();\n        this.getSenders().forEach(sender => {\n          if (tracks.includes(sender.track)) {\n            this.removeTrack(sender);\n          }\n        });\n      };\n  }\n}\n\nfunction shimRemoteStreamsAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getRemoteStreams =\n      function getRemoteStreams() {\n        return this._remoteStreams ? this._remoteStreams : [];\n      };\n  }\n  if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n      get() {\n        return this._onaddstream;\n      },\n      set(f) {\n        if (this._onaddstream) {\n          this.removeEventListener('addstream', this._onaddstream);\n          this.removeEventListener('track', this._onaddstreampoly);\n        }\n        this.addEventListener('addstream', this._onaddstream = f);\n        this.addEventListener('track', this._onaddstreampoly = (e) => {\n          e.streams.forEach(stream => {\n            if (!this._remoteStreams) {\n              this._remoteStreams = [];\n            }\n            if (this._remoteStreams.includes(stream)) {\n              return;\n            }\n            this._remoteStreams.push(stream);\n            const event = new Event('addstream');\n            event.stream = stream;\n            this.dispatchEvent(event);\n          });\n        });\n      }\n    });\n    const origSetRemoteDescription =\n      window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n      function setRemoteDescription() {\n        const pc = this;\n        if (!this._onaddstreampoly) {\n          this.addEventListener('track', this._onaddstreampoly = function(e) {\n            e.streams.forEach(stream => {\n              if (!pc._remoteStreams) {\n                pc._remoteStreams = [];\n              }\n              if (pc._remoteStreams.indexOf(stream) >= 0) {\n                return;\n              }\n              pc._remoteStreams.push(stream);\n              const event = new Event('addstream');\n              event.stream = stream;\n              pc.dispatchEvent(event);\n            });\n          });\n        }\n        return origSetRemoteDescription.apply(pc, arguments);\n      };\n  }\n}\n\nfunction shimCallbacksAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  const prototype = window.RTCPeerConnection.prototype;\n  const origCreateOffer = prototype.createOffer;\n  const origCreateAnswer = prototype.createAnswer;\n  const setLocalDescription = prototype.setLocalDescription;\n  const setRemoteDescription = prototype.setRemoteDescription;\n  const addIceCandidate = prototype.addIceCandidate;\n\n  prototype.createOffer =\n    function createOffer(successCallback, failureCallback) {\n      const options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      const promise = origCreateOffer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n  prototype.createAnswer =\n    function createAnswer(successCallback, failureCallback) {\n      const options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      const promise = origCreateAnswer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n  let withCallback = function(description, successCallback, failureCallback) {\n    const promise = setLocalDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setLocalDescription = withCallback;\n\n  withCallback = function(description, successCallback, failureCallback) {\n    const promise = setRemoteDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setRemoteDescription = withCallback;\n\n  withCallback = function(candidate, successCallback, failureCallback) {\n    const promise = addIceCandidate.apply(this, [candidate]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.addIceCandidate = withCallback;\n}\n\nfunction shimGetUserMedia(window) {\n  const navigator = window && window.navigator;\n\n  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    // shim not needed in Safari 12.1\n    const mediaDevices = navigator.mediaDevices;\n    const _getUserMedia = mediaDevices.getUserMedia.bind(mediaDevices);\n    navigator.mediaDevices.getUserMedia = (constraints) => {\n      return _getUserMedia(shimConstraints(constraints));\n    };\n  }\n\n  if (!navigator.getUserMedia && navigator.mediaDevices &&\n    navigator.mediaDevices.getUserMedia) {\n    navigator.getUserMedia = function getUserMedia(constraints, cb, errcb) {\n      navigator.mediaDevices.getUserMedia(constraints)\n      .then(cb, errcb);\n    }.bind(navigator);\n  }\n}\n\nfunction shimConstraints(constraints) {\n  if (constraints && constraints.video !== undefined) {\n    return Object.assign({},\n      constraints,\n      {video: _utils__WEBPACK_IMPORTED_MODULE_0__.compactObject(constraints.video)}\n    );\n  }\n\n  return constraints;\n}\n\nfunction shimRTCIceServerUrls(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n  const OrigPeerConnection = window.RTCPeerConnection;\n  window.RTCPeerConnection =\n    function RTCPeerConnection(pcConfig, pcConstraints) {\n      if (pcConfig && pcConfig.iceServers) {\n        const newIceServers = [];\n        for (let i = 0; i < pcConfig.iceServers.length; i++) {\n          let server = pcConfig.iceServers[i];\n          if (!server.hasOwnProperty('urls') &&\n              server.hasOwnProperty('url')) {\n            _utils__WEBPACK_IMPORTED_MODULE_0__.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n            server = JSON.parse(JSON.stringify(server));\n            server.urls = server.url;\n            delete server.url;\n            newIceServers.push(server);\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n      return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n  window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n  // wrap static methods. Currently just generateCertificate.\n  if ('generateCertificate' in OrigPeerConnection) {\n    Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n      get() {\n        return OrigPeerConnection.generateCertificate;\n      }\n    });\n  }\n}\n\nfunction shimTrackEventTransceiver(window) {\n  // Add event.transceiver member over deprecated event.receiver\n  if (typeof window === 'object' && window.RTCTrackEvent &&\n      'receiver' in window.RTCTrackEvent.prototype &&\n      !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get() {\n        return {receiver: this.receiver};\n      }\n    });\n  }\n}\n\nfunction shimCreateOfferLegacy(window) {\n  const origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer =\n    function createOffer(offerOptions) {\n      if (offerOptions) {\n        if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {\n          // support bit values\n          offerOptions.offerToReceiveAudio =\n            !!offerOptions.offerToReceiveAudio;\n        }\n        const audioTransceiver = this.getTransceivers().find(transceiver =>\n          transceiver.receiver.track.kind === 'audio');\n        if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n          if (audioTransceiver.direction === 'sendrecv') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('sendonly');\n            } else {\n              audioTransceiver.direction = 'sendonly';\n            }\n          } else if (audioTransceiver.direction === 'recvonly') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('inactive');\n            } else {\n              audioTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveAudio === true &&\n            !audioTransceiver) {\n          this.addTransceiver('audio', {direction: 'recvonly'});\n        }\n\n        if (typeof offerOptions.offerToReceiveVideo !== 'undefined') {\n          // support bit values\n          offerOptions.offerToReceiveVideo =\n            !!offerOptions.offerToReceiveVideo;\n        }\n        const videoTransceiver = this.getTransceivers().find(transceiver =>\n          transceiver.receiver.track.kind === 'video');\n        if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n          if (videoTransceiver.direction === 'sendrecv') {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('sendonly');\n            } else {\n              videoTransceiver.direction = 'sendonly';\n            }\n          } else if (videoTransceiver.direction === 'recvonly') {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('inactive');\n            } else {\n              videoTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveVideo === true &&\n            !videoTransceiver) {\n          this.addTransceiver('video', {direction: 'recvonly'});\n        }\n      }\n      return origCreateOffer.apply(this, arguments);\n    };\n}\n\nfunction shimAudioContext(window) {\n  if (typeof window !== 'object' || window.AudioContext) {\n    return;\n  }\n  window.AudioContext = window.webkitAudioContext;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL3NhZmFyaS9zYWZhcmlfc2hpbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDYTtBQUNxQjs7QUFFM0I7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFTztBQUNQO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0EsT0FBTyxPQUFPLGlEQUFtQjtBQUNqQztBQUNBOztBQUVBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0NBQWdDO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLFlBQVksOENBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSx3Q0FBd0Msc0JBQXNCO0FBQzlEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLHdDQUF3QyxzQkFBc0I7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3dlYnJ0Yy1hZGFwdGVyL3NyYy9qcy9zYWZhcmkvc2FmYXJpX3NoaW0uanM/YzFjYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogIENvcHlyaWdodCAoYykgMjAxNiBUaGUgV2ViUlRDIHByb2plY3QgYXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYSBCU0Qtc3R5bGUgbGljZW5zZVxuICogIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3Qgb2YgdGhlIHNvdXJjZVxuICogIHRyZWUuXG4gKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNoaW1Mb2NhbFN0cmVhbXNBUEkod2luZG93KSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAnb2JqZWN0JyB8fCAhd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghKCdnZXRMb2NhbFN0cmVhbXMnIGluIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKSB7XG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRMb2NhbFN0cmVhbXMgPVxuICAgICAgZnVuY3Rpb24gZ2V0TG9jYWxTdHJlYW1zKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xvY2FsU3RyZWFtcykge1xuICAgICAgICAgIHRoaXMuX2xvY2FsU3RyZWFtcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbFN0cmVhbXM7XG4gICAgICB9O1xuICB9XG4gIGlmICghKCdhZGRTdHJlYW0nIGluIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKSB7XG4gICAgY29uc3QgX2FkZFRyYWNrID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztcbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbSA9IGZ1bmN0aW9uIGFkZFN0cmVhbShzdHJlYW0pIHtcbiAgICAgIGlmICghdGhpcy5fbG9jYWxTdHJlYW1zKSB7XG4gICAgICAgIHRoaXMuX2xvY2FsU3RyZWFtcyA9IFtdO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLl9sb2NhbFN0cmVhbXMuaW5jbHVkZXMoc3RyZWFtKSkge1xuICAgICAgICB0aGlzLl9sb2NhbFN0cmVhbXMucHVzaChzdHJlYW0pO1xuICAgICAgfVxuICAgICAgLy8gVHJ5IHRvIGVtdWxhdGUgQ2hyb21lJ3MgYmVoYXZpb3VyIG9mIGFkZGluZyBpbiBhdWRpby12aWRlbyBvcmRlci5cbiAgICAgIC8vIFNhZmFyaSBvcmRlcnMgYnkgdHJhY2sgaWQuXG4gICAgICBzdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IF9hZGRUcmFjay5jYWxsKHRoaXMsIHRyYWNrLFxuICAgICAgICBzdHJlYW0pKTtcbiAgICAgIHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpLmZvckVhY2godHJhY2sgPT4gX2FkZFRyYWNrLmNhbGwodGhpcywgdHJhY2ssXG4gICAgICAgIHN0cmVhbSkpO1xuICAgIH07XG5cbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrID1cbiAgICAgIGZ1bmN0aW9uIGFkZFRyYWNrKHRyYWNrLCAuLi5zdHJlYW1zKSB7XG4gICAgICAgIGlmIChzdHJlYW1zKSB7XG4gICAgICAgICAgc3RyZWFtcy5mb3JFYWNoKChzdHJlYW0pID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxTdHJlYW1zKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2xvY2FsU3RyZWFtcyA9IFtzdHJlYW1dO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fbG9jYWxTdHJlYW1zLmluY2x1ZGVzKHN0cmVhbSkpIHtcbiAgICAgICAgICAgICAgdGhpcy5fbG9jYWxTdHJlYW1zLnB1c2goc3RyZWFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2FkZFRyYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICB9XG4gIGlmICghKCdyZW1vdmVTdHJlYW0nIGluIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKSB7XG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW0gPVxuICAgICAgZnVuY3Rpb24gcmVtb3ZlU3RyZWFtKHN0cmVhbSkge1xuICAgICAgICBpZiAoIXRoaXMuX2xvY2FsU3RyZWFtcykge1xuICAgICAgICAgIHRoaXMuX2xvY2FsU3RyZWFtcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fbG9jYWxTdHJlYW1zLmluZGV4T2Yoc3RyZWFtKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2NhbFN0cmVhbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgY29uc3QgdHJhY2tzID0gc3RyZWFtLmdldFRyYWNrcygpO1xuICAgICAgICB0aGlzLmdldFNlbmRlcnMoKS5mb3JFYWNoKHNlbmRlciA9PiB7XG4gICAgICAgICAgaWYgKHRyYWNrcy5pbmNsdWRlcyhzZW5kZXIudHJhY2spKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVRyYWNrKHNlbmRlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoaW1SZW1vdGVTdHJlYW1zQVBJKHdpbmRvdykge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ29iamVjdCcgfHwgIXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoISgnZ2V0UmVtb3RlU3RyZWFtcycgaW4gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpIHtcbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlbW90ZVN0cmVhbXMgPVxuICAgICAgZnVuY3Rpb24gZ2V0UmVtb3RlU3RyZWFtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbW90ZVN0cmVhbXMgPyB0aGlzLl9yZW1vdGVTdHJlYW1zIDogW107XG4gICAgICB9O1xuICB9XG4gIGlmICghKCdvbmFkZHN0cmVhbScgaW4gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSwgJ29uYWRkc3RyZWFtJywge1xuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25hZGRzdHJlYW07XG4gICAgICB9LFxuICAgICAgc2V0KGYpIHtcbiAgICAgICAgaWYgKHRoaXMuX29uYWRkc3RyZWFtKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdhZGRzdHJlYW0nLCB0aGlzLl9vbmFkZHN0cmVhbSk7XG4gICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFjaycsIHRoaXMuX29uYWRkc3RyZWFtcG9seSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdhZGRzdHJlYW0nLCB0aGlzLl9vbmFkZHN0cmVhbSA9IGYpO1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYWNrJywgdGhpcy5fb25hZGRzdHJlYW1wb2x5ID0gKGUpID0+IHtcbiAgICAgICAgICBlLnN0cmVhbXMuZm9yRWFjaChzdHJlYW0gPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9yZW1vdGVTdHJlYW1zKSB7XG4gICAgICAgICAgICAgIHRoaXMuX3JlbW90ZVN0cmVhbXMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9yZW1vdGVTdHJlYW1zLmluY2x1ZGVzKHN0cmVhbSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcmVtb3RlU3RyZWFtcy5wdXNoKHN0cmVhbSk7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IG5ldyBFdmVudCgnYWRkc3RyZWFtJyk7XG4gICAgICAgICAgICBldmVudC5zdHJlYW0gPSBzdHJlYW07XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBvcmlnU2V0UmVtb3RlRGVzY3JpcHRpb24gPVxuICAgICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbjtcbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uID1cbiAgICAgIGZ1bmN0aW9uIHNldFJlbW90ZURlc2NyaXB0aW9uKCkge1xuICAgICAgICBjb25zdCBwYyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5fb25hZGRzdHJlYW1wb2x5KSB7XG4gICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCd0cmFjaycsIHRoaXMuX29uYWRkc3RyZWFtcG9seSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUuc3RyZWFtcy5mb3JFYWNoKHN0cmVhbSA9PiB7XG4gICAgICAgICAgICAgIGlmICghcGMuX3JlbW90ZVN0cmVhbXMpIHtcbiAgICAgICAgICAgICAgICBwYy5fcmVtb3RlU3RyZWFtcyA9IFtdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChwYy5fcmVtb3RlU3RyZWFtcy5pbmRleE9mKHN0cmVhbSkgPj0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwYy5fcmVtb3RlU3RyZWFtcy5wdXNoKHN0cmVhbSk7XG4gICAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEV2ZW50KCdhZGRzdHJlYW0nKTtcbiAgICAgICAgICAgICAgZXZlbnQuc3RyZWFtID0gc3RyZWFtO1xuICAgICAgICAgICAgICBwYy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcmlnU2V0UmVtb3RlRGVzY3JpcHRpb24uYXBwbHkocGMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGltQ2FsbGJhY2tzQVBJKHdpbmRvdykge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ29iamVjdCcgfHwgIXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwcm90b3R5cGUgPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlO1xuICBjb25zdCBvcmlnQ3JlYXRlT2ZmZXIgPSBwcm90b3R5cGUuY3JlYXRlT2ZmZXI7XG4gIGNvbnN0IG9yaWdDcmVhdGVBbnN3ZXIgPSBwcm90b3R5cGUuY3JlYXRlQW5zd2VyO1xuICBjb25zdCBzZXRMb2NhbERlc2NyaXB0aW9uID0gcHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb247XG4gIGNvbnN0IHNldFJlbW90ZURlc2NyaXB0aW9uID0gcHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uO1xuICBjb25zdCBhZGRJY2VDYW5kaWRhdGUgPSBwcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlO1xuXG4gIHByb3RvdHlwZS5jcmVhdGVPZmZlciA9XG4gICAgZnVuY3Rpb24gY3JlYXRlT2ZmZXIoc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2spIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSA/IGFyZ3VtZW50c1syXSA6IGFyZ3VtZW50c1swXTtcbiAgICAgIGNvbnN0IHByb21pc2UgPSBvcmlnQ3JlYXRlT2ZmZXIuYXBwbHkodGhpcywgW29wdGlvbnNdKTtcbiAgICAgIGlmICghZmFpbHVyZUNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfVxuICAgICAgcHJvbWlzZS50aGVuKHN1Y2Nlc3NDYWxsYmFjaywgZmFpbHVyZUNhbGxiYWNrKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuXG4gIHByb3RvdHlwZS5jcmVhdGVBbnN3ZXIgPVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUFuc3dlcihzdWNjZXNzQ2FsbGJhY2ssIGZhaWx1cmVDYWxsYmFjaykge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IChhcmd1bWVudHMubGVuZ3RoID49IDIpID8gYXJndW1lbnRzWzJdIDogYXJndW1lbnRzWzBdO1xuICAgICAgY29uc3QgcHJvbWlzZSA9IG9yaWdDcmVhdGVBbnN3ZXIuYXBwbHkodGhpcywgW29wdGlvbnNdKTtcbiAgICAgIGlmICghZmFpbHVyZUNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfVxuICAgICAgcHJvbWlzZS50aGVuKHN1Y2Nlc3NDYWxsYmFjaywgZmFpbHVyZUNhbGxiYWNrKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuXG4gIGxldCB3aXRoQ2FsbGJhY2sgPSBmdW5jdGlvbihkZXNjcmlwdGlvbiwgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2spIHtcbiAgICBjb25zdCBwcm9taXNlID0gc2V0TG9jYWxEZXNjcmlwdGlvbi5hcHBseSh0aGlzLCBbZGVzY3JpcHRpb25dKTtcbiAgICBpZiAoIWZhaWx1cmVDYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIHByb21pc2UudGhlbihzdWNjZXNzQ2FsbGJhY2ssIGZhaWx1cmVDYWxsYmFjayk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9O1xuICBwcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbiA9IHdpdGhDYWxsYmFjaztcblxuICB3aXRoQ2FsbGJhY2sgPSBmdW5jdGlvbihkZXNjcmlwdGlvbiwgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2spIHtcbiAgICBjb25zdCBwcm9taXNlID0gc2V0UmVtb3RlRGVzY3JpcHRpb24uYXBwbHkodGhpcywgW2Rlc2NyaXB0aW9uXSk7XG4gICAgaWYgKCFmYWlsdXJlQ2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICBwcm9taXNlLnRoZW4oc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2spO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfTtcbiAgcHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uID0gd2l0aENhbGxiYWNrO1xuXG4gIHdpdGhDYWxsYmFjayA9IGZ1bmN0aW9uKGNhbmRpZGF0ZSwgc3VjY2Vzc0NhbGxiYWNrLCBmYWlsdXJlQ2FsbGJhY2spIHtcbiAgICBjb25zdCBwcm9taXNlID0gYWRkSWNlQ2FuZGlkYXRlLmFwcGx5KHRoaXMsIFtjYW5kaWRhdGVdKTtcbiAgICBpZiAoIWZhaWx1cmVDYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIHByb21pc2UudGhlbihzdWNjZXNzQ2FsbGJhY2ssIGZhaWx1cmVDYWxsYmFjayk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9O1xuICBwcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlID0gd2l0aENhbGxiYWNrO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hpbUdldFVzZXJNZWRpYSh3aW5kb3cpIHtcbiAgY29uc3QgbmF2aWdhdG9yID0gd2luZG93ICYmIHdpbmRvdy5uYXZpZ2F0b3I7XG5cbiAgaWYgKG5hdmlnYXRvci5tZWRpYURldmljZXMgJiYgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpIHtcbiAgICAvLyBzaGltIG5vdCBuZWVkZWQgaW4gU2FmYXJpIDEyLjFcbiAgICBjb25zdCBtZWRpYURldmljZXMgPSBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzO1xuICAgIGNvbnN0IF9nZXRVc2VyTWVkaWEgPSBtZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLmJpbmQobWVkaWFEZXZpY2VzKTtcbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSA9IChjb25zdHJhaW50cykgPT4ge1xuICAgICAgcmV0dXJuIF9nZXRVc2VyTWVkaWEoc2hpbUNvbnN0cmFpbnRzKGNvbnN0cmFpbnRzKSk7XG4gICAgfTtcbiAgfVxuXG4gIGlmICghbmF2aWdhdG9yLmdldFVzZXJNZWRpYSAmJiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzICYmXG4gICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpIHtcbiAgICBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhID0gZnVuY3Rpb24gZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzLCBjYiwgZXJyY2IpIHtcbiAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKVxuICAgICAgLnRoZW4oY2IsIGVycmNiKTtcbiAgICB9LmJpbmQobmF2aWdhdG9yKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hpbUNvbnN0cmFpbnRzKGNvbnN0cmFpbnRzKSB7XG4gIGlmIChjb25zdHJhaW50cyAmJiBjb25zdHJhaW50cy52aWRlbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sXG4gICAgICBjb25zdHJhaW50cyxcbiAgICAgIHt2aWRlbzogdXRpbHMuY29tcGFjdE9iamVjdChjb25zdHJhaW50cy52aWRlbyl9XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBjb25zdHJhaW50cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoaW1SVENJY2VTZXJ2ZXJVcmxzKHdpbmRvdykge1xuICBpZiAoIXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBtaWdyYXRlIGZyb20gbm9uLXNwZWMgUlRDSWNlU2VydmVyLnVybCB0byBSVENJY2VTZXJ2ZXIudXJsc1xuICBjb25zdCBPcmlnUGVlckNvbm5lY3Rpb24gPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb247XG4gIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiA9XG4gICAgZnVuY3Rpb24gUlRDUGVlckNvbm5lY3Rpb24ocGNDb25maWcsIHBjQ29uc3RyYWludHMpIHtcbiAgICAgIGlmIChwY0NvbmZpZyAmJiBwY0NvbmZpZy5pY2VTZXJ2ZXJzKSB7XG4gICAgICAgIGNvbnN0IG5ld0ljZVNlcnZlcnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwY0NvbmZpZy5pY2VTZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IHNlcnZlciA9IHBjQ29uZmlnLmljZVNlcnZlcnNbaV07XG4gICAgICAgICAgaWYgKCFzZXJ2ZXIuaGFzT3duUHJvcGVydHkoJ3VybHMnKSAmJlxuICAgICAgICAgICAgICBzZXJ2ZXIuaGFzT3duUHJvcGVydHkoJ3VybCcpKSB7XG4gICAgICAgICAgICB1dGlscy5kZXByZWNhdGVkKCdSVENJY2VTZXJ2ZXIudXJsJywgJ1JUQ0ljZVNlcnZlci51cmxzJyk7XG4gICAgICAgICAgICBzZXJ2ZXIgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHNlcnZlcikpO1xuICAgICAgICAgICAgc2VydmVyLnVybHMgPSBzZXJ2ZXIudXJsO1xuICAgICAgICAgICAgZGVsZXRlIHNlcnZlci51cmw7XG4gICAgICAgICAgICBuZXdJY2VTZXJ2ZXJzLnB1c2goc2VydmVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3SWNlU2VydmVycy5wdXNoKHBjQ29uZmlnLmljZVNlcnZlcnNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwY0NvbmZpZy5pY2VTZXJ2ZXJzID0gbmV3SWNlU2VydmVycztcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgT3JpZ1BlZXJDb25uZWN0aW9uKHBjQ29uZmlnLCBwY0NvbnN0cmFpbnRzKTtcbiAgICB9O1xuICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlID0gT3JpZ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZTtcbiAgLy8gd3JhcCBzdGF0aWMgbWV0aG9kcy4gQ3VycmVudGx5IGp1c3QgZ2VuZXJhdGVDZXJ0aWZpY2F0ZS5cbiAgaWYgKCdnZW5lcmF0ZUNlcnRpZmljYXRlJyBpbiBPcmlnUGVlckNvbm5lY3Rpb24pIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLCAnZ2VuZXJhdGVDZXJ0aWZpY2F0ZScsIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIE9yaWdQZWVyQ29ubmVjdGlvbi5nZW5lcmF0ZUNlcnRpZmljYXRlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGltVHJhY2tFdmVudFRyYW5zY2VpdmVyKHdpbmRvdykge1xuICAvLyBBZGQgZXZlbnQudHJhbnNjZWl2ZXIgbWVtYmVyIG92ZXIgZGVwcmVjYXRlZCBldmVudC5yZWNlaXZlclxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LlJUQ1RyYWNrRXZlbnQgJiZcbiAgICAgICdyZWNlaXZlcicgaW4gd2luZG93LlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlICYmXG4gICAgICAhKCd0cmFuc2NlaXZlcicgaW4gd2luZG93LlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlKSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUsICd0cmFuc2NlaXZlcicsIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHtyZWNlaXZlcjogdGhpcy5yZWNlaXZlcn07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoaW1DcmVhdGVPZmZlckxlZ2FjeSh3aW5kb3cpIHtcbiAgY29uc3Qgb3JpZ0NyZWF0ZU9mZmVyID0gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcjtcbiAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlciA9XG4gICAgZnVuY3Rpb24gY3JlYXRlT2ZmZXIob2ZmZXJPcHRpb25zKSB7XG4gICAgICBpZiAob2ZmZXJPcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2ZmZXJPcHRpb25zLm9mZmVyVG9SZWNlaXZlQXVkaW8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgLy8gc3VwcG9ydCBiaXQgdmFsdWVzXG4gICAgICAgICAgb2ZmZXJPcHRpb25zLm9mZmVyVG9SZWNlaXZlQXVkaW8gPVxuICAgICAgICAgICAgISFvZmZlck9wdGlvbnMub2ZmZXJUb1JlY2VpdmVBdWRpbztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhdWRpb1RyYW5zY2VpdmVyID0gdGhpcy5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKHRyYW5zY2VpdmVyID0+XG4gICAgICAgICAgdHJhbnNjZWl2ZXIucmVjZWl2ZXIudHJhY2sua2luZCA9PT0gJ2F1ZGlvJyk7XG4gICAgICAgIGlmIChvZmZlck9wdGlvbnMub2ZmZXJUb1JlY2VpdmVBdWRpbyA9PT0gZmFsc2UgJiYgYXVkaW9UcmFuc2NlaXZlcikge1xuICAgICAgICAgIGlmIChhdWRpb1RyYW5zY2VpdmVyLmRpcmVjdGlvbiA9PT0gJ3NlbmRyZWN2Jykge1xuICAgICAgICAgICAgaWYgKGF1ZGlvVHJhbnNjZWl2ZXIuc2V0RGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgIGF1ZGlvVHJhbnNjZWl2ZXIuc2V0RGlyZWN0aW9uKCdzZW5kb25seScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYXVkaW9UcmFuc2NlaXZlci5kaXJlY3Rpb24gPSAnc2VuZG9ubHknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoYXVkaW9UcmFuc2NlaXZlci5kaXJlY3Rpb24gPT09ICdyZWN2b25seScpIHtcbiAgICAgICAgICAgIGlmIChhdWRpb1RyYW5zY2VpdmVyLnNldERpcmVjdGlvbikge1xuICAgICAgICAgICAgICBhdWRpb1RyYW5zY2VpdmVyLnNldERpcmVjdGlvbignaW5hY3RpdmUnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGF1ZGlvVHJhbnNjZWl2ZXIuZGlyZWN0aW9uID0gJ2luYWN0aXZlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob2ZmZXJPcHRpb25zLm9mZmVyVG9SZWNlaXZlQXVkaW8gPT09IHRydWUgJiZcbiAgICAgICAgICAgICFhdWRpb1RyYW5zY2VpdmVyKSB7XG4gICAgICAgICAgdGhpcy5hZGRUcmFuc2NlaXZlcignYXVkaW8nLCB7ZGlyZWN0aW9uOiAncmVjdm9ubHknfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIG9mZmVyT3B0aW9ucy5vZmZlclRvUmVjZWl2ZVZpZGVvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIC8vIHN1cHBvcnQgYml0IHZhbHVlc1xuICAgICAgICAgIG9mZmVyT3B0aW9ucy5vZmZlclRvUmVjZWl2ZVZpZGVvID1cbiAgICAgICAgICAgICEhb2ZmZXJPcHRpb25zLm9mZmVyVG9SZWNlaXZlVmlkZW87XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmlkZW9UcmFuc2NlaXZlciA9IHRoaXMuZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCh0cmFuc2NlaXZlciA9PlxuICAgICAgICAgIHRyYW5zY2VpdmVyLnJlY2VpdmVyLnRyYWNrLmtpbmQgPT09ICd2aWRlbycpO1xuICAgICAgICBpZiAob2ZmZXJPcHRpb25zLm9mZmVyVG9SZWNlaXZlVmlkZW8gPT09IGZhbHNlICYmIHZpZGVvVHJhbnNjZWl2ZXIpIHtcbiAgICAgICAgICBpZiAodmlkZW9UcmFuc2NlaXZlci5kaXJlY3Rpb24gPT09ICdzZW5kcmVjdicpIHtcbiAgICAgICAgICAgIGlmICh2aWRlb1RyYW5zY2VpdmVyLnNldERpcmVjdGlvbikge1xuICAgICAgICAgICAgICB2aWRlb1RyYW5zY2VpdmVyLnNldERpcmVjdGlvbignc2VuZG9ubHknKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZpZGVvVHJhbnNjZWl2ZXIuZGlyZWN0aW9uID0gJ3NlbmRvbmx5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHZpZGVvVHJhbnNjZWl2ZXIuZGlyZWN0aW9uID09PSAncmVjdm9ubHknKSB7XG4gICAgICAgICAgICBpZiAodmlkZW9UcmFuc2NlaXZlci5zZXREaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgdmlkZW9UcmFuc2NlaXZlci5zZXREaXJlY3Rpb24oJ2luYWN0aXZlJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2aWRlb1RyYW5zY2VpdmVyLmRpcmVjdGlvbiA9ICdpbmFjdGl2ZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG9mZmVyT3B0aW9ucy5vZmZlclRvUmVjZWl2ZVZpZGVvID09PSB0cnVlICYmXG4gICAgICAgICAgICAhdmlkZW9UcmFuc2NlaXZlcikge1xuICAgICAgICAgIHRoaXMuYWRkVHJhbnNjZWl2ZXIoJ3ZpZGVvJywge2RpcmVjdGlvbjogJ3JlY3Zvbmx5J30pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb3JpZ0NyZWF0ZU9mZmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoaW1BdWRpb0NvbnRleHQod2luZG93KSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAnb2JqZWN0JyB8fCB3aW5kb3cuQXVkaW9Db250ZXh0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHdpbmRvdy5BdWRpb0NvbnRleHQgPSB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0O1xufVxuXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/webrtc-adapter/src/js/safari/safari_shim.js\n"));

/***/ }),

/***/ "./node_modules/webrtc-adapter/src/js/utils.js":
/*!*****************************************************!*\
  !*** ./node_modules/webrtc-adapter/src/js/utils.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"compactObject\": function() { return /* binding */ compactObject; },\n/* harmony export */   \"deprecated\": function() { return /* binding */ deprecated; },\n/* harmony export */   \"detectBrowser\": function() { return /* binding */ detectBrowser; },\n/* harmony export */   \"disableLog\": function() { return /* binding */ disableLog; },\n/* harmony export */   \"disableWarnings\": function() { return /* binding */ disableWarnings; },\n/* harmony export */   \"extractVersion\": function() { return /* binding */ extractVersion; },\n/* harmony export */   \"filterStats\": function() { return /* binding */ filterStats; },\n/* harmony export */   \"log\": function() { return /* binding */ log; },\n/* harmony export */   \"walkStats\": function() { return /* binding */ walkStats; },\n/* harmony export */   \"wrapPeerConnectionEvent\": function() { return /* binding */ wrapPeerConnectionEvent; }\n/* harmony export */ });\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n\nlet logDisabled_ = true;\nlet deprecationWarnings_ = true;\n\n/**\n * Extract browser version out of the provided user agent string.\n *\n * @param {!string} uastring userAgent string.\n * @param {!string} expr Regular expression used as match criteria.\n * @param {!number} pos position in the version string to be returned.\n * @return {!number} browser version.\n */\nfunction extractVersion(uastring, expr, pos) {\n  const match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n}\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object (or false to prevent\n// the event).\nfunction wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  const proto = window.RTCPeerConnection.prototype;\n  const nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    const wrappedCallback = (e) => {\n      const modifiedEvent = wrapper(e);\n      if (modifiedEvent) {\n        if (cb.handleEvent) {\n          cb.handleEvent(modifiedEvent);\n        } else {\n          cb(modifiedEvent);\n        }\n      }\n    };\n    this._eventMap = this._eventMap || {};\n    if (!this._eventMap[eventNameToWrap]) {\n      this._eventMap[eventNameToWrap] = new Map();\n    }\n    this._eventMap[eventNameToWrap].set(cb, wrappedCallback);\n    return nativeAddEventListener.apply(this, [nativeEventName,\n      wrappedCallback]);\n  };\n\n  const nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap\n        || !this._eventMap[eventNameToWrap]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    if (!this._eventMap[eventNameToWrap].has(cb)) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    const unwrappedCb = this._eventMap[eventNameToWrap].get(cb);\n    this._eventMap[eventNameToWrap].delete(cb);\n    if (this._eventMap[eventNameToWrap].size === 0) {\n      delete this._eventMap[eventNameToWrap];\n    }\n    if (Object.keys(this._eventMap).length === 0) {\n      delete this._eventMap;\n    }\n    return nativeRemoveEventListener.apply(this, [nativeEventName,\n      unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get() {\n      return this['_on' + eventNameToWrap];\n    },\n    set(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap] = cb);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n}\n\nfunction disableLog(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + typeof bool +\n        '. Please use a boolean.');\n  }\n  logDisabled_ = bool;\n  return (bool) ? 'adapter.js logging disabled' :\n      'adapter.js logging enabled';\n}\n\n/**\n * Disable or enable deprecation warnings\n * @param {!boolean} bool set to true to disable warnings.\n */\nfunction disableWarnings(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + typeof bool +\n        '. Please use a boolean.');\n  }\n  deprecationWarnings_ = !bool;\n  return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n}\n\nfunction log() {\n  if (typeof window === 'object') {\n    if (logDisabled_) {\n      return;\n    }\n    if (typeof console !== 'undefined' && typeof console.log === 'function') {\n      console.log.apply(console, arguments);\n    }\n  }\n}\n\n/**\n * Shows a deprecation warning suggesting the modern and spec-compatible API.\n */\nfunction deprecated(oldMethod, newMethod) {\n  if (!deprecationWarnings_) {\n    return;\n  }\n  console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n      ' instead.');\n}\n\n/**\n * Browser detector.\n *\n * @return {object} result containing browser and version\n *     properties.\n */\nfunction detectBrowser(window) {\n  // Returned result object.\n  const result = {browser: null, version: null};\n\n  // Fail early if it's not a browser\n  if (typeof window === 'undefined' || !window.navigator) {\n    result.browser = 'Not a browser.';\n    return result;\n  }\n\n  const {navigator} = window;\n\n  if (navigator.mozGetUserMedia) { // Firefox.\n    result.browser = 'firefox';\n    result.version = extractVersion(navigator.userAgent,\n        /Firefox\\/(\\d+)\\./, 1);\n  } else if (navigator.webkitGetUserMedia ||\n      (window.isSecureContext === false && window.webkitRTCPeerConnection)) {\n    // Chrome, Chromium, Webview, Opera.\n    // Version matches Chrome/WebRTC version.\n    // Chrome 74 removed webkitGetUserMedia on http as well so we need the\n    // more complicated fallback to webkitRTCPeerConnection.\n    result.browser = 'chrome';\n    result.version = extractVersion(navigator.userAgent,\n        /Chrom(e|ium)\\/(\\d+)\\./, 2);\n  } else if (window.RTCPeerConnection &&\n      navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) { // Safari.\n    result.browser = 'safari';\n    result.version = extractVersion(navigator.userAgent,\n        /AppleWebKit\\/(\\d+)\\./, 1);\n    result.supportsUnifiedPlan = window.RTCRtpTransceiver &&\n        'currentDirection' in window.RTCRtpTransceiver.prototype;\n  } else { // Default fallthrough: not supported.\n    result.browser = 'Not a supported browser.';\n    return result;\n  }\n\n  return result;\n}\n\n/**\n * Checks if something is an object.\n *\n * @param {*} val The something you want to check.\n * @return true if val is an object, false otherwise.\n */\nfunction isObject(val) {\n  return Object.prototype.toString.call(val) === '[object Object]';\n}\n\n/**\n * Remove all empty objects and undefined values\n * from a nested object -- an enhanced and vanilla version\n * of Lodash's `compact`.\n */\nfunction compactObject(data) {\n  if (!isObject(data)) {\n    return data;\n  }\n\n  return Object.keys(data).reduce(function(accumulator, key) {\n    const isObj = isObject(data[key]);\n    const value = isObj ? compactObject(data[key]) : data[key];\n    const isEmptyObject = isObj && !Object.keys(value).length;\n    if (value === undefined || isEmptyObject) {\n      return accumulator;\n    }\n    return Object.assign(accumulator, {[key]: value});\n  }, {});\n}\n\n/* iterates the stats graph recursively. */\nfunction walkStats(stats, base, resultSet) {\n  if (!base || resultSet.has(base.id)) {\n    return;\n  }\n  resultSet.set(base.id, base);\n  Object.keys(base).forEach(name => {\n    if (name.endsWith('Id')) {\n      walkStats(stats, stats.get(base[name]), resultSet);\n    } else if (name.endsWith('Ids')) {\n      base[name].forEach(id => {\n        walkStats(stats, stats.get(id), resultSet);\n      });\n    }\n  });\n}\n\n/* filter getStats for a sender/receiver track. */\nfunction filterStats(result, track, outbound) {\n  const streamStatsType = outbound ? 'outbound-rtp' : 'inbound-rtp';\n  const filteredResult = new Map();\n  if (track === null) {\n    return filteredResult;\n  }\n  const trackStats = [];\n  result.forEach(value => {\n    if (value.type === 'track' &&\n        value.trackIdentifier === track.id) {\n      trackStats.push(value);\n    }\n  });\n  trackStats.forEach(trackStat => {\n    result.forEach(stats => {\n      if (stats.type === streamStatsType && stats.trackId === trackStat.id) {\n        walkStats(result, stats, filteredResult);\n      }\n    });\n  });\n  return filteredResult;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL3V0aWxzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRWI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQixZQUFZLFNBQVM7QUFDckI7QUFDTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ087QUFDUDtBQUNBLGtCQUFrQjs7QUFFbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLFdBQVc7O0FBRXBCLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSiwyREFBMkQ7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksT0FBTztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGFBQWE7QUFDcEQsR0FBRyxJQUFJO0FBQ1A7O0FBRUE7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvd2VicnRjLWFkYXB0ZXIvc3JjL2pzL3V0aWxzLmpzP2U3NmIiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICBDb3B5cmlnaHQgKGMpIDIwMTYgVGhlIFdlYlJUQyBwcm9qZWN0IGF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgQlNELXN0eWxlIGxpY2Vuc2VcbiAqICB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IG9mIHRoZSBzb3VyY2VcbiAqICB0cmVlLlxuICovXG4gLyogZXNsaW50LWVudiBub2RlICovXG4ndXNlIHN0cmljdCc7XG5cbmxldCBsb2dEaXNhYmxlZF8gPSB0cnVlO1xubGV0IGRlcHJlY2F0aW9uV2FybmluZ3NfID0gdHJ1ZTtcblxuLyoqXG4gKiBFeHRyYWN0IGJyb3dzZXIgdmVyc2lvbiBvdXQgb2YgdGhlIHByb3ZpZGVkIHVzZXIgYWdlbnQgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7IXN0cmluZ30gdWFzdHJpbmcgdXNlckFnZW50IHN0cmluZy5cbiAqIEBwYXJhbSB7IXN0cmluZ30gZXhwciBSZWd1bGFyIGV4cHJlc3Npb24gdXNlZCBhcyBtYXRjaCBjcml0ZXJpYS5cbiAqIEBwYXJhbSB7IW51bWJlcn0gcG9zIHBvc2l0aW9uIGluIHRoZSB2ZXJzaW9uIHN0cmluZyB0byBiZSByZXR1cm5lZC5cbiAqIEByZXR1cm4geyFudW1iZXJ9IGJyb3dzZXIgdmVyc2lvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RWZXJzaW9uKHVhc3RyaW5nLCBleHByLCBwb3MpIHtcbiAgY29uc3QgbWF0Y2ggPSB1YXN0cmluZy5tYXRjaChleHByKTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoLmxlbmd0aCA+PSBwb3MgJiYgcGFyc2VJbnQobWF0Y2hbcG9zXSwgMTApO1xufVxuXG4vLyBXcmFwcyB0aGUgcGVlcmNvbm5lY3Rpb24gZXZlbnQgZXZlbnROYW1lVG9XcmFwIGluIGEgZnVuY3Rpb25cbi8vIHdoaWNoIHJldHVybnMgdGhlIG1vZGlmaWVkIGV2ZW50IG9iamVjdCAob3IgZmFsc2UgdG8gcHJldmVudFxuLy8gdGhlIGV2ZW50KS5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwUGVlckNvbm5lY3Rpb25FdmVudCh3aW5kb3csIGV2ZW50TmFtZVRvV3JhcCwgd3JhcHBlcikge1xuICBpZiAoIXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwcm90byA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGU7XG4gIGNvbnN0IG5hdGl2ZUFkZEV2ZW50TGlzdGVuZXIgPSBwcm90by5hZGRFdmVudExpc3RlbmVyO1xuICBwcm90by5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24obmF0aXZlRXZlbnROYW1lLCBjYikge1xuICAgIGlmIChuYXRpdmVFdmVudE5hbWUgIT09IGV2ZW50TmFtZVRvV3JhcCkge1xuICAgICAgcmV0dXJuIG5hdGl2ZUFkZEV2ZW50TGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgY29uc3Qgd3JhcHBlZENhbGxiYWNrID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IG1vZGlmaWVkRXZlbnQgPSB3cmFwcGVyKGUpO1xuICAgICAgaWYgKG1vZGlmaWVkRXZlbnQpIHtcbiAgICAgICAgaWYgKGNiLmhhbmRsZUV2ZW50KSB7XG4gICAgICAgICAgY2IuaGFuZGxlRXZlbnQobW9kaWZpZWRFdmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2IobW9kaWZpZWRFdmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuX2V2ZW50TWFwID0gdGhpcy5fZXZlbnRNYXAgfHwge307XG4gICAgaWYgKCF0aGlzLl9ldmVudE1hcFtldmVudE5hbWVUb1dyYXBdKSB7XG4gICAgICB0aGlzLl9ldmVudE1hcFtldmVudE5hbWVUb1dyYXBdID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICB0aGlzLl9ldmVudE1hcFtldmVudE5hbWVUb1dyYXBdLnNldChjYiwgd3JhcHBlZENhbGxiYWNrKTtcbiAgICByZXR1cm4gbmF0aXZlQWRkRXZlbnRMaXN0ZW5lci5hcHBseSh0aGlzLCBbbmF0aXZlRXZlbnROYW1lLFxuICAgICAgd3JhcHBlZENhbGxiYWNrXSk7XG4gIH07XG5cbiAgY29uc3QgbmF0aXZlUmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHByb3RvLnJlbW92ZUV2ZW50TGlzdGVuZXI7XG4gIHByb3RvLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihuYXRpdmVFdmVudE5hbWUsIGNiKSB7XG4gICAgaWYgKG5hdGl2ZUV2ZW50TmFtZSAhPT0gZXZlbnROYW1lVG9XcmFwIHx8ICF0aGlzLl9ldmVudE1hcFxuICAgICAgICB8fCAhdGhpcy5fZXZlbnRNYXBbZXZlbnROYW1lVG9XcmFwXSkge1xuICAgICAgcmV0dXJuIG5hdGl2ZVJlbW92ZUV2ZW50TGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLl9ldmVudE1hcFtldmVudE5hbWVUb1dyYXBdLmhhcyhjYikpIHtcbiAgICAgIHJldHVybiBuYXRpdmVSZW1vdmVFdmVudExpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIGNvbnN0IHVud3JhcHBlZENiID0gdGhpcy5fZXZlbnRNYXBbZXZlbnROYW1lVG9XcmFwXS5nZXQoY2IpO1xuICAgIHRoaXMuX2V2ZW50TWFwW2V2ZW50TmFtZVRvV3JhcF0uZGVsZXRlKGNiKTtcbiAgICBpZiAodGhpcy5fZXZlbnRNYXBbZXZlbnROYW1lVG9XcmFwXS5zaXplID09PSAwKSB7XG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRNYXBbZXZlbnROYW1lVG9XcmFwXTtcbiAgICB9XG4gICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuX2V2ZW50TWFwKS5sZW5ndGggPT09IDApIHtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudE1hcDtcbiAgICB9XG4gICAgcmV0dXJuIG5hdGl2ZVJlbW92ZUV2ZW50TGlzdGVuZXIuYXBwbHkodGhpcywgW25hdGl2ZUV2ZW50TmFtZSxcbiAgICAgIHVud3JhcHBlZENiXSk7XG4gIH07XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCAnb24nICsgZXZlbnROYW1lVG9XcmFwLCB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXNbJ19vbicgKyBldmVudE5hbWVUb1dyYXBdO1xuICAgIH0sXG4gICAgc2V0KGNiKSB7XG4gICAgICBpZiAodGhpc1snX29uJyArIGV2ZW50TmFtZVRvV3JhcF0pIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZVRvV3JhcCxcbiAgICAgICAgICAgIHRoaXNbJ19vbicgKyBldmVudE5hbWVUb1dyYXBdKTtcbiAgICAgICAgZGVsZXRlIHRoaXNbJ19vbicgKyBldmVudE5hbWVUb1dyYXBdO1xuICAgICAgfVxuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWVUb1dyYXAsXG4gICAgICAgICAgICB0aGlzWydfb24nICsgZXZlbnROYW1lVG9XcmFwXSA9IGNiKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZUxvZyhib29sKSB7XG4gIGlmICh0eXBlb2YgYm9vbCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcignQXJndW1lbnQgdHlwZTogJyArIHR5cGVvZiBib29sICtcbiAgICAgICAgJy4gUGxlYXNlIHVzZSBhIGJvb2xlYW4uJyk7XG4gIH1cbiAgbG9nRGlzYWJsZWRfID0gYm9vbDtcbiAgcmV0dXJuIChib29sKSA/ICdhZGFwdGVyLmpzIGxvZ2dpbmcgZGlzYWJsZWQnIDpcbiAgICAgICdhZGFwdGVyLmpzIGxvZ2dpbmcgZW5hYmxlZCc7XG59XG5cbi8qKlxuICogRGlzYWJsZSBvciBlbmFibGUgZGVwcmVjYXRpb24gd2FybmluZ3NcbiAqIEBwYXJhbSB7IWJvb2xlYW59IGJvb2wgc2V0IHRvIHRydWUgdG8gZGlzYWJsZSB3YXJuaW5ncy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVXYXJuaW5ncyhib29sKSB7XG4gIGlmICh0eXBlb2YgYm9vbCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcignQXJndW1lbnQgdHlwZTogJyArIHR5cGVvZiBib29sICtcbiAgICAgICAgJy4gUGxlYXNlIHVzZSBhIGJvb2xlYW4uJyk7XG4gIH1cbiAgZGVwcmVjYXRpb25XYXJuaW5nc18gPSAhYm9vbDtcbiAgcmV0dXJuICdhZGFwdGVyLmpzIGRlcHJlY2F0aW9uIHdhcm5pbmdzICcgKyAoYm9vbCA/ICdkaXNhYmxlZCcgOiAnZW5hYmxlZCcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAobG9nRGlzYWJsZWRfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUubG9nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFNob3dzIGEgZGVwcmVjYXRpb24gd2FybmluZyBzdWdnZXN0aW5nIHRoZSBtb2Rlcm4gYW5kIHNwZWMtY29tcGF0aWJsZSBBUEkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXByZWNhdGVkKG9sZE1ldGhvZCwgbmV3TWV0aG9kKSB7XG4gIGlmICghZGVwcmVjYXRpb25XYXJuaW5nc18pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc29sZS53YXJuKG9sZE1ldGhvZCArICcgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSAnICsgbmV3TWV0aG9kICtcbiAgICAgICcgaW5zdGVhZC4nKTtcbn1cblxuLyoqXG4gKiBCcm93c2VyIGRldGVjdG9yLlxuICpcbiAqIEByZXR1cm4ge29iamVjdH0gcmVzdWx0IGNvbnRhaW5pbmcgYnJvd3NlciBhbmQgdmVyc2lvblxuICogICAgIHByb3BlcnRpZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RCcm93c2VyKHdpbmRvdykge1xuICAvLyBSZXR1cm5lZCByZXN1bHQgb2JqZWN0LlxuICBjb25zdCByZXN1bHQgPSB7YnJvd3NlcjogbnVsbCwgdmVyc2lvbjogbnVsbH07XG5cbiAgLy8gRmFpbCBlYXJseSBpZiBpdCdzIG5vdCBhIGJyb3dzZXJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8ICF3aW5kb3cubmF2aWdhdG9yKSB7XG4gICAgcmVzdWx0LmJyb3dzZXIgPSAnTm90IGEgYnJvd3Nlci4nO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBjb25zdCB7bmF2aWdhdG9yfSA9IHdpbmRvdztcblxuICBpZiAobmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSkgeyAvLyBGaXJlZm94LlxuICAgIHJlc3VsdC5icm93c2VyID0gJ2ZpcmVmb3gnO1xuICAgIHJlc3VsdC52ZXJzaW9uID0gZXh0cmFjdFZlcnNpb24obmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgL0ZpcmVmb3hcXC8oXFxkKylcXC4vLCAxKTtcbiAgfSBlbHNlIGlmIChuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhIHx8XG4gICAgICAod2luZG93LmlzU2VjdXJlQ29udGV4dCA9PT0gZmFsc2UgJiYgd2luZG93LndlYmtpdFJUQ1BlZXJDb25uZWN0aW9uKSkge1xuICAgIC8vIENocm9tZSwgQ2hyb21pdW0sIFdlYnZpZXcsIE9wZXJhLlxuICAgIC8vIFZlcnNpb24gbWF0Y2hlcyBDaHJvbWUvV2ViUlRDIHZlcnNpb24uXG4gICAgLy8gQ2hyb21lIDc0IHJlbW92ZWQgd2Via2l0R2V0VXNlck1lZGlhIG9uIGh0dHAgYXMgd2VsbCBzbyB3ZSBuZWVkIHRoZVxuICAgIC8vIG1vcmUgY29tcGxpY2F0ZWQgZmFsbGJhY2sgdG8gd2Via2l0UlRDUGVlckNvbm5lY3Rpb24uXG4gICAgcmVzdWx0LmJyb3dzZXIgPSAnY2hyb21lJztcbiAgICByZXN1bHQudmVyc2lvbiA9IGV4dHJhY3RWZXJzaW9uKG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgIC9DaHJvbShlfGl1bSlcXC8oXFxkKylcXC4vLCAyKTtcbiAgfSBlbHNlIGlmICh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gJiZcbiAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLykpIHsgLy8gU2FmYXJpLlxuICAgIHJlc3VsdC5icm93c2VyID0gJ3NhZmFyaSc7XG4gICAgcmVzdWx0LnZlcnNpb24gPSBleHRyYWN0VmVyc2lvbihuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vLCAxKTtcbiAgICByZXN1bHQuc3VwcG9ydHNVbmlmaWVkUGxhbiA9IHdpbmRvdy5SVENSdHBUcmFuc2NlaXZlciAmJlxuICAgICAgICAnY3VycmVudERpcmVjdGlvbicgaW4gd2luZG93LlJUQ1J0cFRyYW5zY2VpdmVyLnByb3RvdHlwZTtcbiAgfSBlbHNlIHsgLy8gRGVmYXVsdCBmYWxsdGhyb3VnaDogbm90IHN1cHBvcnRlZC5cbiAgICByZXN1bHQuYnJvd3NlciA9ICdOb3QgYSBzdXBwb3J0ZWQgYnJvd3Nlci4nO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBzb21ldGhpbmcgaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSBzb21ldGhpbmcgeW91IHdhbnQgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHRydWUgaWYgdmFsIGlzIGFuIG9iamVjdCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWwpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuLyoqXG4gKiBSZW1vdmUgYWxsIGVtcHR5IG9iamVjdHMgYW5kIHVuZGVmaW5lZCB2YWx1ZXNcbiAqIGZyb20gYSBuZXN0ZWQgb2JqZWN0IC0tIGFuIGVuaGFuY2VkIGFuZCB2YW5pbGxhIHZlcnNpb25cbiAqIG9mIExvZGFzaCdzIGBjb21wYWN0YC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhY3RPYmplY3QoZGF0YSkge1xuICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmtleXMoZGF0YSkucmVkdWNlKGZ1bmN0aW9uKGFjY3VtdWxhdG9yLCBrZXkpIHtcbiAgICBjb25zdCBpc09iaiA9IGlzT2JqZWN0KGRhdGFba2V5XSk7XG4gICAgY29uc3QgdmFsdWUgPSBpc09iaiA/IGNvbXBhY3RPYmplY3QoZGF0YVtrZXldKSA6IGRhdGFba2V5XTtcbiAgICBjb25zdCBpc0VtcHR5T2JqZWN0ID0gaXNPYmogJiYgIU9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGg7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgaXNFbXB0eU9iamVjdCkge1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihhY2N1bXVsYXRvciwge1trZXldOiB2YWx1ZX0pO1xuICB9LCB7fSk7XG59XG5cbi8qIGl0ZXJhdGVzIHRoZSBzdGF0cyBncmFwaCByZWN1cnNpdmVseS4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3YWxrU3RhdHMoc3RhdHMsIGJhc2UsIHJlc3VsdFNldCkge1xuICBpZiAoIWJhc2UgfHwgcmVzdWx0U2V0LmhhcyhiYXNlLmlkKSkge1xuICAgIHJldHVybjtcbiAgfVxuICByZXN1bHRTZXQuc2V0KGJhc2UuaWQsIGJhc2UpO1xuICBPYmplY3Qua2V5cyhiYXNlKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgIGlmIChuYW1lLmVuZHNXaXRoKCdJZCcpKSB7XG4gICAgICB3YWxrU3RhdHMoc3RhdHMsIHN0YXRzLmdldChiYXNlW25hbWVdKSwgcmVzdWx0U2V0KTtcbiAgICB9IGVsc2UgaWYgKG5hbWUuZW5kc1dpdGgoJ0lkcycpKSB7XG4gICAgICBiYXNlW25hbWVdLmZvckVhY2goaWQgPT4ge1xuICAgICAgICB3YWxrU3RhdHMoc3RhdHMsIHN0YXRzLmdldChpZCksIHJlc3VsdFNldCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKiBmaWx0ZXIgZ2V0U3RhdHMgZm9yIGEgc2VuZGVyL3JlY2VpdmVyIHRyYWNrLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlclN0YXRzKHJlc3VsdCwgdHJhY2ssIG91dGJvdW5kKSB7XG4gIGNvbnN0IHN0cmVhbVN0YXRzVHlwZSA9IG91dGJvdW5kID8gJ291dGJvdW5kLXJ0cCcgOiAnaW5ib3VuZC1ydHAnO1xuICBjb25zdCBmaWx0ZXJlZFJlc3VsdCA9IG5ldyBNYXAoKTtcbiAgaWYgKHRyYWNrID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZpbHRlcmVkUmVzdWx0O1xuICB9XG4gIGNvbnN0IHRyYWNrU3RhdHMgPSBbXTtcbiAgcmVzdWx0LmZvckVhY2godmFsdWUgPT4ge1xuICAgIGlmICh2YWx1ZS50eXBlID09PSAndHJhY2snICYmXG4gICAgICAgIHZhbHVlLnRyYWNrSWRlbnRpZmllciA9PT0gdHJhY2suaWQpIHtcbiAgICAgIHRyYWNrU3RhdHMucHVzaCh2YWx1ZSk7XG4gICAgfVxuICB9KTtcbiAgdHJhY2tTdGF0cy5mb3JFYWNoKHRyYWNrU3RhdCA9PiB7XG4gICAgcmVzdWx0LmZvckVhY2goc3RhdHMgPT4ge1xuICAgICAgaWYgKHN0YXRzLnR5cGUgPT09IHN0cmVhbVN0YXRzVHlwZSAmJiBzdGF0cy50cmFja0lkID09PSB0cmFja1N0YXQuaWQpIHtcbiAgICAgICAgd2Fsa1N0YXRzKHJlc3VsdCwgc3RhdHMsIGZpbHRlcmVkUmVzdWx0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBmaWx0ZXJlZFJlc3VsdDtcbn1cblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/webrtc-adapter/src/js/utils.js\n"));

/***/ }),

/***/ "./node_modules/zustand/esm/index.js":
/*!*******************************************!*\
  !*** ./node_modules/zustand/esm/index.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ create; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction createStore(createState) {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (nextState !== state) {\n      const previousState = state;\n      state = replace ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribeWithSelector = (listener, selector = getState, equalityFn = Object.is) => {\n    console.warn(\"[DEPRECATED] Please use `subscribeWithSelector` middleware\");\n    let currentSlice = selector(state);\n    function listenerToAdd() {\n      const nextSlice = selector(state);\n      if (!equalityFn(currentSlice, nextSlice)) {\n        const previousSlice = currentSlice;\n        listener(currentSlice = nextSlice, previousSlice);\n      }\n    }\n    listeners.add(listenerToAdd);\n    return () => listeners.delete(listenerToAdd);\n  };\n  const subscribe = (listener, selector, equalityFn) => {\n    if (selector || equalityFn) {\n      return subscribeWithSelector(listener, selector, equalityFn);\n    }\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => listeners.clear();\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(setState, getState, api);\n  return api;\n}\n\nconst isSSR = typeof window === \"undefined\" || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\nconst useIsomorphicLayoutEffect = isSSR ? react__WEBPACK_IMPORTED_MODULE_0__.useEffect : react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect;\nfunction create(createState) {\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useStore = (selector = api.getState, equalityFn = Object.is) => {\n    const [, forceUpdate] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)((c) => c + 1, 0);\n    const state = api.getState();\n    const stateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(state);\n    const selectorRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(selector);\n    const equalityFnRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(equalityFn);\n    const erroredRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const currentSliceRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    if (currentSliceRef.current === void 0) {\n      currentSliceRef.current = selector(state);\n    }\n    let newStateSlice;\n    let hasNewStateSlice = false;\n    if (stateRef.current !== state || selectorRef.current !== selector || equalityFnRef.current !== equalityFn || erroredRef.current) {\n      newStateSlice = selector(state);\n      hasNewStateSlice = !equalityFn(currentSliceRef.current, newStateSlice);\n    }\n    useIsomorphicLayoutEffect(() => {\n      if (hasNewStateSlice) {\n        currentSliceRef.current = newStateSlice;\n      }\n      stateRef.current = state;\n      selectorRef.current = selector;\n      equalityFnRef.current = equalityFn;\n      erroredRef.current = false;\n    });\n    const stateBeforeSubscriptionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(state);\n    useIsomorphicLayoutEffect(() => {\n      const listener = () => {\n        try {\n          const nextState = api.getState();\n          const nextStateSlice = selectorRef.current(nextState);\n          if (!equalityFnRef.current(currentSliceRef.current, nextStateSlice)) {\n            stateRef.current = nextState;\n            currentSliceRef.current = nextStateSlice;\n            forceUpdate();\n          }\n        } catch (error) {\n          erroredRef.current = true;\n          forceUpdate();\n        }\n      };\n      const unsubscribe = api.subscribe(listener);\n      if (api.getState() !== stateBeforeSubscriptionRef.current) {\n        listener();\n      }\n      return unsubscribe;\n    }, []);\n    const sliceToReturn = hasNewStateSlice ? newStateSlice : currentSliceRef.current;\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useDebugValue)(sliceToReturn);\n    return sliceToReturn;\n  };\n  Object.assign(useStore, api);\n  useStore[Symbol.iterator] = function() {\n    console.warn(\"[useStore, api] = create() is deprecated and will be removed in v4\");\n    const items = [useStore, api];\n    return {\n      next() {\n        const done = items.length <= 0;\n        return { value: items.shift(), done };\n      }\n    };\n  };\n  return useStore;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvenVzdGFuZC9lc20vaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNGOztBQUV0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQ0FBMEMsNENBQVMsR0FBRyxrREFBZTtBQUNyRTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsaURBQVU7QUFDdEM7QUFDQSxxQkFBcUIsNkNBQU07QUFDM0Isd0JBQXdCLDZDQUFNO0FBQzlCLDBCQUEwQiw2Q0FBTTtBQUNoQyx1QkFBdUIsNkNBQU07QUFDN0IsNEJBQTRCLDZDQUFNO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsdUNBQXVDLDZDQUFNO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLElBQUksb0RBQWE7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9pbmRleC5qcz9jOGQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJlZHVjZXIsIHVzZVJlZiwgdXNlRGVidWdWYWx1ZSwgdXNlRWZmZWN0LCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKGNyZWF0ZVN0YXRlKSB7XG4gIGxldCBzdGF0ZTtcbiAgY29uc3QgbGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgY29uc3Qgc2V0U3RhdGUgPSAocGFydGlhbCwgcmVwbGFjZSkgPT4ge1xuICAgIGNvbnN0IG5leHRTdGF0ZSA9IHR5cGVvZiBwYXJ0aWFsID09PSBcImZ1bmN0aW9uXCIgPyBwYXJ0aWFsKHN0YXRlKSA6IHBhcnRpYWw7XG4gICAgaWYgKG5leHRTdGF0ZSAhPT0gc3RhdGUpIHtcbiAgICAgIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBzdGF0ZTtcbiAgICAgIHN0YXRlID0gcmVwbGFjZSA/IG5leHRTdGF0ZSA6IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBuZXh0U3RhdGUpO1xuICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihzdGF0ZSwgcHJldmlvdXNTdGF0ZSkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0U3RhdGUgPSAoKSA9PiBzdGF0ZTtcbiAgY29uc3Qgc3Vic2NyaWJlV2l0aFNlbGVjdG9yID0gKGxpc3RlbmVyLCBzZWxlY3RvciA9IGdldFN0YXRlLCBlcXVhbGl0eUZuID0gT2JqZWN0LmlzKSA9PiB7XG4gICAgY29uc29sZS53YXJuKFwiW0RFUFJFQ0FURURdIFBsZWFzZSB1c2UgYHN1YnNjcmliZVdpdGhTZWxlY3RvcmAgbWlkZGxld2FyZVwiKTtcbiAgICBsZXQgY3VycmVudFNsaWNlID0gc2VsZWN0b3Ioc3RhdGUpO1xuICAgIGZ1bmN0aW9uIGxpc3RlbmVyVG9BZGQoKSB7XG4gICAgICBjb25zdCBuZXh0U2xpY2UgPSBzZWxlY3RvcihzdGF0ZSk7XG4gICAgICBpZiAoIWVxdWFsaXR5Rm4oY3VycmVudFNsaWNlLCBuZXh0U2xpY2UpKSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzU2xpY2UgPSBjdXJyZW50U2xpY2U7XG4gICAgICAgIGxpc3RlbmVyKGN1cnJlbnRTbGljZSA9IG5leHRTbGljZSwgcHJldmlvdXNTbGljZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxpc3RlbmVycy5hZGQobGlzdGVuZXJUb0FkZCk7XG4gICAgcmV0dXJuICgpID0+IGxpc3RlbmVycy5kZWxldGUobGlzdGVuZXJUb0FkZCk7XG4gIH07XG4gIGNvbnN0IHN1YnNjcmliZSA9IChsaXN0ZW5lciwgc2VsZWN0b3IsIGVxdWFsaXR5Rm4pID0+IHtcbiAgICBpZiAoc2VsZWN0b3IgfHwgZXF1YWxpdHlGbikge1xuICAgICAgcmV0dXJuIHN1YnNjcmliZVdpdGhTZWxlY3RvcihsaXN0ZW5lciwgc2VsZWN0b3IsIGVxdWFsaXR5Rm4pO1xuICAgIH1cbiAgICBsaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gKCkgPT4gbGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gIH07XG4gIGNvbnN0IGRlc3Ryb3kgPSAoKSA9PiBsaXN0ZW5lcnMuY2xlYXIoKTtcbiAgY29uc3QgYXBpID0geyBzZXRTdGF0ZSwgZ2V0U3RhdGUsIHN1YnNjcmliZSwgZGVzdHJveSB9O1xuICBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHNldFN0YXRlLCBnZXRTdGF0ZSwgYXBpKTtcbiAgcmV0dXJuIGFwaTtcbn1cblxuY29uc3QgaXNTU1IgPSB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8ICF3aW5kb3cubmF2aWdhdG9yIHx8IC9TZXJ2ZXJTaWRlUmVuZGVyaW5nfF5EZW5vXFwvLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcbmNvbnN0IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSBpc1NTUiA/IHVzZUVmZmVjdCA6IHVzZUxheW91dEVmZmVjdDtcbmZ1bmN0aW9uIGNyZWF0ZShjcmVhdGVTdGF0ZSkge1xuICBjb25zdCBhcGkgPSB0eXBlb2YgY3JlYXRlU3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IGNyZWF0ZVN0b3JlKGNyZWF0ZVN0YXRlKSA6IGNyZWF0ZVN0YXRlO1xuICBjb25zdCB1c2VTdG9yZSA9IChzZWxlY3RvciA9IGFwaS5nZXRTdGF0ZSwgZXF1YWxpdHlGbiA9IE9iamVjdC5pcykgPT4ge1xuICAgIGNvbnN0IFssIGZvcmNlVXBkYXRlXSA9IHVzZVJlZHVjZXIoKGMpID0+IGMgKyAxLCAwKTtcbiAgICBjb25zdCBzdGF0ZSA9IGFwaS5nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHN0YXRlUmVmID0gdXNlUmVmKHN0YXRlKTtcbiAgICBjb25zdCBzZWxlY3RvclJlZiA9IHVzZVJlZihzZWxlY3Rvcik7XG4gICAgY29uc3QgZXF1YWxpdHlGblJlZiA9IHVzZVJlZihlcXVhbGl0eUZuKTtcbiAgICBjb25zdCBlcnJvcmVkUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgICBjb25zdCBjdXJyZW50U2xpY2VSZWYgPSB1c2VSZWYoKTtcbiAgICBpZiAoY3VycmVudFNsaWNlUmVmLmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgY3VycmVudFNsaWNlUmVmLmN1cnJlbnQgPSBzZWxlY3RvcihzdGF0ZSk7XG4gICAgfVxuICAgIGxldCBuZXdTdGF0ZVNsaWNlO1xuICAgIGxldCBoYXNOZXdTdGF0ZVNsaWNlID0gZmFsc2U7XG4gICAgaWYgKHN0YXRlUmVmLmN1cnJlbnQgIT09IHN0YXRlIHx8IHNlbGVjdG9yUmVmLmN1cnJlbnQgIT09IHNlbGVjdG9yIHx8IGVxdWFsaXR5Rm5SZWYuY3VycmVudCAhPT0gZXF1YWxpdHlGbiB8fCBlcnJvcmVkUmVmLmN1cnJlbnQpIHtcbiAgICAgIG5ld1N0YXRlU2xpY2UgPSBzZWxlY3RvcihzdGF0ZSk7XG4gICAgICBoYXNOZXdTdGF0ZVNsaWNlID0gIWVxdWFsaXR5Rm4oY3VycmVudFNsaWNlUmVmLmN1cnJlbnQsIG5ld1N0YXRlU2xpY2UpO1xuICAgIH1cbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChoYXNOZXdTdGF0ZVNsaWNlKSB7XG4gICAgICAgIGN1cnJlbnRTbGljZVJlZi5jdXJyZW50ID0gbmV3U3RhdGVTbGljZTtcbiAgICAgIH1cbiAgICAgIHN0YXRlUmVmLmN1cnJlbnQgPSBzdGF0ZTtcbiAgICAgIHNlbGVjdG9yUmVmLmN1cnJlbnQgPSBzZWxlY3RvcjtcbiAgICAgIGVxdWFsaXR5Rm5SZWYuY3VycmVudCA9IGVxdWFsaXR5Rm47XG4gICAgICBlcnJvcmVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9KTtcbiAgICBjb25zdCBzdGF0ZUJlZm9yZVN1YnNjcmlwdGlvblJlZiA9IHVzZVJlZihzdGF0ZSk7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBsaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBuZXh0U3RhdGUgPSBhcGkuZ2V0U3RhdGUoKTtcbiAgICAgICAgICBjb25zdCBuZXh0U3RhdGVTbGljZSA9IHNlbGVjdG9yUmVmLmN1cnJlbnQobmV4dFN0YXRlKTtcbiAgICAgICAgICBpZiAoIWVxdWFsaXR5Rm5SZWYuY3VycmVudChjdXJyZW50U2xpY2VSZWYuY3VycmVudCwgbmV4dFN0YXRlU2xpY2UpKSB7XG4gICAgICAgICAgICBzdGF0ZVJlZi5jdXJyZW50ID0gbmV4dFN0YXRlO1xuICAgICAgICAgICAgY3VycmVudFNsaWNlUmVmLmN1cnJlbnQgPSBuZXh0U3RhdGVTbGljZTtcbiAgICAgICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGVycm9yZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gYXBpLnN1YnNjcmliZShsaXN0ZW5lcik7XG4gICAgICBpZiAoYXBpLmdldFN0YXRlKCkgIT09IHN0YXRlQmVmb3JlU3Vic2NyaXB0aW9uUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgbGlzdGVuZXIoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bnN1YnNjcmliZTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3Qgc2xpY2VUb1JldHVybiA9IGhhc05ld1N0YXRlU2xpY2UgPyBuZXdTdGF0ZVNsaWNlIDogY3VycmVudFNsaWNlUmVmLmN1cnJlbnQ7XG4gICAgdXNlRGVidWdWYWx1ZShzbGljZVRvUmV0dXJuKTtcbiAgICByZXR1cm4gc2xpY2VUb1JldHVybjtcbiAgfTtcbiAgT2JqZWN0LmFzc2lnbih1c2VTdG9yZSwgYXBpKTtcbiAgdXNlU3RvcmVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUud2FybihcIlt1c2VTdG9yZSwgYXBpXSA9IGNyZWF0ZSgpIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2NFwiKTtcbiAgICBjb25zdCBpdGVtcyA9IFt1c2VTdG9yZSwgYXBpXTtcbiAgICByZXR1cm4ge1xuICAgICAgbmV4dCgpIHtcbiAgICAgICAgY29uc3QgZG9uZSA9IGl0ZW1zLmxlbmd0aCA8PSAwO1xuICAgICAgICByZXR1cm4geyB2YWx1ZTogaXRlbXMuc2hpZnQoKSwgZG9uZSB9O1xuICAgICAgfVxuICAgIH07XG4gIH07XG4gIHJldHVybiB1c2VTdG9yZTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlIGFzIGRlZmF1bHQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/zustand/esm/index.js\n"));

/***/ }),

/***/ "./node_modules/immer/dist/immer.esm.mjs":
/*!***********************************************!*\
  !*** ./node_modules/immer/dist/immer.esm.mjs ***!
  \***********************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Immer\": function() { return /* binding */ un; },\n/* harmony export */   \"applyPatches\": function() { return /* binding */ pn; },\n/* harmony export */   \"castDraft\": function() { return /* binding */ K; },\n/* harmony export */   \"castImmutable\": function() { return /* binding */ $; },\n/* harmony export */   \"createDraft\": function() { return /* binding */ ln; },\n/* harmony export */   \"current\": function() { return /* binding */ D; },\n/* harmony export */   \"enableAllPlugins\": function() { return /* binding */ J; },\n/* harmony export */   \"enableES5\": function() { return /* binding */ N; },\n/* harmony export */   \"enableMapSet\": function() { return /* binding */ C; },\n/* harmony export */   \"enablePatches\": function() { return /* binding */ T; },\n/* harmony export */   \"finishDraft\": function() { return /* binding */ dn; },\n/* harmony export */   \"freeze\": function() { return /* binding */ d; },\n/* harmony export */   \"immerable\": function() { return /* binding */ L; },\n/* harmony export */   \"isDraft\": function() { return /* binding */ r; },\n/* harmony export */   \"isDraftable\": function() { return /* binding */ t; },\n/* harmony export */   \"nothing\": function() { return /* binding */ H; },\n/* harmony export */   \"original\": function() { return /* binding */ e; },\n/* harmony export */   \"produce\": function() { return /* binding */ fn; },\n/* harmony export */   \"produceWithPatches\": function() { return /* binding */ cn; },\n/* harmony export */   \"setAutoFreeze\": function() { return /* binding */ sn; },\n/* harmony export */   \"setUseProxies\": function() { return /* binding */ vn; }\n/* harmony export */ });\nfunction n(n){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];if(true){var i=Y[n],o=i?\"function\"==typeof i?i.apply(null,t):i:\"unknown error nr: \"+n;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+n+(t.length?\" \"+t.map((function(n){return\"'\"+n+\"'\"})).join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function r(n){return!!n&&!!n[Q]}function t(n){var r;return!!n&&(function(n){if(!n||\"object\"!=typeof n)return!1;var r=Object.getPrototypeOf(n);if(null===r)return!0;var t=Object.hasOwnProperty.call(r,\"constructor\")&&r.constructor;return t===Object||\"function\"==typeof t&&Function.toString.call(t)===Z}(n)||Array.isArray(n)||!!n[L]||!!(null===(r=n.constructor)||void 0===r?void 0:r[L])||s(n)||v(n))}function e(t){return r(t)||n(23,t),t[Q].t}function i(n,r,t){void 0===t&&(t=!1),0===o(n)?(t?Object.keys:nn)(n).forEach((function(e){t&&\"symbol\"==typeof e||r(e,n[e],n)})):n.forEach((function(t,e){return r(e,t,n)}))}function o(n){var r=n[Q];return r?r.i>3?r.i-4:r.i:Array.isArray(n)?1:s(n)?2:v(n)?3:0}function u(n,r){return 2===o(n)?n.has(r):Object.prototype.hasOwnProperty.call(n,r)}function a(n,r){return 2===o(n)?n.get(r):n[r]}function f(n,r,t){var e=o(n);2===e?n.set(r,t):3===e?(n.delete(r),n.add(t)):n[r]=t}function c(n,r){return n===r?0!==n||1/n==1/r:n!=n&&r!=r}function s(n){return X&&n instanceof Map}function v(n){return q&&n instanceof Set}function p(n){return n.o||n.t}function l(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var r=rn(n);delete r[Q];for(var t=nn(r),e=0;e<t.length;e++){var i=t[e],o=r[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),r)}function d(n,e){return void 0===e&&(e=!1),y(n)||r(n)||!t(n)?n:(o(n)>1&&(n.set=n.add=n.clear=n.delete=h),Object.freeze(n),e&&i(n,(function(n,r){return d(r,!0)}),!0),n)}function h(){n(2)}function y(n){return null==n||\"object\"!=typeof n||Object.isFrozen(n)}function b(r){var t=tn[r];return t||n(18,r),t}function m(n,r){tn[n]||(tn[n]=r)}function _(){return false||U||n(0),U}function j(n,r){r&&(b(\"Patches\"),n.u=[],n.s=[],n.v=r)}function O(n){g(n),n.p.forEach(S),n.p=null}function g(n){n===U&&(U=n.l)}function w(n){return U={p:[],l:U,h:n,m:!0,_:0}}function S(n){var r=n[Q];0===r.i||1===r.i?r.j():r.O=!0}function P(r,e){e._=e.p.length;var i=e.p[0],o=void 0!==r&&r!==i;return e.h.g||b(\"ES5\").S(e,r,o),o?(i[Q].P&&(O(e),n(4)),t(r)&&(r=M(e,r),e.l||x(e,r)),e.u&&b(\"Patches\").M(i[Q].t,r,e.u,e.s)):r=M(e,i,[]),O(e),e.u&&e.v(e.u,e.s),r!==H?r:void 0}function M(n,r,t){if(y(r))return r;var e=r[Q];if(!e)return i(r,(function(i,o){return A(n,e,r,i,o,t)}),!0),r;if(e.A!==n)return r;if(!e.P)return x(n,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=l(e.k):e.o;i(3===e.i?new Set(o):o,(function(r,i){return A(n,e,o,r,i,t)})),x(n,o,!1),t&&n.u&&b(\"Patches\").R(e,t,n.u,n.s)}return e.o}function A(e,i,o,a,c,s){if( true&&c===o&&n(5),r(c)){var v=M(e,c,s&&i&&3!==i.i&&!u(i.D,a)?s.concat(a):void 0);if(f(o,a,v),!r(v))return;e.m=!1}if(t(c)&&!y(c)){if(!e.h.F&&e._<1)return;M(e,c),i&&i.A.l||x(e,c)}}function x(n,r,t){void 0===t&&(t=!1),n.h.F&&n.m&&d(r,t)}function z(n,r){var t=n[Q];return(t?p(t):n)[r]}function I(n,r){if(r in n)for(var t=Object.getPrototypeOf(n);t;){var e=Object.getOwnPropertyDescriptor(t,r);if(e)return e;t=Object.getPrototypeOf(t)}}function k(n){n.P||(n.P=!0,n.l&&k(n.l))}function E(n){n.o||(n.o=l(n.t))}function R(n,r,t){var e=s(r)?b(\"MapSet\").N(r,t):v(r)?b(\"MapSet\").T(r,t):n.g?function(n,r){var t=Array.isArray(n),e={i:t?1:0,A:r?r.A:_(),P:!1,I:!1,D:{},l:r,t:n,k:null,o:null,j:null,C:!1},i=e,o=en;t&&(i=[e],o=on);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(r,t):b(\"ES5\").J(r,t);return(t?t.A:_()).p.push(e),e}function D(e){return r(e)||n(22,e),function n(r){if(!t(r))return r;var e,u=r[Q],c=o(r);if(u){if(!u.P&&(u.i<4||!b(\"ES5\").K(u)))return u.t;u.I=!0,e=F(r,c),u.I=!1}else e=F(r,c);return i(e,(function(r,t){u&&a(u.t,r)===t||f(e,r,n(t))})),3===c?new Set(e):e}(e)}function F(n,r){switch(r){case 2:return new Map(n);case 3:return Array.from(n)}return l(n)}function N(){function t(n,r){var t=s[n];return t?t.enumerable=r:s[n]=t={configurable:!0,enumerable:r,get:function(){var r=this[Q];return true&&f(r),en.get(r,n)},set:function(r){var t=this[Q]; true&&f(t),en.set(t,n,r)}},t}function e(n){for(var r=n.length-1;r>=0;r--){var t=n[r][Q];if(!t.P)switch(t.i){case 5:a(t)&&k(t);break;case 4:o(t)&&k(t)}}}function o(n){for(var r=n.t,t=n.k,e=nn(t),i=e.length-1;i>=0;i--){var o=e[i];if(o!==Q){var a=r[o];if(void 0===a&&!u(r,o))return!0;var f=t[o],s=f&&f[Q];if(s?s.t!==a:!c(f,a))return!0}}var v=!!r[Q];return e.length!==nn(r).length+(v?0:1)}function a(n){var r=n.k;if(r.length!==n.t.length)return!0;var t=Object.getOwnPropertyDescriptor(r,r.length-1);if(t&&!t.get)return!0;for(var e=0;e<r.length;e++)if(!r.hasOwnProperty(e))return!0;return!1}function f(r){r.O&&n(3,JSON.stringify(p(r)))}var s={};m(\"ES5\",{J:function(n,r){var e=Array.isArray(n),i=function(n,r){if(n){for(var e=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(e,\"\"+i,t(i,!0));return e}var o=rn(r);delete o[Q];for(var u=nn(o),a=0;a<u.length;a++){var f=u[a];o[f]=t(f,n||!!o[f].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(e,n),o={i:e?5:4,A:r?r.A:_(),P:!1,I:!1,D:{},l:r,t:n,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(n,t,o){o?r(t)&&t[Q].A===n&&e(n.p):(n.u&&function n(r){if(r&&\"object\"==typeof r){var t=r[Q];if(t){var e=t.t,o=t.k,f=t.D,c=t.i;if(4===c)i(o,(function(r){r!==Q&&(void 0!==e[r]||u(e,r)?f[r]||n(o[r]):(f[r]=!0,k(t)))})),i(e,(function(n){void 0!==o[n]||u(o,n)||(f[n]=!1,k(t))}));else if(5===c){if(a(t)&&(k(t),f.length=!0),o.length<e.length)for(var s=o.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<o.length;v++)f[v]=!0;for(var p=Math.min(o.length,e.length),l=0;l<p;l++)o.hasOwnProperty(l)||(f[l]=!0),void 0===f[l]&&n(o[l])}}}}(n.p[0]),e(n.p))},K:function(n){return 4===n.i?o(n):a(n)}})}function T(){function e(n){if(!t(n))return n;if(Array.isArray(n))return n.map(e);if(s(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],e(n[1])]})));if(v(n))return new Set(Array.from(n).map(e));var r=Object.create(Object.getPrototypeOf(n));for(var i in n)r[i]=e(n[i]);return u(n,L)&&(r[L]=n[L]),r}function f(n){return r(n)?e(n):n}var c=\"add\";m(\"Patches\",{$:function(r,t){return t.forEach((function(t){for(var i=t.path,u=t.op,f=r,s=0;s<i.length-1;s++){var v=o(f),p=\"\"+i[s];0!==v&&1!==v||\"__proto__\"!==p&&\"constructor\"!==p||n(24),\"function\"==typeof f&&\"prototype\"===p&&n(24),\"object\"!=typeof(f=a(f,p))&&n(15,i.join(\"/\"))}var l=o(f),d=e(t.value),h=i[i.length-1];switch(u){case\"replace\":switch(l){case 2:return f.set(h,d);case 3:n(16);default:return f[h]=d}case c:switch(l){case 1:return\"-\"===h?f.push(d):f.splice(h,0,d);case 2:return f.set(h,d);case 3:return f.add(d);default:return f[h]=d}case\"remove\":switch(l){case 1:return f.splice(h,1);case 2:return f.delete(h);case 3:return f.delete(t.value);default:return delete f[h]}default:n(17,u)}})),r},R:function(n,r,t,e){switch(n.i){case 0:case 4:case 2:return function(n,r,t,e){var o=n.t,s=n.o;i(n.D,(function(n,i){var v=a(o,n),p=a(s,n),l=i?u(o,n)?\"replace\":c:\"remove\";if(v!==p||\"replace\"!==l){var d=r.concat(n);t.push(\"remove\"===l?{op:l,path:d}:{op:l,path:d,value:p}),e.push(l===c?{op:\"remove\",path:d}:\"remove\"===l?{op:c,path:d,value:f(v)}:{op:\"replace\",path:d,value:f(v)})}}))}(n,r,t,e);case 5:case 1:return function(n,r,t,e){var i=n.t,o=n.D,u=n.o;if(u.length<i.length){var a=[u,i];i=a[0],u=a[1];var s=[e,t];t=s[0],e=s[1]}for(var v=0;v<i.length;v++)if(o[v]&&u[v]!==i[v]){var p=r.concat([v]);t.push({op:\"replace\",path:p,value:f(u[v])}),e.push({op:\"replace\",path:p,value:f(i[v])})}for(var l=i.length;l<u.length;l++){var d=r.concat([l]);t.push({op:c,path:d,value:f(u[l])})}i.length<u.length&&e.push({op:\"replace\",path:r.concat([\"length\"]),value:i.length})}(n,r,t,e);case 3:return function(n,r,t,e){var i=n.t,o=n.o,u=0;i.forEach((function(n){if(!o.has(n)){var i=r.concat([u]);t.push({op:\"remove\",path:i,value:n}),e.unshift({op:c,path:i,value:n})}u++})),u=0,o.forEach((function(n){if(!i.has(n)){var o=r.concat([u]);t.push({op:c,path:o,value:n}),e.unshift({op:\"remove\",path:o,value:n})}u++}))}(n,r,t,e)}},M:function(n,r,t,e){t.push({op:\"replace\",path:[],value:r===H?void 0:r}),e.push({op:\"replace\",path:[],value:n})}})}function C(){function r(n,r){function t(){this.constructor=n}a(n,r),n.prototype=(t.prototype=r.prototype,new t)}function e(n){n.o||(n.D=new Map,n.o=new Map(n.t))}function o(n){n.o||(n.o=new Set,n.t.forEach((function(r){if(t(r)){var e=R(n.A.h,r,n);n.p.set(r,e),n.o.add(e)}else n.o.add(r)})))}function u(r){r.O&&n(3,JSON.stringify(p(r)))}var a=function(n,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])})(n,r)},f=function(){function n(n,r){return this[Q]={i:2,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,D:void 0,t:n,k:this,C:!1,O:!1},this}r(n,Map);var o=n.prototype;return Object.defineProperty(o,\"size\",{get:function(){return p(this[Q]).size}}),o.has=function(n){return p(this[Q]).has(n)},o.set=function(n,r){var t=this[Q];return u(t),p(t).has(n)&&p(t).get(n)===r||(e(t),k(t),t.D.set(n,!0),t.o.set(n,r),t.D.set(n,!0)),this},o.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),e(r),k(r),r.t.has(n)?r.D.set(n,!1):r.D.delete(n),r.o.delete(n),!0},o.clear=function(){var n=this[Q];u(n),p(n).size&&(e(n),k(n),n.D=new Map,i(n.t,(function(r){n.D.set(r,!1)})),n.o.clear())},o.forEach=function(n,r){var t=this;p(this[Q]).forEach((function(e,i){n.call(r,t.get(i),i,t)}))},o.get=function(n){var r=this[Q];u(r);var i=p(r).get(n);if(r.I||!t(i))return i;if(i!==r.t.get(n))return i;var o=R(r.A.h,i,r);return e(r),r.o.set(n,o),o},o.keys=function(){return p(this[Q]).keys()},o.values=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.values()},n.next=function(){var n=t.next();return n.done?n:{done:!1,value:r.get(n.value)}},n},o.entries=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.entries()},n.next=function(){var n=t.next();if(n.done)return n;var e=r.get(n.value);return{done:!1,value:[n.value,e]}},n},o[V]=function(){return this.entries()},n}(),c=function(){function n(n,r){return this[Q]={i:3,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,t:n,k:this,p:new Map,O:!1,C:!1},this}r(n,Set);var t=n.prototype;return Object.defineProperty(t,\"size\",{get:function(){return p(this[Q]).size}}),t.has=function(n){var r=this[Q];return u(r),r.o?!!r.o.has(n)||!(!r.p.has(n)||!r.o.has(r.p.get(n))):r.t.has(n)},t.add=function(n){var r=this[Q];return u(r),this.has(n)||(o(r),k(r),r.o.add(n)),this},t.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),o(r),k(r),r.o.delete(n)||!!r.p.has(n)&&r.o.delete(r.p.get(n))},t.clear=function(){var n=this[Q];u(n),p(n).size&&(o(n),k(n),n.o.clear())},t.values=function(){var n=this[Q];return u(n),o(n),n.o.values()},t.entries=function(){var n=this[Q];return u(n),o(n),n.o.entries()},t.keys=function(){return this.values()},t[V]=function(){return this.values()},t.forEach=function(n,r){for(var t=this.values(),e=t.next();!e.done;)n.call(r,e.value,e.value,this),e=t.next()},n}();m(\"MapSet\",{N:function(n,r){return new f(n,r)},T:function(n,r){return new c(n,r)}})}function J(){N(),C(),T()}function K(n){return n}function $(n){return n}var G,U,W=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),X=\"undefined\"!=typeof Map,q=\"undefined\"!=typeof Set,B=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,H=W?Symbol.for(\"immer-nothing\"):((G={})[\"immer-nothing\"]=!0,G),L=W?Symbol.for(\"immer-draftable\"):\"__$immer_draftable\",Q=W?Symbol.for(\"immer-state\"):\"__$immer_state\",V=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",Y={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(n){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+n},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(n){return\"Cannot apply patch, path doesn't resolve: \"+n},16:'Sets cannot have \"replace\" patches.',17:function(n){return\"Unsupported patch operation: \"+n},18:function(n){return\"The plugin for '\"+n+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+n+\"()` when initializing your application.\"},20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",21:function(n){return\"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\"+n+\"'\"},22:function(n){return\"'current' expects a draft, got: \"+n},23:function(n){return\"'original' expects a draft, got: \"+n},24:\"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"},Z=\"\"+Object.prototype.constructor,nn=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(n){var r={};return nn(n).forEach((function(t){r[t]=Object.getOwnPropertyDescriptor(n,t)})),r},tn={},en={get:function(n,r){if(r===Q)return n;var e=p(n);if(!u(e,r))return function(n,r,t){var e,i=I(r,t);return i?\"value\"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(n.k):void 0}(n,e,r);var i=e[r];return n.I||!t(i)?i:i===z(n.t,r)?(E(n),n.o[r]=R(n.A.h,i,n)):i},has:function(n,r){return r in p(n)},ownKeys:function(n){return Reflect.ownKeys(p(n))},set:function(n,r,t){var e=I(p(n),r);if(null==e?void 0:e.set)return e.set.call(n.k,t),!0;if(!n.P){var i=z(p(n),r),o=null==i?void 0:i[Q];if(o&&o.t===t)return n.o[r]=t,n.D[r]=!1,!0;if(c(t,i)&&(void 0!==t||u(n.t,r)))return!0;E(n),k(n)}return n.o[r]===t&&\"number\"!=typeof t&&(void 0!==t||r in n.o)||(n.o[r]=t,n.D[r]=!0,!0)},deleteProperty:function(n,r){return void 0!==z(n.t,r)||r in n.t?(n.D[r]=!1,E(n),k(n)):delete n.D[r],n.o&&delete n.o[r],!0},getOwnPropertyDescriptor:function(n,r){var t=p(n),e=Reflect.getOwnPropertyDescriptor(t,r);return e?{writable:!0,configurable:1!==n.i||\"length\"!==r,enumerable:e.enumerable,value:t[r]}:e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){n(12)}},on={};i(en,(function(n,r){on[n]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}})),on.deleteProperty=function(r,t){return true&&isNaN(parseInt(t))&&n(13),on.set.call(this,r,t,void 0)},on.set=function(r,t,e){return true&&\"length\"!==t&&isNaN(parseInt(t))&&n(14),en.set.call(this,r[0],t,e,r[0])};var un=function(){function e(r){var e=this;this.g=B,this.F=!0,this.produce=function(r,i,o){if(\"function\"==typeof r&&\"function\"!=typeof i){var u=i;i=r;var a=e;return function(n){var r=this;void 0===n&&(n=u);for(var t=arguments.length,e=Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return a.produce(n,(function(n){var t;return(t=i).call.apply(t,[r,n].concat(e))}))}}var f;if(\"function\"!=typeof i&&n(6),void 0!==o&&\"function\"!=typeof o&&n(7),t(r)){var c=w(e),s=R(e,r,void 0),v=!0;try{f=i(s),v=!1}finally{v?O(c):g(c)}return\"undefined\"!=typeof Promise&&f instanceof Promise?f.then((function(n){return j(c,o),P(n,c)}),(function(n){throw O(c),n})):(j(c,o),P(f,c))}if(!r||\"object\"!=typeof r){if(void 0===(f=i(r))&&(f=r),f===H&&(f=void 0),e.F&&d(f,!0),o){var p=[],l=[];b(\"Patches\").M(r,f,p,l),o(p,l)}return f}n(21,r)},this.produceWithPatches=function(n,r){if(\"function\"==typeof n)return function(r){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(r){return n.apply(void 0,[r].concat(i))}))};var t,i,o=e.produce(n,r,(function(n,r){t=n,i=r}));return\"undefined\"!=typeof Promise&&o instanceof Promise?o.then((function(n){return[n,t,i]})):[o,t,i]},\"boolean\"==typeof(null==r?void 0:r.useProxies)&&this.setUseProxies(r.useProxies),\"boolean\"==typeof(null==r?void 0:r.autoFreeze)&&this.setAutoFreeze(r.autoFreeze)}var i=e.prototype;return i.createDraft=function(e){t(e)||n(8),r(e)&&(e=D(e));var i=w(this),o=R(this,e,void 0);return o[Q].C=!0,g(i),o},i.finishDraft=function(r,t){var e=r&&r[Q]; true&&(e&&e.C||n(9),e.I&&n(10));var i=e.A;return j(i,t),P(void 0,i)},i.setAutoFreeze=function(n){this.F=n},i.setUseProxies=function(r){r&&!B&&n(20),this.g=r},i.applyPatches=function(n,t){var e;for(e=t.length-1;e>=0;e--){var i=t[e];if(0===i.path.length&&\"replace\"===i.op){n=i.value;break}}e>-1&&(t=t.slice(e+1));var o=b(\"Patches\").$;return r(n)?o(n,t):this.produce(n,(function(n){return o(n,t)}))},e}(),an=new un,fn=an.produce,cn=an.produceWithPatches.bind(an),sn=an.setAutoFreeze.bind(an),vn=an.setUseProxies.bind(an),pn=an.applyPatches.bind(an),ln=an.createDraft.bind(an),dn=an.finishDraft.bind(an);/* harmony default export */ __webpack_exports__[\"default\"] = (fn);\n//# sourceMappingURL=immer.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaW1tZXIvZGlzdC9pbW1lci5lc20ubWpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGNBQWMsa0RBQWtELElBQUksd0JBQXdCLEdBQUcsSUFBbUMsRUFBRSw2RUFBNkUsMEJBQTBCLDZFQUE2RSxnQkFBZ0IscUVBQXFFLGNBQWMsa0JBQWtCLGNBQWMsTUFBTSx3QkFBd0IsbUNBQW1DLCtCQUErQixxQkFBcUIsaUVBQWlFLHVFQUF1RSxpR0FBaUcsY0FBYyw0QkFBNEIsa0JBQWtCLHVFQUF1RSxtQ0FBbUMsNEJBQTRCLGdCQUFnQixHQUFHLGNBQWMsV0FBVyw0REFBNEQsZ0JBQWdCLG1FQUFtRSxnQkFBZ0IsOEJBQThCLGtCQUFrQixXQUFXLHFEQUFxRCxnQkFBZ0Isd0NBQXdDLGNBQWMsMkJBQTJCLGNBQWMsMkJBQTJCLGNBQWMsZ0JBQWdCLGNBQWMseURBQXlELFlBQVksWUFBWSxvQkFBb0IsV0FBVyxLQUFLLGtCQUFrQiwwRUFBMEUsK0RBQStELEVBQUUsaURBQWlELGdCQUFnQiwrSEFBK0gsZUFBZSxTQUFTLGFBQWEsS0FBSyxjQUFjLHVEQUF1RCxjQUFjLFlBQVksb0JBQW9CLGdCQUFnQixpQkFBaUIsYUFBYSxNQUFNLE1BQW1DLFlBQVksZ0JBQWdCLHNDQUFzQyxjQUFjLDZCQUE2QixjQUFjLGVBQWUsY0FBYyxVQUFVLHVCQUF1QixjQUFjLFdBQVcsOEJBQThCLGdCQUFnQixlQUFlLGlDQUFpQyw2S0FBNkssa0JBQWtCLGlCQUFpQixXQUFXLGdDQUFnQyxzQkFBc0IsUUFBUSxvQkFBb0IsK0JBQStCLFNBQVMsZUFBZSxzQ0FBc0Msc0NBQXNDLHNCQUFzQixpREFBaUQsV0FBVyx3QkFBd0IsR0FBRyxLQUFtQyxvQkFBb0IseURBQXlELHlCQUF5QixPQUFPLGdCQUFnQix3QkFBd0IseUJBQXlCLGtCQUFrQixzQ0FBc0MsZ0JBQWdCLFdBQVcsb0JBQW9CLGdCQUFnQiw2Q0FBNkMsRUFBRSxFQUFF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QUE4Qiw2RkFBNkYsd0NBQXdDLG1EQUFtRCxVQUFVLGtGQUFrRixHQUFHLDJCQUEyQixNQUFNLDRCQUE0QixrQ0FBa0MsMkJBQTJCLE9BQU8sT0FBTyxvQkFBb0IsaUJBQWlCLDZEQUE2RCxtQ0FBbUMsTUFBTSxLQUFtQyx5REFBeUQsd0JBQXdCLE1BQU0sS0FBbUMsMkVBQTJFLGtCQUFrQixjQUFjLFdBQVcsZ0RBQWdELCtDQUErQyxRQUFRLElBQUksUUFBUSxtQkFBbUIsV0FBVyxrQkFBa0Isa0RBQWtELElBQUksd0JBQXdCLGdDQUFnQyxNQUFNLDBDQUEwQyxJQUFJLE1BQU0sMkVBQTJFLGdDQUFnQyxJQUFJLFlBQVksUUFBUSxZQUFZLDRFQUE0RSxxQkFBcUIsZUFBZSxhQUFhLG1CQUFtQiwyQkFBMkIsOERBQThELGNBQWMsK0JBQStCLFNBQVMsUUFBUSx1Q0FBdUMsMkNBQTJDLGtEQUFrRCxJQUFJLHdCQUF3QiwyQ0FBMkMscUNBQXFDLElBQUksdUNBQXVDLFFBQVEsR0FBRyw0RUFBNEUsY0FBYyxXQUFXLG1LQUFtSyxrQkFBa0IsaUNBQWlDLDBCQUEwQixpQ0FBaUMsd0JBQXdCLDZCQUE2QixjQUFjLEtBQW1DLDRCQUE0QixVQUFVLDBCQUEwQiw2QkFBNkIsU0FBUyw2QkFBNkIsc0JBQXNCLDhCQUE4QixNQUFNLGlCQUFpQixLQUFLLEtBQUssV0FBVyx3Q0FBd0MsVUFBVSxPQUFPLHVCQUF1QixxQkFBcUIsK0NBQStDLGNBQWMsR0FBRyxHQUFHLHlNQUF5TSwrREFBZSxFQUFFLEVBQXdXO0FBQ3YyakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2ltbWVyL2Rpc3QvaW1tZXIuZXNtLm1qcz9jY2VhIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIG4obil7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsdD1BcnJheShyPjE/ci0xOjApLGU9MTtlPHI7ZSsrKXRbZS0xXT1hcmd1bWVudHNbZV07aWYoXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOVil7dmFyIGk9WVtuXSxvPWk/XCJmdW5jdGlvblwiPT10eXBlb2YgaT9pLmFwcGx5KG51bGwsdCk6aTpcInVua25vd24gZXJyb3IgbnI6IFwiK247dGhyb3cgRXJyb3IoXCJbSW1tZXJdIFwiK28pfXRocm93IEVycm9yKFwiW0ltbWVyXSBtaW5pZmllZCBlcnJvciBucjogXCIrbisodC5sZW5ndGg/XCIgXCIrdC5tYXAoKGZ1bmN0aW9uKG4pe3JldHVyblwiJ1wiK24rXCInXCJ9KSkuam9pbihcIixcIik6XCJcIikrXCIuIEZpbmQgdGhlIGZ1bGwgZXJyb3IgYXQ6IGh0dHBzOi8vYml0Lmx5LzNjWEVLV2ZcIil9ZnVuY3Rpb24gcihuKXtyZXR1cm4hIW4mJiEhbltRXX1mdW5jdGlvbiB0KG4pe3ZhciByO3JldHVybiEhbiYmKGZ1bmN0aW9uKG4pe2lmKCFufHxcIm9iamVjdFwiIT10eXBlb2YgbilyZXR1cm4hMTt2YXIgcj1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PXIpcmV0dXJuITA7dmFyIHQ9T2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocixcImNvbnN0cnVjdG9yXCIpJiZyLmNvbnN0cnVjdG9yO3JldHVybiB0PT09T2JqZWN0fHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZGdW5jdGlvbi50b1N0cmluZy5jYWxsKHQpPT09Wn0obil8fEFycmF5LmlzQXJyYXkobil8fCEhbltMXXx8ISEobnVsbD09PShyPW4uY29uc3RydWN0b3IpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyW0xdKXx8cyhuKXx8dihuKSl9ZnVuY3Rpb24gZSh0KXtyZXR1cm4gcih0KXx8bigyMyx0KSx0W1FdLnR9ZnVuY3Rpb24gaShuLHIsdCl7dm9pZCAwPT09dCYmKHQ9ITEpLDA9PT1vKG4pPyh0P09iamVjdC5rZXlzOm5uKShuKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0JiZcInN5bWJvbFwiPT10eXBlb2YgZXx8cihlLG5bZV0sbil9KSk6bi5mb3JFYWNoKChmdW5jdGlvbih0LGUpe3JldHVybiByKGUsdCxuKX0pKX1mdW5jdGlvbiBvKG4pe3ZhciByPW5bUV07cmV0dXJuIHI/ci5pPjM/ci5pLTQ6ci5pOkFycmF5LmlzQXJyYXkobik/MTpzKG4pPzI6dihuKT8zOjB9ZnVuY3Rpb24gdShuLHIpe3JldHVybiAyPT09byhuKT9uLmhhcyhyKTpPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKX1mdW5jdGlvbiBhKG4scil7cmV0dXJuIDI9PT1vKG4pP24uZ2V0KHIpOm5bcl19ZnVuY3Rpb24gZihuLHIsdCl7dmFyIGU9byhuKTsyPT09ZT9uLnNldChyLHQpOjM9PT1lPyhuLmRlbGV0ZShyKSxuLmFkZCh0KSk6bltyXT10fWZ1bmN0aW9uIGMobixyKXtyZXR1cm4gbj09PXI/MCE9PW58fDEvbj09MS9yOm4hPW4mJnIhPXJ9ZnVuY3Rpb24gcyhuKXtyZXR1cm4gWCYmbiBpbnN0YW5jZW9mIE1hcH1mdW5jdGlvbiB2KG4pe3JldHVybiBxJiZuIGluc3RhbmNlb2YgU2V0fWZ1bmN0aW9uIHAobil7cmV0dXJuIG4ub3x8bi50fWZ1bmN0aW9uIGwobil7aWYoQXJyYXkuaXNBcnJheShuKSlyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobik7dmFyIHI9cm4obik7ZGVsZXRlIHJbUV07Zm9yKHZhciB0PW5uKHIpLGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIGk9dFtlXSxvPXJbaV07ITE9PT1vLndyaXRhYmxlJiYoby53cml0YWJsZT0hMCxvLmNvbmZpZ3VyYWJsZT0hMCksKG8uZ2V0fHxvLnNldCkmJihyW2ldPXtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsZW51bWVyYWJsZTpvLmVudW1lcmFibGUsdmFsdWU6bltpXX0pfXJldHVybiBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihuKSxyKX1mdW5jdGlvbiBkKG4sZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSx5KG4pfHxyKG4pfHwhdChuKT9uOihvKG4pPjEmJihuLnNldD1uLmFkZD1uLmNsZWFyPW4uZGVsZXRlPWgpLE9iamVjdC5mcmVlemUobiksZSYmaShuLChmdW5jdGlvbihuLHIpe3JldHVybiBkKHIsITApfSksITApLG4pfWZ1bmN0aW9uIGgoKXtuKDIpfWZ1bmN0aW9uIHkobil7cmV0dXJuIG51bGw9PW58fFwib2JqZWN0XCIhPXR5cGVvZiBufHxPYmplY3QuaXNGcm96ZW4obil9ZnVuY3Rpb24gYihyKXt2YXIgdD10bltyXTtyZXR1cm4gdHx8bigxOCxyKSx0fWZ1bmN0aW9uIG0obixyKXt0bltuXXx8KHRuW25dPXIpfWZ1bmN0aW9uIF8oKXtyZXR1cm5cInByb2R1Y3Rpb25cIj09PXByb2Nlc3MuZW52Lk5PREVfRU5WfHxVfHxuKDApLFV9ZnVuY3Rpb24gaihuLHIpe3ImJihiKFwiUGF0Y2hlc1wiKSxuLnU9W10sbi5zPVtdLG4udj1yKX1mdW5jdGlvbiBPKG4pe2cobiksbi5wLmZvckVhY2goUyksbi5wPW51bGx9ZnVuY3Rpb24gZyhuKXtuPT09VSYmKFU9bi5sKX1mdW5jdGlvbiB3KG4pe3JldHVybiBVPXtwOltdLGw6VSxoOm4sbTohMCxfOjB9fWZ1bmN0aW9uIFMobil7dmFyIHI9bltRXTswPT09ci5pfHwxPT09ci5pP3IuaigpOnIuTz0hMH1mdW5jdGlvbiBQKHIsZSl7ZS5fPWUucC5sZW5ndGg7dmFyIGk9ZS5wWzBdLG89dm9pZCAwIT09ciYmciE9PWk7cmV0dXJuIGUuaC5nfHxiKFwiRVM1XCIpLlMoZSxyLG8pLG8/KGlbUV0uUCYmKE8oZSksbig0KSksdChyKSYmKHI9TShlLHIpLGUubHx8eChlLHIpKSxlLnUmJmIoXCJQYXRjaGVzXCIpLk0oaVtRXS50LHIsZS51LGUucykpOnI9TShlLGksW10pLE8oZSksZS51JiZlLnYoZS51LGUucyksciE9PUg/cjp2b2lkIDB9ZnVuY3Rpb24gTShuLHIsdCl7aWYoeShyKSlyZXR1cm4gcjt2YXIgZT1yW1FdO2lmKCFlKXJldHVybiBpKHIsKGZ1bmN0aW9uKGksbyl7cmV0dXJuIEEobixlLHIsaSxvLHQpfSksITApLHI7aWYoZS5BIT09bilyZXR1cm4gcjtpZighZS5QKXJldHVybiB4KG4sZS50LCEwKSxlLnQ7aWYoIWUuSSl7ZS5JPSEwLGUuQS5fLS07dmFyIG89ND09PWUuaXx8NT09PWUuaT9lLm89bChlLmspOmUubztpKDM9PT1lLmk/bmV3IFNldChvKTpvLChmdW5jdGlvbihyLGkpe3JldHVybiBBKG4sZSxvLHIsaSx0KX0pKSx4KG4sbywhMSksdCYmbi51JiZiKFwiUGF0Y2hlc1wiKS5SKGUsdCxuLnUsbi5zKX1yZXR1cm4gZS5vfWZ1bmN0aW9uIEEoZSxpLG8sYSxjLHMpe2lmKFwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJmM9PT1vJiZuKDUpLHIoYykpe3ZhciB2PU0oZSxjLHMmJmkmJjMhPT1pLmkmJiF1KGkuRCxhKT9zLmNvbmNhdChhKTp2b2lkIDApO2lmKGYobyxhLHYpLCFyKHYpKXJldHVybjtlLm09ITF9aWYodChjKSYmIXkoYykpe2lmKCFlLmguRiYmZS5fPDEpcmV0dXJuO00oZSxjKSxpJiZpLkEubHx8eChlLGMpfX1mdW5jdGlvbiB4KG4scix0KXt2b2lkIDA9PT10JiYodD0hMSksbi5oLkYmJm4ubSYmZChyLHQpfWZ1bmN0aW9uIHoobixyKXt2YXIgdD1uW1FdO3JldHVybih0P3AodCk6bilbcl19ZnVuY3Rpb24gSShuLHIpe2lmKHIgaW4gbilmb3IodmFyIHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKG4pO3Q7KXt2YXIgZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscik7aWYoZSlyZXR1cm4gZTt0PU9iamVjdC5nZXRQcm90b3R5cGVPZih0KX19ZnVuY3Rpb24gayhuKXtuLlB8fChuLlA9ITAsbi5sJiZrKG4ubCkpfWZ1bmN0aW9uIEUobil7bi5vfHwobi5vPWwobi50KSl9ZnVuY3Rpb24gUihuLHIsdCl7dmFyIGU9cyhyKT9iKFwiTWFwU2V0XCIpLk4ocix0KTp2KHIpP2IoXCJNYXBTZXRcIikuVChyLHQpOm4uZz9mdW5jdGlvbihuLHIpe3ZhciB0PUFycmF5LmlzQXJyYXkobiksZT17aTp0PzE6MCxBOnI/ci5BOl8oKSxQOiExLEk6ITEsRDp7fSxsOnIsdDpuLGs6bnVsbCxvOm51bGwsajpudWxsLEM6ITF9LGk9ZSxvPWVuO3QmJihpPVtlXSxvPW9uKTt2YXIgdT1Qcm94eS5yZXZvY2FibGUoaSxvKSxhPXUucmV2b2tlLGY9dS5wcm94eTtyZXR1cm4gZS5rPWYsZS5qPWEsZn0ocix0KTpiKFwiRVM1XCIpLkoocix0KTtyZXR1cm4odD90LkE6XygpKS5wLnB1c2goZSksZX1mdW5jdGlvbiBEKGUpe3JldHVybiByKGUpfHxuKDIyLGUpLGZ1bmN0aW9uIG4ocil7aWYoIXQocikpcmV0dXJuIHI7dmFyIGUsdT1yW1FdLGM9byhyKTtpZih1KXtpZighdS5QJiYodS5pPDR8fCFiKFwiRVM1XCIpLksodSkpKXJldHVybiB1LnQ7dS5JPSEwLGU9RihyLGMpLHUuST0hMX1lbHNlIGU9RihyLGMpO3JldHVybiBpKGUsKGZ1bmN0aW9uKHIsdCl7dSYmYSh1LnQscik9PT10fHxmKGUscixuKHQpKX0pKSwzPT09Yz9uZXcgU2V0KGUpOmV9KGUpfWZ1bmN0aW9uIEYobixyKXtzd2l0Y2gocil7Y2FzZSAyOnJldHVybiBuZXcgTWFwKG4pO2Nhc2UgMzpyZXR1cm4gQXJyYXkuZnJvbShuKX1yZXR1cm4gbChuKX1mdW5jdGlvbiBOKCl7ZnVuY3Rpb24gdChuLHIpe3ZhciB0PXNbbl07cmV0dXJuIHQ/dC5lbnVtZXJhYmxlPXI6c1tuXT10PXtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTpyLGdldDpmdW5jdGlvbigpe3ZhciByPXRoaXNbUV07cmV0dXJuXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmZihyKSxlbi5nZXQocixuKX0sc2V0OmZ1bmN0aW9uKHIpe3ZhciB0PXRoaXNbUV07XCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmZih0KSxlbi5zZXQodCxuLHIpfX0sdH1mdW5jdGlvbiBlKG4pe2Zvcih2YXIgcj1uLmxlbmd0aC0xO3I+PTA7ci0tKXt2YXIgdD1uW3JdW1FdO2lmKCF0LlApc3dpdGNoKHQuaSl7Y2FzZSA1OmEodCkmJmsodCk7YnJlYWs7Y2FzZSA0Om8odCkmJmsodCl9fX1mdW5jdGlvbiBvKG4pe2Zvcih2YXIgcj1uLnQsdD1uLmssZT1ubih0KSxpPWUubGVuZ3RoLTE7aT49MDtpLS0pe3ZhciBvPWVbaV07aWYobyE9PVEpe3ZhciBhPXJbb107aWYodm9pZCAwPT09YSYmIXUocixvKSlyZXR1cm4hMDt2YXIgZj10W29dLHM9ZiYmZltRXTtpZihzP3MudCE9PWE6IWMoZixhKSlyZXR1cm4hMH19dmFyIHY9ISFyW1FdO3JldHVybiBlLmxlbmd0aCE9PW5uKHIpLmxlbmd0aCsodj8wOjEpfWZ1bmN0aW9uIGEobil7dmFyIHI9bi5rO2lmKHIubGVuZ3RoIT09bi50Lmxlbmd0aClyZXR1cm4hMDt2YXIgdD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsci5sZW5ndGgtMSk7aWYodCYmIXQuZ2V0KXJldHVybiEwO2Zvcih2YXIgZT0wO2U8ci5sZW5ndGg7ZSsrKWlmKCFyLmhhc093blByb3BlcnR5KGUpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGYocil7ci5PJiZuKDMsSlNPTi5zdHJpbmdpZnkocChyKSkpfXZhciBzPXt9O20oXCJFUzVcIix7SjpmdW5jdGlvbihuLHIpe3ZhciBlPUFycmF5LmlzQXJyYXkobiksaT1mdW5jdGlvbihuLHIpe2lmKG4pe2Zvcih2YXIgZT1BcnJheShyLmxlbmd0aCksaT0wO2k8ci5sZW5ndGg7aSsrKU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiXCIraSx0KGksITApKTtyZXR1cm4gZX12YXIgbz1ybihyKTtkZWxldGUgb1tRXTtmb3IodmFyIHU9bm4obyksYT0wO2E8dS5sZW5ndGg7YSsrKXt2YXIgZj11W2FdO29bZl09dChmLG58fCEhb1tmXS5lbnVtZXJhYmxlKX1yZXR1cm4gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2Yociksbyl9KGUsbiksbz17aTplPzU6NCxBOnI/ci5BOl8oKSxQOiExLEk6ITEsRDp7fSxsOnIsdDpuLGs6aSxvOm51bGwsTzohMSxDOiExfTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksUSx7dmFsdWU6byx3cml0YWJsZTohMH0pLGl9LFM6ZnVuY3Rpb24obix0LG8pe28/cih0KSYmdFtRXS5BPT09biYmZShuLnApOihuLnUmJmZ1bmN0aW9uIG4ocil7aWYociYmXCJvYmplY3RcIj09dHlwZW9mIHIpe3ZhciB0PXJbUV07aWYodCl7dmFyIGU9dC50LG89dC5rLGY9dC5ELGM9dC5pO2lmKDQ9PT1jKWkobywoZnVuY3Rpb24ocil7ciE9PVEmJih2b2lkIDAhPT1lW3JdfHx1KGUscik/ZltyXXx8bihvW3JdKTooZltyXT0hMCxrKHQpKSl9KSksaShlLChmdW5jdGlvbihuKXt2b2lkIDAhPT1vW25dfHx1KG8sbil8fChmW25dPSExLGsodCkpfSkpO2Vsc2UgaWYoNT09PWMpe2lmKGEodCkmJihrKHQpLGYubGVuZ3RoPSEwKSxvLmxlbmd0aDxlLmxlbmd0aClmb3IodmFyIHM9by5sZW5ndGg7czxlLmxlbmd0aDtzKyspZltzXT0hMTtlbHNlIGZvcih2YXIgdj1lLmxlbmd0aDt2PG8ubGVuZ3RoO3YrKylmW3ZdPSEwO2Zvcih2YXIgcD1NYXRoLm1pbihvLmxlbmd0aCxlLmxlbmd0aCksbD0wO2w8cDtsKyspby5oYXNPd25Qcm9wZXJ0eShsKXx8KGZbbF09ITApLHZvaWQgMD09PWZbbF0mJm4ob1tsXSl9fX19KG4ucFswXSksZShuLnApKX0sSzpmdW5jdGlvbihuKXtyZXR1cm4gND09PW4uaT9vKG4pOmEobil9fSl9ZnVuY3Rpb24gVCgpe2Z1bmN0aW9uIGUobil7aWYoIXQobikpcmV0dXJuIG47aWYoQXJyYXkuaXNBcnJheShuKSlyZXR1cm4gbi5tYXAoZSk7aWYocyhuKSlyZXR1cm4gbmV3IE1hcChBcnJheS5mcm9tKG4uZW50cmllcygpKS5tYXAoKGZ1bmN0aW9uKG4pe3JldHVybltuWzBdLGUoblsxXSldfSkpKTtpZih2KG4pKXJldHVybiBuZXcgU2V0KEFycmF5LmZyb20obikubWFwKGUpKTt2YXIgcj1PYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihuKSk7Zm9yKHZhciBpIGluIG4pcltpXT1lKG5baV0pO3JldHVybiB1KG4sTCkmJihyW0xdPW5bTF0pLHJ9ZnVuY3Rpb24gZihuKXtyZXR1cm4gcihuKT9lKG4pOm59dmFyIGM9XCJhZGRcIjttKFwiUGF0Y2hlc1wiLHskOmZ1bmN0aW9uKHIsdCl7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7Zm9yKHZhciBpPXQucGF0aCx1PXQub3AsZj1yLHM9MDtzPGkubGVuZ3RoLTE7cysrKXt2YXIgdj1vKGYpLHA9XCJcIitpW3NdOzAhPT12JiYxIT09dnx8XCJfX3Byb3RvX19cIiE9PXAmJlwiY29uc3RydWN0b3JcIiE9PXB8fG4oMjQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGYmJlwicHJvdG90eXBlXCI9PT1wJiZuKDI0KSxcIm9iamVjdFwiIT10eXBlb2YoZj1hKGYscCkpJiZuKDE1LGkuam9pbihcIi9cIikpfXZhciBsPW8oZiksZD1lKHQudmFsdWUpLGg9aVtpLmxlbmd0aC0xXTtzd2l0Y2godSl7Y2FzZVwicmVwbGFjZVwiOnN3aXRjaChsKXtjYXNlIDI6cmV0dXJuIGYuc2V0KGgsZCk7Y2FzZSAzOm4oMTYpO2RlZmF1bHQ6cmV0dXJuIGZbaF09ZH1jYXNlIGM6c3dpdGNoKGwpe2Nhc2UgMTpyZXR1cm5cIi1cIj09PWg/Zi5wdXNoKGQpOmYuc3BsaWNlKGgsMCxkKTtjYXNlIDI6cmV0dXJuIGYuc2V0KGgsZCk7Y2FzZSAzOnJldHVybiBmLmFkZChkKTtkZWZhdWx0OnJldHVybiBmW2hdPWR9Y2FzZVwicmVtb3ZlXCI6c3dpdGNoKGwpe2Nhc2UgMTpyZXR1cm4gZi5zcGxpY2UoaCwxKTtjYXNlIDI6cmV0dXJuIGYuZGVsZXRlKGgpO2Nhc2UgMzpyZXR1cm4gZi5kZWxldGUodC52YWx1ZSk7ZGVmYXVsdDpyZXR1cm4gZGVsZXRlIGZbaF19ZGVmYXVsdDpuKDE3LHUpfX0pKSxyfSxSOmZ1bmN0aW9uKG4scix0LGUpe3N3aXRjaChuLmkpe2Nhc2UgMDpjYXNlIDQ6Y2FzZSAyOnJldHVybiBmdW5jdGlvbihuLHIsdCxlKXt2YXIgbz1uLnQscz1uLm87aShuLkQsKGZ1bmN0aW9uKG4saSl7dmFyIHY9YShvLG4pLHA9YShzLG4pLGw9aT91KG8sbik/XCJyZXBsYWNlXCI6YzpcInJlbW92ZVwiO2lmKHYhPT1wfHxcInJlcGxhY2VcIiE9PWwpe3ZhciBkPXIuY29uY2F0KG4pO3QucHVzaChcInJlbW92ZVwiPT09bD97b3A6bCxwYXRoOmR9OntvcDpsLHBhdGg6ZCx2YWx1ZTpwfSksZS5wdXNoKGw9PT1jP3tvcDpcInJlbW92ZVwiLHBhdGg6ZH06XCJyZW1vdmVcIj09PWw/e29wOmMscGF0aDpkLHZhbHVlOmYodil9OntvcDpcInJlcGxhY2VcIixwYXRoOmQsdmFsdWU6Zih2KX0pfX0pKX0obixyLHQsZSk7Y2FzZSA1OmNhc2UgMTpyZXR1cm4gZnVuY3Rpb24obixyLHQsZSl7dmFyIGk9bi50LG89bi5ELHU9bi5vO2lmKHUubGVuZ3RoPGkubGVuZ3RoKXt2YXIgYT1bdSxpXTtpPWFbMF0sdT1hWzFdO3ZhciBzPVtlLHRdO3Q9c1swXSxlPXNbMV19Zm9yKHZhciB2PTA7djxpLmxlbmd0aDt2KyspaWYob1t2XSYmdVt2XSE9PWlbdl0pe3ZhciBwPXIuY29uY2F0KFt2XSk7dC5wdXNoKHtvcDpcInJlcGxhY2VcIixwYXRoOnAsdmFsdWU6Zih1W3ZdKX0pLGUucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpwLHZhbHVlOmYoaVt2XSl9KX1mb3IodmFyIGw9aS5sZW5ndGg7bDx1Lmxlbmd0aDtsKyspe3ZhciBkPXIuY29uY2F0KFtsXSk7dC5wdXNoKHtvcDpjLHBhdGg6ZCx2YWx1ZTpmKHVbbF0pfSl9aS5sZW5ndGg8dS5sZW5ndGgmJmUucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpyLmNvbmNhdChbXCJsZW5ndGhcIl0pLHZhbHVlOmkubGVuZ3RofSl9KG4scix0LGUpO2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLHQsZSl7dmFyIGk9bi50LG89bi5vLHU9MDtpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKCFvLmhhcyhuKSl7dmFyIGk9ci5jb25jYXQoW3VdKTt0LnB1c2goe29wOlwicmVtb3ZlXCIscGF0aDppLHZhbHVlOm59KSxlLnVuc2hpZnQoe29wOmMscGF0aDppLHZhbHVlOm59KX11Kyt9KSksdT0wLG8uZm9yRWFjaCgoZnVuY3Rpb24obil7aWYoIWkuaGFzKG4pKXt2YXIgbz1yLmNvbmNhdChbdV0pO3QucHVzaCh7b3A6YyxwYXRoOm8sdmFsdWU6bn0pLGUudW5zaGlmdCh7b3A6XCJyZW1vdmVcIixwYXRoOm8sdmFsdWU6bn0pfXUrK30pKX0obixyLHQsZSl9fSxNOmZ1bmN0aW9uKG4scix0LGUpe3QucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpbXSx2YWx1ZTpyPT09SD92b2lkIDA6cn0pLGUucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpbXSx2YWx1ZTpufSl9fSl9ZnVuY3Rpb24gQygpe2Z1bmN0aW9uIHIobixyKXtmdW5jdGlvbiB0KCl7dGhpcy5jb25zdHJ1Y3Rvcj1ufWEobixyKSxuLnByb3RvdHlwZT0odC5wcm90b3R5cGU9ci5wcm90b3R5cGUsbmV3IHQpfWZ1bmN0aW9uIGUobil7bi5vfHwobi5EPW5ldyBNYXAsbi5vPW5ldyBNYXAobi50KSl9ZnVuY3Rpb24gbyhuKXtuLm98fChuLm89bmV3IFNldCxuLnQuZm9yRWFjaCgoZnVuY3Rpb24ocil7aWYodChyKSl7dmFyIGU9UihuLkEuaCxyLG4pO24ucC5zZXQocixlKSxuLm8uYWRkKGUpfWVsc2Ugbi5vLmFkZChyKX0pKSl9ZnVuY3Rpb24gdShyKXtyLk8mJm4oMyxKU09OLnN0cmluZ2lmeShwKHIpKSl9dmFyIGE9ZnVuY3Rpb24obixyKXtyZXR1cm4oYT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24obixyKXtuLl9fcHJvdG9fXz1yfXx8ZnVuY3Rpb24obixyKXtmb3IodmFyIHQgaW4gcilyLmhhc093blByb3BlcnR5KHQpJiYoblt0XT1yW3RdKX0pKG4scil9LGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4scil7cmV0dXJuIHRoaXNbUV09e2k6MixsOnIsQTpyP3IuQTpfKCksUDohMSxJOiExLG86dm9pZCAwLEQ6dm9pZCAwLHQ6bixrOnRoaXMsQzohMSxPOiExfSx0aGlzfXIobixNYXApO3ZhciBvPW4ucHJvdG90eXBlO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAodGhpc1tRXSkuc2l6ZX19KSxvLmhhcz1mdW5jdGlvbihuKXtyZXR1cm4gcCh0aGlzW1FdKS5oYXMobil9LG8uc2V0PWZ1bmN0aW9uKG4scil7dmFyIHQ9dGhpc1tRXTtyZXR1cm4gdSh0KSxwKHQpLmhhcyhuKSYmcCh0KS5nZXQobik9PT1yfHwoZSh0KSxrKHQpLHQuRC5zZXQobiwhMCksdC5vLnNldChuLHIpLHQuRC5zZXQobiwhMCkpLHRoaXN9LG8uZGVsZXRlPWZ1bmN0aW9uKG4pe2lmKCF0aGlzLmhhcyhuKSlyZXR1cm4hMTt2YXIgcj10aGlzW1FdO3JldHVybiB1KHIpLGUociksayhyKSxyLnQuaGFzKG4pP3IuRC5zZXQobiwhMSk6ci5ELmRlbGV0ZShuKSxyLm8uZGVsZXRlKG4pLCEwfSxvLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIG49dGhpc1tRXTt1KG4pLHAobikuc2l6ZSYmKGUobiksayhuKSxuLkQ9bmV3IE1hcCxpKG4udCwoZnVuY3Rpb24ocil7bi5ELnNldChyLCExKX0pKSxuLm8uY2xlYXIoKSl9LG8uZm9yRWFjaD1mdW5jdGlvbihuLHIpe3ZhciB0PXRoaXM7cCh0aGlzW1FdKS5mb3JFYWNoKChmdW5jdGlvbihlLGkpe24uY2FsbChyLHQuZ2V0KGkpLGksdCl9KSl9LG8uZ2V0PWZ1bmN0aW9uKG4pe3ZhciByPXRoaXNbUV07dShyKTt2YXIgaT1wKHIpLmdldChuKTtpZihyLkl8fCF0KGkpKXJldHVybiBpO2lmKGkhPT1yLnQuZ2V0KG4pKXJldHVybiBpO3ZhciBvPVIoci5BLmgsaSxyKTtyZXR1cm4gZShyKSxyLm8uc2V0KG4sbyksb30sby5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHAodGhpc1tRXSkua2V5cygpfSxvLnZhbHVlcz1mdW5jdGlvbigpe3ZhciBuLHI9dGhpcyx0PXRoaXMua2V5cygpO3JldHVybihuPXt9KVtWXT1mdW5jdGlvbigpe3JldHVybiByLnZhbHVlcygpfSxuLm5leHQ9ZnVuY3Rpb24oKXt2YXIgbj10Lm5leHQoKTtyZXR1cm4gbi5kb25lP246e2RvbmU6ITEsdmFsdWU6ci5nZXQobi52YWx1ZSl9fSxufSxvLmVudHJpZXM9ZnVuY3Rpb24oKXt2YXIgbixyPXRoaXMsdD10aGlzLmtleXMoKTtyZXR1cm4obj17fSlbVl09ZnVuY3Rpb24oKXtyZXR1cm4gci5lbnRyaWVzKCl9LG4ubmV4dD1mdW5jdGlvbigpe3ZhciBuPXQubmV4dCgpO2lmKG4uZG9uZSlyZXR1cm4gbjt2YXIgZT1yLmdldChuLnZhbHVlKTtyZXR1cm57ZG9uZTohMSx2YWx1ZTpbbi52YWx1ZSxlXX19LG59LG9bVl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbnRyaWVzKCl9LG59KCksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obixyKXtyZXR1cm4gdGhpc1tRXT17aTozLGw6cixBOnI/ci5BOl8oKSxQOiExLEk6ITEsbzp2b2lkIDAsdDpuLGs6dGhpcyxwOm5ldyBNYXAsTzohMSxDOiExfSx0aGlzfXIobixTZXQpO3ZhciB0PW4ucHJvdG90eXBlO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAodGhpc1tRXSkuc2l6ZX19KSx0Lmhhcz1mdW5jdGlvbihuKXt2YXIgcj10aGlzW1FdO3JldHVybiB1KHIpLHIubz8hIXIuby5oYXMobil8fCEoIXIucC5oYXMobil8fCFyLm8uaGFzKHIucC5nZXQobikpKTpyLnQuaGFzKG4pfSx0LmFkZD1mdW5jdGlvbihuKXt2YXIgcj10aGlzW1FdO3JldHVybiB1KHIpLHRoaXMuaGFzKG4pfHwobyhyKSxrKHIpLHIuby5hZGQobikpLHRoaXN9LHQuZGVsZXRlPWZ1bmN0aW9uKG4pe2lmKCF0aGlzLmhhcyhuKSlyZXR1cm4hMTt2YXIgcj10aGlzW1FdO3JldHVybiB1KHIpLG8ociksayhyKSxyLm8uZGVsZXRlKG4pfHwhIXIucC5oYXMobikmJnIuby5kZWxldGUoci5wLmdldChuKSl9LHQuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgbj10aGlzW1FdO3UobikscChuKS5zaXplJiYobyhuKSxrKG4pLG4uby5jbGVhcigpKX0sdC52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgbj10aGlzW1FdO3JldHVybiB1KG4pLG8obiksbi5vLnZhbHVlcygpfSx0LmVudHJpZXM9ZnVuY3Rpb24oKXt2YXIgbj10aGlzW1FdO3JldHVybiB1KG4pLG8obiksbi5vLmVudHJpZXMoKX0sdC5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzKCl9LHRbVl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXMoKX0sdC5mb3JFYWNoPWZ1bmN0aW9uKG4scil7Zm9yKHZhciB0PXRoaXMudmFsdWVzKCksZT10Lm5leHQoKTshZS5kb25lOyluLmNhbGwocixlLnZhbHVlLGUudmFsdWUsdGhpcyksZT10Lm5leHQoKX0sbn0oKTttKFwiTWFwU2V0XCIse046ZnVuY3Rpb24obixyKXtyZXR1cm4gbmV3IGYobixyKX0sVDpmdW5jdGlvbihuLHIpe3JldHVybiBuZXcgYyhuLHIpfX0pfWZ1bmN0aW9uIEooKXtOKCksQygpLFQoKX1mdW5jdGlvbiBLKG4pe3JldHVybiBufWZ1bmN0aW9uICQobil7cmV0dXJuIG59dmFyIEcsVSxXPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2woXCJ4XCIpLFg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIE1hcCxxPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTZXQsQj1cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJveHkmJnZvaWQgMCE9PVByb3h5LnJldm9jYWJsZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QsSD1XP1N5bWJvbC5mb3IoXCJpbW1lci1ub3RoaW5nXCIpOigoRz17fSlbXCJpbW1lci1ub3RoaW5nXCJdPSEwLEcpLEw9Vz9TeW1ib2wuZm9yKFwiaW1tZXItZHJhZnRhYmxlXCIpOlwiX18kaW1tZXJfZHJhZnRhYmxlXCIsUT1XP1N5bWJvbC5mb3IoXCJpbW1lci1zdGF0ZVwiKTpcIl9fJGltbWVyX3N0YXRlXCIsVj1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLFk9ezA6XCJJbGxlZ2FsIHN0YXRlXCIsMTpcIkltbWVyIGRyYWZ0cyBjYW5ub3QgaGF2ZSBjb21wdXRlZCBwcm9wZXJ0aWVzXCIsMjpcIlRoaXMgb2JqZWN0IGhhcyBiZWVuIGZyb3plbiBhbmQgc2hvdWxkIG5vdCBiZSBtdXRhdGVkXCIsMzpmdW5jdGlvbihuKXtyZXR1cm5cIkNhbm5vdCB1c2UgYSBwcm94eSB0aGF0IGhhcyBiZWVuIHJldm9rZWQuIERpZCB5b3UgcGFzcyBhbiBvYmplY3QgZnJvbSBpbnNpZGUgYW4gaW1tZXIgZnVuY3Rpb24gdG8gYW4gYXN5bmMgcHJvY2Vzcz8gXCIrbn0sNDpcIkFuIGltbWVyIHByb2R1Y2VyIHJldHVybmVkIGEgbmV3IHZhbHVlICphbmQqIG1vZGlmaWVkIGl0cyBkcmFmdC4gRWl0aGVyIHJldHVybiBhIG5ldyB2YWx1ZSAqb3IqIG1vZGlmeSB0aGUgZHJhZnQuXCIsNTpcIkltbWVyIGZvcmJpZHMgY2lyY3VsYXIgcmVmZXJlbmNlc1wiLDY6XCJUaGUgZmlyc3Qgb3Igc2Vjb25kIGFyZ3VtZW50IHRvIGBwcm9kdWNlYCBtdXN0IGJlIGEgZnVuY3Rpb25cIiw3OlwiVGhlIHRoaXJkIGFyZ3VtZW50IHRvIGBwcm9kdWNlYCBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgdW5kZWZpbmVkXCIsODpcIkZpcnN0IGFyZ3VtZW50IHRvIGBjcmVhdGVEcmFmdGAgbXVzdCBiZSBhIHBsYWluIG9iamVjdCwgYW4gYXJyYXksIG9yIGFuIGltbWVyYWJsZSBvYmplY3RcIiw5OlwiRmlyc3QgYXJndW1lbnQgdG8gYGZpbmlzaERyYWZ0YCBtdXN0IGJlIGEgZHJhZnQgcmV0dXJuZWQgYnkgYGNyZWF0ZURyYWZ0YFwiLDEwOlwiVGhlIGdpdmVuIGRyYWZ0IGlzIGFscmVhZHkgZmluYWxpemVkXCIsMTE6XCJPYmplY3QuZGVmaW5lUHJvcGVydHkoKSBjYW5ub3QgYmUgdXNlZCBvbiBhbiBJbW1lciBkcmFmdFwiLDEyOlwiT2JqZWN0LnNldFByb3RvdHlwZU9mKCkgY2Fubm90IGJlIHVzZWQgb24gYW4gSW1tZXIgZHJhZnRcIiwxMzpcIkltbWVyIG9ubHkgc3VwcG9ydHMgZGVsZXRpbmcgYXJyYXkgaW5kaWNlc1wiLDE0OlwiSW1tZXIgb25seSBzdXBwb3J0cyBzZXR0aW5nIGFycmF5IGluZGljZXMgYW5kIHRoZSAnbGVuZ3RoJyBwcm9wZXJ0eVwiLDE1OmZ1bmN0aW9uKG4pe3JldHVyblwiQ2Fubm90IGFwcGx5IHBhdGNoLCBwYXRoIGRvZXNuJ3QgcmVzb2x2ZTogXCIrbn0sMTY6J1NldHMgY2Fubm90IGhhdmUgXCJyZXBsYWNlXCIgcGF0Y2hlcy4nLDE3OmZ1bmN0aW9uKG4pe3JldHVyblwiVW5zdXBwb3J0ZWQgcGF0Y2ggb3BlcmF0aW9uOiBcIitufSwxODpmdW5jdGlvbihuKXtyZXR1cm5cIlRoZSBwbHVnaW4gZm9yICdcIituK1wiJyBoYXMgbm90IGJlZW4gbG9hZGVkIGludG8gSW1tZXIuIFRvIGVuYWJsZSB0aGUgcGx1Z2luLCBpbXBvcnQgYW5kIGNhbGwgYGVuYWJsZVwiK24rXCIoKWAgd2hlbiBpbml0aWFsaXppbmcgeW91ciBhcHBsaWNhdGlvbi5cIn0sMjA6XCJDYW5ub3QgdXNlIHByb3hpZXMgaWYgUHJveHksIFByb3h5LnJldm9jYWJsZSBvciBSZWZsZWN0IGFyZSBub3QgYXZhaWxhYmxlXCIsMjE6ZnVuY3Rpb24obil7cmV0dXJuXCJwcm9kdWNlIGNhbiBvbmx5IGJlIGNhbGxlZCBvbiB0aGluZ3MgdGhhdCBhcmUgZHJhZnRhYmxlOiBwbGFpbiBvYmplY3RzLCBhcnJheXMsIE1hcCwgU2V0IG9yIGNsYXNzZXMgdGhhdCBhcmUgbWFya2VkIHdpdGggJ1tpbW1lcmFibGVdOiB0cnVlJy4gR290ICdcIituK1wiJ1wifSwyMjpmdW5jdGlvbihuKXtyZXR1cm5cIidjdXJyZW50JyBleHBlY3RzIGEgZHJhZnQsIGdvdDogXCIrbn0sMjM6ZnVuY3Rpb24obil7cmV0dXJuXCInb3JpZ2luYWwnIGV4cGVjdHMgYSBkcmFmdCwgZ290OiBcIitufSwyNDpcIlBhdGNoaW5nIHJlc2VydmVkIGF0dHJpYnV0ZXMgbGlrZSBfX3Byb3RvX18sIHByb3RvdHlwZSBhbmQgY29uc3RydWN0b3IgaXMgbm90IGFsbG93ZWRcIn0sWj1cIlwiK09iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3Isbm49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3Qub3duS2V5cz9SZWZsZWN0Lm93bktleXM6dm9pZCAwIT09T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbihuKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobikuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMobikpfTpPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxybj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yc3x8ZnVuY3Rpb24obil7dmFyIHI9e307cmV0dXJuIG5uKG4pLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JbdF09T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpfSkpLHJ9LHRuPXt9LGVuPXtnZXQ6ZnVuY3Rpb24obixyKXtpZihyPT09USlyZXR1cm4gbjt2YXIgZT1wKG4pO2lmKCF1KGUscikpcmV0dXJuIGZ1bmN0aW9uKG4scix0KXt2YXIgZSxpPUkocix0KTtyZXR1cm4gaT9cInZhbHVlXCJpbiBpP2kudmFsdWU6bnVsbD09PShlPWkuZ2V0KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jYWxsKG4uayk6dm9pZCAwfShuLGUscik7dmFyIGk9ZVtyXTtyZXR1cm4gbi5JfHwhdChpKT9pOmk9PT16KG4udCxyKT8oRShuKSxuLm9bcl09UihuLkEuaCxpLG4pKTppfSxoYXM6ZnVuY3Rpb24obixyKXtyZXR1cm4gciBpbiBwKG4pfSxvd25LZXlzOmZ1bmN0aW9uKG4pe3JldHVybiBSZWZsZWN0Lm93bktleXMocChuKSl9LHNldDpmdW5jdGlvbihuLHIsdCl7dmFyIGU9SShwKG4pLHIpO2lmKG51bGw9PWU/dm9pZCAwOmUuc2V0KXJldHVybiBlLnNldC5jYWxsKG4uayx0KSwhMDtpZighbi5QKXt2YXIgaT16KHAobiksciksbz1udWxsPT1pP3ZvaWQgMDppW1FdO2lmKG8mJm8udD09PXQpcmV0dXJuIG4ub1tyXT10LG4uRFtyXT0hMSwhMDtpZihjKHQsaSkmJih2b2lkIDAhPT10fHx1KG4udCxyKSkpcmV0dXJuITA7RShuKSxrKG4pfXJldHVybiBuLm9bcl09PT10JiZcIm51bWJlclwiIT10eXBlb2YgdCYmKHZvaWQgMCE9PXR8fHIgaW4gbi5vKXx8KG4ub1tyXT10LG4uRFtyXT0hMCwhMCl9LGRlbGV0ZVByb3BlcnR5OmZ1bmN0aW9uKG4scil7cmV0dXJuIHZvaWQgMCE9PXoobi50LHIpfHxyIGluIG4udD8obi5EW3JdPSExLEUobiksayhuKSk6ZGVsZXRlIG4uRFtyXSxuLm8mJmRlbGV0ZSBuLm9bcl0sITB9LGdldE93blByb3BlcnR5RGVzY3JpcHRvcjpmdW5jdGlvbihuLHIpe3ZhciB0PXAobiksZT1SZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpO3JldHVybiBlP3t3cml0YWJsZTohMCxjb25maWd1cmFibGU6MSE9PW4uaXx8XCJsZW5ndGhcIiE9PXIsZW51bWVyYWJsZTplLmVudW1lcmFibGUsdmFsdWU6dFtyXX06ZX0sZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oKXtuKDExKX0sZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24obil7cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihuLnQpfSxzZXRQcm90b3R5cGVPZjpmdW5jdGlvbigpe24oMTIpfX0sb249e307aShlbiwoZnVuY3Rpb24obixyKXtvbltuXT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09YXJndW1lbnRzWzBdWzBdLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pKSxvbi5kZWxldGVQcm9wZXJ0eT1mdW5jdGlvbihyLHQpe3JldHVyblwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJmlzTmFOKHBhcnNlSW50KHQpKSYmbigxMyksb24uc2V0LmNhbGwodGhpcyxyLHQsdm9pZCAwKX0sb24uc2V0PWZ1bmN0aW9uKHIsdCxlKXtyZXR1cm5cInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiZcImxlbmd0aFwiIT09dCYmaXNOYU4ocGFyc2VJbnQodCkpJiZuKDE0KSxlbi5zZXQuY2FsbCh0aGlzLHJbMF0sdCxlLHJbMF0pfTt2YXIgdW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHIpe3ZhciBlPXRoaXM7dGhpcy5nPUIsdGhpcy5GPSEwLHRoaXMucHJvZHVjZT1mdW5jdGlvbihyLGksbyl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgciYmXCJmdW5jdGlvblwiIT10eXBlb2YgaSl7dmFyIHU9aTtpPXI7dmFyIGE9ZTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9dGhpczt2b2lkIDA9PT1uJiYobj11KTtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPUFycmF5KHQ+MT90LTE6MCksbz0xO288dDtvKyspZVtvLTFdPWFyZ3VtZW50c1tvXTtyZXR1cm4gYS5wcm9kdWNlKG4sKGZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybih0PWkpLmNhbGwuYXBwbHkodCxbcixuXS5jb25jYXQoZSkpfSkpfX12YXIgZjtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBpJiZuKDYpLHZvaWQgMCE9PW8mJlwiZnVuY3Rpb25cIiE9dHlwZW9mIG8mJm4oNyksdChyKSl7dmFyIGM9dyhlKSxzPVIoZSxyLHZvaWQgMCksdj0hMDt0cnl7Zj1pKHMpLHY9ITF9ZmluYWxseXt2P08oYyk6ZyhjKX1yZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJvbWlzZSYmZiBpbnN0YW5jZW9mIFByb21pc2U/Zi50aGVuKChmdW5jdGlvbihuKXtyZXR1cm4gaihjLG8pLFAobixjKX0pLChmdW5jdGlvbihuKXt0aHJvdyBPKGMpLG59KSk6KGooYyxvKSxQKGYsYykpfWlmKCFyfHxcIm9iamVjdFwiIT10eXBlb2Ygcil7aWYodm9pZCAwPT09KGY9aShyKSkmJihmPXIpLGY9PT1IJiYoZj12b2lkIDApLGUuRiYmZChmLCEwKSxvKXt2YXIgcD1bXSxsPVtdO2IoXCJQYXRjaGVzXCIpLk0ocixmLHAsbCksbyhwLGwpfXJldHVybiBmfW4oMjEscil9LHRoaXMucHJvZHVjZVdpdGhQYXRjaGVzPWZ1bmN0aW9uKG4scil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgbilyZXR1cm4gZnVuY3Rpb24ocil7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1BcnJheSh0PjE/dC0xOjApLG89MTtvPHQ7bysrKWlbby0xXT1hcmd1bWVudHNbb107cmV0dXJuIGUucHJvZHVjZVdpdGhQYXRjaGVzKHIsKGZ1bmN0aW9uKHIpe3JldHVybiBuLmFwcGx5KHZvaWQgMCxbcl0uY29uY2F0KGkpKX0pKX07dmFyIHQsaSxvPWUucHJvZHVjZShuLHIsKGZ1bmN0aW9uKG4scil7dD1uLGk9cn0pKTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJvbWlzZSYmbyBpbnN0YW5jZW9mIFByb21pc2U/by50aGVuKChmdW5jdGlvbihuKXtyZXR1cm5bbix0LGldfSkpOltvLHQsaV19LFwiYm9vbGVhblwiPT10eXBlb2YobnVsbD09cj92b2lkIDA6ci51c2VQcm94aWVzKSYmdGhpcy5zZXRVc2VQcm94aWVzKHIudXNlUHJveGllcyksXCJib29sZWFuXCI9PXR5cGVvZihudWxsPT1yP3ZvaWQgMDpyLmF1dG9GcmVlemUpJiZ0aGlzLnNldEF1dG9GcmVlemUoci5hdXRvRnJlZXplKX12YXIgaT1lLnByb3RvdHlwZTtyZXR1cm4gaS5jcmVhdGVEcmFmdD1mdW5jdGlvbihlKXt0KGUpfHxuKDgpLHIoZSkmJihlPUQoZSkpO3ZhciBpPXcodGhpcyksbz1SKHRoaXMsZSx2b2lkIDApO3JldHVybiBvW1FdLkM9ITAsZyhpKSxvfSxpLmZpbmlzaERyYWZ0PWZ1bmN0aW9uKHIsdCl7dmFyIGU9ciYmcltRXTtcInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiYoZSYmZS5DfHxuKDkpLGUuSSYmbigxMCkpO3ZhciBpPWUuQTtyZXR1cm4gaihpLHQpLFAodm9pZCAwLGkpfSxpLnNldEF1dG9GcmVlemU9ZnVuY3Rpb24obil7dGhpcy5GPW59LGkuc2V0VXNlUHJveGllcz1mdW5jdGlvbihyKXtyJiYhQiYmbigyMCksdGhpcy5nPXJ9LGkuYXBwbHlQYXRjaGVzPWZ1bmN0aW9uKG4sdCl7dmFyIGU7Zm9yKGU9dC5sZW5ndGgtMTtlPj0wO2UtLSl7dmFyIGk9dFtlXTtpZigwPT09aS5wYXRoLmxlbmd0aCYmXCJyZXBsYWNlXCI9PT1pLm9wKXtuPWkudmFsdWU7YnJlYWt9fWU+LTEmJih0PXQuc2xpY2UoZSsxKSk7dmFyIG89YihcIlBhdGNoZXNcIikuJDtyZXR1cm4gcihuKT9vKG4sdCk6dGhpcy5wcm9kdWNlKG4sKGZ1bmN0aW9uKG4pe3JldHVybiBvKG4sdCl9KSl9LGV9KCksYW49bmV3IHVuLGZuPWFuLnByb2R1Y2UsY249YW4ucHJvZHVjZVdpdGhQYXRjaGVzLmJpbmQoYW4pLHNuPWFuLnNldEF1dG9GcmVlemUuYmluZChhbiksdm49YW4uc2V0VXNlUHJveGllcy5iaW5kKGFuKSxwbj1hbi5hcHBseVBhdGNoZXMuYmluZChhbiksbG49YW4uY3JlYXRlRHJhZnQuYmluZChhbiksZG49YW4uZmluaXNoRHJhZnQuYmluZChhbik7ZXhwb3J0IGRlZmF1bHQgZm47ZXhwb3J0e3VuIGFzIEltbWVyLHBuIGFzIGFwcGx5UGF0Y2hlcyxLIGFzIGNhc3REcmFmdCwkIGFzIGNhc3RJbW11dGFibGUsbG4gYXMgY3JlYXRlRHJhZnQsRCBhcyBjdXJyZW50LEogYXMgZW5hYmxlQWxsUGx1Z2lucyxOIGFzIGVuYWJsZUVTNSxDIGFzIGVuYWJsZU1hcFNldCxUIGFzIGVuYWJsZVBhdGNoZXMsZG4gYXMgZmluaXNoRHJhZnQsZCBhcyBmcmVlemUsTCBhcyBpbW1lcmFibGUsciBhcyBpc0RyYWZ0LHQgYXMgaXNEcmFmdGFibGUsSCBhcyBub3RoaW5nLGUgYXMgb3JpZ2luYWwsZm4gYXMgcHJvZHVjZSxjbiBhcyBwcm9kdWNlV2l0aFBhdGNoZXMsc24gYXMgc2V0QXV0b0ZyZWV6ZSx2biBhcyBzZXRVc2VQcm94aWVzfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWltbWVyLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/immer/dist/immer.esm.mjs\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["pages/_app","main"], function() { return __webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=C%3A%5CUsers%5Cfendr%5COneDrive%5CBureau%5CZoom%20App%5Cprisma%20demo%5CZuum(zoom-clone)%5Cpages%5Croom.js&page=%2Froom!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);